function GithubCalendar(t,e,a){if(document.getElementById("github_container")){var i=(a,t,m)=>{var e="fixed";var R="px";var i=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"];var b=[];var n="";var r="";var o="";var l="";var d=0;var A=0;var s=0;var D="";var W=[];var y=[];var c=[];var p=[];var g=[];var v=0;var X=0;var Y=0;var F="crispedges";var x=0;var G=0;var P=[];var u=[];var h=[];var f=[];var w=0;var k=(t,e,a)=>{if(a>1){var i=t.width;var n=t.height;t.width=i*a;t.height=n*a;t.style.width="100%";t.style.height=n+"px";e.scale(a,a)}};var _=()=>{if(document.getElementById("gitcanvas")){var d=document.getElementById("git_tooltip_container");var t=window.devicePixelRatio||1;var s="";var c="";var p="";var g="";var e=document.getElementById("gitcanvas");e.style.width="100%";e.style.height="";var a=document.getElementById("gitmessage");var i=e.getContext("2d");width=e.width=document.getElementById("gitcalendarcanvasbox").offsetWidth;height=e.height=9*.96*e.width/git_data.length;k(e,i,t);var n=height/9;var v=.8*n;var r={x:.02*width,y:.025*width};for(var o in git_data){weekdata=git_data[o];for(var l in weekdata){var x={date:"",count:"",x:0,y:0};y.push(x);i.fillStyle=M(m,weekdata[l].count);r.y=Math.round(r.y*100)/100;x.date=weekdata[l].date;x.count=weekdata[l].count;x.x=r.x;x.y=r.y;i.fillRect(r.x,r.y,v,v);r.y=r.y+n}r.y=.025*width;r.x=r.x+n}if(document.body.clientWidth>700){i.font="600  Arial";i.fillStyle="#aaa";i.fillText("日",0,1.9*n);i.fillText("二",0,3.9*n);i.fillText("四",0,5.9*n);i.fillText("六",0,7.9*n);var u=e.width/24;for(var h in b){i.fillText(b[h],u,.7*n);u=u+e.width/12}}e.onmousemove=function(t){if(document.querySelector(".gitmessage")){d.innerHTML=""}f(e,t)};d.onmousemove=function(t){if(document.querySelector(".gitmessage")){d.innerHTML=""}};var f=(t,e)=>{var a=t.getBoundingClientRect();var i=e.clientX-a.left*(t.width/a.width);var n=e.clientY-a.top*(t.height/a.height);for(var r of y){var o=i-r.x;var l=n-r.y;if(0<o&&o<v){if(0<l&&l<v){p=r.date;g=r.count;s=e.clientX-100;c=e.clientY-60;html=L(s,c,p,g);J(d,html)}}}}}};var z=()=>{if(x===0){I(52);I(51);I(50);I(49);I(48);v+=u[6].count;o=u[6].date}else{I(52);I(51);I(50);I(49);B();o=h[x-1].date}};var B=()=>{for(var t=x-1;t<h.length;t++){v+=h[t].count}};var I=t=>{for(var e of git_data[t]){v+=e.count}};var E=()=>{for(var t of p){d+=t.count}};var T=()=>{for(var t=x;t<g.length;t++){d+=g[t].count}};var C=t=>{if(x===6){l=p[0].date;E()}else{lastweek=t.contributions[51];l=lastweek[x+1].date;E();T()}};fetch(t).then(t=>t.json()).then(t=>{if(document.getElementById("github_loading")){document.getElementById("github_loading").remove()}git_data=t.contributions;s=t.total;h=git_data[48];u=git_data[47];c=t.contributions[0];p=t.contributions[52];g=t.contributions[51];x=p.length-1;r=p[x].date;n=c[0].date;w=r.substring(5,7)*1;f=i.splice(w,12-w);b=f.concat(i);C(t);z();var e=j(b,git_data,a,m,s,v,d,n,r,l,o);J(K,e);_()}).catch(function(t){console.log(t)});window.onresize=function(){_()};window.onscroll=function(){if(document.querySelector(".gitmessage")){git_tooltip_container.innerHTML=""}};var M=(t,e)=>{if(e===0){var a=parseInt(e/2);return t[0]}else if(e<2){return t[1]}else if(e<20){var a=parseInt(e/2);return t[a]}else{return t[9]}};var L=(t,e,a,i)=>{var n="";n+='<div class="gitmessage" style="top:'+e+"px;left:"+t+'px;position: fixed;z-index:9999"><div class="angle-wrapper" style="display:block;"><span>'+a+"&nbsp;</span><span>"+i+" 次上传</span></div></div>";return n};var S=()=>{var t='<div id="gitcalendarcanvasbox"> <canvas id="gitcanvas" style="animation: none;"></canvas></div>';return t};var H=(t,e)=>{var a="";a+='<div id="git_tooltip_container"></div><div class="contrib-footer clearfix mt-1 mx-3 px-3 pb-1"><div class="float-left text-gray">数据来源 <a href="https://github.com/'+t+'" target="blank">@'+t+'</a></div><div class="contrib-legend text-gray">Less <ul class="legend"><li style="background-color:'+e[0]+'"></li><li style="background-color:'+e[2]+'"></li><li style="background-color:'+e[4]+'"></li><li style="background-color:'+e[6]+'"></li><li style="background-color:'+e[8]+'"></li></ul>More </div></div>';return a};var j=(t,e,a,i,n,r,o,l,d,s,c)=>{var p="";var g=S();var v=H(a,i);var x=q();p+='<div class="position-relative"><div class="border py-2 graph-before-activity-overview"><div class="js-gitcalendar-graph mx-md-2 mx-3 d-flex flex-column flex-items-end flex-xl-items-center overflow-hidden pt-1 is-graph-loading graph-canvas gitcalendar-graph height-full text-center">'+g+"</div>"+v+"</div></div>";p+='<div style="display:flex;width:100%"><div class="contrib-column contrib-column-first table-column"><span class="text-muted">过去一年提交</span><span class="contrib-number">'+n+'</span><span class="text-muted">'+l+"&nbsp;-&nbsp;"+d+'</span></div><div class="contrib-column table-column"><span class="text-muted">最近一月提交</span><span class="contrib-number">'+r+'</span><span class="text-muted">'+c+"&nbsp;-&nbsp;"+d+'</span></div><div class="contrib-column table-column"><span class="text-muted">最近一周提交</span><span class="contrib-number">'+o+'</span><span class="text-muted">'+s+"&nbsp;-&nbsp;"+d+"</span></div></div>"+x;return p};var q=()=>{style='<style>#github_container{text-align:center;margin:0 auto;width:100%;display:flex;display:-webkit-flex;justify-content:center;align-items:center;flex-wrap:wrap;}.gitcalendar-graph text.wday,.gitcalendar-graph text.month{font-size:10px;fill:#aaa;}.contrib-legend{text-align:right;padding:0 14px 10px 0;display:inline-block;float:right;}.contrib-legend .legend{display:inline-block;list-style:none;margin:0 5px;position:relative;bottom:-1px;padding:0;}.contrib-legend .legend li{display:inline-block;width:10px;height:10px;}.text-small{font-size:12px;color:#767676;}.gitcalendar-graph{padding:15px 0 0;text-align:center;}.contrib-column{text-align:center;border-top:1px dashed #818181;font-size:11px;}.contrib-column-first{border-left:0;}.table-column{padding:10px;display:table-cell;flex:1;vertical-align:top;}.contrib-number{font-weight:300;line-height:1.3em;font-size:24px;display:block;}.gitcalendar img.spinner{width:70px;margin-top:50px;min-height:70px;}.monospace{text-align:center;color:#000;font-family:monospace;}.monospace a{color:#1D75AB;text-decoration:none;}.contrib-footer{font-size:11px;padding:0 10px 12px;text-align:left;width:100%;box-sizing:border-box;height:26px;}.left.text-muted{float:left;margin-left:9px;color:#767676;}.left.text-muted a{color:#4078c0;text-decoration:none;}.left.text-muted a:hover,.monospace a:hover{text-decoration:underline;}h2.f4.text-normal.mb-3{display:none;}.float-left.text-gray{float:left;}#user-activity-overview{display:none;}.day-tooltip{white-space:nowrap;position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.85);border-radius:3px;display:none;pointer-events:none;}.day-tooltip strong{color:#dfe2e5;}.day-tooltip.is-visible{display:block;}.day-tooltip:after{position:absolute;bottom:-10px;left:50%;width:5px;height:5px;box-sizing:border-box;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.85)}.position-relative{width:100%;}@media screen and (max-width:650px){.contrib-column{display:none}}.angle-wrapper{z-index:9999;display:inline;width:200px;height:40px;position:relative;padding:5px 0;background:rgba(0,0,0,0.8);border-radius:8px;text-align:center;color:white;}.angle-box{position:fixed;padding:10px}.angle-wrapper span{padding-bottom:1em;}.angle-wrapper:before{content:"";width:0;height:0;border:10px solid transparent;border-top-color:rgba(0,0,0,0.8);position:absolute;left:47.5%;top:100%;}</style>';return style}};var J=(t,e)=>{if(typeof e==="string"){var a=document.createElement("div");a.innerHTML=e;var i=document.createDocumentFragment();while(a.firstChild){i.appendChild(a.firstChild)}t.appendChild(i)}else{t.appendChild(e)}};var K=document.getElementById("github_container");var n=document.getElementById("github_loading");i(a,t,e)}}