{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"themes/butterfly/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"themes/butterfly/source/css/var.styl","path":"css/var.styl","modified":0,"renderable":1},{"_id":"themes/butterfly/source/css/transpancy.css","path":"css/transpancy.css","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/countup.js","path":"js/countup.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/hexo_githubcalendar.js","path":"js/hexo_githubcalendar.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/reward.js","path":"js/reward.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/your-cuntom-script.js","path":"js/your-cuntom-script.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/1.webp","path":"img/1.webp","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/10year.webp","path":"img/10year.webp","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/123.JPG","path":"img/123.JPG","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/2.webp","path":"img/2.webp","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/2","path":"img/2","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/3000.webp","path":"img/3000.webp","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/404.jpg","path":"img/404.jpg","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/README.md","path":"img/README.md","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.ico","path":"img/favicon.ico","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.png","path":"img/favicon.png","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/growen.webp","path":"img/growen.webp","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/error-page.png","path":"img/error-page.png","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/head.gif","path":"img/head.gif","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/head.png","path":"img/head.png","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/head.webp","path":"img/head.webp","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/butterfly-icon.png","path":"img/butterfly-icon.png","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/css/critical.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1738050105021},{"_id":"source/CNAME","hash":"4fb9dc15713d71d5a1e329d72d8e1d000cae3191","modified":1745760358825},{"_id":"source/about/index.md","hash":"33e032f104e3a92a966b599d39e0f5b91c1c836e","modified":1738949992048},{"_id":"source/_data/creativity.yml","hash":"f1e4625daa46c0bdb37a79d4df228da1e9147729","modified":1745723639025},{"_id":"source/_data/reward.yml","hash":"b1af7565cfd0279c8ae9423f12862cdd38379b4b","modified":1738949192129},{"_id":"source/_posts/10day.md","hash":"31f04ed53b26d77269127f3364c1e0b3e4f533a7","modified":1741426063185},{"_id":"source/_data/achievements.yml","hash":"1e27e18f91e5f855a418f7ca2d3ea2d18595c6fb","modified":1740302051508},{"_id":"source/_posts/12day.md","hash":"dd814a4520a57a17cac55edefe896ac8c8e76989","modified":1741440880290},{"_id":"source/_data/link.yml","hash":"50a248d9aaa5cda96f927a284f76cd0566c25186","modified":1739848504660},{"_id":"source/_posts/13day.md","hash":"379a74c1720b48e0303a6f54be9d5a0a85fc93a1","modified":1741486297605},{"_id":"source/_posts/14day.md","hash":"c5fd320755847a48ad2874154323496ed19da256","modified":1742655309483},{"_id":"source/_posts/11day.md","hash":"100ae1d5d2feba598587fff2c0bae0184c57cb7c","modified":1741426068266},{"_id":"source/_posts/2day.md","hash":"e02a61716f2a4b446a32cb8648588406aa394610","modified":1741426018475},{"_id":"source/_posts/4day.md","hash":"6c4176dbcdf8381d5c74eb999037dcd1bb16b0b6","modified":1741426027743},{"_id":"source/_posts/1day.md","hash":"b24d9a12be04704a2e2956f69fa5e01faa4abb35","modified":1741426012660},{"_id":"source/_posts/3day.md","hash":"831d556dc7f847380e40dd92461a914bcdbe3a65","modified":1741426023458},{"_id":"source/_posts/6day.md","hash":"78a5b05d93f97cebe1e7396e3a58c3ae49f9bf4b","modified":1741426037215},{"_id":"source/_posts/5day.md","hash":"185d99b05138a3a22372b8163523e311532ce1a7","modified":1741426032907},{"_id":"source/_posts/7day.md","hash":"97007e60f13ffe67cf15f9b8181cd823db2f4490","modified":1741426044964},{"_id":"source/_posts/9day.md","hash":"c7a6b2d50f6a30d691ee8c480129b39327c648f5","modified":1741426057248},{"_id":"source/_posts/MOE.md","hash":"669f1ea31bf783ecc729873d3289b4b5172c6b64","modified":1746522483684},{"_id":"source/_posts/MoCo.md","hash":"dd654e14b665152ae36f9c35182abfacc6e4785b","modified":1745728687441},{"_id":"source/_posts/8day.md","hash":"89cdfbfcb68049e280f28482d8bd59cf2e51af25","modified":1745761409240},{"_id":"source/_posts/STL.md","hash":"59aec6a331320c684f3708ac59c5ec59f27f35e6","modified":1741426007773},{"_id":"source/_posts/CSRMS.md","hash":"a92245937ff14d79d320f295b06489a6365f6a3b","modified":1746162966445},{"_id":"source/_posts/Transformer.md","hash":"e5eb5c55377105e2e8b407b1b7ebd419516c73f3","modified":1746161005064},{"_id":"source/_posts/哈希表.md","hash":"dbea777fe24a5e69dcecaa27c5462fa1af1b2954","modified":1741425996041},{"_id":"source/_posts/基于深度学习的图像分类.md","hash":"585153b67fecbd6ad7ee74679701ca3920ce5dd0","modified":1745722602319},{"_id":"source/_posts/图论.md","hash":"5ca7324d8a4c89d0211a66c5856964ac9e4aaf03","modified":1741440293748},{"_id":"source/_posts/排序算法.md","hash":"343e29fcc43e143b5d598cdfb3bebbd0fe5583bc","modified":1741487911316},{"_id":"source/categories/index.md","hash":"d1c94d7237e5a4f992d43e0cc7769523d2972729","modified":1738949999948},{"_id":"source/_posts/回溯算法.md","hash":"b98d33b31ee76db0faf8e37dfe0eb59a2abf0309","modified":1741425991148},{"_id":"source/_posts/线性表.md","hash":"92f80ad5419c87af797a9218c6f9e7276ac4b2ad","modified":1741425973206},{"_id":"source/js/statistics.js","hash":"af23e2174e4b2e5a238e696bfbea65d38330f81c","modified":1741497619964},{"_id":"source/_posts/绪论.md","hash":"01e49e60a047fa1fca6c9c2d1b40e15a48846bbb","modified":1741426002823},{"_id":"source/messageboard/index.md","hash":"d804c6adcbc4c777d1626fbd31bf136b13d95a40","modified":1738132352547},{"_id":"source/link/index.md","hash":"73cd4b4fccdcbd841389afc3b68916d54fc61227","modified":1738322179169},{"_id":"source/charts/index.md","hash":"7d00b90e740a7f5e67b65cdf8aa974045162942e","modified":1741495229439},{"_id":"source/tags/index.md","hash":"9ec9406d5a1bc5b0b992f21eec62de4b5aea78b5","modified":1738135608861},{"_id":"themes/butterfly/LICENSE","hash":"1128f8f91104ba9ef98d37eea6523a888dcfa5de","modified":1737543963963},{"_id":"themes/butterfly/README_CN.md","hash":"324c8d65fff0107561cdb325743538ea0e7150f3","modified":1737543964122},{"_id":"themes/butterfly/layout/archive.pug","hash":"a8082c82f20b25c88cb30294ea7299af32e07b27","modified":1738948741045},{"_id":"themes/butterfly/README.md","hash":"f099cbbd6bf34ee3e55b609a7b3960cd634263d0","modified":1737543964043},{"_id":"themes/butterfly/_config.yml","hash":"2d62996528f786bd47d4157b330dab1ecdb23f14","modified":1737991461527},{"_id":"themes/butterfly/.github/FUNDING.yml","hash":"da5e77f5e0cdb7e11b36546fb6796d10e3dfbe5d","modified":1737543964388},{"_id":"themes/butterfly/package.json","hash":"b0c9ec69583ca996004f33ec393bf10b4bd3c86c","modified":1737543964263},{"_id":"themes/butterfly/layout/category.pug","hash":"bf07d9624ac7285214c7f1d505da3a813c164c8c","modified":1737543965285},{"_id":"themes/butterfly/layout/index.pug","hash":"6aba5fd01aba75fd38ef2e2c1d406d951b8c5560","modified":1737543965348},{"_id":"themes/butterfly/plugins.yml","hash":"952ae1fb19d366ef93e291692d36d2381f6cc398","modified":1737543964326},{"_id":"themes/butterfly/layout/page.pug","hash":"14d1a92b66d4616fd5ab0b1dd247c05af659aa24","modified":1738949668610},{"_id":"themes/butterfly/layout/tag.pug","hash":"98c0084a4c62415775ca9e261e3d4eeb7668f35b","modified":1737543965520},{"_id":"themes/butterfly/layout/post.pug","hash":"5db49828a82622a7e4dddf395c6b88160958e5a6","modified":1738052268628},{"_id":"themes/butterfly/languages/en.yml","hash":"f46a8e362641f7a7c432d68e3984e739d5fe6b44","modified":1737543964829},{"_id":"themes/butterfly/languages/ja.yml","hash":"c978fbf9421af4d96978161cef828ea88ae06037","modified":1737543964909},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/bug_report.yml","hash":"df07add8fca55a7a12173af53201d306000fd9e0","modified":1737543964467},{"_id":"themes/butterfly/languages/zh-CN.yml","hash":"e91ac1a94e1fc84cd75bc6b0a8b7a62acfb2a516","modified":1737543965034},{"_id":"themes/butterfly/languages/ko.yml","hash":"ca8d31350e60b5849bb609a4d33f90d3dd8905a2","modified":1737543964970},{"_id":"themes/butterfly/languages/zh-TW.yml","hash":"9fecee5467e9c5034515fea73f1901c3c67e8ef9","modified":1737543965159},{"_id":"themes/butterfly/.github/workflows/publish.yml","hash":"05857c2f265246d8de00e31037f2720709540c09","modified":1737543964656},{"_id":"themes/butterfly/.github/workflows/stale.yml","hash":"ac62b989b5550c756e1986fcc68f243170705383","modified":1737543964709},{"_id":"themes/butterfly/layout/includes/additional-js.pug","hash":"0c085f0620967553b04c18672bc4912652cfe088","modified":1738048896753},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/feature_request.yml","hash":"996640605ed1e8e35182f0fd9a60a88783b24b03","modified":1737543964588},{"_id":"themes/butterfly/layout/includes/head.pug","hash":"edabdaffd4ee03b81a01da38f8b94659c47d5f5b","modified":1738052519065},{"_id":"themes/butterfly/languages/zh-HK.yml","hash":"c3e863ad5b5aa618873ad4370cf0335a9cc67b39","modified":1737543965096},{"_id":"themes/butterfly/layout/includes/layout.pug","hash":"393d2720e0887a1a0e68206a6d37205549535dd4","modified":1737543965756},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/config.yml","hash":"7b4831ae8f8f8c55dd1b856781210c517c63e6dd","modified":1737543964514},{"_id":"themes/butterfly/layout/includes/footer.pug","hash":"78cd51877c72a66de13ad88af6687627d4743b03","modified":1737543965662},{"_id":"themes/butterfly/source/css/index.styl","hash":"414a474e8e901ef85b6b5dfa9f3927e20c9c2ea3","modified":1738948825297},{"_id":"themes/butterfly/source/css/var.styl","hash":"1d927577fb5eac0fff7b0ea386b20e70e411d4f1","modified":1738001636696},{"_id":"themes/butterfly/layout/includes/pagination.pug","hash":"5a641907c0390f1b068b7cb3e2e141f4db43892f","modified":1737543965819},{"_id":"themes/butterfly/layout/includes/sidebar.pug","hash":"c588ea813c09bd12321e3e70bdbe1a21eb40f398","modified":1737543965914},{"_id":"themes/butterfly/layout/includes/rightside.pug","hash":"7dbf86c92a81ed79dc9958005fe07094d5d34918","modified":1737543965866},{"_id":"themes/butterfly/source/js/countup.js","hash":"ddcbf0b3022b59b1f5c188a994b8d049b1230f74","modified":1738948499545},{"_id":"themes/butterfly/source/css/transpancy.css","hash":"50752c4465b3de8282dafc0c7a0fc6f184803e46","modified":1740297685477},{"_id":"themes/butterfly/source/js/hexo_githubcalendar.js","hash":"e87bf9791ec6f5e8ea338b2f77f0980a2301fe17","modified":1738397973833},{"_id":"themes/butterfly/source/js/reward.js","hash":"3165dd63d8efb8a050dece8a8b205cc249e3134c","modified":1739035544313},{"_id":"themes/butterfly/languages/default.yml","hash":"f46a8e362641f7a7c432d68e3984e739d5fe6b44","modified":1737543964782},{"_id":"themes/butterfly/source/js/main.js","hash":"fb746a3e67d0373deea8481110dd436fea4ca38c","modified":1737543976168},{"_id":"themes/butterfly/source/js/utils.js","hash":"fd3c26366c78dd82bc87d4ddebe76c582122e1b7","modified":1737543976309},{"_id":"themes/butterfly/source/js/tw_cn.js","hash":"7ef59df188ea523da89f4caf69c5c0f14e78da69","modified":1737543976239},{"_id":"themes/butterfly/source/js/your-cuntom-script.js","hash":"1b46d3562be174c915f03f494882520bed708c2a","modified":1740302042723},{"_id":"themes/butterfly/source/img/123.JPG","hash":"a05af6828774a231ee73dd504b941acf58d4ddb4","modified":1739029004277},{"_id":"themes/butterfly/source/img/2","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1737529859494},{"_id":"themes/butterfly/source/img/README.md","hash":"6713c7cd13bfe3c99189d20732cce95687a256c0","modified":1738074015838},{"_id":"themes/butterfly/source/img/favicon.png","hash":"240b15a0b127f45126dcbf97e61781c424d526bc","modified":1737529859494},{"_id":"themes/butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1737529859494},{"_id":"themes/butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1737529859494},{"_id":"themes/butterfly/source/img/favicon.ico","hash":"455ac256580bf31a45813dbbdb87219bfc8bfb04","modified":1737543976038},{"_id":"themes/butterfly/source/img/error-page.png","hash":"d2519710498a871ca3e913c57e2ba20a805b6430","modified":1737543975979},{"_id":"themes/butterfly/source/img/head.webp","hash":"aa2af246fc093099cfba509be2b516698c6bf5ab","modified":1738074015712},{"_id":"themes/butterfly/scripts/common/postDesc.js","hash":"b69c137c06791db58e347474b88803e112d100dd","modified":1737543971227},{"_id":"themes/butterfly/scripts/filters/post_lazyload.js","hash":"4393a0e5ee97653496c0a1c273359005583a7eb7","modified":1737543971777},{"_id":"themes/butterfly/scripts/events/cdn.js","hash":"21fb5aabe043486d095c4c8cce361ed85ba88a26","modified":1737543971368},{"_id":"themes/butterfly/scripts/filters/random_cover.js","hash":"90f65e32a76f43fdd1ffae55775e300f6a3b1c02","modified":1737543971840},{"_id":"themes/butterfly/scripts/events/merge_config.js","hash":"7a1329d40caf93b80c5e7e90c01d3db6feb13728","modified":1737543971572},{"_id":"themes/butterfly/scripts/events/comment.js","hash":"0e59424100fc3138b9096b38a0a2384a6411f8d9","modified":1737543971447},{"_id":"themes/butterfly/scripts/helpers/aside_archives.js","hash":"05da5331b442e9b4645b7d9584918b6e8128f086","modified":1737543971928},{"_id":"themes/butterfly/scripts/events/welcome.js","hash":"8ad9911b755cba13dde2cc055c3f857a6b0dd20e","modified":1737543971698},{"_id":"themes/butterfly/scripts/helpers/charts.js","hash":"1e02ba7d98d39920b2e9e8f97ab7ef651da0b15a","modified":1738946482053},{"_id":"themes/butterfly/scripts/helpers/getArchiveLength.js","hash":"1b37a484cbcc81f51953ea093644b70499c26314","modified":1737543972059},{"_id":"themes/butterfly/scripts/helpers/aside_categories.js","hash":"5edf400514843e28b329c3fd3f12f66ed5faca66","modified":1737543971996},{"_id":"themes/butterfly/scripts/events/404.js","hash":"a196e0d2eb40d1643bcf53a467ad37104f877ca5","modified":1737543971305},{"_id":"themes/butterfly/scripts/events/init.js","hash":"428b94c7b9e83f7ea36227dee66bfe3c23aee4a8","modified":1737543971509},{"_id":"themes/butterfly/scripts/helpers/related_post.js","hash":"9c2ee5868879529f7cef7d93edca5b755f45e7e9","modified":1737543972311},{"_id":"themes/butterfly/scripts/events/stylus.js","hash":"1ac9527c510ca757724f15dec84b0ead032411b2","modified":1737543971636},{"_id":"themes/butterfly/scripts/helpers/inject_head_js.js","hash":"7397db8012c27a4a1da75dd659745676654a0c65","modified":1737543972154},{"_id":"themes/butterfly/scripts/helpers/page.js","hash":"c207f1c02e2976fc0d125946fc1d98cf3d06b6f8","modified":1737543972233},{"_id":"themes/butterfly/scripts/helpers/series.js","hash":"806e2e5843df23e7eb94709056676f5ce6bfefa7","modified":1737543972374},{"_id":"themes/butterfly/scripts/tag/flink.js","hash":"555f7e4a2a7d8c4420ca467e87625bf96db11a70","modified":1737543972595},{"_id":"themes/butterfly/scripts/tag/chartjs.js","hash":"a26402edc63cbe8faa6a99647f039ffd9616e1f6","modified":1737543972532},{"_id":"themes/butterfly/scripts/tag/gallery.js","hash":"be7c992cb1da26466d5ba676064c81a43338ca6a","modified":1737543972657},{"_id":"themes/butterfly/scripts/tag/hide.js","hash":"32c6b81c5f668fc72a94de27f71f65edefd773be","modified":1737543972736},{"_id":"themes/butterfly/scripts/tag/inlineImg.js","hash":"1ce5fcce4d045a20f26821f0c773ce458fdf9769","modified":1737543972798},{"_id":"themes/butterfly/scripts/tag/label.js","hash":"22bc3a24c3610b5a3c3a2043b7d10e26d00018b8","modified":1737543972862},{"_id":"themes/butterfly/scripts/tag/mermaid.js","hash":"448bd8982547616bf5d5e1ddc71816913bbb7d05","modified":1737543972930},{"_id":"themes/butterfly/scripts/tag/note.js","hash":"1acefc59ead75ebd8cafee36efc7da4fa426d088","modified":1737543972988},{"_id":"themes/butterfly/scripts/tag/button.js","hash":"132d1e7757d0dac42d6b0957a25484613d7ed873","modified":1737543972468},{"_id":"themes/butterfly/scripts/tag/score.js","hash":"5cb273e95846874e3a58074074c501df23c5e912","modified":1737543973051},{"_id":"themes/butterfly/scripts/tag/series.js","hash":"f4507d1527cc0d5fe9fdd89eb769e15814a18fec","modified":1737543973130},{"_id":"themes/butterfly/layout/includes/head/Open_Graph.pug","hash":"c97ec4a5225f2236377b2ca3b296031f64c72e44","modified":1737543965976},{"_id":"themes/butterfly/scripts/tag/tabs.js","hash":"3a9a28f6833e9cea60761e52ab8990fcb597444f","modified":1737543973199},{"_id":"themes/butterfly/scripts/tag/timeline.js","hash":"b3807dd492bafe9a148c76adf408da1c6fb47b6b","modified":1737543973255},{"_id":"themes/butterfly/layout/includes/head/config.pug","hash":"9f04f61fdd0a91874ad84b3963ae4e88bfb2b546","modified":1737543966086},{"_id":"themes/butterfly/layout/includes/head/analytics.pug","hash":"dcfc63e62d3d58e581ad3ad77daa3fb03472d1ab","modified":1737543966039},{"_id":"themes/butterfly/layout/includes/head/config_site.pug","hash":"111b1300efddf0743d8744822b3858a8dc311ed2","modified":1737543966149},{"_id":"themes/butterfly/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1737543966196},{"_id":"themes/butterfly/layout/includes/head/preconnect.pug","hash":"ad56f4bc914b6d6b5ca481dd95988043abb29914","modified":1737543966243},{"_id":"themes/butterfly/layout/includes/head/structured_data.pug","hash":"1b83ae33961528f128596753fd05067c672d6bff","modified":1737543966400},{"_id":"themes/butterfly/layout/includes/head/pwa.pug","hash":"0e301fe266b3260257b5a619dc8eedf2c1955e7e","modified":1737543966306},{"_id":"themes/butterfly/layout/includes/header/index.pug","hash":"cbe55f1c3c33828f0b3a8812829c19ee50399ce6","modified":1737543966463},{"_id":"themes/butterfly/layout/includes/header/menu_item.pug","hash":"95316827e12ec1a2cee18b7d5f49971e9a88b138","modified":1737543966526},{"_id":"themes/butterfly/layout/includes/head/site_verification.pug","hash":"e2e8d681f183f00ce5ee239c42d2e36b3744daad","modified":1737543966353},{"_id":"themes/butterfly/scripts/helpers/img.js","hash":"f49fb051af89df4e73eba27bec8decefaa540d84","modified":1737986122781},{"_id":"themes/butterfly/layout/includes/header/nav.pug","hash":"dbc2643d8b01de535ac498badefd5152bcd9c2d7","modified":1737543966578},{"_id":"themes/butterfly/layout/includes/header/post-info.pug","hash":"605809f97b2f0da0e2e84dd2365fc8ccee1de6bd","modified":1737543966621},{"_id":"themes/butterfly/layout/includes/page/404.pug","hash":"ca9cc03a51561413728d7211f0a544654c5d4e36","modified":1737543967015},{"_id":"themes/butterfly/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1737543967046},{"_id":"themes/butterfly/layout/includes/loading/fullpage-loading.pug","hash":"55090eee8076af761be7741b4e330ceea07c27d7","modified":1737543966747},{"_id":"themes/butterfly/layout/includes/loading/index.pug","hash":"8b12fa52bd522dded8b7f1ae3f580f339d75aecf","modified":1737543966779},{"_id":"themes/butterfly/layout/includes/header/social.pug","hash":"b7608dca3d361001d661779fe8be03c370231c41","modified":1737543966684},{"_id":"themes/butterfly/layout/includes/mixins/article-sort.pug","hash":"10aa44e0216dbde863e2bd41267b613dc220e517","modified":1737543966889},{"_id":"themes/butterfly/layout/includes/loading/pace.pug","hash":"83f41e91371140a883c48f713591637e8c9acb39","modified":1738000100159},{"_id":"themes/butterfly/layout/includes/page/shuoshuo.pug","hash":"7e7cd9dfd832c8f3e829ad445eccf5cb5dc8ff18","modified":1737543967215},{"_id":"themes/butterfly/layout/includes/page/flink.pug","hash":"f2d2dbfc0f2e56f0329aca037a12dc282992ef35","modified":1738322761858},{"_id":"themes/butterfly/layout/includes/mixins/indexPostUI.pug","hash":"c67609f1c04c8b7b966f838f265feaf7ba9a2883","modified":1737543966952},{"_id":"themes/butterfly/layout/includes/page/default-page.pug","hash":"4912beecdef7af33f0704ef4d6605e1ac69fbb11","modified":1737543967093},{"_id":"themes/butterfly/layout/includes/widget/card_author.pug","hash":"5012e9cca9c1ce8c379d407f4ff426e297fd1ffe","modified":1737543970661},{"_id":"themes/butterfly/layout/includes/widget/card_announcement.pug","hash":"ae392459ad401a083ca51ee0b27526b3c1e1faed","modified":1737543970567},{"_id":"themes/butterfly/layout/includes/page/about.pug","hash":"9eafadd68dd849ce17b1dab1513961fde1710bd5","modified":1744784531485},{"_id":"themes/butterfly/layout/includes/post/outdate-notice.pug","hash":"1661f8a53334789099efffa92246158cb3d933b3","modified":1737543967326},{"_id":"themes/butterfly/layout/includes/page/tags.pug","hash":"38c0781ac7544d2010d5bfe7ae521125f3672975","modified":1737543967250},{"_id":"themes/butterfly/layout/includes/post/post-copyright.pug","hash":"2bef558fa87986805b3397319b4c088564ba7c44","modified":1737543967375},{"_id":"themes/butterfly/layout/includes/widget/card_ad.pug","hash":"60dc48a7b5d89c2a49123c3fc5893ab9c57dd225","modified":1737543970504},{"_id":"themes/butterfly/layout/includes/widget/card_newest_comment.pug","hash":"ba95646b78688bcdcf77166407c4799e5e3c3e6d","modified":1737543970818},{"_id":"themes/butterfly/layout/includes/widget/card_archives.pug","hash":"86897010fe71503e239887fd8f6a4f5851737be9","modified":1737543970613},{"_id":"themes/butterfly/layout/includes/widget/card_post_series.pug","hash":"bd5ad01277f8c6ddf8a3a29af1518e5fe6eed23f","modified":1737543970865},{"_id":"themes/butterfly/layout/includes/widget/card_post_toc.pug","hash":"ff38e96f336a6c85ecb0ef015973980a11fc83f5","modified":1737543970925},{"_id":"themes/butterfly/layout/includes/widget/card_recent_post.pug","hash":"e5aac7b28ed4123d75797263c64e74ac547945bc","modified":1737543970960},{"_id":"themes/butterfly/layout/includes/widget/card_bottom_self.pug","hash":"13dc8ce922e2e2332fe6ad5856ebb5dbf9ea4444","modified":1737543970723},{"_id":"themes/butterfly/layout/includes/widget/card_categories.pug","hash":"d1a416d0a8a7916d0b1a41d73adc66f8c811e493","modified":1737543970771},{"_id":"themes/butterfly/layout/includes/widget/card_tags.pug","hash":"eceb4420a64c720f0d2741e89d6229bbb3d87353","modified":1737543971007},{"_id":"themes/butterfly/layout/includes/widget/card_top_self.pug","hash":"ae67c6d4130a6c075058a9c1faea1648bcc6f83e","modified":1737543971054},{"_id":"themes/butterfly/layout/includes/widget/card_webinfo.pug","hash":"e4eb905a53da498d5b036d4ab78a486a3cc77aa3","modified":1737543971117},{"_id":"themes/butterfly/layout/includes/widget/index.pug","hash":"3727d13b339134e037f30f5d7e9af9ec243f0ff1","modified":1737543971164},{"_id":"themes/butterfly/layout/includes/third-party/effect.pug","hash":"1d39670ee6225f85f5c53bf5c84f3fd6e19290e8","modified":1737543967533},{"_id":"themes/butterfly/layout/includes/third-party/prismjs.pug","hash":"512111475060798925eb1a7bc7617c34b8bd32ab","modified":1737543967643},{"_id":"themes/butterfly/layout/includes/post/reward.pug","hash":"2dca79799c566ffa68b21ecefa9c63432b5088e1","modified":1737543967422},{"_id":"themes/butterfly/layout/includes/third-party/pjax.pug","hash":"fab72ff8595762928fe0b0130a34ee8e40d44bb4","modified":1738000127809},{"_id":"themes/butterfly/layout/includes/third-party/subtitle.pug","hash":"21d42f43f26a2075abf2e6d13d35fb1aaf53a8b4","modified":1737543967706},{"_id":"themes/butterfly/source/css/_highlight/theme.styl","hash":"4765d72ab300910437d64991d3f70a82b41d4e3a","modified":1737543973617},{"_id":"themes/butterfly/layout/includes/third-party/umami_analytics.pug","hash":"0d257d38cb150b9b2696aa2d058e9d277cfdf3d7","modified":1737543967769},{"_id":"themes/butterfly/source/css/_highlight/highlight.styl","hash":"79e95511d8d51e8944092b9596994d9779c1f4e4","modified":1737543973555},{"_id":"themes/butterfly/source/css/_layout/aside.styl","hash":"3312e3bc1076ac8ba9dd902a671602c78a5e1479","modified":1737543973933},{"_id":"themes/butterfly/source/css/_global/index.styl","hash":"506bbff9c954d5f92a6d97145be2d732571fae39","modified":1737543973507},{"_id":"themes/butterfly/source/css/_global/function.styl","hash":"73c96bffc08c2202407d506db377230f84c4f486","modified":1738080746108},{"_id":"themes/butterfly/source/css/_layout/footer.styl","hash":"25edea914a5183fd20b1ef2c9439ccad75188ee4","modified":1738130939275},{"_id":"themes/butterfly/source/css/_layout/head.styl","hash":"dbd4af28bbf2fe9a7d75a75fdf460dfb3317311a","modified":1737995104374},{"_id":"themes/butterfly/source/css/_layout/comments.styl","hash":"134811b2d696f9ed2c0cd578f3886f1c60770c0a","modified":1737543974044},{"_id":"themes/butterfly/source/css/_layout/pagination.styl","hash":"559e7cacb6e6911a064637fee0288fdcf0082a4b","modified":1737543974249},{"_id":"themes/butterfly/source/css/_layout/relatedposts.styl","hash":"517361bf999e41fdea2c57e0af6e82d310f76edd","modified":1737543974359},{"_id":"themes/butterfly/source/css/_layout/loading.styl","hash":"ac2aeee9926f75b2a0098efe1c114126987430f2","modified":1737543974201},{"_id":"themes/butterfly/source/css/_layout/chat.styl","hash":"1a864887fb1bc9d24caa6b8b63a9bfc251762ffd","modified":1737543973996},{"_id":"themes/butterfly/source/css/_layout/post.styl","hash":"0ba6e4f5252d1a95e9dfa20b4a17207b6713947d","modified":1737543974311},{"_id":"themes/butterfly/source/css/_layout/reward.styl","hash":"0d0ef8a9260b494e50ef545e5f395d649418f0a9","modified":1737543974407},{"_id":"themes/butterfly/source/css/_layout/rightside.styl","hash":"743f9dd5585ecac812f3aa908eede4093d84fbd7","modified":1737543974454},{"_id":"themes/butterfly/source/css/_layout/third-party.styl","hash":"a96513acd7f51ffa01531ef3a24fdf5391ae93ae","modified":1737543974564},{"_id":"themes/butterfly/source/css/_page/404.styl","hash":"354902d03f13068cf8a3617fb0ea92669e6b2a86","modified":1737543974737},{"_id":"themes/butterfly/source/css/_layout/sidebar.styl","hash":"be7ee2c63cedbc6b7f03cb3993ec533d9ae9d8bb","modified":1737543974516},{"_id":"themes/butterfly/source/css/_page/common.styl","hash":"8aa755a3f588e6e598e4fb6510faa6e766d59a94","modified":1737543974894},{"_id":"themes/butterfly/source/css/_page/archives.styl","hash":"c08432ecceaa187005c55144cf6f2b092ca50820","modified":1737543974787},{"_id":"themes/butterfly/source/css/_search/algolia.styl","hash":"44d6b9fa9f0cb9026722f7dda15368d41d3fed20","modified":1737543975146},{"_id":"themes/butterfly/source/css/_page/categories.styl","hash":"643ff8c79d033947da312b70847b1b45850d7b29","modified":1737543974847},{"_id":"themes/butterfly/layout/includes/third-party/aplayer.pug","hash":"5f80bb21697ec6c27acc540649ddaea1646b87dc","modified":1738000161530},{"_id":"themes/butterfly/source/css/_page/flink.styl","hash":"90cc8fd812598e758a541566bd21d236d85ae55c","modified":1738323061423},{"_id":"themes/butterfly/source/css/_search/local-search.styl","hash":"1ce084ed240d0e998bcdf1416ada598637878398","modified":1737543975257},{"_id":"themes/butterfly/source/css/_search/index.styl","hash":"e2046eed9503ac506d5ca120b60203dd2cd968af","modified":1737543975209},{"_id":"themes/butterfly/source/css/_tags/button.styl","hash":"2c71b5bfb873d57eb6532144f66e86183dd0dcf6","modified":1737543975319},{"_id":"themes/butterfly/source/css/_page/shuoshuo.styl","hash":"855af8f97daad51b0161d96d50abd71edec87142","modified":1737543975052},{"_id":"themes/butterfly/source/css/_page/tags.styl","hash":"e765323537d174c7dcb88614100ccdc3e2d020e1","modified":1737543975099},{"_id":"themes/butterfly/source/css/_tags/gallery.styl","hash":"5ded9ddc66777e93cc4f0e1e4349540c0249346d","modified":1737543975366},{"_id":"themes/butterfly/source/css/_tags/hexo.styl","hash":"d76c38adf1d9c1279ef4241835667789f5b736e0","modified":1737543975413},{"_id":"themes/butterfly/source/css/_tags/inlineImg.styl","hash":"f7415acfee7adb5ba01fd278b1e16b636a6b20a1","modified":1737543975523},{"_id":"themes/butterfly/source/css/_page/homepage.styl","hash":"3fa5aa012c62da3b5220654426c0708cab24e9af","modified":1737543975004},{"_id":"themes/butterfly/source/css/_tags/note.styl","hash":"909bb5079b26b6ee68177919f522566503654058","modified":1737543975617},{"_id":"themes/butterfly/source/css/_tags/tabs.styl","hash":"e76655e699154c3d39043c1a5bb8400dc1658399","modified":1737543975712},{"_id":"themes/butterfly/source/css/_tags/series.styl","hash":"cf24d72ea16ef253a438efe95b9a0a8fdfbb6d01","modified":1737543975665},{"_id":"themes/butterfly/source/css/_mode/readmode.styl","hash":"e2761a2515b34d2d41dea00551abc44d4ce72aeb","modified":1737543974674},{"_id":"themes/butterfly/source/css/_mode/darkmode.styl","hash":"11a0fde4e784b0af5bb813c9e9ca9e480e5db99a","modified":1737543974634},{"_id":"themes/butterfly/source/css/_tags/label.styl","hash":"4a651e47d658340443bb63b7d15a1e9e34f76aca","modified":1737543975570},{"_id":"themes/butterfly/source/css/_tags/hide.styl","hash":"7e5ca6a899c66b26cebc027db530d54018e2c5c0","modified":1737543975476},{"_id":"themes/butterfly/source/css/_tags/timeline.styl","hash":"62d03f6c429c2de256a204399610a041cab23b04","modified":1737543975759},{"_id":"themes/butterfly/layout/includes/page/flink_style/butterfly.pug","hash":"4145a1dbd8d12151d49426b6995b94b6a0d26fbf","modified":1738322618935},{"_id":"themes/butterfly/source/js/search/local-search.js","hash":"4e11d033fb58563f5e1b497f1a6f1c62d3501ee6","modified":1737543976466},{"_id":"themes/butterfly/layout/includes/page/flink_style/flexcard.pug","hash":"8d8c03bbdff01213c79cbfba73b29900ae634273","modified":1738323615679},{"_id":"themes/butterfly/layout/includes/page/flink_style/byer.pug","hash":"c1d670ac7965bd02806f203c21d15337dab7aa4e","modified":1738322830251},{"_id":"themes/butterfly/source/css/_third-party/normalize.min.css","hash":"2c18a1c9604af475b4749def8f1959df88d8b276","modified":1737543975837},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/abcjs.pug","hash":"cb77a73a2b47156d18afb9f2376b3d502d0d12d7","modified":1737543967817},{"_id":"themes/butterfly/layout/includes/page/flink_style/volantis.pug","hash":"e04b9ad7c4c9a631af08e0a01cd12889d7943934","modified":1738322705096},{"_id":"themes/butterfly/layout/includes/third-party/comments/artalk.pug","hash":"ce9f21e5d599733089a91d655ea980970b87456d","modified":1737543968570},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/index.pug","hash":"97e81321fe7991831bb5cd189402af477a0e5a73","modified":1737543967863},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqus.pug","hash":"5320f74b711aa2732ee0a506da08abef41c0c5ac","modified":1738001596444},{"_id":"themes/butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"817902fe7f3c42d6fca1253afd83583ec4b9f90c","modified":1737543968728},{"_id":"themes/butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"67b67c46734eb82141ee1c827b8a71fea0945b2c","modified":1737543968853},{"_id":"themes/butterfly/layout/includes/third-party/comments/index.pug","hash":"a9709905593d960954e2dd572f09f48a6c2b1ef7","modified":1737543968900},{"_id":"themes/butterfly/layout/includes/third-party/comments/giscus.pug","hash":"9b0df2082ac11ad85471ff70e79c03b58c916677","modified":1737543968790},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"2cf6ce7a703197f0d8991f3416cbc47b7250734a","modified":1737543968681},{"_id":"themes/butterfly/source/js/search/algolia.js","hash":"e5821f78381af9f0f646952a7dd118daab2a79a6","modified":1737543976387},{"_id":"themes/butterfly/layout/includes/third-party/comments/js.pug","hash":"00ed91c52939b9675b316137f854d13684c895a6","modified":1737543968948},{"_id":"themes/butterfly/layout/includes/third-party/comments/livere.pug","hash":"0dc016c759b3b90449b1076307c390fcba6052f6","modified":1737543969010},{"_id":"themes/butterfly/layout/includes/third-party/comments/remark42.pug","hash":"566848e4f7b857af7cd01fc72952b49101955d0a","modified":1737543969073},{"_id":"themes/butterfly/layout/includes/third-party/comments/utterances.pug","hash":"b17416a1a76c58651757d9b80e4f6715de636342","modified":1737543969183},{"_id":"themes/butterfly/layout/includes/third-party/comments/waline.pug","hash":"b99a94de9a6bda59d6977b3b693d0e369123d727","modified":1737543969292},{"_id":"themes/butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"3fdb4d12fa7440466720b24d19b12b06f53d35e1","modified":1737543969120},{"_id":"themes/butterfly/layout/includes/third-party/chat/crisp.pug","hash":"dc02a84f6e0ab3d86f410c6ba7cb6f7b277eb1a4","modified":1737543968413},{"_id":"themes/butterfly/layout/includes/third-party/chat/chatra.pug","hash":"5ba53d5c671c723754c2d0133016005b2af789a9","modified":1737543968350},{"_id":"themes/butterfly/layout/includes/third-party/chat/index.pug","hash":"5aaef147ae31e1ffc49152acd43dabc5f15b39ba","modified":1737543968461},{"_id":"themes/butterfly/layout/includes/third-party/chat/tidio.pug","hash":"dd0af44547211520c10953f3023e22a26025aaf9","modified":1737543968507},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"a35c21e9ec2bef465c945408da515bfb5d848d6d","modified":1737543968021},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/artalk.pug","hash":"71af0b679e00290b0854384368b3c7e9b3e5f26a","modified":1737543967926},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"c5f7081ca29db8cc80f808dfc29e36d5fa22fd7e","modified":1737543967989},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/remark42.pug","hash":"001e8be47854b891efe04013c240c38fed4185eb","modified":1737543968131},{"_id":"themes/butterfly/layout/includes/third-party/math/katex.pug","hash":"1c2190c9bac26992de8d52be4f8522309d566750","modified":1737543969465},{"_id":"themes/butterfly/layout/includes/third-party/math/chartjs.pug","hash":"516dae8e5dad4ace61333cb4df8ae70a8a9acbec","modified":1737543969355},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"007bb96fd84f38852b7ab5f761e6867b6058422f","modified":1737543968177},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"5715fc2dc75808af0a434fe66b81d0f651d03ed3","modified":1737543968240},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"e7e05cc32322f381077624599adc2e64486310a8","modified":1737543969749},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"3a5ccfc69bd8ccb4b8f3ce3502023f7914f2a022","modified":1737543968287},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"b2d274db84ef22fbd6d5ea8f4404821898934209","modified":1737543968083},{"_id":"themes/butterfly/layout/includes/third-party/math/index.pug","hash":"b771c0de03a70d4fc2d98bb3e2ebc069033ff5eb","modified":1737543969402},{"_id":"themes/butterfly/layout/includes/third-party/math/mermaid.pug","hash":"2e82651607326e7f999fc7891480c74a06cbb416","modified":1737543969575},{"_id":"themes/butterfly/layout/includes/third-party/math/mathjax.pug","hash":"5fc8f74c6a04f0c219a52c9768c5f19119b80ef7","modified":1737543969521},{"_id":"themes/butterfly/layout/includes/third-party/comments/valine.pug","hash":"5c97558d4d9109b5f9aff5bef5665cfbe3938c50","modified":1738001648412},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"2af8902b0e8c336633ce3ee444a44b23028bacee","modified":1737543969858},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/common.pug","hash":"366273efa0d6fc7386e4acafa32ea92d7efe4464","modified":1737543969686},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/artalk.pug","hash":"9e1fd1f5703e133682dea92a0c91cf7058207868","modified":1737543969639},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/remark42.pug","hash":"39b620c7b2cf5f4527df547b1777fbcb7508a525","modified":1737543969921},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"f40e18bdf470f76ff7063cf42016c58d75d06c24","modified":1737543969811},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"88aef4170336282bc988ab64c9b5ec8f5272a62c","modified":1737543970079},{"_id":"themes/butterfly/layout/includes/third-party/search/algolia.pug","hash":"e90902290515310480e376d6ea74c0be82fc03d8","modified":1737543970142},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"154ec9bcce19bc3a90771d8d55aff5ae14b5bee2","modified":1737543969969},{"_id":"themes/butterfly/layout/includes/third-party/share/addtoany.pug","hash":"f5ee1c9c8ffa4bca972d30f4de69268b8d47f052","modified":1737543970346},{"_id":"themes/butterfly/layout/includes/third-party/search/docsearch.pug","hash":"18b492731f67d449bb32d7fac321deb57a92e75f","modified":1737543970189},{"_id":"themes/butterfly/layout/includes/third-party/share/index.pug","hash":"8a7d5cdca6a87897d435fc88ebcb7ec0b7ec8591","modified":1737543970409},{"_id":"themes/butterfly/layout/includes/third-party/share/share-js.pug","hash":"393c94702fd65c585e37bcf9a4f33c638d8bac72","modified":1737543970457},{"_id":"themes/butterfly/layout/includes/third-party/search/local-search.pug","hash":"52992436757b36ca1950efeb13144187224d7430","modified":1738000186715},{"_id":"themes/butterfly/layout/includes/third-party/search/index.pug","hash":"11a4e7decb634fbd6af454aa5ec230945837b6a9","modified":1737543970237},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"fc1f9d0655a94bfc76e5542207d1991e5d24690a","modified":1737543970032},{"_id":"themes/butterfly/source/css/_custom/about/careers.css","hash":"a3c2d4b6aaf030772e9fc071be78ff42cc7a00a6","modified":1738948950484},{"_id":"themes/butterfly/source/css/_custom/about/about.css","hash":"da7f4add0302a2f290e2906facb9cd980566c05c","modified":1740303008602},{"_id":"themes/butterfly/source/css/_custom/about/hello-about.css","hash":"fcfd76203c9a9cbf9ae6cf9c8fad46cb03a14ace","modified":1738949023626},{"_id":"themes/butterfly/source/css/_custom/about/skills.css","hash":"9dfaecf92f0050423ba1a07742e082f353f19751","modified":1738949052204},{"_id":"themes/butterfly/source/css/_custom/about/site.css","hash":"9f157b7d3e3a62771e5ed977a2b28af01e423180","modified":1738949078140},{"_id":"themes/butterfly/source/css/_highlight/highlight/diff.styl","hash":"fdcc5a88505fcbf0593aa04ecb4ac0c8ad4f8fa3","modified":1737543973681},{"_id":"themes/butterfly/source/css/_page/_flink_style/butterfly.styl","hash":"be435134e4453a04ce3929a0c9c1da865df7c559","modified":1738323130345},{"_id":"themes/butterfly/source/css/_highlight/highlight/index.styl","hash":"cc272f7d612a52f4f1d2a95456cc89bc709fe0e5","modified":1737543973712},{"_id":"themes/butterfly/source/css/_custom/about/genshinimpact.css","hash":"32506d09dbdb2f2b258b80a0f0b89152bf5b77ea","modified":1738948994056},{"_id":"themes/butterfly/source/css/_page/_flink_style/byer.styl","hash":"2e54cc4983d2c2b497e3d6716a5d98de0be91513","modified":1738323218211},{"_id":"themes/butterfly/source/css/_highlight/prismjs/index.styl","hash":"1997713a8722391c8b5c8c1598ec19adee993fa5","modified":1737543973822},{"_id":"themes/butterfly/source/css/_highlight/prismjs/diff.styl","hash":"dcd3af96d8be1a6358a88daf2c66165cc9b792d9","modified":1737543973791},{"_id":"themes/butterfly/source/css/_page/_flink_style/flexcard.styl","hash":"8fea19dd1002e17a97d0c67704db5ac1a547632f","modified":1738323189232},{"_id":"themes/butterfly/source/css/_page/_flink_style/volantis.styl","hash":"d497a9c654b927e1579a8a8513573bafacc7150a","modified":1738323162492},{"_id":"themes/butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"ed77729c26cf815c75efd3a6889b6ac805471765","modified":1737543973869},{"_id":"themes/butterfly/source/img/3000.webp","hash":"acfeb8cbf20e84c4905b4c8ff8b99008eaeb80cd","modified":1738074015627},{"_id":"themes/butterfly/source/img/head.png","hash":"2d0727e5ad933da2988f42042dbbce90f03009dc","modified":1737983466483},{"_id":"themes/butterfly/source/img/butterfly-icon.png","hash":"f5dd732fed5c3bcd4aa76bac3441bac8485fb432","modified":1737543975938},{"_id":"themes/butterfly/source/img/growen.webp","hash":"49a75da1ca636f29df993cb353c72f7ab375f816","modified":1738074015757},{"_id":"themes/butterfly/source/img/2.webp","hash":"92bcdd648f4e7a857acc3ff3aec7780633e661f1","modified":1737983490521},{"_id":"themes/butterfly/source/img/10year.webp","hash":"738fb38e54cc0c76f1739a3b5eea6e06ad769fc9","modified":1738074015882},{"_id":"themes/butterfly/source/img/head.gif","hash":"541c933efe8cd65c0b40065555e923657aea4da2","modified":1738074015679},{"_id":"themes/butterfly/source/img/1.webp","hash":"787daa565774f2a67ceb8084014919c1644d2ffd","modified":1737908546307},{"_id":"public/js/statistics.js","hash":"729f1e33f1efda8760afd4f1c9964804a7ff2099","modified":1746523996408},{"_id":"public/css/critical.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1746523996408},{"_id":"public/search.xml","hash":"68989dd54f5284544a66d001d20acb8eeaf4348c","modified":1746523996408},{"_id":"public/post-sitemap.xml","hash":"1fe6df794105b6785f87542e61521bbc0e0626fd","modified":1746523996408},{"_id":"public/page-sitemap.xml","hash":"d5c231a5e16f8dce95d5341a2bf86f10b994b9e2","modified":1746523996408},{"_id":"public/category-sitemap.xml","hash":"a83e81f57ad5f6f4c93f33259c444746c555251d","modified":1746523996408},{"_id":"public/tag-sitemap.xml","hash":"26cb554a5e87dd07de33b6eeeaa98f62d6091e80","modified":1746523996408},{"_id":"public/sitemap.xsl","hash":"4321fa69dc1b8811d32b7a1478e5603e038cea1a","modified":1746523996408},{"_id":"public/sitemap.xml","hash":"ebd66e1c570757cf602e0aed383ad0adf7218758","modified":1746523996408},{"_id":"public/messageboard/index.html","hash":"532915174a4a276e85a43e3e5cab68e0bc3fd516","modified":1746523996408},{"_id":"public/tags/index.html","hash":"a593998116cf5d2426f83a7217a8e0b741ebb1e7","modified":1746523996408},{"_id":"public/categories/index.html","hash":"5dc874efec6193f29ff9f01888bd6e8ea578d77a","modified":1746523996408},{"_id":"public/link/index.html","hash":"ab2c5b62e2a6ff7dfda34896737bcd865831d14e","modified":1746523996408},{"_id":"public/charts/index.html","hash":"aace61f7dda26e638271da36bd9f6df39066f470","modified":1746523996408},{"_id":"public/about/index.html","hash":"fc5bdf11a553b2f0e48f8793a725a647c28ce150","modified":1746523996408},{"_id":"public/2025/01/1day/index.html","hash":"a02f383f06db5324cc599c52be43f37c85c8225b","modified":1746523996408},{"_id":"public/2025/01/2day/index.html","hash":"802060b0f30b2a8047e6e5c17c22bc6c5984e107","modified":1746523996408},{"_id":"public/2025/01/3day/index.html","hash":"a7155d020c07646273af7b16ac0701a030c25361","modified":1746523996408},{"_id":"public/2025/02/哈希表/index.html","hash":"9ade3e0d04647f221aa5bd8f526b869d0dd2b6c7","modified":1746523996408},{"_id":"public/2025/01/4day/index.html","hash":"6c67632321a05fda43871516f30b34a17a0752e2","modified":1746523996408},{"_id":"public/2025/02/5day/index.html","hash":"ce76158a4801501ad987e3335bf221431190c551","modified":1746523996408},{"_id":"public/2025/02/7day/index.html","hash":"af3724c9d984b39c6f53991c3528c95965d8d545","modified":1746523996408},{"_id":"public/2025/02/6day/index.html","hash":"d7343b12a1f4a7767616e3f2c1f2423a44d35524","modified":1746523996408},{"_id":"public/2025/02/8day/index.html","hash":"5337cdb4ab56759b0bb8336beb1899e8495fae33","modified":1746523996408},{"_id":"public/2025/02/STL/index.html","hash":"0e4ea8a66dbd0980ab2bd788827cf1a742c842bf","modified":1746523996408},{"_id":"public/2025/02/9day/index.html","hash":"f5ee80d46dc69997a7a5d62f6069474d3c5a42b2","modified":1746523996408},{"_id":"public/2025/02/10day/index.html","hash":"dc8687405a4d5f3983b35853e5e8fa977a6233a3","modified":1746523996408},{"_id":"public/2025/02/11day/index.html","hash":"5454ddd199f7a48b9c35d842de1961966632aad2","modified":1746523996408},{"_id":"public/2025/02/绪论/index.html","hash":"37fbed3d5d58e339a28a8cd191aa4ecc2d90e62c","modified":1746523996408},{"_id":"public/2025/02/线性表/index.html","hash":"8ccfb69de53b997d77680e0638dba4b6629c161e","modified":1746523996408},{"_id":"public/2025/03/12day/index.html","hash":"078e90257fc7a02c7001bdd78e439056a15388a3","modified":1746523996408},{"_id":"public/2025/03/回溯算法/index.html","hash":"1cbeb0b09589627b8b62f734ddd39c8aa0eaa029","modified":1746523996408},{"_id":"public/2025/03/图论/index.html","hash":"1ccfdff3deb34229fe7c6ec53398090e3782cf8f","modified":1746523996408},{"_id":"public/2025/03/13day/index.html","hash":"9e0a1cfb6fe0075d11e27f400983aadc4e5dfefc","modified":1746523996408},{"_id":"public/2025/03/排序算法/index.html","hash":"f35781da4702e6d55176a718bd3f1b759325b7c1","modified":1746523996408},{"_id":"public/2025/04/基于深度学习的图像分类/index.html","hash":"592cc0adbbcfecb0b83ca8053c4105334cb38279","modified":1746523996408},{"_id":"public/2025/03/14day/index.html","hash":"3150911edb34340e5c9a0c1298b4f2fbfa3ebc60","modified":1746523996408},{"_id":"public/2025/04/Transformer/index.html","hash":"7ba3015155d2bb394b597d53954623516e4193a9","modified":1746523996408},{"_id":"public/archives/index.html","hash":"2023231864d76dca1832531633efd0131528e390","modified":1746523996408},{"_id":"public/2025/04/MoCo/index.html","hash":"856b0e3692a29adaf8c0b7d1d2456a8633b627b8","modified":1746523996408},{"_id":"public/2025/04/CSRMS/index.html","hash":"4655100aba132508ad8aadb839c0ed0128d8483f","modified":1746523996408},{"_id":"public/2025/04/MOE/index.html","hash":"984908c8dc09bde9e6be79d5c668f3c74c4feca7","modified":1746523996408},{"_id":"public/archives/page/2/index.html","hash":"1e210905fd1d38f47b6d4f6d518cc545eddffa71","modified":1746523996408},{"_id":"public/archives/page/3/index.html","hash":"24f5935f4c42afcfaf00f083501f8db6eb668bae","modified":1746523996408},{"_id":"public/archives/2025/page/2/index.html","hash":"89b172618d8968f2db0502e8aa4b0a487b5dfadd","modified":1746523996408},{"_id":"public/archives/2025/index.html","hash":"24511cbf39ca0bc37d283d66d12c1c64b7c49bf0","modified":1746523996408},{"_id":"public/archives/2025/page/3/index.html","hash":"7ac687329292b38f173489f794b1d5a8780ab008","modified":1746523996408},{"_id":"public/archives/2025/01/index.html","hash":"9dda7c6979a3d41995bae0d97b9b0296f644fb04","modified":1746523996408},{"_id":"public/archives/2025/02/index.html","hash":"cc08807319a674598846cc7d330df834179f4c28","modified":1746523996408},{"_id":"public/archives/2025/02/page/2/index.html","hash":"1daebe9d7778264d4867fb43c134f6a0d1126ffd","modified":1746523996408},{"_id":"public/archives/2025/03/index.html","hash":"96b3d7fe27037df5bf9e6d838105db3c682ae348","modified":1746523996408},{"_id":"public/archives/2025/04/index.html","hash":"48728e50b2128325f568905d112170fc438ac071","modified":1746523996408},{"_id":"public/page/2/index.html","hash":"151c25c26510d93008f957dc29311269d8625f6a","modified":1746523996408},{"_id":"public/page/3/index.html","hash":"37f03f71b0359e834be16383c85e2e883e422dfe","modified":1746523996408},{"_id":"public/categories/学习/index.html","hash":"5ca5988dc919f91b59c7b919578048dc58834bc4","modified":1746523996408},{"_id":"public/index.html","hash":"465c199a241314bcf5ebe7746d10f5e6f2a79c99","modified":1746523996408},{"_id":"public/categories/学习/page/2/index.html","hash":"1f265b310b81a49b0361df72b64f397e7ea12f18","modified":1746523996408},{"_id":"public/categories/学习/page/3/index.html","hash":"a8f09cf757e79108398ea461eb15f0d25cdb57b6","modified":1746523996408},{"_id":"public/categories/学习/数据结构与算法/index.html","hash":"52baa8a9bede7d069525d1a0da1d31ce20ee806f","modified":1746523996408},{"_id":"public/categories/学习/数据结构与算法/page/2/index.html","hash":"5196380240a634a9220610706e7926a754f3d539","modified":1746523996408},{"_id":"public/categories/学习/数据结构与算法/page/3/index.html","hash":"ff2d553022b29bc460e2613f88f31a9d9a72aa99","modified":1746523996408},{"_id":"public/categories/学习/数据结构与算法/代码随想录/index.html","hash":"3d08c8330e7b9a9f3a8ec68b4fa1acd2b0635055","modified":1746523996408},{"_id":"public/categories/学习/数据结构与算法/代码随想录/page/2/index.html","hash":"d284acb022e105dba0c8eb9702df12306714732f","modified":1746523996408},{"_id":"public/categories/学习/论文精读/index.html","hash":"ec4b96e235cf5dac5f35573d8cf8bf3a7e9852ce","modified":1746523996408},{"_id":"public/categories/学习/数据结构与算法/基础知识/index.html","hash":"358541b0e0a7798ff2095c6909387288d86655f2","modified":1746523996408},{"_id":"public/categories/学习/论文精读/对比学习/index.html","hash":"e562c2a1feea994c104042db45413e0146ce4ed2","modified":1746523996408},{"_id":"public/categories/学习/论文精读/CSRMS/index.html","hash":"0bdd20c850cdb50d3b4688473d5480ee725d09e9","modified":1746523996408},{"_id":"public/categories/学习/论文精读/Transformer/index.html","hash":"cbe997671ab28be79b3c10744d589e54a9b7582c","modified":1746523996408},{"_id":"public/categories/学习/深度学习/index.html","hash":"11ce997b35e4998d8f24d093ff318664722d7f31","modified":1746523996408},{"_id":"public/categories/学习/论文精读/MOE/index.html","hash":"b3d60cee16e168f6bcbf2e0847c0828baeba5623","modified":1746523996408},{"_id":"public/categories/学习/论文精读/对比学习/MoCo/index.html","hash":"14e60fd36e56acf5051166163a1784d30ef12669","modified":1746523996408},{"_id":"public/categories/学习/深度学习/图像分类/index.html","hash":"4784d76dde1d0c8fa695cc52120aba9ca9661477","modified":1746523996408},{"_id":"public/categories/学习/深度学习/图像分类/CIFAR10/index.html","hash":"71581f317fcb45b0bdda4c550972318567fa970e","modified":1746523996408},{"_id":"public/tags/数据结构与算法/index.html","hash":"25a0388b904d7e2fff59ca59d144986e08f36e20","modified":1746523996408},{"_id":"public/tags/二叉树/index.html","hash":"4883e48275b6db2eef0c663e37618bd33fd08a15","modified":1746523996408},{"_id":"public/tags/数据结构与算法/page/2/index.html","hash":"d274d41a89dd5087df589ae92d6d95fee103818f","modified":1746523996408},{"_id":"public/tags/二叉树遍历/index.html","hash":"b2afc9b81851b9a230e9fe23ab2266756b5dcd27","modified":1746523996408},{"_id":"public/tags/递归/index.html","hash":"e62161d0a0172b8d4358ac0a396f0f7d219b90b7","modified":1746523996408},{"_id":"public/tags/迭代/index.html","hash":"6b3810007693846419ce853070c6ee4385c3a1db","modified":1746523996408},{"_id":"public/tags/图论/index.html","hash":"9360ef30a739d1320d5654355e7e78d362d9d2f2","modified":1746523996408},{"_id":"public/tags/回溯/index.html","hash":"b6076436c8a4b3b5d5e92c2af3ae8d2ea46c41cc","modified":1746523996408},{"_id":"public/tags/剪枝/index.html","hash":"593a05f7c633cf6bc368e4f13c682eb156a9daca","modified":1746523996408},{"_id":"public/tags/动态规划/index.html","hash":"823688b72c4340e90a33e86e07bc5e0a0ee167f8","modified":1746523996408},{"_id":"public/tags/数组/index.html","hash":"ca4ede595e36152a3e4af79716e50af32515f6c3","modified":1746523996408},{"_id":"public/tags/滑动窗口/index.html","hash":"09a0af4e55a253d2f763befd8b8e352240556e6f","modified":1746523996408},{"_id":"public/tags/前缀和/index.html","hash":"60bac6dae4c8a4e40485fa7fd1d7e2b034b50d78","modified":1746523996408},{"_id":"public/tags/矩阵规律/index.html","hash":"cafebc69cc8fa11325ffb2dd7dc3a8a44b1ee204","modified":1746523996408},{"_id":"public/tags/双指针/index.html","hash":"7e315398b210ab220e5d1f07814643007e04dc3a","modified":1746523996408},{"_id":"public/tags/链表/index.html","hash":"bf0d41c5ca75785351e98224bbeda9c8aa5ec864","modified":1746523996408},{"_id":"public/tags/哈希表/index.html","hash":"6c4b0b7069f0dc14d1c96767b7bd08fcb07edad9","modified":1746523996408},{"_id":"public/tags/查找/index.html","hash":"22012bb26152263d374afb216b3f05bbea7829d5","modified":1746523996408},{"_id":"public/tags/set/index.html","hash":"356e49a8824b0d6c8d290ac189a2c72586e4c5ff","modified":1746523996408},{"_id":"public/tags/map/index.html","hash":"05f9afb71fc307425541c7f7bd7676e7a77a4290","modified":1746523996408},{"_id":"public/tags/二分查找/index.html","hash":"38d0a9ab12a68bc67fb0a4e957bede96d988dd27","modified":1746523996408},{"_id":"public/tags/字符串/index.html","hash":"e6c2aa983e8d8c8d9fda47ebd1dc7d7adf57c430","modified":1746523996408},{"_id":"public/tags/KMP/index.html","hash":"6caf0e74256d854269e5d8a4146e434106e5b729","modified":1746523996408},{"_id":"public/tags/reverse/index.html","hash":"70e76dffd083e64e18308ccb8941efe9bfcf039e","modified":1746523996408},{"_id":"public/tags/对比学习/index.html","hash":"acc0db27226225724584bed1324e19eaaf8d388b","modified":1746523996408},{"_id":"public/tags/论文精读/index.html","hash":"927796e5a19e44bf293e9a45331b885c6dbc16dc","modified":1746523996408},{"_id":"public/tags/STL/index.html","hash":"ea95566c22113eeb2bf8641c2ebaa1d375a1fb96","modified":1746523996408},{"_id":"public/tags/vector/index.html","hash":"2e861d33c8832a463424e79a5caefab006676b44","modified":1746523996408},{"_id":"public/tags/string/index.html","hash":"cef6e9c289b8e7aec33795db06569dcd1b60b498","modified":1746523996408},{"_id":"public/tags/deque/index.html","hash":"f9a57b3eaa92c2828253deaacb4a6b7c73d6dabf","modified":1746523996408},{"_id":"public/tags/stack/index.html","hash":"8083151e26e34906d0f9f4dbe2fe16c21e76b87d","modified":1746523996408},{"_id":"public/tags/queue/index.html","hash":"9854da2a052ee5485178f2303303daf792fbf21a","modified":1746523996408},{"_id":"public/tags/algorithm/index.html","hash":"d905d6e49643a1b28ae38f6465467eb9141bd591","modified":1746523996408},{"_id":"public/tags/priority-queue/index.html","hash":"6cc6d5e4bddc83705b219d6c88a86674a930f918","modified":1746523996408},{"_id":"public/tags/栈/index.html","hash":"134e510d37b44b6fdf8ec67d51f0324479c5a19b","modified":1746523996408},{"_id":"public/tags/队列/index.html","hash":"5d2c58b1beaa836750e11cc585bc3fb78fce5aa7","modified":1746523996408},{"_id":"public/tags/双端队列/index.html","hash":"ebb85808ff3e090dbf6ca95d65e245abe7e1c177","modified":1746523996408},{"_id":"public/tags/堆/index.html","hash":"2841f84572b9e33a8e4230537253d2c67cb9f3ba","modified":1746523996408},{"_id":"public/tags/视觉表征/index.html","hash":"ed3e99e06195697db1341a966e707e3d3fdbb93e","modified":1746523996408},{"_id":"public/tags/transformer/index.html","hash":"7e7274a3b1f76587d90350990a914d8d24a1054b","modified":1746523996408},{"_id":"public/tags/排序/index.html","hash":"e3c476bd74d3a62434a3f3d9c1e99892f48aae00","modified":1746523996408},{"_id":"public/tags/冒泡排序/index.html","hash":"3d503c550ba022a3af61039ba33c5ead39ef310a","modified":1746523996408},{"_id":"public/tags/选择排序/index.html","hash":"a6dbf2b52ed9d8853f65bac4e4430adc2864549b","modified":1746523996408},{"_id":"public/tags/插入排序/index.html","hash":"0be1f378e9b638fcef1da9b08713d61a213f3cc8","modified":1746523996408},{"_id":"public/tags/快速排序/index.html","hash":"70360df67159c9dd7c3fd8276133cb8aba68dafc","modified":1746523996408},{"_id":"public/tags/归并排序/index.html","hash":"2cb8decfe288f47803a309c7b669569fb535088e","modified":1746523996408},{"_id":"public/tags/堆排序/index.html","hash":"8b7b2f15227bbf8cfafe69426f0980d814797485","modified":1746523996408},{"_id":"public/tags/图像分类/index.html","hash":"ccc3c7766d7dc99cb542feeb81bc14c213cdbffd","modified":1746523996408},{"_id":"public/tags/深度学习/index.html","hash":"f042c13005fe6a11a92b220a49ed5d7c8874b803","modified":1746523996408},{"_id":"public/tags/Resnet/index.html","hash":"530edfd0230dacca6de086c8a39315d5d9801828","modified":1746523996408},{"_id":"public/tags/Lenet/index.html","hash":"9fedd262d84e3aa389b23ef5fb6bc416c1a86318","modified":1746523996408},{"_id":"public/tags/CIFAR10/index.html","hash":"e207339b6d2b4349a2adcbedf1c85a402d03a52b","modified":1746523996408},{"_id":"public/tags/线性表/index.html","hash":"4af44e762b4b1d70ae72d8b2e388435d667f8e76","modified":1746523996408},{"_id":"public/tags/绪论/index.html","hash":"6f1c056be8262626c71acd77bb34d29506eeaa66","modified":1746523996408},{"_id":"public/CNAME","hash":"4fb9dc15713d71d5a1e329d72d8e1d000cae3191","modified":1746523996408},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1746523996408},{"_id":"public/img/123.JPG","hash":"a05af6828774a231ee73dd504b941acf58d4ddb4","modified":1746523996408},{"_id":"public/img/2","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1746523996408},{"_id":"public/img/favicon.ico","hash":"455ac256580bf31a45813dbbdb87219bfc8bfb04","modified":1746523996408},{"_id":"public/img/favicon.png","hash":"240b15a0b127f45126dcbf97e61781c424d526bc","modified":1746523996408},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1746523996408},{"_id":"public/img/error-page.png","hash":"d2519710498a871ca3e913c57e2ba20a805b6430","modified":1746523996408},{"_id":"public/img/head.webp","hash":"aa2af246fc093099cfba509be2b516698c6bf5ab","modified":1746523996408},{"_id":"public/assets/js/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1746523996408},{"_id":"public/assets/css/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1746523996408},{"_id":"public/assets/js/Meting.min.js","hash":"a0585220b918d78649a7893279e1ec4fb5abe835","modified":1746523996408},{"_id":"public/css/index.css","hash":"6ee31fcb1658d595177a0bf6b55d8be89e7973c7","modified":1746523996408},{"_id":"public/css/transpancy.css","hash":"6afc598eb5fecab8b619eead1043e8eefa2adf07","modified":1746523996408},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1746523996408},{"_id":"public/js/reward.js","hash":"0d101b9b594b3ee39117dc423a5d17aef447302e","modified":1746523996408},{"_id":"public/js/main.js","hash":"fb746a3e67d0373deea8481110dd436fea4ca38c","modified":1746523996408},{"_id":"public/js/countup.js","hash":"89388b8b14405b13257da96356312a5f37f94841","modified":1746523996408},{"_id":"public/js/your-cuntom-script.js","hash":"98801e64bfca43883bc6673ffbccca6c7cc69500","modified":1746523996408},{"_id":"public/js/search/local-search.js","hash":"4e11d033fb58563f5e1b497f1a6f1c62d3501ee6","modified":1746523996408},{"_id":"public/js/hexo_githubcalendar.js","hash":"5157234000b850eb8606cc9a13ae1e9652d8d5f3","modified":1746523996408},{"_id":"public/js/tw_cn.js","hash":"7ef59df188ea523da89f4caf69c5c0f14e78da69","modified":1746523996408},{"_id":"public/js/search/algolia.js","hash":"e5821f78381af9f0f646952a7dd118daab2a79a6","modified":1746523996408},{"_id":"public/js/utils.js","hash":"fd3c26366c78dd82bc87d4ddebe76c582122e1b7","modified":1746523996408},{"_id":"public/img/README.html","hash":"f4a5b43290e43957f03babfb737dfca3b6be45be","modified":1746523996408},{"_id":"public/img/3000.webp","hash":"acfeb8cbf20e84c4905b4c8ff8b99008eaeb80cd","modified":1746523996408},{"_id":"public/img/head.png","hash":"2d0727e5ad933da2988f42042dbbce90f03009dc","modified":1746523996408},{"_id":"public/img/butterfly-icon.png","hash":"f5dd732fed5c3bcd4aa76bac3441bac8485fb432","modified":1746523996408},{"_id":"public/img/growen.webp","hash":"49a75da1ca636f29df993cb353c72f7ab375f816","modified":1746523996408},{"_id":"public/img/2.webp","hash":"92bcdd648f4e7a857acc3ff3aec7780633e661f1","modified":1746523996408},{"_id":"public/img/10year.webp","hash":"738fb38e54cc0c76f1739a3b5eea6e06ad769fc9","modified":1746523996408},{"_id":"public/img/head.gif","hash":"541c933efe8cd65c0b40065555e923657aea4da2","modified":1746523996408},{"_id":"public/img/1.webp","hash":"787daa565774f2a67ceb8084014919c1644d2ffd","modified":1746523996408}],"Category":[{"name":"学习","_id":"cmacbamhz00041swm4sci2ecv"},{"name":"数据结构与算法","parent":"cmacbamhz00041swm4sci2ecv","_id":"cmacbami7000j1swm8wli4bk9"},{"name":"代码随想录","parent":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamia000y1swm3ofu7d8j"},{"name":"论文精读","parent":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamis002s1swm5m2044r7"},{"name":"基础知识","parent":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamiu00301swm1kvy0qgk"},{"name":"对比学习","parent":"cmacbamis002s1swm5m2044r7","_id":"cmacbamiy003g1swmczzhgl0o"},{"name":"CSRMS","parent":"cmacbamis002s1swm5m2044r7","_id":"cmacbamiz003p1swm0w7a9x92"},{"name":"Transformer","parent":"cmacbamis002s1swm5m2044r7","_id":"cmacbamj1003y1swmg6iq3glo"},{"name":"MOE","parent":"cmacbamis002s1swm5m2044r7","_id":"cmacbamj100441swmh2cs4ck5"},{"name":"深度学习","parent":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj2004a1swm78ly44mo"},{"name":"MoCo","parent":"cmacbamiy003g1swmczzhgl0o","_id":"cmacbamj3004h1swmcqildn55"},{"name":"图像分类","parent":"cmacbamj2004a1swm78ly44mo","_id":"cmacbamj3004o1swm1fjldsu0"},{"name":"CIFAR10","parent":"cmacbamj3004o1swm1fjldsu0","_id":"cmacbamj4004x1swmfz0t5pzf"}],"Data":[{"_id":"creativity","data":[{"class_name":"开启创造力","creativity_list":[{"name":"C++","color":"#fff","icon":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250208211930380.png"},{"name":"Python","color":"#fff","icon":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250427110752815.png"},{"name":"Java","color":"#fff","icon":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250427110902929.png"},{"name":"Node","color":"#fff","icon":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250427110940080.png"},{"name":"CSS3","color":"#fff","icon":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250427111013201.png"},{"name":"JS","color":"#fff","icon":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250427111104605.png"},{"name":"HTML","color":"#e9572b","icon":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250427111153026.png"},{"name":"Git","color":"#fff","icon":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250208212108189.png"}]}]},{"_id":"achievements","data":[{"title":"国家奖学金","date":"2023 年 10 月","organization":"教育部","description":"因学业成绩优异，综合表现突出而获得。"},{"title":"优秀毕业论文","date":"2024 年 6 月","organization":"齐鲁工业大学","paper_title":"《基于深度学习的...》","description":"... ..."},{"title":"发表论文","paper_title":"论文标题","link":"论文链接","venue":"会议/期刊名称","year":"年份"}]},{"_id":"reward","data":[{"class_name":"赞赏","reward_list":[{"name":"WP","amount":10,"datatime":"2025-2-2"}]}]},{"_id":"link","data":[{"class_name":"好友","link_list":[{"name":"vllbc","link":"https://blog.vllbc.top/","avatar":"https://blog.vllbc.top/images/avatar.png","descr":"NLP大佬"}]},{"class_name":"高质量知识網站","link_list":[{"name":"CS自学指南","link":"https://csdiy.wiki/","avatar":"https://csdiy.wiki/images/title.png","descr":"CS学习知识整合站点"},{"name":"OI Wiki","link":"https://oi-wiki.org/","avatar":"https://wpironman.oss-cn-qingdao.aliyuncs.com/wordArt.webp","descr":"编程竞赛知识整合站点"},{"name":"代码随想录","link":"https://programmercarl.com/","avatar":"https://code-thinking-1253855093.file.myqcloud.com/pics/20210614201246512.png","descr":"算法学习不走弯路"}]},{"class_name":"高质量娱乐網站","link_list":[{"name":"音范丝电影精选","link":"https://www.yinfans.me/","avatar":"https://s44.playwoool.com/wp-content/uploads/2017/04/LOGO_3.png","descr":"蓝光精选电影网站"}]},{"class_name":"思想家","class_desc":"知识与智慧并存的大佬","link_list":[{"name":"编程随想的博客","link":"https://program-think.blogspot.com/","avatar":"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj-Ji0zNb8cNLG_VJPHoUI2hhPeJUsfIi4a373J4HHbBSs_Dmaauis5DtEy2FzR-vO96ZyG5rgHogMaT1VCRkv2bG5bN4aovpzYupYXuPoJYPDoImYa1YlXF67pDeY-HEosJin-SPVXLJc/","descr":"控制风险的最好办法是深入思考，而不是投资组合！"}]},{"class_name":"博客开发","flink_style":"flexcard","link_list":[{"name":"butterfly魔改","link":"https://butterfly.zhheo.com/","avatar":"https://butterfly.zhheo.com/img/logo.webp","descr":"基于Butterfly的组件美化教程合集"},{"name":"Butterfly 主题文档","link":"https://butterfly.js.org/","avatar":"https://butterfly.js.org/img/avatar.png","descr":"Butterfly 官方文档"},{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱✨","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg"}]}]}],"Page":[{"_content":"document.addEventListener('DOMContentLoaded', function() {\n  console.log('统计脚本已加载');\n  \n  // 存储图表实例以便于更新\n  const chartInstances = {};\n  \n  // 避免重复初始化\n  if (window.statisticsInitialized) {\n    console.log('统计已初始化，跳过');\n    return;\n  }\n  window.statisticsInitialized = true;\n  \n  // 获取主题颜色\n  function getThemeColors() {\n    const isLight = document.documentElement.getAttribute('data-theme') === 'light';\n    return {\n      primary: getComputedStyle(document.documentElement).getPropertyValue('--theme-color').trim() || '#49b1f5',\n      secondary: '#FF9800',\n      info: '#909399',\n      textColor: isLight ? '#4c4948' : '#eee',\n      borderColor: isLight ? '#eee' : '#374151',\n      backgroundColor: isLight ? '#fff' : '#1d1e22'\n    };\n  }\n  \n  // 图表通用配置\n  function getChartConfig() {\n    const themeColors = getThemeColors();\n    return {\n      backgroundColor: 'transparent',\n      textStyle: {\n        color: themeColors.textColor\n      },\n      title: {\n        textStyle: {\n          color: themeColors.textColor\n        }\n      },\n      legend: {\n        textStyle: {\n          color: themeColors.textColor\n        }\n      },\n      tooltip: {\n        backgroundColor: themeColors.backgroundColor,\n        borderColor: themeColors.borderColor,\n        textStyle: {\n          color: themeColors.textColor\n        }\n      }\n    };\n  }\n  \n  // 从DOM中获取博客数据 - 可以扩展为API调用\n  function getBlogStats() {\n    try {\n      // 尝试从DOM获取实际数据\n      const actualPostCount = document.querySelectorAll('article.post').length || \n                             document.querySelectorAll('.article-item').length || \n                             document.querySelectorAll('.post-item').length || 21;\n      \n      // 获取标签信息 - 尝试从DOM中查找标签元素\n      let actualTags = [];\n      const tagElements = document.querySelectorAll('.tag-cloud-tags a, .tag a, .article-tag a');\n      if (tagElements.length > 0) {\n        // 创建标签计数映射\n        const tagCountMap = new Map();\n        tagElements.forEach(tag => {\n          const tagName = tag.textContent.trim();\n          const count = tagCountMap.get(tagName) || 0;\n          tagCountMap.set(tagName, count + 1);\n        });\n        \n        // 将映射转换为数组\n        actualTags = Array.from(tagCountMap.entries()).map(([name, count]) => ({ name, count }));\n        // 按计数排序\n        actualTags.sort((a, b) => b.count - a.count);\n      }\n      \n      // 确保有至少一些标签数据\n      if (actualTags.length === 0) {\n        // 保留原来的示例数据作为备用\n        actualTags = [\n          { name: '数据结构与算法', count: actualPostCount > 8 ? 8 : actualPostCount },\n          { name: '二叉树', count: actualPostCount > 6 ? 6 : Math.ceil(actualPostCount * 0.28) },\n          { name: '图论', count: actualPostCount > 5 ? 5 : Math.ceil(actualPostCount * 0.23) },\n          { name: '数组', count: actualPostCount > 4 ? 4 : Math.ceil(actualPostCount * 0.19) },\n          { name: '递归', count: actualPostCount > 4 ? 4 : Math.ceil(actualPostCount * 0.19) },\n          { name: '动态规划', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '哈希表', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '排序', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '链表', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '贪心算法', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) }\n        ];\n      }\n      \n      // 确保标签计数不超过实际文章数\n      actualTags.forEach(tag => {\n        if (tag.count > actualPostCount) {\n          tag.count = actualPostCount;\n        }\n      });\n      \n      // 计算总字数 - 可能从其它元素中获取\n      const wordCountElement = document.querySelector('.word-count, .site-wordcount, .site-count-wordcount');\n      let totalWords = 31500; // 默认值\n      if (wordCountElement) {\n        const wordCountText = wordCountElement.textContent;\n        const match = wordCountText.match(/(\\d+)/);\n        if (match) {\n          totalWords = parseInt(match[1]);\n        }\n      }\n      \n      // 提供默认数据，确保图表总是能显示\n      const stats = {\n        totalPosts: actualPostCount,\n        totalWords: totalWords,\n        totalCategories: 6,\n        totalTags: actualTags.length || 44,\n        categories: [\n          { name: '学习', count: actualPostCount },\n          { name: '数据结构与算法', count: Math.ceil(actualPostCount * 0.95) },\n          { name: '代码随想录', count: Math.ceil(actualPostCount * 0.62) },\n          { name: '基础知识', count: Math.ceil(actualPostCount * 0.33) },\n          { name: '离散数学', count: Math.ceil(actualPostCount * 0.05) }\n        ],\n        tags: actualTags,\n        postCalendar: {\n          '2025-01-10': Math.min(2, actualPostCount * 0.1),\n          '2025-01-15': Math.min(3, actualPostCount * 0.15),\n          '2025-01-25': Math.min(2, actualPostCount * 0.1),\n          '2025-02-05': Math.min(3, actualPostCount * 0.15),\n          '2025-02-15': Math.min(3, actualPostCount * 0.15),\n          '2025-02-25': Math.min(3, actualPostCount * 0.15),\n          '2025-03-05': Math.min(3, actualPostCount * 0.15),\n          '2025-03-15': Math.min(2, actualPostCount * 0.1)\n        },\n        wordCount: {\n          '少于1000字': Math.ceil(actualPostCount * 0.19),\n          '1000-2000字': Math.ceil(actualPostCount * 0.33),\n          '2000-3000字': Math.ceil(actualPostCount * 0.24),\n          '3000-4000字': Math.ceil(actualPostCount * 0.14),\n          '4000-5000字': Math.ceil(actualPostCount * 0.05),\n          '5000字以上': Math.ceil(actualPostCount * 0.05)\n        }\n      };\n      \n      console.log('使用博客统计数据:', stats);\n      return stats;\n    } catch (error) {\n      console.error('获取博客统计出错:', error);\n      // 提供默认数据作为备用\n      return {\n        totalPosts: 21,\n        totalWords: 31500,\n        totalCategories: 6,\n        totalTags: 44,\n        categories: [\n          { name: '学习', count: 21 },\n          { name: '数据结构与算法', count: 20 },\n          { name: '代码随想录', count: 13 },\n          { name: '基础知识', count: 7 },\n          { name: '离散数学', count: 1 }\n        ],\n        tags: [\n          { name: '数据结构与算法', count: 8 },\n          { name: '二叉树', count: 6 },\n          { name: '图论', count: 5 },\n          { name: '数组', count: 4 },\n          { name: '递归', count: 4 },\n          { name: '动态规划', count: 3 },\n          { name: '哈希表', count: 3 },\n          { name: '排序', count: 3 },\n          { name: '链表', count: 3 },\n          { name: '贪心算法', count: 3 }\n        ],\n        postCalendar: {\n          '2025-01-10': 2,\n          '2025-01-15': 3,\n          '2025-01-25': 2,\n          '2025-02-05': 3,\n          '2025-02-15': 3,\n          '2025-02-25': 3,\n          '2025-03-05': 3,\n          '2025-03-15': 2\n        },\n        wordCount: {\n          '少于1000字': 4,\n          '1000-2000字': 7,\n          '2000-3000字': 5,\n          '3000-4000字': 3,\n          '4000-5000字': 1,\n          '5000字以上': 1\n        }\n      };\n    }\n  }\n  \n  // 清除所有图表容器，保留DOM结构\n  function clearCharts() {\n    console.log('清除图表容器');\n    \n    // 销毁现有图表实例\n    for (const key in chartInstances) {\n      if (chartInstances[key]) {\n        chartInstances[key].dispose();\n        delete chartInstances[key];\n      }\n    }\n    \n    document.getElementById('article-statistics-container').innerHTML = '';\n    \n    const chartContainers = ['category-chart', 'tag-chart', 'post-calendar', 'word-count-chart'];\n    chartContainers.forEach(id => {\n      const container = document.getElementById(id);\n      if (container) {\n        // 保留容器但清空内容\n        while (container.firstChild) {\n          container.removeChild(container.firstChild);\n        }\n      }\n    });\n  }\n  \n  // 初始化文章基本统计\n  function initArticleStatistics() {\n    try {\n      const stats = getBlogStats();\n      const container = document.getElementById('article-statistics-container');\n      if (!container) {\n        console.error('未找到文章统计容器');\n        return;\n      }\n      \n      const html = `\n        <div class=\"card-wrap\">\n          <div class=\"card-header\">\n            <span><i class=\"fas fa-chart-line\"></i> 博客数据概览</span>\n          </div>\n          <div class=\"card-content\">\n            <div class=\"statistics-overview\">\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-file-alt\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalPosts}</div>\n                  <div class=\"stat-name\">文章数量</div>\n                </div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-folder\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalCategories}</div>\n                  <div class=\"stat-name\">分类数量</div>\n                </div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-tags\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalTags}</div>\n                  <div class=\"stat-name\">标签数量</div>\n                </div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-font\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalWords.toLocaleString()}</div>\n                  <div class=\"stat-name\">总字数</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `;\n      container.innerHTML = html;\n      console.log('文章基本统计初始化完成');\n    } catch (error) {\n      console.error('初始化文章统计出错:', error);\n    }\n  }\n  \n  // 初始化分类统计图表\n  function initCategoryChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('category-chart');\n      if (!chartContainer) {\n        console.error('未找到分类图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      // 创建图表实例\n      const categoryChart = echarts.init(chartContainer);\n      chartInstances.category = categoryChart;\n      \n      // 设置饼图选项\n      const themeColors = getThemeColors();\n      const option = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a} <br/>{b} : {c} ({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left',\n          textStyle: {\n            color: themeColors.textColor\n          }\n        },\n        series: [\n          {\n            name: '文章分类',\n            type: 'pie',\n            radius: '55%',\n            center: ['50%', '60%'],\n            data: stats.categories.map(category => ({\n              value: category.count,\n              name: category.name\n            })),\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            },\n            label: {\n              formatter: '{b}: {c} ({d}%)'\n            }\n          }\n        ]\n      };\n      \n      categoryChart.setOption(option);\n      \n      console.log('分类统计图表初始化完成');\n    } catch (error) {\n      console.error('初始化分类图表出错:', error);\n    }\n  }\n  \n  // 初始化标签统计图表\n  function initTagChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('tag-chart');\n      if (!chartContainer) {\n        console.error('未找到标签图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      const tagChart = echarts.init(chartContainer);\n      chartInstances.tag = tagChart;\n      \n      // 准备数据 - 只取前15个标签，避免图表过于拥挤\n      const tags = stats.tags.slice(0, 15);\n      \n      // 使用柱状图\n      const themeColors = getThemeColors();\n      const barOption = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '15%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: tags.map(tag => tag.name),\n          axisLabel: {\n            interval: 0,\n            rotate: 45,\n            color: themeColors.textColor\n          }\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            color: themeColors.textColor\n          }\n        },\n        series: [{\n          data: tags.map(tag => tag.count),\n          type: 'bar',\n          colorBy: 'data'\n        }]\n      };\n      \n      tagChart.setOption(barOption);\n      console.log('标签统计图表初始化完成');\n    } catch (error) {\n      console.error('初始化标签图表出错:', error);\n    }\n  }\n  \n  // 初始化文章发布日历图表\n  function initPostCalendarChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('post-calendar');\n      if (!chartContainer) {\n        console.error('未找到文章发布日历图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      const calendarChart = echarts.init(chartContainer);\n      chartInstances.calendar = calendarChart;\n      \n      // 计算日历范围\n      const dates = Object.keys(stats.postCalendar).sort();\n      if (dates.length === 0) {\n        console.warn('没有找到文章日期数据');\n        return;\n      }\n      \n      const startDate = dates[0];\n      const endDate = dates[dates.length - 1];\n      const startYear = startDate.split('-')[0];\n      const endYear = endDate.split('-')[0];\n      \n      // 准备数据\n      const calendarData = [];\n      for (const [date, count] of Object.entries(stats.postCalendar)) {\n        calendarData.push([date, count]);\n      }\n      \n      // 创建日历配置\n      const calendarConfig = [];\n      for (let year = parseInt(startYear); year <= parseInt(endYear); year++) {\n        calendarConfig.push({\n          top: 80 + (parseInt(year) - parseInt(startYear)) * 170,\n          range: year.toString(),\n          cellSize: ['auto', 20],\n          itemStyle: {\n            borderWidth: 0.5,\n            borderColor: getThemeColors().borderColor\n          },\n          yearLabel: { show: true }\n        });\n      }\n      \n      // 设置图表选项\n      const option = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'item',\n          formatter: function(params) {\n            return `${params.value[0]}: ${params.value[1]} 篇文章`;\n          }\n        },\n        visualMap: {\n          min: 0,\n          max: 4,\n          calculable: true,\n          orient: 'horizontal',\n          left: 'center',\n          top: 20,\n          inRange: {\n            color: ['#ebedf0', '#c6e48b', '#7bc96f', '#239a3b', '#196127']\n          },\n          textStyle: {\n            color: getThemeColors().textColor\n          }\n        },\n        calendar: calendarConfig,\n        series: [{\n          type: 'scatter',\n          coordinateSystem: 'calendar',\n          calendarIndex: 0,\n          data: calendarData,\n          symbolSize: 8,\n          itemStyle: {\n            color: function(params) {\n              const count = params.value[1];\n              if (count === 0) return '#ebedf0';\n              if (count === 1) return '#c6e48b';\n              if (count === 2) return '#7bc96f';\n              if (count === 3) return '#239a3b';\n              return '#196127';\n            }\n          }\n        }]\n      };\n      \n      // 设置图表\n      calendarChart.setOption(option);\n      console.log('文章发布日历图表初始化完成');\n    } catch (error) {\n      console.error('初始化文章发布日历图表出错:', error);\n    }\n  }\n  \n  // 初始化文章字数统计图表\n  function initWordCountChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('word-count-chart');\n      if (!chartContainer) {\n        console.error('未找到文章字数统计图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      const wordCountChart = echarts.init(chartContainer);\n      chartInstances.wordCount = wordCountChart;\n      \n      // 准备数据\n      const wordCountCategories = Object.keys(stats.wordCount);\n      const wordCountData = Object.values(stats.wordCount);\n      \n      // 获取主题颜色\n      const themeColors = getThemeColors();\n      \n      // 设置图表选项\n      const option = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          },\n          formatter: '{b}: {c} 篇文章'\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '10%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: wordCountCategories,\n          axisLabel: {\n            interval: 0,\n            rotate: 30,\n            color: themeColors.textColor\n          }\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            color: themeColors.textColor\n          }\n        },\n        series: [{\n          data: wordCountData,\n          type: 'bar',\n          name: '文章数量',\n          showBackground: true,\n          backgroundStyle: {\n            color: 'rgba(180, 180, 180, 0.2)'\n          },\n          itemStyle: {\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n              { offset: 0, color: themeColors.primary },\n              { offset: 1, color: themeColors.secondary }\n            ])\n          }\n        }]\n      };\n      \n      // 设置图表\n      wordCountChart.setOption(option);\n      console.log('文章字数统计图表初始化完成');\n    } catch (error) {\n      console.error('初始化文章字数统计图表出错:', error);\n    }\n  }\n  \n  // 添加或更新刷新按钮\n  function addRefreshButton() {\n    const container = document.getElementById('container');\n    if (!container) {\n      console.error('未找到容器元素');\n      return;\n    }\n    \n    // 移除现有的刷新按钮\n    const existingButton = document.querySelector('.refresh-button');\n    if (existingButton) {\n      existingButton.remove();\n    }\n    \n    // 创建新的刷新按钮\n    const refreshButton = document.createElement('div');\n    refreshButton.className = 'refresh-button';\n    refreshButton.innerHTML = '<button class=\"btn\"><i class=\"fas fa-sync-alt\"></i> 刷新统计数据</button>';\n    refreshButton.style.cssText = 'text-align: center; margin: 20px 0;';\n    refreshButton.querySelector('button').style.cssText = 'padding: 8px 15px; background-color: var(--btn-bg); color: var(--btn-color); border: none; border-radius: 4px; cursor: pointer; transition: all 0.3s;';\n    \n    refreshButton.addEventListener('click', function() {\n      console.log('刷新统计数据');\n      // 这里是关键改进：不要完全清除，而是更新现有图表\n      refreshCharts();\n    });\n    \n    container.appendChild(refreshButton);\n    console.log('刷新按钮已添加');\n  }\n  \n  // 刷新所有图表而不清除DOM\n  function refreshCharts() {\n    // 获取最新数据\n    const stats = getBlogStats();\n    \n    // 更新基本统计\n    initArticleStatistics();\n    \n    // 更新各个图表\n    if (chartInstances.category) {\n      const categoryData = stats.categories.map(category => ({\n        value: category.count,\n        name: category.name\n      }));\n      chartInstances.category.setOption({\n        series: [{\n          data: categoryData\n        }]\n      });\n    } else {\n      initCategoryChart();\n    }\n    \n    if (chartInstances.tag) {\n      const tags = stats.tags.slice(0, 15);\n      chartInstances.tag.setOption({\n        xAxis: {\n          data: tags.map(tag => tag.name)\n        },\n        series: [{\n          data: tags.map(tag => tag.count)\n        }]\n      });\n    } else {\n      initTagChart();\n    }\n    \n    if (chartInstances.calendar) {\n      const calendarData = [];\n      for (const [date, count] of Object.entries(stats.postCalendar)) {\n        calendarData.push([date, count]);\n      }\n      chartInstances.calendar.setOption({\n        series: [{\n          data: calendarData\n        }]\n      });\n    } else {\n      initPostCalendarChart();\n    }\n    \n    if (chartInstances.wordCount) {\n      const wordCountCategories = Object.keys(stats.wordCount);\n      const wordCountData = Object.values(stats.wordCount);\n      chartInstances.wordCount.setOption({\n        xAxis: {\n          data: wordCountCategories\n        },\n        series: [{\n          data: wordCountData\n        }]\n      });\n    } else {\n      initWordCountChart();\n    }\n    \n    // 响应窗口变化\n    window.dispatchEvent(new Event('resize'));\n    \n    console.log('所有图表刷新完成');\n  }\n  \n  // 响应窗口大小变化的处理\n  function handleResize() {\n    for (const key in chartInstances) {\n      if (chartInstances[key]) {\n        chartInstances[key].resize();\n      }\n    }\n  }\n  \n  // 初始化所有图表\n  function initAllCharts() {\n    console.log('开始初始化所有统计图表');\n    \n    // 首先清除所有现有图表\n    clearCharts();\n    \n    // 按顺序初始化各图表\n    initArticleStatistics();\n    initCategoryChart();\n    initTagChart();\n    initPostCalendarChart();\n    initWordCountChart();\n    \n    // 添加刷新按钮\n    addRefreshButton();\n    \n    // 添加窗口大小变化监听\n    window.removeEventListener('resize', handleResize);  // 避免重复添加\n    window.addEventListener('resize', handleResize);\n    \n    console.log('所有统计图表初始化完成');\n  }\n  \n  // 加载ECharts库然后初始化图表\n  function loadEChartsAndInit() {\n    if (typeof echarts === 'undefined') {\n      console.log('找不到echarts库，正在尝试加载...');\n      \n      // 尝试动态加载echarts\n      const script = document.createElement('script');\n      script.src = 'https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js';\n      script.onload = function() {\n        console.log('echarts库加载成功，初始化图表');\n        initAllCharts();\n      };\n      script.onerror = function() {\n        console.error('echarts库加载失败');\n        // 显示错误消息\n        const container = document.getElementById('article-statistics-container');\n        if (container) {\n          container.innerHTML = '<div class=\"error-message\">图表库加载失败，请刷新页面重试</div>';\n        }\n      };\n      document.head.appendChild(script);\n    } else {\n      console.log('echarts库已加载，正在初始化图表');\n      initAllCharts();\n    }\n  }\n  \n  // 等待页面完全加载后初始化\n  // 延迟一小段时间确保DOM已完全准备好\n  setTimeout(loadEChartsAndInit, 1000);\n});","source":"js/statistics.js","raw":"document.addEventListener('DOMContentLoaded', function() {\n  console.log('统计脚本已加载');\n  \n  // 存储图表实例以便于更新\n  const chartInstances = {};\n  \n  // 避免重复初始化\n  if (window.statisticsInitialized) {\n    console.log('统计已初始化，跳过');\n    return;\n  }\n  window.statisticsInitialized = true;\n  \n  // 获取主题颜色\n  function getThemeColors() {\n    const isLight = document.documentElement.getAttribute('data-theme') === 'light';\n    return {\n      primary: getComputedStyle(document.documentElement).getPropertyValue('--theme-color').trim() || '#49b1f5',\n      secondary: '#FF9800',\n      info: '#909399',\n      textColor: isLight ? '#4c4948' : '#eee',\n      borderColor: isLight ? '#eee' : '#374151',\n      backgroundColor: isLight ? '#fff' : '#1d1e22'\n    };\n  }\n  \n  // 图表通用配置\n  function getChartConfig() {\n    const themeColors = getThemeColors();\n    return {\n      backgroundColor: 'transparent',\n      textStyle: {\n        color: themeColors.textColor\n      },\n      title: {\n        textStyle: {\n          color: themeColors.textColor\n        }\n      },\n      legend: {\n        textStyle: {\n          color: themeColors.textColor\n        }\n      },\n      tooltip: {\n        backgroundColor: themeColors.backgroundColor,\n        borderColor: themeColors.borderColor,\n        textStyle: {\n          color: themeColors.textColor\n        }\n      }\n    };\n  }\n  \n  // 从DOM中获取博客数据 - 可以扩展为API调用\n  function getBlogStats() {\n    try {\n      // 尝试从DOM获取实际数据\n      const actualPostCount = document.querySelectorAll('article.post').length || \n                             document.querySelectorAll('.article-item').length || \n                             document.querySelectorAll('.post-item').length || 21;\n      \n      // 获取标签信息 - 尝试从DOM中查找标签元素\n      let actualTags = [];\n      const tagElements = document.querySelectorAll('.tag-cloud-tags a, .tag a, .article-tag a');\n      if (tagElements.length > 0) {\n        // 创建标签计数映射\n        const tagCountMap = new Map();\n        tagElements.forEach(tag => {\n          const tagName = tag.textContent.trim();\n          const count = tagCountMap.get(tagName) || 0;\n          tagCountMap.set(tagName, count + 1);\n        });\n        \n        // 将映射转换为数组\n        actualTags = Array.from(tagCountMap.entries()).map(([name, count]) => ({ name, count }));\n        // 按计数排序\n        actualTags.sort((a, b) => b.count - a.count);\n      }\n      \n      // 确保有至少一些标签数据\n      if (actualTags.length === 0) {\n        // 保留原来的示例数据作为备用\n        actualTags = [\n          { name: '数据结构与算法', count: actualPostCount > 8 ? 8 : actualPostCount },\n          { name: '二叉树', count: actualPostCount > 6 ? 6 : Math.ceil(actualPostCount * 0.28) },\n          { name: '图论', count: actualPostCount > 5 ? 5 : Math.ceil(actualPostCount * 0.23) },\n          { name: '数组', count: actualPostCount > 4 ? 4 : Math.ceil(actualPostCount * 0.19) },\n          { name: '递归', count: actualPostCount > 4 ? 4 : Math.ceil(actualPostCount * 0.19) },\n          { name: '动态规划', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '哈希表', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '排序', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '链表', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '贪心算法', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) }\n        ];\n      }\n      \n      // 确保标签计数不超过实际文章数\n      actualTags.forEach(tag => {\n        if (tag.count > actualPostCount) {\n          tag.count = actualPostCount;\n        }\n      });\n      \n      // 计算总字数 - 可能从其它元素中获取\n      const wordCountElement = document.querySelector('.word-count, .site-wordcount, .site-count-wordcount');\n      let totalWords = 31500; // 默认值\n      if (wordCountElement) {\n        const wordCountText = wordCountElement.textContent;\n        const match = wordCountText.match(/(\\d+)/);\n        if (match) {\n          totalWords = parseInt(match[1]);\n        }\n      }\n      \n      // 提供默认数据，确保图表总是能显示\n      const stats = {\n        totalPosts: actualPostCount,\n        totalWords: totalWords,\n        totalCategories: 6,\n        totalTags: actualTags.length || 44,\n        categories: [\n          { name: '学习', count: actualPostCount },\n          { name: '数据结构与算法', count: Math.ceil(actualPostCount * 0.95) },\n          { name: '代码随想录', count: Math.ceil(actualPostCount * 0.62) },\n          { name: '基础知识', count: Math.ceil(actualPostCount * 0.33) },\n          { name: '离散数学', count: Math.ceil(actualPostCount * 0.05) }\n        ],\n        tags: actualTags,\n        postCalendar: {\n          '2025-01-10': Math.min(2, actualPostCount * 0.1),\n          '2025-01-15': Math.min(3, actualPostCount * 0.15),\n          '2025-01-25': Math.min(2, actualPostCount * 0.1),\n          '2025-02-05': Math.min(3, actualPostCount * 0.15),\n          '2025-02-15': Math.min(3, actualPostCount * 0.15),\n          '2025-02-25': Math.min(3, actualPostCount * 0.15),\n          '2025-03-05': Math.min(3, actualPostCount * 0.15),\n          '2025-03-15': Math.min(2, actualPostCount * 0.1)\n        },\n        wordCount: {\n          '少于1000字': Math.ceil(actualPostCount * 0.19),\n          '1000-2000字': Math.ceil(actualPostCount * 0.33),\n          '2000-3000字': Math.ceil(actualPostCount * 0.24),\n          '3000-4000字': Math.ceil(actualPostCount * 0.14),\n          '4000-5000字': Math.ceil(actualPostCount * 0.05),\n          '5000字以上': Math.ceil(actualPostCount * 0.05)\n        }\n      };\n      \n      console.log('使用博客统计数据:', stats);\n      return stats;\n    } catch (error) {\n      console.error('获取博客统计出错:', error);\n      // 提供默认数据作为备用\n      return {\n        totalPosts: 21,\n        totalWords: 31500,\n        totalCategories: 6,\n        totalTags: 44,\n        categories: [\n          { name: '学习', count: 21 },\n          { name: '数据结构与算法', count: 20 },\n          { name: '代码随想录', count: 13 },\n          { name: '基础知识', count: 7 },\n          { name: '离散数学', count: 1 }\n        ],\n        tags: [\n          { name: '数据结构与算法', count: 8 },\n          { name: '二叉树', count: 6 },\n          { name: '图论', count: 5 },\n          { name: '数组', count: 4 },\n          { name: '递归', count: 4 },\n          { name: '动态规划', count: 3 },\n          { name: '哈希表', count: 3 },\n          { name: '排序', count: 3 },\n          { name: '链表', count: 3 },\n          { name: '贪心算法', count: 3 }\n        ],\n        postCalendar: {\n          '2025-01-10': 2,\n          '2025-01-15': 3,\n          '2025-01-25': 2,\n          '2025-02-05': 3,\n          '2025-02-15': 3,\n          '2025-02-25': 3,\n          '2025-03-05': 3,\n          '2025-03-15': 2\n        },\n        wordCount: {\n          '少于1000字': 4,\n          '1000-2000字': 7,\n          '2000-3000字': 5,\n          '3000-4000字': 3,\n          '4000-5000字': 1,\n          '5000字以上': 1\n        }\n      };\n    }\n  }\n  \n  // 清除所有图表容器，保留DOM结构\n  function clearCharts() {\n    console.log('清除图表容器');\n    \n    // 销毁现有图表实例\n    for (const key in chartInstances) {\n      if (chartInstances[key]) {\n        chartInstances[key].dispose();\n        delete chartInstances[key];\n      }\n    }\n    \n    document.getElementById('article-statistics-container').innerHTML = '';\n    \n    const chartContainers = ['category-chart', 'tag-chart', 'post-calendar', 'word-count-chart'];\n    chartContainers.forEach(id => {\n      const container = document.getElementById(id);\n      if (container) {\n        // 保留容器但清空内容\n        while (container.firstChild) {\n          container.removeChild(container.firstChild);\n        }\n      }\n    });\n  }\n  \n  // 初始化文章基本统计\n  function initArticleStatistics() {\n    try {\n      const stats = getBlogStats();\n      const container = document.getElementById('article-statistics-container');\n      if (!container) {\n        console.error('未找到文章统计容器');\n        return;\n      }\n      \n      const html = `\n        <div class=\"card-wrap\">\n          <div class=\"card-header\">\n            <span><i class=\"fas fa-chart-line\"></i> 博客数据概览</span>\n          </div>\n          <div class=\"card-content\">\n            <div class=\"statistics-overview\">\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-file-alt\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalPosts}</div>\n                  <div class=\"stat-name\">文章数量</div>\n                </div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-folder\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalCategories}</div>\n                  <div class=\"stat-name\">分类数量</div>\n                </div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-tags\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalTags}</div>\n                  <div class=\"stat-name\">标签数量</div>\n                </div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-font\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalWords.toLocaleString()}</div>\n                  <div class=\"stat-name\">总字数</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `;\n      container.innerHTML = html;\n      console.log('文章基本统计初始化完成');\n    } catch (error) {\n      console.error('初始化文章统计出错:', error);\n    }\n  }\n  \n  // 初始化分类统计图表\n  function initCategoryChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('category-chart');\n      if (!chartContainer) {\n        console.error('未找到分类图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      // 创建图表实例\n      const categoryChart = echarts.init(chartContainer);\n      chartInstances.category = categoryChart;\n      \n      // 设置饼图选项\n      const themeColors = getThemeColors();\n      const option = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a} <br/>{b} : {c} ({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left',\n          textStyle: {\n            color: themeColors.textColor\n          }\n        },\n        series: [\n          {\n            name: '文章分类',\n            type: 'pie',\n            radius: '55%',\n            center: ['50%', '60%'],\n            data: stats.categories.map(category => ({\n              value: category.count,\n              name: category.name\n            })),\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            },\n            label: {\n              formatter: '{b}: {c} ({d}%)'\n            }\n          }\n        ]\n      };\n      \n      categoryChart.setOption(option);\n      \n      console.log('分类统计图表初始化完成');\n    } catch (error) {\n      console.error('初始化分类图表出错:', error);\n    }\n  }\n  \n  // 初始化标签统计图表\n  function initTagChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('tag-chart');\n      if (!chartContainer) {\n        console.error('未找到标签图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      const tagChart = echarts.init(chartContainer);\n      chartInstances.tag = tagChart;\n      \n      // 准备数据 - 只取前15个标签，避免图表过于拥挤\n      const tags = stats.tags.slice(0, 15);\n      \n      // 使用柱状图\n      const themeColors = getThemeColors();\n      const barOption = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '15%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: tags.map(tag => tag.name),\n          axisLabel: {\n            interval: 0,\n            rotate: 45,\n            color: themeColors.textColor\n          }\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            color: themeColors.textColor\n          }\n        },\n        series: [{\n          data: tags.map(tag => tag.count),\n          type: 'bar',\n          colorBy: 'data'\n        }]\n      };\n      \n      tagChart.setOption(barOption);\n      console.log('标签统计图表初始化完成');\n    } catch (error) {\n      console.error('初始化标签图表出错:', error);\n    }\n  }\n  \n  // 初始化文章发布日历图表\n  function initPostCalendarChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('post-calendar');\n      if (!chartContainer) {\n        console.error('未找到文章发布日历图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      const calendarChart = echarts.init(chartContainer);\n      chartInstances.calendar = calendarChart;\n      \n      // 计算日历范围\n      const dates = Object.keys(stats.postCalendar).sort();\n      if (dates.length === 0) {\n        console.warn('没有找到文章日期数据');\n        return;\n      }\n      \n      const startDate = dates[0];\n      const endDate = dates[dates.length - 1];\n      const startYear = startDate.split('-')[0];\n      const endYear = endDate.split('-')[0];\n      \n      // 准备数据\n      const calendarData = [];\n      for (const [date, count] of Object.entries(stats.postCalendar)) {\n        calendarData.push([date, count]);\n      }\n      \n      // 创建日历配置\n      const calendarConfig = [];\n      for (let year = parseInt(startYear); year <= parseInt(endYear); year++) {\n        calendarConfig.push({\n          top: 80 + (parseInt(year) - parseInt(startYear)) * 170,\n          range: year.toString(),\n          cellSize: ['auto', 20],\n          itemStyle: {\n            borderWidth: 0.5,\n            borderColor: getThemeColors().borderColor\n          },\n          yearLabel: { show: true }\n        });\n      }\n      \n      // 设置图表选项\n      const option = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'item',\n          formatter: function(params) {\n            return `${params.value[0]}: ${params.value[1]} 篇文章`;\n          }\n        },\n        visualMap: {\n          min: 0,\n          max: 4,\n          calculable: true,\n          orient: 'horizontal',\n          left: 'center',\n          top: 20,\n          inRange: {\n            color: ['#ebedf0', '#c6e48b', '#7bc96f', '#239a3b', '#196127']\n          },\n          textStyle: {\n            color: getThemeColors().textColor\n          }\n        },\n        calendar: calendarConfig,\n        series: [{\n          type: 'scatter',\n          coordinateSystem: 'calendar',\n          calendarIndex: 0,\n          data: calendarData,\n          symbolSize: 8,\n          itemStyle: {\n            color: function(params) {\n              const count = params.value[1];\n              if (count === 0) return '#ebedf0';\n              if (count === 1) return '#c6e48b';\n              if (count === 2) return '#7bc96f';\n              if (count === 3) return '#239a3b';\n              return '#196127';\n            }\n          }\n        }]\n      };\n      \n      // 设置图表\n      calendarChart.setOption(option);\n      console.log('文章发布日历图表初始化完成');\n    } catch (error) {\n      console.error('初始化文章发布日历图表出错:', error);\n    }\n  }\n  \n  // 初始化文章字数统计图表\n  function initWordCountChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('word-count-chart');\n      if (!chartContainer) {\n        console.error('未找到文章字数统计图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      const wordCountChart = echarts.init(chartContainer);\n      chartInstances.wordCount = wordCountChart;\n      \n      // 准备数据\n      const wordCountCategories = Object.keys(stats.wordCount);\n      const wordCountData = Object.values(stats.wordCount);\n      \n      // 获取主题颜色\n      const themeColors = getThemeColors();\n      \n      // 设置图表选项\n      const option = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          },\n          formatter: '{b}: {c} 篇文章'\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '10%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: wordCountCategories,\n          axisLabel: {\n            interval: 0,\n            rotate: 30,\n            color: themeColors.textColor\n          }\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            color: themeColors.textColor\n          }\n        },\n        series: [{\n          data: wordCountData,\n          type: 'bar',\n          name: '文章数量',\n          showBackground: true,\n          backgroundStyle: {\n            color: 'rgba(180, 180, 180, 0.2)'\n          },\n          itemStyle: {\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n              { offset: 0, color: themeColors.primary },\n              { offset: 1, color: themeColors.secondary }\n            ])\n          }\n        }]\n      };\n      \n      // 设置图表\n      wordCountChart.setOption(option);\n      console.log('文章字数统计图表初始化完成');\n    } catch (error) {\n      console.error('初始化文章字数统计图表出错:', error);\n    }\n  }\n  \n  // 添加或更新刷新按钮\n  function addRefreshButton() {\n    const container = document.getElementById('container');\n    if (!container) {\n      console.error('未找到容器元素');\n      return;\n    }\n    \n    // 移除现有的刷新按钮\n    const existingButton = document.querySelector('.refresh-button');\n    if (existingButton) {\n      existingButton.remove();\n    }\n    \n    // 创建新的刷新按钮\n    const refreshButton = document.createElement('div');\n    refreshButton.className = 'refresh-button';\n    refreshButton.innerHTML = '<button class=\"btn\"><i class=\"fas fa-sync-alt\"></i> 刷新统计数据</button>';\n    refreshButton.style.cssText = 'text-align: center; margin: 20px 0;';\n    refreshButton.querySelector('button').style.cssText = 'padding: 8px 15px; background-color: var(--btn-bg); color: var(--btn-color); border: none; border-radius: 4px; cursor: pointer; transition: all 0.3s;';\n    \n    refreshButton.addEventListener('click', function() {\n      console.log('刷新统计数据');\n      // 这里是关键改进：不要完全清除，而是更新现有图表\n      refreshCharts();\n    });\n    \n    container.appendChild(refreshButton);\n    console.log('刷新按钮已添加');\n  }\n  \n  // 刷新所有图表而不清除DOM\n  function refreshCharts() {\n    // 获取最新数据\n    const stats = getBlogStats();\n    \n    // 更新基本统计\n    initArticleStatistics();\n    \n    // 更新各个图表\n    if (chartInstances.category) {\n      const categoryData = stats.categories.map(category => ({\n        value: category.count,\n        name: category.name\n      }));\n      chartInstances.category.setOption({\n        series: [{\n          data: categoryData\n        }]\n      });\n    } else {\n      initCategoryChart();\n    }\n    \n    if (chartInstances.tag) {\n      const tags = stats.tags.slice(0, 15);\n      chartInstances.tag.setOption({\n        xAxis: {\n          data: tags.map(tag => tag.name)\n        },\n        series: [{\n          data: tags.map(tag => tag.count)\n        }]\n      });\n    } else {\n      initTagChart();\n    }\n    \n    if (chartInstances.calendar) {\n      const calendarData = [];\n      for (const [date, count] of Object.entries(stats.postCalendar)) {\n        calendarData.push([date, count]);\n      }\n      chartInstances.calendar.setOption({\n        series: [{\n          data: calendarData\n        }]\n      });\n    } else {\n      initPostCalendarChart();\n    }\n    \n    if (chartInstances.wordCount) {\n      const wordCountCategories = Object.keys(stats.wordCount);\n      const wordCountData = Object.values(stats.wordCount);\n      chartInstances.wordCount.setOption({\n        xAxis: {\n          data: wordCountCategories\n        },\n        series: [{\n          data: wordCountData\n        }]\n      });\n    } else {\n      initWordCountChart();\n    }\n    \n    // 响应窗口变化\n    window.dispatchEvent(new Event('resize'));\n    \n    console.log('所有图表刷新完成');\n  }\n  \n  // 响应窗口大小变化的处理\n  function handleResize() {\n    for (const key in chartInstances) {\n      if (chartInstances[key]) {\n        chartInstances[key].resize();\n      }\n    }\n  }\n  \n  // 初始化所有图表\n  function initAllCharts() {\n    console.log('开始初始化所有统计图表');\n    \n    // 首先清除所有现有图表\n    clearCharts();\n    \n    // 按顺序初始化各图表\n    initArticleStatistics();\n    initCategoryChart();\n    initTagChart();\n    initPostCalendarChart();\n    initWordCountChart();\n    \n    // 添加刷新按钮\n    addRefreshButton();\n    \n    // 添加窗口大小变化监听\n    window.removeEventListener('resize', handleResize);  // 避免重复添加\n    window.addEventListener('resize', handleResize);\n    \n    console.log('所有统计图表初始化完成');\n  }\n  \n  // 加载ECharts库然后初始化图表\n  function loadEChartsAndInit() {\n    if (typeof echarts === 'undefined') {\n      console.log('找不到echarts库，正在尝试加载...');\n      \n      // 尝试动态加载echarts\n      const script = document.createElement('script');\n      script.src = 'https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js';\n      script.onload = function() {\n        console.log('echarts库加载成功，初始化图表');\n        initAllCharts();\n      };\n      script.onerror = function() {\n        console.error('echarts库加载失败');\n        // 显示错误消息\n        const container = document.getElementById('article-statistics-container');\n        if (container) {\n          container.innerHTML = '<div class=\"error-message\">图表库加载失败，请刷新页面重试</div>';\n        }\n      };\n      document.head.appendChild(script);\n    } else {\n      console.log('echarts库已加载，正在初始化图表');\n      initAllCharts();\n    }\n  }\n  \n  // 等待页面完全加载后初始化\n  // 延迟一小段时间确保DOM已完全准备好\n  setTimeout(loadEChartsAndInit, 1000);\n});","date":"2025-03-09T05:20:19.964Z","updated":"2025-03-09T05:20:19.964Z","path":"js/statistics.js","layout":"false","title":"","comments":1,"_id":"cmacbamhr00001swmhfmk791e","content":"document.addEventListener('DOMContentLoaded', function() {\n  console.log('统计脚本已加载');\n  \n  // 存储图表实例以便于更新\n  const chartInstances = {};\n  \n  // 避免重复初始化\n  if (window.statisticsInitialized) {\n    console.log('统计已初始化，跳过');\n    return;\n  }\n  window.statisticsInitialized = true;\n  \n  // 获取主题颜色\n  function getThemeColors() {\n    const isLight = document.documentElement.getAttribute('data-theme') === 'light';\n    return {\n      primary: getComputedStyle(document.documentElement).getPropertyValue('--theme-color').trim() || '#49b1f5',\n      secondary: '#FF9800',\n      info: '#909399',\n      textColor: isLight ? '#4c4948' : '#eee',\n      borderColor: isLight ? '#eee' : '#374151',\n      backgroundColor: isLight ? '#fff' : '#1d1e22'\n    };\n  }\n  \n  // 图表通用配置\n  function getChartConfig() {\n    const themeColors = getThemeColors();\n    return {\n      backgroundColor: 'transparent',\n      textStyle: {\n        color: themeColors.textColor\n      },\n      title: {\n        textStyle: {\n          color: themeColors.textColor\n        }\n      },\n      legend: {\n        textStyle: {\n          color: themeColors.textColor\n        }\n      },\n      tooltip: {\n        backgroundColor: themeColors.backgroundColor,\n        borderColor: themeColors.borderColor,\n        textStyle: {\n          color: themeColors.textColor\n        }\n      }\n    };\n  }\n  \n  // 从DOM中获取博客数据 - 可以扩展为API调用\n  function getBlogStats() {\n    try {\n      // 尝试从DOM获取实际数据\n      const actualPostCount = document.querySelectorAll('article.post').length || \n                             document.querySelectorAll('.article-item').length || \n                             document.querySelectorAll('.post-item').length || 21;\n      \n      // 获取标签信息 - 尝试从DOM中查找标签元素\n      let actualTags = [];\n      const tagElements = document.querySelectorAll('.tag-cloud-tags a, .tag a, .article-tag a');\n      if (tagElements.length > 0) {\n        // 创建标签计数映射\n        const tagCountMap = new Map();\n        tagElements.forEach(tag => {\n          const tagName = tag.textContent.trim();\n          const count = tagCountMap.get(tagName) || 0;\n          tagCountMap.set(tagName, count + 1);\n        });\n        \n        // 将映射转换为数组\n        actualTags = Array.from(tagCountMap.entries()).map(([name, count]) => ({ name, count }));\n        // 按计数排序\n        actualTags.sort((a, b) => b.count - a.count);\n      }\n      \n      // 确保有至少一些标签数据\n      if (actualTags.length === 0) {\n        // 保留原来的示例数据作为备用\n        actualTags = [\n          { name: '数据结构与算法', count: actualPostCount > 8 ? 8 : actualPostCount },\n          { name: '二叉树', count: actualPostCount > 6 ? 6 : Math.ceil(actualPostCount * 0.28) },\n          { name: '图论', count: actualPostCount > 5 ? 5 : Math.ceil(actualPostCount * 0.23) },\n          { name: '数组', count: actualPostCount > 4 ? 4 : Math.ceil(actualPostCount * 0.19) },\n          { name: '递归', count: actualPostCount > 4 ? 4 : Math.ceil(actualPostCount * 0.19) },\n          { name: '动态规划', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '哈希表', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '排序', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '链表', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) },\n          { name: '贪心算法', count: actualPostCount > 3 ? 3 : Math.ceil(actualPostCount * 0.14) }\n        ];\n      }\n      \n      // 确保标签计数不超过实际文章数\n      actualTags.forEach(tag => {\n        if (tag.count > actualPostCount) {\n          tag.count = actualPostCount;\n        }\n      });\n      \n      // 计算总字数 - 可能从其它元素中获取\n      const wordCountElement = document.querySelector('.word-count, .site-wordcount, .site-count-wordcount');\n      let totalWords = 31500; // 默认值\n      if (wordCountElement) {\n        const wordCountText = wordCountElement.textContent;\n        const match = wordCountText.match(/(\\d+)/);\n        if (match) {\n          totalWords = parseInt(match[1]);\n        }\n      }\n      \n      // 提供默认数据，确保图表总是能显示\n      const stats = {\n        totalPosts: actualPostCount,\n        totalWords: totalWords,\n        totalCategories: 6,\n        totalTags: actualTags.length || 44,\n        categories: [\n          { name: '学习', count: actualPostCount },\n          { name: '数据结构与算法', count: Math.ceil(actualPostCount * 0.95) },\n          { name: '代码随想录', count: Math.ceil(actualPostCount * 0.62) },\n          { name: '基础知识', count: Math.ceil(actualPostCount * 0.33) },\n          { name: '离散数学', count: Math.ceil(actualPostCount * 0.05) }\n        ],\n        tags: actualTags,\n        postCalendar: {\n          '2025-01-10': Math.min(2, actualPostCount * 0.1),\n          '2025-01-15': Math.min(3, actualPostCount * 0.15),\n          '2025-01-25': Math.min(2, actualPostCount * 0.1),\n          '2025-02-05': Math.min(3, actualPostCount * 0.15),\n          '2025-02-15': Math.min(3, actualPostCount * 0.15),\n          '2025-02-25': Math.min(3, actualPostCount * 0.15),\n          '2025-03-05': Math.min(3, actualPostCount * 0.15),\n          '2025-03-15': Math.min(2, actualPostCount * 0.1)\n        },\n        wordCount: {\n          '少于1000字': Math.ceil(actualPostCount * 0.19),\n          '1000-2000字': Math.ceil(actualPostCount * 0.33),\n          '2000-3000字': Math.ceil(actualPostCount * 0.24),\n          '3000-4000字': Math.ceil(actualPostCount * 0.14),\n          '4000-5000字': Math.ceil(actualPostCount * 0.05),\n          '5000字以上': Math.ceil(actualPostCount * 0.05)\n        }\n      };\n      \n      console.log('使用博客统计数据:', stats);\n      return stats;\n    } catch (error) {\n      console.error('获取博客统计出错:', error);\n      // 提供默认数据作为备用\n      return {\n        totalPosts: 21,\n        totalWords: 31500,\n        totalCategories: 6,\n        totalTags: 44,\n        categories: [\n          { name: '学习', count: 21 },\n          { name: '数据结构与算法', count: 20 },\n          { name: '代码随想录', count: 13 },\n          { name: '基础知识', count: 7 },\n          { name: '离散数学', count: 1 }\n        ],\n        tags: [\n          { name: '数据结构与算法', count: 8 },\n          { name: '二叉树', count: 6 },\n          { name: '图论', count: 5 },\n          { name: '数组', count: 4 },\n          { name: '递归', count: 4 },\n          { name: '动态规划', count: 3 },\n          { name: '哈希表', count: 3 },\n          { name: '排序', count: 3 },\n          { name: '链表', count: 3 },\n          { name: '贪心算法', count: 3 }\n        ],\n        postCalendar: {\n          '2025-01-10': 2,\n          '2025-01-15': 3,\n          '2025-01-25': 2,\n          '2025-02-05': 3,\n          '2025-02-15': 3,\n          '2025-02-25': 3,\n          '2025-03-05': 3,\n          '2025-03-15': 2\n        },\n        wordCount: {\n          '少于1000字': 4,\n          '1000-2000字': 7,\n          '2000-3000字': 5,\n          '3000-4000字': 3,\n          '4000-5000字': 1,\n          '5000字以上': 1\n        }\n      };\n    }\n  }\n  \n  // 清除所有图表容器，保留DOM结构\n  function clearCharts() {\n    console.log('清除图表容器');\n    \n    // 销毁现有图表实例\n    for (const key in chartInstances) {\n      if (chartInstances[key]) {\n        chartInstances[key].dispose();\n        delete chartInstances[key];\n      }\n    }\n    \n    document.getElementById('article-statistics-container').innerHTML = '';\n    \n    const chartContainers = ['category-chart', 'tag-chart', 'post-calendar', 'word-count-chart'];\n    chartContainers.forEach(id => {\n      const container = document.getElementById(id);\n      if (container) {\n        // 保留容器但清空内容\n        while (container.firstChild) {\n          container.removeChild(container.firstChild);\n        }\n      }\n    });\n  }\n  \n  // 初始化文章基本统计\n  function initArticleStatistics() {\n    try {\n      const stats = getBlogStats();\n      const container = document.getElementById('article-statistics-container');\n      if (!container) {\n        console.error('未找到文章统计容器');\n        return;\n      }\n      \n      const html = `\n        <div class=\"card-wrap\">\n          <div class=\"card-header\">\n            <span><i class=\"fas fa-chart-line\"></i> 博客数据概览</span>\n          </div>\n          <div class=\"card-content\">\n            <div class=\"statistics-overview\">\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-file-alt\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalPosts}</div>\n                  <div class=\"stat-name\">文章数量</div>\n                </div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-folder\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalCategories}</div>\n                  <div class=\"stat-name\">分类数量</div>\n                </div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-tags\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalTags}</div>\n                  <div class=\"stat-name\">标签数量</div>\n                </div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-icon\"><i class=\"fas fa-font\"></i></div>\n                <div class=\"stat-info\">\n                  <div class=\"stat-number\">${stats.totalWords.toLocaleString()}</div>\n                  <div class=\"stat-name\">总字数</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `;\n      container.innerHTML = html;\n      console.log('文章基本统计初始化完成');\n    } catch (error) {\n      console.error('初始化文章统计出错:', error);\n    }\n  }\n  \n  // 初始化分类统计图表\n  function initCategoryChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('category-chart');\n      if (!chartContainer) {\n        console.error('未找到分类图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      // 创建图表实例\n      const categoryChart = echarts.init(chartContainer);\n      chartInstances.category = categoryChart;\n      \n      // 设置饼图选项\n      const themeColors = getThemeColors();\n      const option = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a} <br/>{b} : {c} ({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left',\n          textStyle: {\n            color: themeColors.textColor\n          }\n        },\n        series: [\n          {\n            name: '文章分类',\n            type: 'pie',\n            radius: '55%',\n            center: ['50%', '60%'],\n            data: stats.categories.map(category => ({\n              value: category.count,\n              name: category.name\n            })),\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            },\n            label: {\n              formatter: '{b}: {c} ({d}%)'\n            }\n          }\n        ]\n      };\n      \n      categoryChart.setOption(option);\n      \n      console.log('分类统计图表初始化完成');\n    } catch (error) {\n      console.error('初始化分类图表出错:', error);\n    }\n  }\n  \n  // 初始化标签统计图表\n  function initTagChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('tag-chart');\n      if (!chartContainer) {\n        console.error('未找到标签图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      const tagChart = echarts.init(chartContainer);\n      chartInstances.tag = tagChart;\n      \n      // 准备数据 - 只取前15个标签，避免图表过于拥挤\n      const tags = stats.tags.slice(0, 15);\n      \n      // 使用柱状图\n      const themeColors = getThemeColors();\n      const barOption = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '15%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: tags.map(tag => tag.name),\n          axisLabel: {\n            interval: 0,\n            rotate: 45,\n            color: themeColors.textColor\n          }\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            color: themeColors.textColor\n          }\n        },\n        series: [{\n          data: tags.map(tag => tag.count),\n          type: 'bar',\n          colorBy: 'data'\n        }]\n      };\n      \n      tagChart.setOption(barOption);\n      console.log('标签统计图表初始化完成');\n    } catch (error) {\n      console.error('初始化标签图表出错:', error);\n    }\n  }\n  \n  // 初始化文章发布日历图表\n  function initPostCalendarChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('post-calendar');\n      if (!chartContainer) {\n        console.error('未找到文章发布日历图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      const calendarChart = echarts.init(chartContainer);\n      chartInstances.calendar = calendarChart;\n      \n      // 计算日历范围\n      const dates = Object.keys(stats.postCalendar).sort();\n      if (dates.length === 0) {\n        console.warn('没有找到文章日期数据');\n        return;\n      }\n      \n      const startDate = dates[0];\n      const endDate = dates[dates.length - 1];\n      const startYear = startDate.split('-')[0];\n      const endYear = endDate.split('-')[0];\n      \n      // 准备数据\n      const calendarData = [];\n      for (const [date, count] of Object.entries(stats.postCalendar)) {\n        calendarData.push([date, count]);\n      }\n      \n      // 创建日历配置\n      const calendarConfig = [];\n      for (let year = parseInt(startYear); year <= parseInt(endYear); year++) {\n        calendarConfig.push({\n          top: 80 + (parseInt(year) - parseInt(startYear)) * 170,\n          range: year.toString(),\n          cellSize: ['auto', 20],\n          itemStyle: {\n            borderWidth: 0.5,\n            borderColor: getThemeColors().borderColor\n          },\n          yearLabel: { show: true }\n        });\n      }\n      \n      // 设置图表选项\n      const option = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'item',\n          formatter: function(params) {\n            return `${params.value[0]}: ${params.value[1]} 篇文章`;\n          }\n        },\n        visualMap: {\n          min: 0,\n          max: 4,\n          calculable: true,\n          orient: 'horizontal',\n          left: 'center',\n          top: 20,\n          inRange: {\n            color: ['#ebedf0', '#c6e48b', '#7bc96f', '#239a3b', '#196127']\n          },\n          textStyle: {\n            color: getThemeColors().textColor\n          }\n        },\n        calendar: calendarConfig,\n        series: [{\n          type: 'scatter',\n          coordinateSystem: 'calendar',\n          calendarIndex: 0,\n          data: calendarData,\n          symbolSize: 8,\n          itemStyle: {\n            color: function(params) {\n              const count = params.value[1];\n              if (count === 0) return '#ebedf0';\n              if (count === 1) return '#c6e48b';\n              if (count === 2) return '#7bc96f';\n              if (count === 3) return '#239a3b';\n              return '#196127';\n            }\n          }\n        }]\n      };\n      \n      // 设置图表\n      calendarChart.setOption(option);\n      console.log('文章发布日历图表初始化完成');\n    } catch (error) {\n      console.error('初始化文章发布日历图表出错:', error);\n    }\n  }\n  \n  // 初始化文章字数统计图表\n  function initWordCountChart() {\n    try {\n      const stats = getBlogStats();\n      const chartContainer = document.getElementById('word-count-chart');\n      if (!chartContainer) {\n        console.error('未找到文章字数统计图表容器');\n        return;\n      }\n      \n      // 确保容器可见\n      chartContainer.style.width = '100%';\n      chartContainer.style.height = '300px';\n      \n      // 确保Echarts已加载\n      if (typeof echarts === 'undefined') {\n        console.error('Echarts库未加载');\n        return;\n      }\n      \n      const wordCountChart = echarts.init(chartContainer);\n      chartInstances.wordCount = wordCountChart;\n      \n      // 准备数据\n      const wordCountCategories = Object.keys(stats.wordCount);\n      const wordCountData = Object.values(stats.wordCount);\n      \n      // 获取主题颜色\n      const themeColors = getThemeColors();\n      \n      // 设置图表选项\n      const option = {\n        ...getChartConfig(),\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          },\n          formatter: '{b}: {c} 篇文章'\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '10%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: wordCountCategories,\n          axisLabel: {\n            interval: 0,\n            rotate: 30,\n            color: themeColors.textColor\n          }\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            color: themeColors.textColor\n          }\n        },\n        series: [{\n          data: wordCountData,\n          type: 'bar',\n          name: '文章数量',\n          showBackground: true,\n          backgroundStyle: {\n            color: 'rgba(180, 180, 180, 0.2)'\n          },\n          itemStyle: {\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n              { offset: 0, color: themeColors.primary },\n              { offset: 1, color: themeColors.secondary }\n            ])\n          }\n        }]\n      };\n      \n      // 设置图表\n      wordCountChart.setOption(option);\n      console.log('文章字数统计图表初始化完成');\n    } catch (error) {\n      console.error('初始化文章字数统计图表出错:', error);\n    }\n  }\n  \n  // 添加或更新刷新按钮\n  function addRefreshButton() {\n    const container = document.getElementById('container');\n    if (!container) {\n      console.error('未找到容器元素');\n      return;\n    }\n    \n    // 移除现有的刷新按钮\n    const existingButton = document.querySelector('.refresh-button');\n    if (existingButton) {\n      existingButton.remove();\n    }\n    \n    // 创建新的刷新按钮\n    const refreshButton = document.createElement('div');\n    refreshButton.className = 'refresh-button';\n    refreshButton.innerHTML = '<button class=\"btn\"><i class=\"fas fa-sync-alt\"></i> 刷新统计数据</button>';\n    refreshButton.style.cssText = 'text-align: center; margin: 20px 0;';\n    refreshButton.querySelector('button').style.cssText = 'padding: 8px 15px; background-color: var(--btn-bg); color: var(--btn-color); border: none; border-radius: 4px; cursor: pointer; transition: all 0.3s;';\n    \n    refreshButton.addEventListener('click', function() {\n      console.log('刷新统计数据');\n      // 这里是关键改进：不要完全清除，而是更新现有图表\n      refreshCharts();\n    });\n    \n    container.appendChild(refreshButton);\n    console.log('刷新按钮已添加');\n  }\n  \n  // 刷新所有图表而不清除DOM\n  function refreshCharts() {\n    // 获取最新数据\n    const stats = getBlogStats();\n    \n    // 更新基本统计\n    initArticleStatistics();\n    \n    // 更新各个图表\n    if (chartInstances.category) {\n      const categoryData = stats.categories.map(category => ({\n        value: category.count,\n        name: category.name\n      }));\n      chartInstances.category.setOption({\n        series: [{\n          data: categoryData\n        }]\n      });\n    } else {\n      initCategoryChart();\n    }\n    \n    if (chartInstances.tag) {\n      const tags = stats.tags.slice(0, 15);\n      chartInstances.tag.setOption({\n        xAxis: {\n          data: tags.map(tag => tag.name)\n        },\n        series: [{\n          data: tags.map(tag => tag.count)\n        }]\n      });\n    } else {\n      initTagChart();\n    }\n    \n    if (chartInstances.calendar) {\n      const calendarData = [];\n      for (const [date, count] of Object.entries(stats.postCalendar)) {\n        calendarData.push([date, count]);\n      }\n      chartInstances.calendar.setOption({\n        series: [{\n          data: calendarData\n        }]\n      });\n    } else {\n      initPostCalendarChart();\n    }\n    \n    if (chartInstances.wordCount) {\n      const wordCountCategories = Object.keys(stats.wordCount);\n      const wordCountData = Object.values(stats.wordCount);\n      chartInstances.wordCount.setOption({\n        xAxis: {\n          data: wordCountCategories\n        },\n        series: [{\n          data: wordCountData\n        }]\n      });\n    } else {\n      initWordCountChart();\n    }\n    \n    // 响应窗口变化\n    window.dispatchEvent(new Event('resize'));\n    \n    console.log('所有图表刷新完成');\n  }\n  \n  // 响应窗口大小变化的处理\n  function handleResize() {\n    for (const key in chartInstances) {\n      if (chartInstances[key]) {\n        chartInstances[key].resize();\n      }\n    }\n  }\n  \n  // 初始化所有图表\n  function initAllCharts() {\n    console.log('开始初始化所有统计图表');\n    \n    // 首先清除所有现有图表\n    clearCharts();\n    \n    // 按顺序初始化各图表\n    initArticleStatistics();\n    initCategoryChart();\n    initTagChart();\n    initPostCalendarChart();\n    initWordCountChart();\n    \n    // 添加刷新按钮\n    addRefreshButton();\n    \n    // 添加窗口大小变化监听\n    window.removeEventListener('resize', handleResize);  // 避免重复添加\n    window.addEventListener('resize', handleResize);\n    \n    console.log('所有统计图表初始化完成');\n  }\n  \n  // 加载ECharts库然后初始化图表\n  function loadEChartsAndInit() {\n    if (typeof echarts === 'undefined') {\n      console.log('找不到echarts库，正在尝试加载...');\n      \n      // 尝试动态加载echarts\n      const script = document.createElement('script');\n      script.src = 'https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js';\n      script.onload = function() {\n        console.log('echarts库加载成功，初始化图表');\n        initAllCharts();\n      };\n      script.onerror = function() {\n        console.error('echarts库加载失败');\n        // 显示错误消息\n        const container = document.getElementById('article-statistics-container');\n        if (container) {\n          container.innerHTML = '<div class=\"error-message\">图表库加载失败，请刷新页面重试</div>';\n        }\n      };\n      document.head.appendChild(script);\n    } else {\n      console.log('echarts库已加载，正在初始化图表');\n      initAllCharts();\n    }\n  }\n  \n  // 等待页面完全加载后初始化\n  // 延迟一小段时间确保DOM已完全准备好\n  setTimeout(loadEChartsAndInit, 1000);\n});"},{"title":"messageboard","date":"2025-01-29T06:32:32.000Z","_content":"","source":"messageboard/index.md","raw":"---\ntitle: messageboard\ndate: 2025-01-29 14:32:32\n---\n","updated":"2025-01-29T06:32:32.547Z","path":"messageboard/index.html","comments":1,"layout":"page","_id":"cmacbamhx00021swmgi6qhjt3","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>","excerpt":"","more":""},{"title":"关于","date":"2025-01-23T12:20:04.000Z","aside":false,"top_img":false,"background":"#f8f9fe","comments":0,"type":"about","_content":"\n","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2025-01-23 20:20:04\naside: false\ntop_img: false\nbackground: \"#f8f9fe\"\ncomments: false\ntype: \"about\"\n---\n\n","updated":"2025-02-07T17:39:52.048Z","path":"about/index.html","layout":"page","_id":"cmacbami100061swmev3x0nma","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>","excerpt":"","more":""},{"title":"博客统计","date":"2025-01-25T04:00:00.000Z","type":"charts","comments":0,"top_img":"https://wpironman.oss-cn-qingdao.aliyuncs.com/statistics.jpg","_content":"\n<div class=\"container\" id=\"container\">\n  <div class=\"article-statistics-container\" id=\"article-statistics-container\"></div>\n  \n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-chart-pie\"></i> 文章分类统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"category-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-tags\"></i> 标签统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"tag-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-calendar-alt\"></i> 文章发布日历</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"post-calendar\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-file-alt\"></i> 文章字数统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"word-count-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<style>\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.row {\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: -15px;\n  margin-left: -15px;\n  margin-bottom: 20px;\n}\n\n.col-md-12 {\n  flex: 0 0 100%;\n  max-width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n}\n\n.card-wrap {\n  background-color: var(--card-bg);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);\n  border-radius: 8px;\n  overflow: hidden;\n  transition: all 0.3s;\n}\n\n.card-header {\n  padding: 15px;\n  border-bottom: 1px solid var(--border-color);\n  font-weight: bold;\n}\n\n.card-content {\n  padding: 15px;\n}\n\n.statistics-overview {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.stat-item {\n  flex: 1 0 calc(25% - 20px);\n  min-width: 120px;\n  display: flex;\n  align-items: center;\n  padding: 15px;\n  margin: 10px;\n  background-color: rgba(0, 0, 0, 0.02);\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.stat-icon {\n  font-size: 2.5em;\n  color: var(--theme-color);\n  margin-right: 15px;\n}\n\n.stat-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.stat-number {\n  font-size: 1.8em;\n  font-weight: bold;\n  line-height: 1.2;\n}\n\n.stat-name {\n  font-size: 0.9em;\n  color: var(--font-color);\n  opacity: 0.8;\n}\n\n@media screen and (max-width: 768px) {\n  .stat-item {\n    flex: 1 0 calc(50% - 20px);\n  }\n}\n\n@media screen and (max-width: 480px) {\n  .stat-item {\n    flex: 1 0 100%;\n  }\n}\n</style>\n\n<script src=\"https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js\"></script>\n<script src=\"/js/statistics.js\"></script> ","source":"charts/index.md","raw":"---\ntitle: 博客统计\ndate: 2025-01-25 12:00:00\ntype: charts\ncomments: false\ntop_img: https://wpironman.oss-cn-qingdao.aliyuncs.com/statistics.jpg\n---\n\n<div class=\"container\" id=\"container\">\n  <div class=\"article-statistics-container\" id=\"article-statistics-container\"></div>\n  \n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-chart-pie\"></i> 文章分类统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"category-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-tags\"></i> 标签统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"tag-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-calendar-alt\"></i> 文章发布日历</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"post-calendar\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-file-alt\"></i> 文章字数统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"word-count-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<style>\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.row {\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: -15px;\n  margin-left: -15px;\n  margin-bottom: 20px;\n}\n\n.col-md-12 {\n  flex: 0 0 100%;\n  max-width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n}\n\n.card-wrap {\n  background-color: var(--card-bg);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);\n  border-radius: 8px;\n  overflow: hidden;\n  transition: all 0.3s;\n}\n\n.card-header {\n  padding: 15px;\n  border-bottom: 1px solid var(--border-color);\n  font-weight: bold;\n}\n\n.card-content {\n  padding: 15px;\n}\n\n.statistics-overview {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.stat-item {\n  flex: 1 0 calc(25% - 20px);\n  min-width: 120px;\n  display: flex;\n  align-items: center;\n  padding: 15px;\n  margin: 10px;\n  background-color: rgba(0, 0, 0, 0.02);\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.stat-icon {\n  font-size: 2.5em;\n  color: var(--theme-color);\n  margin-right: 15px;\n}\n\n.stat-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.stat-number {\n  font-size: 1.8em;\n  font-weight: bold;\n  line-height: 1.2;\n}\n\n.stat-name {\n  font-size: 0.9em;\n  color: var(--font-color);\n  opacity: 0.8;\n}\n\n@media screen and (max-width: 768px) {\n  .stat-item {\n    flex: 1 0 calc(50% - 20px);\n  }\n}\n\n@media screen and (max-width: 480px) {\n  .stat-item {\n    flex: 1 0 100%;\n  }\n}\n</style>\n\n<script src=\"https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js\"></script>\n<script src=\"/js/statistics.js\"></script> ","updated":"2025-03-09T04:40:29.439Z","path":"charts/index.html","layout":"page","_id":"cmacbami200081swmaltg0zdj","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"container\" id=\"container\">\n  <div class=\"article-statistics-container\" id=\"article-statistics-container\"></div>\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-chart-pie\"></i> 文章分类统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"category-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-tags\"></i> 标签统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"tag-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-calendar-alt\"></i> 文章发布日历</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"post-calendar\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-file-alt\"></i> 文章字数统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"word-count-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<style>\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.row {\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: -15px;\n  margin-left: -15px;\n  margin-bottom: 20px;\n}\n\n.col-md-12 {\n  flex: 0 0 100%;\n  max-width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n}\n\n.card-wrap {\n  background-color: var(--card-bg);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);\n  border-radius: 8px;\n  overflow: hidden;\n  transition: all 0.3s;\n}\n\n.card-header {\n  padding: 15px;\n  border-bottom: 1px solid var(--border-color);\n  font-weight: bold;\n}\n\n.card-content {\n  padding: 15px;\n}\n\n.statistics-overview {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.stat-item {\n  flex: 1 0 calc(25% - 20px);\n  min-width: 120px;\n  display: flex;\n  align-items: center;\n  padding: 15px;\n  margin: 10px;\n  background-color: rgba(0, 0, 0, 0.02);\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.stat-icon {\n  font-size: 2.5em;\n  color: var(--theme-color);\n  margin-right: 15px;\n}\n\n.stat-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.stat-number {\n  font-size: 1.8em;\n  font-weight: bold;\n  line-height: 1.2;\n}\n\n.stat-name {\n  font-size: 0.9em;\n  color: var(--font-color);\n  opacity: 0.8;\n}\n\n@media screen and (max-width: 768px) {\n  .stat-item {\n    flex: 1 0 calc(50% - 20px);\n  }\n}\n\n@media screen and (max-width: 480px) {\n  .stat-item {\n    flex: 1 0 100%;\n  }\n}\n</style>\n<script src=\"https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js\"></script>\n<script src=\"/js/statistics.js\"></script> ","excerpt":"","more":"<div class=\"container\" id=\"container\">\n  <div class=\"article-statistics-container\" id=\"article-statistics-container\"></div>\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-chart-pie\"></i> 文章分类统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"category-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-tags\"></i> 标签统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"tag-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-calendar-alt\"></i> 文章发布日历</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"post-calendar\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"card-wrap\">\n        <div class=\"card-header\">\n          <span><i class=\"fas fa-file-alt\"></i> 文章字数统计</span>\n        </div>\n        <div class=\"card-content\">\n          <div id=\"word-count-chart\" style=\"width: 100%; height: 300px;\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<style>\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.row {\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: -15px;\n  margin-left: -15px;\n  margin-bottom: 20px;\n}\n\n.col-md-12 {\n  flex: 0 0 100%;\n  max-width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n}\n\n.card-wrap {\n  background-color: var(--card-bg);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);\n  border-radius: 8px;\n  overflow: hidden;\n  transition: all 0.3s;\n}\n\n.card-header {\n  padding: 15px;\n  border-bottom: 1px solid var(--border-color);\n  font-weight: bold;\n}\n\n.card-content {\n  padding: 15px;\n}\n\n.statistics-overview {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.stat-item {\n  flex: 1 0 calc(25% - 20px);\n  min-width: 120px;\n  display: flex;\n  align-items: center;\n  padding: 15px;\n  margin: 10px;\n  background-color: rgba(0, 0, 0, 0.02);\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.stat-icon {\n  font-size: 2.5em;\n  color: var(--theme-color);\n  margin-right: 15px;\n}\n\n.stat-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.stat-number {\n  font-size: 1.8em;\n  font-weight: bold;\n  line-height: 1.2;\n}\n\n.stat-name {\n  font-size: 0.9em;\n  color: var(--font-color);\n  opacity: 0.8;\n}\n\n@media screen and (max-width: 768px) {\n  .stat-item {\n    flex: 1 0 calc(50% - 20px);\n  }\n}\n\n@media screen and (max-width: 480px) {\n  .stat-item {\n    flex: 1 0 100%;\n  }\n}\n</style>\n<script src=\"https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js\"></script>\n<script src=\"/js/statistics.js\"></script> "},{"title":"标签","date":"2025-01-22T11:21:44.000Z","type":"tags","orderby":null,"_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2025-01-22 19:21:44\ntype: tags\norderby: \n---\n","updated":"2025-01-29T07:26:48.861Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cmacbami4000a1swm1uw264bm","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>","excerpt":"","more":""},{"title":"分类","type":"categories","date":"2025-01-22T11:22:25.000Z","_content":"\n","source":"categories/index.md","raw":"title: 分类\ntype: categories\ndate: 2025-01-22 19:22:25\n---\n\n","updated":"2025-02-07T17:39:59.948Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cmacbami5000e1swmeh0r6m3m","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>","excerpt":"","more":""},{"title":"友情链接","type":"link","data":"2025-01-31T11:16:45.000Z","_content":"","source":"link/index.md","raw":"---\ntitle: 友情链接\ntype: 'link'\ndata: 2025-1-31 19:16:45\n---\n","date":"2025-01-31T11:16:19.169Z","updated":"2025-01-31T11:16:19.169Z","path":"link/index.html","comments":1,"layout":"page","_id":"cmacbami6000f1swm312c6equ","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>","excerpt":"","more":""},{"_content":"","source":"css/critical.css","raw":"","date":"2025-01-28T07:41:45.021Z","updated":"2025-01-28T07:41:45.021Z","path":"css/critical.css","layout":"false","title":"","comments":1,"_id":"cmacbami7000i1swm9m1z1e5j","content":""}],"Post":[{"title":"代码随想录--二叉树","date":"2025-02-13T06:21:25.000Z","updated":"2025-03-08T09:27:43.185Z","description":"代码随想录--二叉树（2）层序遍历","_content":"\n## 二叉树层序遍历\n\n### 二叉树层序遍历的模板\n\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/102%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.gif\" style=\"zoom:67%;\" />\n\n第一种方法看了一遍代码+写 花了16分钟，挺简单的，递归法就先不看了。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> levelOrder(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        vector<vector<int>> res;\n        while(!q.empty()){\n            int size=q.size();\n            vector<int> re;\n            for(int i=0;i<size;i++)\n            {\n                TreeNode* node = q.front();\n                q.pop();\n                re.push_back(node->val);\n                if(node->left) q.push(node->left);\n                if(node->right) q.push(node->right);\n            }\n            res.push_back(re);\n        }\n        return res;\n    }\n};\n```\n\n```c++\n# 递归法\nclass Solution {\npublic:\n    void order(TreeNode* cur, vector<vector<int>>& result, int depth)\n    {\n        if (cur == nullptr) return;\n        if (result.size() == depth) result.push_back(vector<int>());\n        result[depth].push_back(cur->val);\n        order(cur->left, result, depth + 1);\n        order(cur->right, result, depth + 1);\n    }\n    vector<vector<int>> levelOrder(TreeNode* root) {\n        vector<vector<int>> result;\n        int depth = 0;\n        order(root, result, depth);\n        return result;\n    }\n};\n```\n\n### 二叉树的层序遍历 II\n\n题目链接：[107. 二叉树的层序遍历 II](https://leetcode.cn/problems/binary-tree-level-order-traversal-ii/)\n\n五分钟结束战斗，就是上一个代码翻一下。但是性能有点慢，又交了一次时间也是超100%了。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> levelOrderBottom(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        vector<vector<int>> res;\n        while(!q.empty()){\n            int size=q.size();\n            vector<int> re;\n            for(int i=0;i<size;i++){\n                TreeNode* node=q.front();\n                q.pop();\n                re.push_back(node->val);\n                if(node->left) q.push(node->left);\n                if(node->right) q.push(node->right);\n            }\n            res.push_back(re);\n        }\n        reverse(res.begin(),res.end());\n        return res;\n    }\n};\n```\n\n\n\n### 二叉树的右视图\n\n题目链接：[199. 二叉树的右视图](https://leetcode.cn/problems/binary-tree-right-side-view/)\n\n四分钟解决战斗，思考了不到一分钟。\n\n```c++\nclass Solution {\npublic:\n    vector<int> rightSideView(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        vector<int> res;\n        while(!q.empty()){\n            int size=q.size();\n            vector<int> re;\n            for(int i=0;i<size;i++)\n            {\n                TreeNode* node=q.front();\n                q.pop();\n                re.push_back(node->val); \n                //代码随想录 if (i == (size - 1)) result.push_back(node->val); \n                if(node->left) q.push(node->left);\n                if(node->right) q.push(node->right);\n            }\n            res.push_back(re[size-1]);\n        }\n        return res;\n    }\n};\n```\n\n\n\n### 二叉树的层平均值\n\n题目链接：[637. 二叉树的层平均值](https://leetcode.cn/problems/average-of-levels-in-binary-tree/)\n\n出了一点小插曲，花了五分钟，前边写的q后边写成p了，double第一次用的int忘了改。\n\n```c++\nclass Solution {\npublic:\n    vector<double> averageOfLevels(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        vector<double> res;\n        while(!q.empty()){\n            int s=q.size();\n            double sum=0;\n            for(int i=0;i<s;i++){\n                TreeNode* node=q.front();\n                q.pop();\n                sum+=node->val;\n                if(node->left) q.push(node->left);\n                if(node->right) q.push(node->right);\n            }\n            res.push_back(sum/s);\n        }\n        return res;\n    }\n};\n```\n\n### N 叉树的层序遍历\n\n题目链接：[429. N 叉树的层序遍历](https://leetcode.cn/problems/n-ary-tree-level-order-traversal/)\n\n乍一看以为是第一题，看了一下不太明白孩子是啥意思，就直接看的题解，其实也没多大区别。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> levelOrder(Node* root) {\n        queue<Node*> que;\n        if (root != NULL) que.push(root);\n        vector<vector<int>> result;\n        while (!que.empty()) {\n            int size = que.size();\n            vector<int> vec;\n            for (int i = 0; i < size; i++) {\n                Node* node = que.front();\n                que.pop();\n                vec.push_back(node->val);\n                for (int i = 0; i < node->children.size(); i++) { // 将节点孩子加入队列\n                    if (node->children[i]) que.push(node->children[i]);\n                }\n            }\n            result.push_back(vec);\n        }\n        return result;\n\n    }\n};\n```\n\n\n\n### 在每个树行中找最大值\n\n题目链接：[515. 在每个树行中找最大值](https://leetcode.cn/problems/find-largest-value-in-each-tree-row/)\n\n花了8分钟，因为INT_MIN不知道如何操作，本来用的int，然后改成long long一点一点试的。\n\n```c++\nclass Solution {\npublic:\n    vector<int> largestValues(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        vector<int> res;\n        while(!q.empty()){\n            int s=q.size();\n            long long m=-1e14;   //int maxValue = INT_MIN; // 取每一层的最大值\n            for(int i=0;i<s;i++)\n            {\n            TreeNode* node=q.front();\n            q.pop();\n            if(node->val>m) m=node->val;\n            if(node->left) q.push(node->left);\n            if(node->right) q.push(node->right);\n            }\n            res.push_back(m);\n        }\n        return res;\n    }\n};\n```\n\n### 填充每个节点的下一个右侧节点指针\n\n题目链接：[116. 填充每个节点的下一个右侧节点指针](https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/)\n\n这题没想明白怎么处理，我是应该新建一个什么类型的vector，用int,char,Node类型都不行，然后就直接看题解了。\n\n```c++\nclass Solution {\npublic:\n    Node* connect(Node* root) {\n        if (root == NULL) return NULL;\n        queue<Node*> q;\n        q.push(root);\n        while (!q.empty()) {\n            int size = q.size();\n            Node* prev = NULL;  // 用来保存当前层级的前一个节点\n            for (int i = 0; i < size; ++i) {\n                Node* current = q.front();\n                q.pop();\n                // 连接前一个节点的next指针指向当前节点\n                if (prev != NULL) prev->next = current;\n                // 更新prev为当前节点\n                prev = current;\n                // 将左子树和右子树加入队列\n                if (current->left) q.push(current->left);\n                if (current->right) q.push(current->right);\n            }\n            // 将当前层级最后一个节点的next指针设置为NULL\n            prev->next = NULL;\n        }\n        return root;\n    }\n};\n```\n\n利用next指针逐层处理（优化）\n\n```c++\nclass Solution {\npublic:\n    Node* connect(Node* root) {\n        if (!root) return nullptr;\n        Node* leftmost = root; // 当前层的最左节点\n        while (leftmost->left) { // 直到叶子层\n            Node* curr = leftmost;\n            while (curr) {\n                // 连接左子节点和右子节点\n                curr->left->next = curr->right;\n                // 连接右子节点和相邻节点的左子节点\n                if (curr->next) {\n                    curr->right->next = curr->next->left;\n                }\n                curr = curr->next; // 移动到同层下一节点\n            }\n            leftmost = leftmost->left; // 移到下一层最左\n        }\n        return root;\n    }\n};\n```\n\n### 填充每个节点的下一个右侧节点指针 II\n\n题目链接：[117. 填充每个节点的下一个右侧节点指针 II](https://leetcode.cn/problems/populating-next-right-pointers-in-each-node-ii/)\n\n```c++\nclass Solution {\npublic:\n    Node* connect(Node* root) {\n        if (root == NULL) return NULL;\n        queue<Node*> q;\n        q.push(root);\n        while (!q.empty()) {\n            int size = q.size();\n            Node* prev = NULL;  // 用来保存当前层级的前一个节点\n            for (int i = 0; i < size; ++i) {\n                Node* current = q.front();\n                q.pop();\n                // 连接前一个节点的next指针指向当前节点\n                if (prev != NULL) prev->next = current;\n                // 更新prev为当前节点\n                prev = current;\n                // 将左子树和右子树加入队列\n                if (current->left) q.push(current->left);\n                if (current->right) q.push(current->right);\n            }\n            // 将当前层级最后一个节点的next指针设置为NULL\n            prev->next = NULL;\n        }\n        return root;\n    }\n};\n```\n\n###  二叉树的最大深度\n\n题目链接：[104. 二叉树的最大深度](https://leetcode.cn/problems/maximum-depth-of-binary-tree/)\n\n虽然简单，但是用这个方法有种高射炮打蚊子的感觉，感觉应该有更简单的方法。\n\n```c++\nclass Solution {\npublic:\n    int maxDepth(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        int sum=0;\n        while(!q.empty()){\n            int s=q.size();\n            sum=sum+1;\n            for(int i=0;i<s;i++){\n                TreeNode* node=q.front();\n                q.pop();\n                if(node->right) q.push(node->right);\n                if(node->left) q.push(node->left);\n            }        \n        }\n        return sum;\n    }\n};\n```\n\n递归方法：后序遍历（DFS）\n\n```c++\nclass Solution {\npublic:\n    int maxDepth(TreeNode* root) {\n        if (root == nullptr) return 0;\n        return max(maxDepth(root->left), maxDepth(root->right)) + 1;\n    }\n};\n```\n\n###  二叉树的最小深度\n\n题目链接：[111. 二叉树的最小深度](https://leetcode.cn/problems/minimum-depth-of-binary-tree/)\n\n找第一个没有左右子树的节点的深度。\n\n```c++\nclass Solution {\npublic:\n    int minDepth(TreeNode* root) {\n        if (root == NULL) return 0;\n        int depth = 0;\n        queue<TreeNode*> que;\n        que.push(root);\n        while(!que.empty()) {\n            int size = que.size();\n            depth++; // 记录最小深度\n            for (int i = 0; i < size; i++) {\n                TreeNode* node = que.front();\n                que.pop();\n                if (node->left) que.push(node->left);\n                if (node->right) que.push(node->right);\n                if (!node->left && !node->right) { // 当左右孩子都为空的时候，说明是最低点的一层了，退出\n                    return depth;\n                }\n            }\n        }\n        return depth;\n    }\n};\n```\n\n递归\n\n    如果 node 是空节点，由于没有节点，返回 0。\n    如果 node 没有右儿子，那么深度就是左子树的深度加一，即 dfs(node)=dfs(node.left)+1。\n    如果 node 没有左儿子，那么深度就是右子树的深度加一，即 dfs(node)=dfs(node.right)+1。\n    如果 node 左右儿子都有，那么分别递归计算左子树的深度，以及右子树的深度，二者取最小值再加一，即 dfs(node)=min(dfs(node.left),dfs(node.right))+1\n\n```c++\nclass Solution {\npublic:\n    int minDepth(TreeNode *root) {\n        if (root == nullptr) return 0;\n        if (root->right == nullptr) return minDepth(root->left) + 1;\n        if (root->left == nullptr) return minDepth(root->right) + 1;\n        return min(minDepth(root->left), minDepth(root->right)) + 1;\n    }\n};\n```\n\n### 翻转二叉树\n\n题目链接：[226. 翻转二叉树](https://leetcode.cn/problems/invert-binary-tree/)\n\n迭代法：深度优先遍历\n\n```c++\nclass Solution {\npublic:\n    TreeNode* invertTree(TreeNode* root) {\n        if (root == nullptr) return nullptr;\n        queue<TreeNode*> q;\n        q.push(root);\n        while (!q.empty()) {\n            TreeNode* node = q.front();\n            q.pop();\n            // 使用临时变量交换左右子节点\n            TreeNode* temp = node->left;\n            node->left = node->right;\n            node->right = temp;\n            // 如果左右子节点不为空，则加入队列\n            if (node->left) q.push(node->left);\n            if (node->right) q.push(node->right);\n        }\n        return root;\n    }\n};\n```\n\n递归法：\n\n```c++\nclass Solution {\npublic:\n    TreeNode* invertTree(TreeNode* root) {\n        if (root == NULL) return root;\n        swap(root->left, root->right);  // 中\n        invertTree(root->left);         // 左\n        invertTree(root->right);        // 右\n        return root;\n    }\n};\n```\n\n### 对称二叉树\n\n题目链接：[101. 对称二叉树](https://leetcode.cn/problems/symmetric-tree/)\n\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/101.%E5%AF%B9%E7%A7%B0%E4%BA%8C%E5%8F%89%E6%A0%91.gif\" style=\"zoom:67%;\" />\n\n迭代队列法：\n\n```c++\nclass Solution {\npublic:\n    bool isSymmetric(TreeNode* root) {\n        if (root == NULL) return true;\n        queue<TreeNode*> que;\n        que.push(root->left);   // 将左子树头结点加入队列\n        que.push(root->right);  // 将右子树头结点加入队列\n        \n        while (!que.empty()) {  // 接下来就要判断这两个树是否相互翻转\n            TreeNode* leftNode = que.front(); que.pop();\n            TreeNode* rightNode = que.front(); que.pop();\n            if (!leftNode && !rightNode) {  // 左节点为空、右节点为空，此时说明是对称的\n                continue;\n            }\n\n            // 左右一个节点不为空，或者都不为空但数值不相同，返回false\n            if ((!leftNode || !rightNode || (leftNode->val != rightNode->val))) {\n                return false;\n            }\n            que.push(leftNode->left);   // 加入左节点左孩子\n            que.push(rightNode->right); // 加入右节点右孩子\n            que.push(leftNode->right);  // 加入左节点右孩子\n            que.push(rightNode->left);  // 加入右节点左孩子\n        }\n        return true;\n    }\n};\n```\n\n迭代栈法：\n\n```c++\nclass Solution {\npublic:\n    bool isSymmetric(TreeNode* root) {\n        if (root == NULL) return true;\n        stack<TreeNode*> st; // 这里改成了栈\n        st.push(root->left);\n        st.push(root->right);\n        while (!st.empty()) {\n            TreeNode* rightNode = st.top(); st.pop();\n            TreeNode* leftNode = st.top(); st.pop();\n            if (!leftNode && !rightNode) {\n                continue;\n            }\n            if ((!leftNode || !rightNode || (leftNode->val != rightNode->val))) {\n                return false;\n            }\n            st.push(leftNode->left);\n            st.push(rightNode->right);\n            st.push(leftNode->right);\n            st.push(rightNode->left);\n        }\n        return true;\n    }\n};\n```\n\n递归法：\n\n```c++\nclass Solution {\npublic:\n    bool compare(TreeNode* left, TreeNode* right) {\n        // 首先排除空节点的情况\n        if (left == NULL && right != NULL) return false;\n        else if (left != NULL && right == NULL) return false;\n        else if (left == NULL && right == NULL) return true;\n        // 排除了空节点，再排除数值不相同的情况\n        else if (left->val != right->val) return false;\n\n        // 此时就是：左右节点都不为空，且数值相同的情况\n        // 此时才做递归，做下一层的判断\n        bool outside = compare(left->left, right->right);   // 左子树：左、 右子树：右\n        bool inside = compare(left->right, right->left);    // 左子树：右、 右子树：左\n        bool isSame = outside && inside;                    // 左子树：中、 右子树：中 （逻辑处理）\n        return isSame;\n\n    }\n    bool isSymmetric(TreeNode* root) {\n        if (root == NULL) return true;\n        return compare(root->left, root->right);\n    }\n};\n```\n\n","source":"_posts/10day.md","raw":"---\ntitle: 代码随想录--二叉树\ndate: 2025-02-13 14:21:25\ntags: [数据结构与算法,二叉树,二叉树遍历,递归,迭代]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--二叉树（2）层序遍历\n---\n\n## 二叉树层序遍历\n\n### 二叉树层序遍历的模板\n\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/102%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.gif\" style=\"zoom:67%;\" />\n\n第一种方法看了一遍代码+写 花了16分钟，挺简单的，递归法就先不看了。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> levelOrder(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        vector<vector<int>> res;\n        while(!q.empty()){\n            int size=q.size();\n            vector<int> re;\n            for(int i=0;i<size;i++)\n            {\n                TreeNode* node = q.front();\n                q.pop();\n                re.push_back(node->val);\n                if(node->left) q.push(node->left);\n                if(node->right) q.push(node->right);\n            }\n            res.push_back(re);\n        }\n        return res;\n    }\n};\n```\n\n```c++\n# 递归法\nclass Solution {\npublic:\n    void order(TreeNode* cur, vector<vector<int>>& result, int depth)\n    {\n        if (cur == nullptr) return;\n        if (result.size() == depth) result.push_back(vector<int>());\n        result[depth].push_back(cur->val);\n        order(cur->left, result, depth + 1);\n        order(cur->right, result, depth + 1);\n    }\n    vector<vector<int>> levelOrder(TreeNode* root) {\n        vector<vector<int>> result;\n        int depth = 0;\n        order(root, result, depth);\n        return result;\n    }\n};\n```\n\n### 二叉树的层序遍历 II\n\n题目链接：[107. 二叉树的层序遍历 II](https://leetcode.cn/problems/binary-tree-level-order-traversal-ii/)\n\n五分钟结束战斗，就是上一个代码翻一下。但是性能有点慢，又交了一次时间也是超100%了。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> levelOrderBottom(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        vector<vector<int>> res;\n        while(!q.empty()){\n            int size=q.size();\n            vector<int> re;\n            for(int i=0;i<size;i++){\n                TreeNode* node=q.front();\n                q.pop();\n                re.push_back(node->val);\n                if(node->left) q.push(node->left);\n                if(node->right) q.push(node->right);\n            }\n            res.push_back(re);\n        }\n        reverse(res.begin(),res.end());\n        return res;\n    }\n};\n```\n\n\n\n### 二叉树的右视图\n\n题目链接：[199. 二叉树的右视图](https://leetcode.cn/problems/binary-tree-right-side-view/)\n\n四分钟解决战斗，思考了不到一分钟。\n\n```c++\nclass Solution {\npublic:\n    vector<int> rightSideView(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        vector<int> res;\n        while(!q.empty()){\n            int size=q.size();\n            vector<int> re;\n            for(int i=0;i<size;i++)\n            {\n                TreeNode* node=q.front();\n                q.pop();\n                re.push_back(node->val); \n                //代码随想录 if (i == (size - 1)) result.push_back(node->val); \n                if(node->left) q.push(node->left);\n                if(node->right) q.push(node->right);\n            }\n            res.push_back(re[size-1]);\n        }\n        return res;\n    }\n};\n```\n\n\n\n### 二叉树的层平均值\n\n题目链接：[637. 二叉树的层平均值](https://leetcode.cn/problems/average-of-levels-in-binary-tree/)\n\n出了一点小插曲，花了五分钟，前边写的q后边写成p了，double第一次用的int忘了改。\n\n```c++\nclass Solution {\npublic:\n    vector<double> averageOfLevels(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        vector<double> res;\n        while(!q.empty()){\n            int s=q.size();\n            double sum=0;\n            for(int i=0;i<s;i++){\n                TreeNode* node=q.front();\n                q.pop();\n                sum+=node->val;\n                if(node->left) q.push(node->left);\n                if(node->right) q.push(node->right);\n            }\n            res.push_back(sum/s);\n        }\n        return res;\n    }\n};\n```\n\n### N 叉树的层序遍历\n\n题目链接：[429. N 叉树的层序遍历](https://leetcode.cn/problems/n-ary-tree-level-order-traversal/)\n\n乍一看以为是第一题，看了一下不太明白孩子是啥意思，就直接看的题解，其实也没多大区别。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> levelOrder(Node* root) {\n        queue<Node*> que;\n        if (root != NULL) que.push(root);\n        vector<vector<int>> result;\n        while (!que.empty()) {\n            int size = que.size();\n            vector<int> vec;\n            for (int i = 0; i < size; i++) {\n                Node* node = que.front();\n                que.pop();\n                vec.push_back(node->val);\n                for (int i = 0; i < node->children.size(); i++) { // 将节点孩子加入队列\n                    if (node->children[i]) que.push(node->children[i]);\n                }\n            }\n            result.push_back(vec);\n        }\n        return result;\n\n    }\n};\n```\n\n\n\n### 在每个树行中找最大值\n\n题目链接：[515. 在每个树行中找最大值](https://leetcode.cn/problems/find-largest-value-in-each-tree-row/)\n\n花了8分钟，因为INT_MIN不知道如何操作，本来用的int，然后改成long long一点一点试的。\n\n```c++\nclass Solution {\npublic:\n    vector<int> largestValues(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        vector<int> res;\n        while(!q.empty()){\n            int s=q.size();\n            long long m=-1e14;   //int maxValue = INT_MIN; // 取每一层的最大值\n            for(int i=0;i<s;i++)\n            {\n            TreeNode* node=q.front();\n            q.pop();\n            if(node->val>m) m=node->val;\n            if(node->left) q.push(node->left);\n            if(node->right) q.push(node->right);\n            }\n            res.push_back(m);\n        }\n        return res;\n    }\n};\n```\n\n### 填充每个节点的下一个右侧节点指针\n\n题目链接：[116. 填充每个节点的下一个右侧节点指针](https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/)\n\n这题没想明白怎么处理，我是应该新建一个什么类型的vector，用int,char,Node类型都不行，然后就直接看题解了。\n\n```c++\nclass Solution {\npublic:\n    Node* connect(Node* root) {\n        if (root == NULL) return NULL;\n        queue<Node*> q;\n        q.push(root);\n        while (!q.empty()) {\n            int size = q.size();\n            Node* prev = NULL;  // 用来保存当前层级的前一个节点\n            for (int i = 0; i < size; ++i) {\n                Node* current = q.front();\n                q.pop();\n                // 连接前一个节点的next指针指向当前节点\n                if (prev != NULL) prev->next = current;\n                // 更新prev为当前节点\n                prev = current;\n                // 将左子树和右子树加入队列\n                if (current->left) q.push(current->left);\n                if (current->right) q.push(current->right);\n            }\n            // 将当前层级最后一个节点的next指针设置为NULL\n            prev->next = NULL;\n        }\n        return root;\n    }\n};\n```\n\n利用next指针逐层处理（优化）\n\n```c++\nclass Solution {\npublic:\n    Node* connect(Node* root) {\n        if (!root) return nullptr;\n        Node* leftmost = root; // 当前层的最左节点\n        while (leftmost->left) { // 直到叶子层\n            Node* curr = leftmost;\n            while (curr) {\n                // 连接左子节点和右子节点\n                curr->left->next = curr->right;\n                // 连接右子节点和相邻节点的左子节点\n                if (curr->next) {\n                    curr->right->next = curr->next->left;\n                }\n                curr = curr->next; // 移动到同层下一节点\n            }\n            leftmost = leftmost->left; // 移到下一层最左\n        }\n        return root;\n    }\n};\n```\n\n### 填充每个节点的下一个右侧节点指针 II\n\n题目链接：[117. 填充每个节点的下一个右侧节点指针 II](https://leetcode.cn/problems/populating-next-right-pointers-in-each-node-ii/)\n\n```c++\nclass Solution {\npublic:\n    Node* connect(Node* root) {\n        if (root == NULL) return NULL;\n        queue<Node*> q;\n        q.push(root);\n        while (!q.empty()) {\n            int size = q.size();\n            Node* prev = NULL;  // 用来保存当前层级的前一个节点\n            for (int i = 0; i < size; ++i) {\n                Node* current = q.front();\n                q.pop();\n                // 连接前一个节点的next指针指向当前节点\n                if (prev != NULL) prev->next = current;\n                // 更新prev为当前节点\n                prev = current;\n                // 将左子树和右子树加入队列\n                if (current->left) q.push(current->left);\n                if (current->right) q.push(current->right);\n            }\n            // 将当前层级最后一个节点的next指针设置为NULL\n            prev->next = NULL;\n        }\n        return root;\n    }\n};\n```\n\n###  二叉树的最大深度\n\n题目链接：[104. 二叉树的最大深度](https://leetcode.cn/problems/maximum-depth-of-binary-tree/)\n\n虽然简单，但是用这个方法有种高射炮打蚊子的感觉，感觉应该有更简单的方法。\n\n```c++\nclass Solution {\npublic:\n    int maxDepth(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        int sum=0;\n        while(!q.empty()){\n            int s=q.size();\n            sum=sum+1;\n            for(int i=0;i<s;i++){\n                TreeNode* node=q.front();\n                q.pop();\n                if(node->right) q.push(node->right);\n                if(node->left) q.push(node->left);\n            }        \n        }\n        return sum;\n    }\n};\n```\n\n递归方法：后序遍历（DFS）\n\n```c++\nclass Solution {\npublic:\n    int maxDepth(TreeNode* root) {\n        if (root == nullptr) return 0;\n        return max(maxDepth(root->left), maxDepth(root->right)) + 1;\n    }\n};\n```\n\n###  二叉树的最小深度\n\n题目链接：[111. 二叉树的最小深度](https://leetcode.cn/problems/minimum-depth-of-binary-tree/)\n\n找第一个没有左右子树的节点的深度。\n\n```c++\nclass Solution {\npublic:\n    int minDepth(TreeNode* root) {\n        if (root == NULL) return 0;\n        int depth = 0;\n        queue<TreeNode*> que;\n        que.push(root);\n        while(!que.empty()) {\n            int size = que.size();\n            depth++; // 记录最小深度\n            for (int i = 0; i < size; i++) {\n                TreeNode* node = que.front();\n                que.pop();\n                if (node->left) que.push(node->left);\n                if (node->right) que.push(node->right);\n                if (!node->left && !node->right) { // 当左右孩子都为空的时候，说明是最低点的一层了，退出\n                    return depth;\n                }\n            }\n        }\n        return depth;\n    }\n};\n```\n\n递归\n\n    如果 node 是空节点，由于没有节点，返回 0。\n    如果 node 没有右儿子，那么深度就是左子树的深度加一，即 dfs(node)=dfs(node.left)+1。\n    如果 node 没有左儿子，那么深度就是右子树的深度加一，即 dfs(node)=dfs(node.right)+1。\n    如果 node 左右儿子都有，那么分别递归计算左子树的深度，以及右子树的深度，二者取最小值再加一，即 dfs(node)=min(dfs(node.left),dfs(node.right))+1\n\n```c++\nclass Solution {\npublic:\n    int minDepth(TreeNode *root) {\n        if (root == nullptr) return 0;\n        if (root->right == nullptr) return minDepth(root->left) + 1;\n        if (root->left == nullptr) return minDepth(root->right) + 1;\n        return min(minDepth(root->left), minDepth(root->right)) + 1;\n    }\n};\n```\n\n### 翻转二叉树\n\n题目链接：[226. 翻转二叉树](https://leetcode.cn/problems/invert-binary-tree/)\n\n迭代法：深度优先遍历\n\n```c++\nclass Solution {\npublic:\n    TreeNode* invertTree(TreeNode* root) {\n        if (root == nullptr) return nullptr;\n        queue<TreeNode*> q;\n        q.push(root);\n        while (!q.empty()) {\n            TreeNode* node = q.front();\n            q.pop();\n            // 使用临时变量交换左右子节点\n            TreeNode* temp = node->left;\n            node->left = node->right;\n            node->right = temp;\n            // 如果左右子节点不为空，则加入队列\n            if (node->left) q.push(node->left);\n            if (node->right) q.push(node->right);\n        }\n        return root;\n    }\n};\n```\n\n递归法：\n\n```c++\nclass Solution {\npublic:\n    TreeNode* invertTree(TreeNode* root) {\n        if (root == NULL) return root;\n        swap(root->left, root->right);  // 中\n        invertTree(root->left);         // 左\n        invertTree(root->right);        // 右\n        return root;\n    }\n};\n```\n\n### 对称二叉树\n\n题目链接：[101. 对称二叉树](https://leetcode.cn/problems/symmetric-tree/)\n\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/101.%E5%AF%B9%E7%A7%B0%E4%BA%8C%E5%8F%89%E6%A0%91.gif\" style=\"zoom:67%;\" />\n\n迭代队列法：\n\n```c++\nclass Solution {\npublic:\n    bool isSymmetric(TreeNode* root) {\n        if (root == NULL) return true;\n        queue<TreeNode*> que;\n        que.push(root->left);   // 将左子树头结点加入队列\n        que.push(root->right);  // 将右子树头结点加入队列\n        \n        while (!que.empty()) {  // 接下来就要判断这两个树是否相互翻转\n            TreeNode* leftNode = que.front(); que.pop();\n            TreeNode* rightNode = que.front(); que.pop();\n            if (!leftNode && !rightNode) {  // 左节点为空、右节点为空，此时说明是对称的\n                continue;\n            }\n\n            // 左右一个节点不为空，或者都不为空但数值不相同，返回false\n            if ((!leftNode || !rightNode || (leftNode->val != rightNode->val))) {\n                return false;\n            }\n            que.push(leftNode->left);   // 加入左节点左孩子\n            que.push(rightNode->right); // 加入右节点右孩子\n            que.push(leftNode->right);  // 加入左节点右孩子\n            que.push(rightNode->left);  // 加入右节点左孩子\n        }\n        return true;\n    }\n};\n```\n\n迭代栈法：\n\n```c++\nclass Solution {\npublic:\n    bool isSymmetric(TreeNode* root) {\n        if (root == NULL) return true;\n        stack<TreeNode*> st; // 这里改成了栈\n        st.push(root->left);\n        st.push(root->right);\n        while (!st.empty()) {\n            TreeNode* rightNode = st.top(); st.pop();\n            TreeNode* leftNode = st.top(); st.pop();\n            if (!leftNode && !rightNode) {\n                continue;\n            }\n            if ((!leftNode || !rightNode || (leftNode->val != rightNode->val))) {\n                return false;\n            }\n            st.push(leftNode->left);\n            st.push(rightNode->right);\n            st.push(leftNode->right);\n            st.push(rightNode->left);\n        }\n        return true;\n    }\n};\n```\n\n递归法：\n\n```c++\nclass Solution {\npublic:\n    bool compare(TreeNode* left, TreeNode* right) {\n        // 首先排除空节点的情况\n        if (left == NULL && right != NULL) return false;\n        else if (left != NULL && right == NULL) return false;\n        else if (left == NULL && right == NULL) return true;\n        // 排除了空节点，再排除数值不相同的情况\n        else if (left->val != right->val) return false;\n\n        // 此时就是：左右节点都不为空，且数值相同的情况\n        // 此时才做递归，做下一层的判断\n        bool outside = compare(left->left, right->right);   // 左子树：左、 右子树：右\n        bool inside = compare(left->right, right->left);    // 左子树：右、 右子树：左\n        bool isSame = outside && inside;                    // 左子树：中、 右子树：中 （逻辑处理）\n        return isSame;\n\n    }\n    bool isSymmetric(TreeNode* root) {\n        if (root == NULL) return true;\n        return compare(root->left, root->right);\n    }\n};\n```\n\n","slug":"10day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamht00011swm9v1r5i7t","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"二叉树层序遍历\">二叉树层序遍历</h2>\n<h3 id=\"二叉树层序遍历的模板\">二叉树层序遍历的模板</h3>\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/102%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.gif\" style=\"zoom:67%;\" />\n<p>第一种方法看了一遍代码+写 花了16分钟，挺简单的，递归法就先不看了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">levelOrder</span>(TreeNode* root) &#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            vector&lt;<span class=\"type\">int</span>&gt; re;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;size;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                TreeNode* node = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(re);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 递归法</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">order</span><span class=\"params\">(TreeNode* cur, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; result, <span class=\"type\">int</span> depth)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (result.<span class=\"built_in\">size</span>() == depth) result.<span class=\"built_in\">push_back</span>(<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;());</span><br><span class=\"line\">        result[depth].<span class=\"built_in\">push_back</span>(cur-&gt;val);</span><br><span class=\"line\">        <span class=\"built_in\">order</span>(cur-&gt;left, result, depth + <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"built_in\">order</span>(cur-&gt;right, result, depth + <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">levelOrder</span>(TreeNode* root) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">        <span class=\"type\">int</span> depth = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"built_in\">order</span>(root, result, depth);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的层序遍历-II\">二叉树的层序遍历 II</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-level-order-traversal-ii/\">107. 二叉树的层序遍历 II</a></p>\n<p>五分钟结束战斗，就是上一个代码翻一下。但是性能有点慢，又交了一次时间也是超100%了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">levelOrderBottom</span>(TreeNode* root) &#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            vector&lt;<span class=\"type\">int</span>&gt; re;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;size;i++)&#123;</span><br><span class=\"line\">                TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(re);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">reverse</span>(res.<span class=\"built_in\">begin</span>(),res.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的右视图\">二叉树的右视图</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-right-side-view/\">199. 二叉树的右视图</a></p>\n<p>四分钟解决战斗，思考了不到一分钟。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">rightSideView</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            vector&lt;<span class=\"type\">int</span>&gt; re;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;size;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re.<span class=\"built_in\">push_back</span>(node-&gt;val); </span><br><span class=\"line\">                <span class=\"comment\">//代码随想录 if (i == (size - 1)) result.push_back(node-&gt;val); </span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(re[size<span class=\"number\">-1</span>]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的层平均值\">二叉树的层平均值</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/average-of-levels-in-binary-tree/\">637. 二叉树的层平均值</a></p>\n<p>出了一点小插曲，花了五分钟，前边写的q后边写成p了，double第一次用的int忘了改。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">double</span>&gt; <span class=\"title\">averageOfLevels</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;<span class=\"type\">double</span>&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> s=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            <span class=\"type\">double</span> sum=<span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s;i++)&#123;</span><br><span class=\"line\">                TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                sum+=node-&gt;val;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(sum/s);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"N-叉树的层序遍历\">N 叉树的层序遍历</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/n-ary-tree-level-order-traversal/\">429. N 叉树的层序遍历</a></p>\n<p>乍一看以为是第一题，看了一下不太明白孩子是啥意思，就直接看的题解，其实也没多大区别。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">levelOrder</span>(Node* root) &#123;</span><br><span class=\"line\">        queue&lt;Node*&gt; que;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) que.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!que.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size = que.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            vector&lt;<span class=\"type\">int</span>&gt; vec;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size; i++) &#123;</span><br><span class=\"line\">                Node* node = que.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                vec.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; node-&gt;children.<span class=\"built_in\">size</span>(); i++) &#123; <span class=\"comment\">// 将节点孩子加入队列</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (node-&gt;children[i]) que.<span class=\"built_in\">push</span>(node-&gt;children[i]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(vec);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"在每个树行中找最大值\">在每个树行中找最大值</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/find-largest-value-in-each-tree-row/\">515. 在每个树行中找最大值</a></p>\n<p>花了8分钟，因为INT_MIN不知道如何操作，本来用的int，然后改成long long一点一点试的。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">largestValues</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> s=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            <span class=\"type\">long</span> <span class=\"type\">long</span> m=<span class=\"number\">-1e14</span>;   <span class=\"comment\">//int maxValue = INT_MIN; // 取每一层的最大值</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">            TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">            q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;val&gt;m) m=node-&gt;val;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(m);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"填充每个节点的下一个右侧节点指针\">填充每个节点的下一个右侧节点指针</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/\">116. 填充每个节点的下一个右侧节点指针</a></p>\n<p>这题没想明白怎么处理，我是应该新建一个什么类型的vector，用int,char,Node类型都不行，然后就直接看题解了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">Node* <span class=\"title\">connect</span><span class=\"params\">(Node* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">        queue&lt;Node*&gt; q;</span><br><span class=\"line\">        q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!q.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size = q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            Node* prev = <span class=\"literal\">NULL</span>;  <span class=\"comment\">// 用来保存当前层级的前一个节点</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size; ++i) &#123;</span><br><span class=\"line\">                Node* current = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"comment\">// 连接前一个节点的next指针指向当前节点</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (prev != <span class=\"literal\">NULL</span>) prev-&gt;next = current;</span><br><span class=\"line\">                <span class=\"comment\">// 更新prev为当前节点</span></span><br><span class=\"line\">                prev = current;</span><br><span class=\"line\">                <span class=\"comment\">// 将左子树和右子树加入队列</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (current-&gt;left) q.<span class=\"built_in\">push</span>(current-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (current-&gt;right) q.<span class=\"built_in\">push</span>(current-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前层级最后一个节点的next指针设置为NULL</span></span><br><span class=\"line\">            prev-&gt;next = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>利用next指针逐层处理（优化）</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">Node* <span class=\"title\">connect</span><span class=\"params\">(Node* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!root) <span class=\"keyword\">return</span> <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">        Node* leftmost = root; <span class=\"comment\">// 当前层的最左节点</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (leftmost-&gt;left) &#123; <span class=\"comment\">// 直到叶子层</span></span><br><span class=\"line\">            Node* curr = leftmost;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (curr) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 连接左子节点和右子节点</span></span><br><span class=\"line\">                curr-&gt;left-&gt;next = curr-&gt;right;</span><br><span class=\"line\">                <span class=\"comment\">// 连接右子节点和相邻节点的左子节点</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (curr-&gt;next) &#123;</span><br><span class=\"line\">                    curr-&gt;right-&gt;next = curr-&gt;next-&gt;left;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                curr = curr-&gt;next; <span class=\"comment\">// 移动到同层下一节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            leftmost = leftmost-&gt;left; <span class=\"comment\">// 移到下一层最左</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"填充每个节点的下一个右侧节点指针-II\">填充每个节点的下一个右侧节点指针 II</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/populating-next-right-pointers-in-each-node-ii/\">117. 填充每个节点的下一个右侧节点指针 II</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">Node* <span class=\"title\">connect</span><span class=\"params\">(Node* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">        queue&lt;Node*&gt; q;</span><br><span class=\"line\">        q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!q.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size = q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            Node* prev = <span class=\"literal\">NULL</span>;  <span class=\"comment\">// 用来保存当前层级的前一个节点</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size; ++i) &#123;</span><br><span class=\"line\">                Node* current = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"comment\">// 连接前一个节点的next指针指向当前节点</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (prev != <span class=\"literal\">NULL</span>) prev-&gt;next = current;</span><br><span class=\"line\">                <span class=\"comment\">// 更新prev为当前节点</span></span><br><span class=\"line\">                prev = current;</span><br><span class=\"line\">                <span class=\"comment\">// 将左子树和右子树加入队列</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (current-&gt;left) q.<span class=\"built_in\">push</span>(current-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (current-&gt;right) q.<span class=\"built_in\">push</span>(current-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前层级最后一个节点的next指针设置为NULL</span></span><br><span class=\"line\">            prev-&gt;next = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的最大深度\">二叉树的最大深度</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/maximum-depth-of-binary-tree/\">104. 二叉树的最大深度</a></p>\n<p>虽然简单，但是用这个方法有种高射炮打蚊子的感觉，感觉应该有更简单的方法。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxDepth</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"type\">int</span> sum=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> s=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            sum=sum<span class=\"number\">+1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s;i++)&#123;</span><br><span class=\"line\">                TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            &#125;        </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>递归方法：后序遍历（DFS）</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxDepth</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>(<span class=\"built_in\">maxDepth</span>(root-&gt;left), <span class=\"built_in\">maxDepth</span>(root-&gt;right)) + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的最小深度\">二叉树的最小深度</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/minimum-depth-of-binary-tree/\">111. 二叉树的最小深度</a></p>\n<p>找第一个没有左右子树的节点的深度。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minDepth</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> depth = <span class=\"number\">0</span>;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; que;</span><br><span class=\"line\">        que.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!que.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size = que.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            depth++; <span class=\"comment\">// 记录最小深度</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size; i++) &#123;</span><br><span class=\"line\">                TreeNode* node = que.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;left) que.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;right) que.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (!node-&gt;left &amp;&amp; !node-&gt;right) &#123; <span class=\"comment\">// 当左右孩子都为空的时候，说明是最低点的一层了，退出</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> depth;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> depth;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>递归</p>\n<pre><code>如果 node 是空节点，由于没有节点，返回 0。\n如果 node 没有右儿子，那么深度就是左子树的深度加一，即 dfs(node)=dfs(node.left)+1。\n如果 node 没有左儿子，那么深度就是右子树的深度加一，即 dfs(node)=dfs(node.right)+1。\n如果 node 左右儿子都有，那么分别递归计算左子树的深度，以及右子树的深度，二者取最小值再加一，即 dfs(node)=min(dfs(node.left),dfs(node.right))+1\n</code></pre>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minDepth</span><span class=\"params\">(TreeNode *root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root-&gt;right == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"built_in\">minDepth</span>(root-&gt;left) + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root-&gt;left == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"built_in\">minDepth</span>(root-&gt;right) + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">min</span>(<span class=\"built_in\">minDepth</span>(root-&gt;left), <span class=\"built_in\">minDepth</span>(root-&gt;right)) + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"翻转二叉树\">翻转二叉树</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/invert-binary-tree/\">226. 翻转二叉树</a></p>\n<p>迭代法：深度优先遍历</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">TreeNode* <span class=\"title\">invertTree</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!q.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* node = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">            q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"comment\">// 使用临时变量交换左右子节点</span></span><br><span class=\"line\">            TreeNode* temp = node-&gt;left;</span><br><span class=\"line\">            node-&gt;left = node-&gt;right;</span><br><span class=\"line\">            node-&gt;right = temp;</span><br><span class=\"line\">            <span class=\"comment\">// 如果左右子节点不为空，则加入队列</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>递归法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">TreeNode* <span class=\"title\">invertTree</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">        <span class=\"built_in\">swap</span>(root-&gt;left, root-&gt;right);  <span class=\"comment\">// 中</span></span><br><span class=\"line\">        <span class=\"built_in\">invertTree</span>(root-&gt;left);         <span class=\"comment\">// 左</span></span><br><span class=\"line\">        <span class=\"built_in\">invertTree</span>(root-&gt;right);        <span class=\"comment\">// 右</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"对称二叉树\">对称二叉树</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/symmetric-tree/\">101. 对称二叉树</a></p>\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/101.%E5%AF%B9%E7%A7%B0%E4%BA%8C%E5%8F%89%E6%A0%91.gif\" style=\"zoom:67%;\" />\n<p>迭代队列法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isSymmetric</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; que;</span><br><span class=\"line\">        que.<span class=\"built_in\">push</span>(root-&gt;left);   <span class=\"comment\">// 将左子树头结点加入队列</span></span><br><span class=\"line\">        que.<span class=\"built_in\">push</span>(root-&gt;right);  <span class=\"comment\">// 将右子树头结点加入队列</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!que.<span class=\"built_in\">empty</span>()) &#123;  <span class=\"comment\">// 接下来就要判断这两个树是否相互翻转</span></span><br><span class=\"line\">            TreeNode* leftNode = que.<span class=\"built_in\">front</span>(); que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            TreeNode* rightNode = que.<span class=\"built_in\">front</span>(); que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!leftNode &amp;&amp; !rightNode) &#123;  <span class=\"comment\">// 左节点为空、右节点为空，此时说明是对称的</span></span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 左右一个节点不为空，或者都不为空但数值不相同，返回false</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((!leftNode || !rightNode || (leftNode-&gt;val != rightNode-&gt;val))) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            que.<span class=\"built_in\">push</span>(leftNode-&gt;left);   <span class=\"comment\">// 加入左节点左孩子</span></span><br><span class=\"line\">            que.<span class=\"built_in\">push</span>(rightNode-&gt;right); <span class=\"comment\">// 加入右节点右孩子</span></span><br><span class=\"line\">            que.<span class=\"built_in\">push</span>(leftNode-&gt;right);  <span class=\"comment\">// 加入左节点右孩子</span></span><br><span class=\"line\">            que.<span class=\"built_in\">push</span>(rightNode-&gt;left);  <span class=\"comment\">// 加入右节点左孩子</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>迭代栈法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isSymmetric</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; st; <span class=\"comment\">// 这里改成了栈</span></span><br><span class=\"line\">        st.<span class=\"built_in\">push</span>(root-&gt;left);</span><br><span class=\"line\">        st.<span class=\"built_in\">push</span>(root-&gt;right);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!st.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* rightNode = st.<span class=\"built_in\">top</span>(); st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            TreeNode* leftNode = st.<span class=\"built_in\">top</span>(); st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!leftNode &amp;&amp; !rightNode) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((!leftNode || !rightNode || (leftNode-&gt;val != rightNode-&gt;val))) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            st.<span class=\"built_in\">push</span>(leftNode-&gt;left);</span><br><span class=\"line\">            st.<span class=\"built_in\">push</span>(rightNode-&gt;right);</span><br><span class=\"line\">            st.<span class=\"built_in\">push</span>(leftNode-&gt;right);</span><br><span class=\"line\">            st.<span class=\"built_in\">push</span>(rightNode-&gt;left);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>递归法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">compare</span><span class=\"params\">(TreeNode* left, TreeNode* right)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 首先排除空节点的情况</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (left == <span class=\"literal\">NULL</span> &amp;&amp; right != <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (left != <span class=\"literal\">NULL</span> &amp;&amp; right == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (left == <span class=\"literal\">NULL</span> &amp;&amp; right == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 排除了空节点，再排除数值不相同的情况</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (left-&gt;val != right-&gt;val) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 此时就是：左右节点都不为空，且数值相同的情况</span></span><br><span class=\"line\">        <span class=\"comment\">// 此时才做递归，做下一层的判断</span></span><br><span class=\"line\">        <span class=\"type\">bool</span> outside = <span class=\"built_in\">compare</span>(left-&gt;left, right-&gt;right);   <span class=\"comment\">// 左子树：左、 右子树：右</span></span><br><span class=\"line\">        <span class=\"type\">bool</span> inside = <span class=\"built_in\">compare</span>(left-&gt;right, right-&gt;left);    <span class=\"comment\">// 左子树：右、 右子树：左</span></span><br><span class=\"line\">        <span class=\"type\">bool</span> isSame = outside &amp;&amp; inside;                    <span class=\"comment\">// 左子树：中、 右子树：中 （逻辑处理）</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> isSame;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isSymmetric</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">compare</span>(root-&gt;left, root-&gt;right);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"二叉树层序遍历\">二叉树层序遍历</h2>\n<h3 id=\"二叉树层序遍历的模板\">二叉树层序遍历的模板</h3>\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/102%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.gif\" style=\"zoom:67%;\" />\n<p>第一种方法看了一遍代码+写 花了16分钟，挺简单的，递归法就先不看了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">levelOrder</span>(TreeNode* root) &#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            vector&lt;<span class=\"type\">int</span>&gt; re;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;size;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                TreeNode* node = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(re);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 递归法</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">order</span><span class=\"params\">(TreeNode* cur, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; result, <span class=\"type\">int</span> depth)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (result.<span class=\"built_in\">size</span>() == depth) result.<span class=\"built_in\">push_back</span>(<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;());</span><br><span class=\"line\">        result[depth].<span class=\"built_in\">push_back</span>(cur-&gt;val);</span><br><span class=\"line\">        <span class=\"built_in\">order</span>(cur-&gt;left, result, depth + <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"built_in\">order</span>(cur-&gt;right, result, depth + <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">levelOrder</span>(TreeNode* root) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">        <span class=\"type\">int</span> depth = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"built_in\">order</span>(root, result, depth);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的层序遍历-II\">二叉树的层序遍历 II</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-level-order-traversal-ii/\">107. 二叉树的层序遍历 II</a></p>\n<p>五分钟结束战斗，就是上一个代码翻一下。但是性能有点慢，又交了一次时间也是超100%了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">levelOrderBottom</span>(TreeNode* root) &#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            vector&lt;<span class=\"type\">int</span>&gt; re;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;size;i++)&#123;</span><br><span class=\"line\">                TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(re);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">reverse</span>(res.<span class=\"built_in\">begin</span>(),res.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的右视图\">二叉树的右视图</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-right-side-view/\">199. 二叉树的右视图</a></p>\n<p>四分钟解决战斗，思考了不到一分钟。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">rightSideView</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            vector&lt;<span class=\"type\">int</span>&gt; re;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;size;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re.<span class=\"built_in\">push_back</span>(node-&gt;val); </span><br><span class=\"line\">                <span class=\"comment\">//代码随想录 if (i == (size - 1)) result.push_back(node-&gt;val); </span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(re[size<span class=\"number\">-1</span>]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的层平均值\">二叉树的层平均值</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/average-of-levels-in-binary-tree/\">637. 二叉树的层平均值</a></p>\n<p>出了一点小插曲，花了五分钟，前边写的q后边写成p了，double第一次用的int忘了改。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">double</span>&gt; <span class=\"title\">averageOfLevels</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;<span class=\"type\">double</span>&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> s=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            <span class=\"type\">double</span> sum=<span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s;i++)&#123;</span><br><span class=\"line\">                TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                sum+=node-&gt;val;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(sum/s);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"N-叉树的层序遍历\">N 叉树的层序遍历</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/n-ary-tree-level-order-traversal/\">429. N 叉树的层序遍历</a></p>\n<p>乍一看以为是第一题，看了一下不太明白孩子是啥意思，就直接看的题解，其实也没多大区别。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">levelOrder</span>(Node* root) &#123;</span><br><span class=\"line\">        queue&lt;Node*&gt; que;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) que.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!que.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size = que.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            vector&lt;<span class=\"type\">int</span>&gt; vec;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size; i++) &#123;</span><br><span class=\"line\">                Node* node = que.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                vec.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; node-&gt;children.<span class=\"built_in\">size</span>(); i++) &#123; <span class=\"comment\">// 将节点孩子加入队列</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (node-&gt;children[i]) que.<span class=\"built_in\">push</span>(node-&gt;children[i]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(vec);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"在每个树行中找最大值\">在每个树行中找最大值</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/find-largest-value-in-each-tree-row/\">515. 在每个树行中找最大值</a></p>\n<p>花了8分钟，因为INT_MIN不知道如何操作，本来用的int，然后改成long long一点一点试的。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">largestValues</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> s=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            <span class=\"type\">long</span> <span class=\"type\">long</span> m=<span class=\"number\">-1e14</span>;   <span class=\"comment\">//int maxValue = INT_MIN; // 取每一层的最大值</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">            TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">            q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;val&gt;m) m=node-&gt;val;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(m);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"填充每个节点的下一个右侧节点指针\">填充每个节点的下一个右侧节点指针</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/\">116. 填充每个节点的下一个右侧节点指针</a></p>\n<p>这题没想明白怎么处理，我是应该新建一个什么类型的vector，用int,char,Node类型都不行，然后就直接看题解了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">Node* <span class=\"title\">connect</span><span class=\"params\">(Node* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">        queue&lt;Node*&gt; q;</span><br><span class=\"line\">        q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!q.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size = q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            Node* prev = <span class=\"literal\">NULL</span>;  <span class=\"comment\">// 用来保存当前层级的前一个节点</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size; ++i) &#123;</span><br><span class=\"line\">                Node* current = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"comment\">// 连接前一个节点的next指针指向当前节点</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (prev != <span class=\"literal\">NULL</span>) prev-&gt;next = current;</span><br><span class=\"line\">                <span class=\"comment\">// 更新prev为当前节点</span></span><br><span class=\"line\">                prev = current;</span><br><span class=\"line\">                <span class=\"comment\">// 将左子树和右子树加入队列</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (current-&gt;left) q.<span class=\"built_in\">push</span>(current-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (current-&gt;right) q.<span class=\"built_in\">push</span>(current-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前层级最后一个节点的next指针设置为NULL</span></span><br><span class=\"line\">            prev-&gt;next = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>利用next指针逐层处理（优化）</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">Node* <span class=\"title\">connect</span><span class=\"params\">(Node* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!root) <span class=\"keyword\">return</span> <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">        Node* leftmost = root; <span class=\"comment\">// 当前层的最左节点</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (leftmost-&gt;left) &#123; <span class=\"comment\">// 直到叶子层</span></span><br><span class=\"line\">            Node* curr = leftmost;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (curr) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 连接左子节点和右子节点</span></span><br><span class=\"line\">                curr-&gt;left-&gt;next = curr-&gt;right;</span><br><span class=\"line\">                <span class=\"comment\">// 连接右子节点和相邻节点的左子节点</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (curr-&gt;next) &#123;</span><br><span class=\"line\">                    curr-&gt;right-&gt;next = curr-&gt;next-&gt;left;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                curr = curr-&gt;next; <span class=\"comment\">// 移动到同层下一节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            leftmost = leftmost-&gt;left; <span class=\"comment\">// 移到下一层最左</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"填充每个节点的下一个右侧节点指针-II\">填充每个节点的下一个右侧节点指针 II</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/populating-next-right-pointers-in-each-node-ii/\">117. 填充每个节点的下一个右侧节点指针 II</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">Node* <span class=\"title\">connect</span><span class=\"params\">(Node* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">        queue&lt;Node*&gt; q;</span><br><span class=\"line\">        q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!q.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size = q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            Node* prev = <span class=\"literal\">NULL</span>;  <span class=\"comment\">// 用来保存当前层级的前一个节点</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size; ++i) &#123;</span><br><span class=\"line\">                Node* current = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"comment\">// 连接前一个节点的next指针指向当前节点</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (prev != <span class=\"literal\">NULL</span>) prev-&gt;next = current;</span><br><span class=\"line\">                <span class=\"comment\">// 更新prev为当前节点</span></span><br><span class=\"line\">                prev = current;</span><br><span class=\"line\">                <span class=\"comment\">// 将左子树和右子树加入队列</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (current-&gt;left) q.<span class=\"built_in\">push</span>(current-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (current-&gt;right) q.<span class=\"built_in\">push</span>(current-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前层级最后一个节点的next指针设置为NULL</span></span><br><span class=\"line\">            prev-&gt;next = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的最大深度\">二叉树的最大深度</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/maximum-depth-of-binary-tree/\">104. 二叉树的最大深度</a></p>\n<p>虽然简单，但是用这个方法有种高射炮打蚊子的感觉，感觉应该有更简单的方法。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxDepth</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"type\">int</span> sum=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> s=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            sum=sum<span class=\"number\">+1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s;i++)&#123;</span><br><span class=\"line\">                TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            &#125;        </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>递归方法：后序遍历（DFS）</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxDepth</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>(<span class=\"built_in\">maxDepth</span>(root-&gt;left), <span class=\"built_in\">maxDepth</span>(root-&gt;right)) + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的最小深度\">二叉树的最小深度</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/minimum-depth-of-binary-tree/\">111. 二叉树的最小深度</a></p>\n<p>找第一个没有左右子树的节点的深度。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minDepth</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> depth = <span class=\"number\">0</span>;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; que;</span><br><span class=\"line\">        que.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!que.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> size = que.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            depth++; <span class=\"comment\">// 记录最小深度</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size; i++) &#123;</span><br><span class=\"line\">                TreeNode* node = que.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;left) que.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;right) que.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (!node-&gt;left &amp;&amp; !node-&gt;right) &#123; <span class=\"comment\">// 当左右孩子都为空的时候，说明是最低点的一层了，退出</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> depth;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> depth;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>递归</p>\n<pre><code>如果 node 是空节点，由于没有节点，返回 0。\n如果 node 没有右儿子，那么深度就是左子树的深度加一，即 dfs(node)=dfs(node.left)+1。\n如果 node 没有左儿子，那么深度就是右子树的深度加一，即 dfs(node)=dfs(node.right)+1。\n如果 node 左右儿子都有，那么分别递归计算左子树的深度，以及右子树的深度，二者取最小值再加一，即 dfs(node)=min(dfs(node.left),dfs(node.right))+1\n</code></pre>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minDepth</span><span class=\"params\">(TreeNode *root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root-&gt;right == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"built_in\">minDepth</span>(root-&gt;left) + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root-&gt;left == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"built_in\">minDepth</span>(root-&gt;right) + <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">min</span>(<span class=\"built_in\">minDepth</span>(root-&gt;left), <span class=\"built_in\">minDepth</span>(root-&gt;right)) + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"翻转二叉树\">翻转二叉树</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/invert-binary-tree/\">226. 翻转二叉树</a></p>\n<p>迭代法：深度优先遍历</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">TreeNode* <span class=\"title\">invertTree</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">nullptr</span>) <span class=\"keyword\">return</span> <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!q.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* node = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">            q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"comment\">// 使用临时变量交换左右子节点</span></span><br><span class=\"line\">            TreeNode* temp = node-&gt;left;</span><br><span class=\"line\">            node-&gt;left = node-&gt;right;</span><br><span class=\"line\">            node-&gt;right = temp;</span><br><span class=\"line\">            <span class=\"comment\">// 如果左右子节点不为空，则加入队列</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>递归法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">TreeNode* <span class=\"title\">invertTree</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">        <span class=\"built_in\">swap</span>(root-&gt;left, root-&gt;right);  <span class=\"comment\">// 中</span></span><br><span class=\"line\">        <span class=\"built_in\">invertTree</span>(root-&gt;left);         <span class=\"comment\">// 左</span></span><br><span class=\"line\">        <span class=\"built_in\">invertTree</span>(root-&gt;right);        <span class=\"comment\">// 右</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"对称二叉树\">对称二叉树</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/symmetric-tree/\">101. 对称二叉树</a></p>\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/101.%E5%AF%B9%E7%A7%B0%E4%BA%8C%E5%8F%89%E6%A0%91.gif\" style=\"zoom:67%;\" />\n<p>迭代队列法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isSymmetric</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; que;</span><br><span class=\"line\">        que.<span class=\"built_in\">push</span>(root-&gt;left);   <span class=\"comment\">// 将左子树头结点加入队列</span></span><br><span class=\"line\">        que.<span class=\"built_in\">push</span>(root-&gt;right);  <span class=\"comment\">// 将右子树头结点加入队列</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!que.<span class=\"built_in\">empty</span>()) &#123;  <span class=\"comment\">// 接下来就要判断这两个树是否相互翻转</span></span><br><span class=\"line\">            TreeNode* leftNode = que.<span class=\"built_in\">front</span>(); que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            TreeNode* rightNode = que.<span class=\"built_in\">front</span>(); que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!leftNode &amp;&amp; !rightNode) &#123;  <span class=\"comment\">// 左节点为空、右节点为空，此时说明是对称的</span></span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 左右一个节点不为空，或者都不为空但数值不相同，返回false</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((!leftNode || !rightNode || (leftNode-&gt;val != rightNode-&gt;val))) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            que.<span class=\"built_in\">push</span>(leftNode-&gt;left);   <span class=\"comment\">// 加入左节点左孩子</span></span><br><span class=\"line\">            que.<span class=\"built_in\">push</span>(rightNode-&gt;right); <span class=\"comment\">// 加入右节点右孩子</span></span><br><span class=\"line\">            que.<span class=\"built_in\">push</span>(leftNode-&gt;right);  <span class=\"comment\">// 加入左节点右孩子</span></span><br><span class=\"line\">            que.<span class=\"built_in\">push</span>(rightNode-&gt;left);  <span class=\"comment\">// 加入右节点左孩子</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>迭代栈法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isSymmetric</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; st; <span class=\"comment\">// 这里改成了栈</span></span><br><span class=\"line\">        st.<span class=\"built_in\">push</span>(root-&gt;left);</span><br><span class=\"line\">        st.<span class=\"built_in\">push</span>(root-&gt;right);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!st.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* rightNode = st.<span class=\"built_in\">top</span>(); st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            TreeNode* leftNode = st.<span class=\"built_in\">top</span>(); st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!leftNode &amp;&amp; !rightNode) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((!leftNode || !rightNode || (leftNode-&gt;val != rightNode-&gt;val))) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            st.<span class=\"built_in\">push</span>(leftNode-&gt;left);</span><br><span class=\"line\">            st.<span class=\"built_in\">push</span>(rightNode-&gt;right);</span><br><span class=\"line\">            st.<span class=\"built_in\">push</span>(leftNode-&gt;right);</span><br><span class=\"line\">            st.<span class=\"built_in\">push</span>(rightNode-&gt;left);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>递归法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">compare</span><span class=\"params\">(TreeNode* left, TreeNode* right)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 首先排除空节点的情况</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (left == <span class=\"literal\">NULL</span> &amp;&amp; right != <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (left != <span class=\"literal\">NULL</span> &amp;&amp; right == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (left == <span class=\"literal\">NULL</span> &amp;&amp; right == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 排除了空节点，再排除数值不相同的情况</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (left-&gt;val != right-&gt;val) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 此时就是：左右节点都不为空，且数值相同的情况</span></span><br><span class=\"line\">        <span class=\"comment\">// 此时才做递归，做下一层的判断</span></span><br><span class=\"line\">        <span class=\"type\">bool</span> outside = <span class=\"built_in\">compare</span>(left-&gt;left, right-&gt;right);   <span class=\"comment\">// 左子树：左、 右子树：右</span></span><br><span class=\"line\">        <span class=\"type\">bool</span> inside = <span class=\"built_in\">compare</span>(left-&gt;right, right-&gt;left);    <span class=\"comment\">// 左子树：右、 右子树：左</span></span><br><span class=\"line\">        <span class=\"type\">bool</span> isSame = outside &amp;&amp; inside;                    <span class=\"comment\">// 左子树：中、 右子树：中 （逻辑处理）</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> isSame;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isSymmetric</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">compare</span>(root-&gt;left, root-&gt;right);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"代码随想录--图论","date":"2025-03-08T13:26:31.000Z","updated":"2025-03-09T02:11:37.605Z","description":"代码随想录--图论（1）","_content":"\n## 图论\n\n### 图的存储方式\n\n#### 邻接矩阵\n\n邻接矩阵 使用 二维数组来表示图结构。 邻接矩阵是从**节点的角度**来表示图，有多少节点就申请多大的二维数组。\n\n有n 个节点，因为节点标号是从1开始的，为了节点标号和下标对齐，申请 n + 1 * n + 1  这么大的二维数组。\n\n```c++\nvector<vector<int>> graph(n + 1, vector<int>(n + 1, 0));\nwhile (m--) {\n    cin >> s >> t\n    // 使用邻接矩阵 ，1 表示 节点s 指向 节点t\n    graph[s][t] = 1;\n}\n```\n\n#### 邻接表\n\n邻接表 使用 数组 + 链表的方式来表示。 邻接表是从边的数量来表示图，有多少边 才会申请对应大小的链表。\n\n邻接表的构造相对邻接矩阵难理解一些。\n\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20240223103713.png\" style=\"zoom:50%;\" />\n\n```c++\n// 节点编号从1到n，所以申请 n+1 这么大的数组\nvector<list<int>> graph(n + 1); // 邻接表，list为C++里的链表\nwhile (m--) {\n    cin >> s >> t;\n    // 使用邻接表 ，表示 s -> t 是相连的\n    graph[s].push_back(t);\n}\n```\n\n### 深度优先搜索三部曲\n\n1. 确认递归函数，参数\n\n```c++\nvector<vector<int>> result; // 收集符合条件的路径\nvector<int> path; // 0节点到终点的路径\n// x：目前遍历的节点\n// graph：存当前的图\n// n：终点\nvoid dfs (const vector<vector<int>>& graph, int x, int n) {\n```\n\n2. 确认终止条件\n\n```c++\n// 当前遍历的节点x 到达节点n \nif (x == n) { // 找到符合条件的一条路径\n    result.push_back(path);\n    return;\n}\n```\n\n3. 处理目前搜索节点出发的路径\n\n```c++\nfor (int i = 1; i <= n; i++) { // 遍历节点x链接的所有节点\n    if (graph[x][i] == 1) { // 找到 x链接的节点\n        path.push_back(i); // 遍历到的节点加入到路径中来\n        dfs(graph, i, n); // 进入下一层递归\n        path.pop_back(); // 回溯，撤销本节点\n    }\n}\n```\n\n4. 打印结果\n\n```c++\n// 输出结果\nif (result.size() == 0) cout << -1 << endl;\nfor (const vector<int> &pa : result) {\n    for (int i = 0; i < pa.size() - 1; i++) { // 这里指打印到倒数第二个\n        cout << pa[i] << \" \";\n    }\n    cout << pa[pa.size() - 1]  << endl; // 这里再打印倒数第一个，控制最后一个元素后面没有空格\n}\n```\n\n### 例题：所有可能的路径\n\n题目链接：[797. 所有可能的路径](https://leetcode.cn/problems/all-paths-from-source-to-target/)\n\n#### 邻接矩阵写法\n\n```c++\n#include <iostream>\n#include <vector>\nusing namespace std;\nvector<vector<int>> result; // 收集符合条件的路径\nvector<int> path; // 1节点到终点的路径\n\nvoid dfs (const vector<vector<int>>& graph, int x, int n) {\n    // 当前遍历的节点x 到达节点n \n    if (x == n) { // 找到符合条件的一条路径\n        result.push_back(path);\n        return;\n    }\n    for (int i = 1; i <= n; i++) { // 遍历节点x链接的所有节点\n        if (graph[x][i] == 1) { // 找到 x链接的节点\n            path.push_back(i); // 遍历到的节点加入到路径中来\n            dfs(graph, i, n); // 进入下一层递归\n            path.pop_back(); // 回溯，撤销本节点\n        }\n    }\n}\n\nint main() {\n    int n, m, s, t;\n    cin >> n >> m;\n\n    // 节点编号从1到n，所以申请 n+1 这么大的数组\n    vector<vector<int>> graph(n + 1, vector<int>(n + 1, 0));\n\n    while (m--) {\n        cin >> s >> t;\n        // 使用邻接矩阵 表示无线图，1 表示 s 与 t 是相连的\n        graph[s][t] = 1;\n    }\n\n    path.push_back(1); // 无论什么路径已经是从0节点出发\n    dfs(graph, 1, n); // 开始遍历\n\n    // 输出结果\n    if (result.size() == 0) cout << -1 << endl;\n    for (const vector<int> &pa : result) {\n        for (int i = 0; i < pa.size() - 1; i++) {\n            cout << pa[i] << \" \";\n        }\n        cout << pa[pa.size() - 1]  << endl;\n    }\n}\n```\n\n#### 邻接表写法\n\n```c++\n#include <iostream>\n#include <vector>\n#include <list>\nusing namespace std;\n\nvector<vector<int>> result; // 收集符合条件的路径\nvector<int> path; // 1节点到终点的路径\n\nvoid dfs (const vector<list<int>>& graph, int x, int n) {\n\n    if (x == n) { // 找到符合条件的一条路径\n        result.push_back(path);\n        return;\n    }\n    for (int i : graph[x]) { // 找到 x指向的节点\n        path.push_back(i); // 遍历到的节点加入到路径中来\n        dfs(graph, i, n); // 进入下一层递归\n        path.pop_back(); // 回溯，撤销本节点\n    }\n}\n\nint main() {\n    int n, m, s, t;\n    cin >> n >> m;\n\n    // 节点编号从1到n，所以申请 n+1 这么大的数组\n    vector<list<int>> graph(n + 1); // 邻接表\n    while (m--) {\n        cin >> s >> t;\n        // 使用邻接表 ，表示 s -> t 是相连的\n        graph[s].push_back(t);\n\n    }\n\n    path.push_back(1); // 无论什么路径已经是从0节点出发\n    dfs(graph, 1, n); // 开始遍历\n\n    // 输出结果\n    if (result.size() == 0) cout << -1 << endl;\n    for (const vector<int> &pa : result) {\n        for (int i = 0; i < pa.size() - 1; i++) {\n            cout << pa[i] << \" \";\n        }\n        cout << pa[pa.size() - 1]  << endl;\n    }\n}\n```\n\n","source":"_posts/13day.md","raw":"---\ntitle: 代码随想录--图论\ndate: 2025-03-08 21:26:31\ntags: [数据结构与算法,图论]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--图论（1）\n---\n\n## 图论\n\n### 图的存储方式\n\n#### 邻接矩阵\n\n邻接矩阵 使用 二维数组来表示图结构。 邻接矩阵是从**节点的角度**来表示图，有多少节点就申请多大的二维数组。\n\n有n 个节点，因为节点标号是从1开始的，为了节点标号和下标对齐，申请 n + 1 * n + 1  这么大的二维数组。\n\n```c++\nvector<vector<int>> graph(n + 1, vector<int>(n + 1, 0));\nwhile (m--) {\n    cin >> s >> t\n    // 使用邻接矩阵 ，1 表示 节点s 指向 节点t\n    graph[s][t] = 1;\n}\n```\n\n#### 邻接表\n\n邻接表 使用 数组 + 链表的方式来表示。 邻接表是从边的数量来表示图，有多少边 才会申请对应大小的链表。\n\n邻接表的构造相对邻接矩阵难理解一些。\n\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20240223103713.png\" style=\"zoom:50%;\" />\n\n```c++\n// 节点编号从1到n，所以申请 n+1 这么大的数组\nvector<list<int>> graph(n + 1); // 邻接表，list为C++里的链表\nwhile (m--) {\n    cin >> s >> t;\n    // 使用邻接表 ，表示 s -> t 是相连的\n    graph[s].push_back(t);\n}\n```\n\n### 深度优先搜索三部曲\n\n1. 确认递归函数，参数\n\n```c++\nvector<vector<int>> result; // 收集符合条件的路径\nvector<int> path; // 0节点到终点的路径\n// x：目前遍历的节点\n// graph：存当前的图\n// n：终点\nvoid dfs (const vector<vector<int>>& graph, int x, int n) {\n```\n\n2. 确认终止条件\n\n```c++\n// 当前遍历的节点x 到达节点n \nif (x == n) { // 找到符合条件的一条路径\n    result.push_back(path);\n    return;\n}\n```\n\n3. 处理目前搜索节点出发的路径\n\n```c++\nfor (int i = 1; i <= n; i++) { // 遍历节点x链接的所有节点\n    if (graph[x][i] == 1) { // 找到 x链接的节点\n        path.push_back(i); // 遍历到的节点加入到路径中来\n        dfs(graph, i, n); // 进入下一层递归\n        path.pop_back(); // 回溯，撤销本节点\n    }\n}\n```\n\n4. 打印结果\n\n```c++\n// 输出结果\nif (result.size() == 0) cout << -1 << endl;\nfor (const vector<int> &pa : result) {\n    for (int i = 0; i < pa.size() - 1; i++) { // 这里指打印到倒数第二个\n        cout << pa[i] << \" \";\n    }\n    cout << pa[pa.size() - 1]  << endl; // 这里再打印倒数第一个，控制最后一个元素后面没有空格\n}\n```\n\n### 例题：所有可能的路径\n\n题目链接：[797. 所有可能的路径](https://leetcode.cn/problems/all-paths-from-source-to-target/)\n\n#### 邻接矩阵写法\n\n```c++\n#include <iostream>\n#include <vector>\nusing namespace std;\nvector<vector<int>> result; // 收集符合条件的路径\nvector<int> path; // 1节点到终点的路径\n\nvoid dfs (const vector<vector<int>>& graph, int x, int n) {\n    // 当前遍历的节点x 到达节点n \n    if (x == n) { // 找到符合条件的一条路径\n        result.push_back(path);\n        return;\n    }\n    for (int i = 1; i <= n; i++) { // 遍历节点x链接的所有节点\n        if (graph[x][i] == 1) { // 找到 x链接的节点\n            path.push_back(i); // 遍历到的节点加入到路径中来\n            dfs(graph, i, n); // 进入下一层递归\n            path.pop_back(); // 回溯，撤销本节点\n        }\n    }\n}\n\nint main() {\n    int n, m, s, t;\n    cin >> n >> m;\n\n    // 节点编号从1到n，所以申请 n+1 这么大的数组\n    vector<vector<int>> graph(n + 1, vector<int>(n + 1, 0));\n\n    while (m--) {\n        cin >> s >> t;\n        // 使用邻接矩阵 表示无线图，1 表示 s 与 t 是相连的\n        graph[s][t] = 1;\n    }\n\n    path.push_back(1); // 无论什么路径已经是从0节点出发\n    dfs(graph, 1, n); // 开始遍历\n\n    // 输出结果\n    if (result.size() == 0) cout << -1 << endl;\n    for (const vector<int> &pa : result) {\n        for (int i = 0; i < pa.size() - 1; i++) {\n            cout << pa[i] << \" \";\n        }\n        cout << pa[pa.size() - 1]  << endl;\n    }\n}\n```\n\n#### 邻接表写法\n\n```c++\n#include <iostream>\n#include <vector>\n#include <list>\nusing namespace std;\n\nvector<vector<int>> result; // 收集符合条件的路径\nvector<int> path; // 1节点到终点的路径\n\nvoid dfs (const vector<list<int>>& graph, int x, int n) {\n\n    if (x == n) { // 找到符合条件的一条路径\n        result.push_back(path);\n        return;\n    }\n    for (int i : graph[x]) { // 找到 x指向的节点\n        path.push_back(i); // 遍历到的节点加入到路径中来\n        dfs(graph, i, n); // 进入下一层递归\n        path.pop_back(); // 回溯，撤销本节点\n    }\n}\n\nint main() {\n    int n, m, s, t;\n    cin >> n >> m;\n\n    // 节点编号从1到n，所以申请 n+1 这么大的数组\n    vector<list<int>> graph(n + 1); // 邻接表\n    while (m--) {\n        cin >> s >> t;\n        // 使用邻接表 ，表示 s -> t 是相连的\n        graph[s].push_back(t);\n\n    }\n\n    path.push_back(1); // 无论什么路径已经是从0节点出发\n    dfs(graph, 1, n); // 开始遍历\n\n    // 输出结果\n    if (result.size() == 0) cout << -1 << endl;\n    for (const vector<int> &pa : result) {\n        for (int i = 0; i < pa.size() - 1; i++) {\n            cout << pa[i] << \" \";\n        }\n        cout << pa[pa.size() - 1]  << endl;\n    }\n}\n```\n\n","slug":"13day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamhy00031swmbn7k639o","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"图论\">图论</h2>\n<h3 id=\"图的存储方式\">图的存储方式</h3>\n<h4 id=\"邻接矩阵\">邻接矩阵</h4>\n<p>邻接矩阵 使用 二维数组来表示图结构。 邻接矩阵是从<strong>节点的角度</strong>来表示图，有多少节点就申请多大的二维数组。</p>\n<p>有n 个节点，因为节点标号是从1开始的，为了节点标号和下标对齐，申请 n + 1 * n + 1  这么大的二维数组。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">graph</span>(n + <span class=\"number\">1</span>, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n + <span class=\"number\">1</span>, <span class=\"number\">0</span>));</span><br><span class=\"line\"><span class=\"keyword\">while</span> (m--) &#123;</span><br><span class=\"line\">    cin &gt;&gt; s &gt;&gt; t</span><br><span class=\"line\">    <span class=\"comment\">// 使用邻接矩阵 ，1 表示 节点s 指向 节点t</span></span><br><span class=\"line\">    graph[s][t] = <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"邻接表\">邻接表</h4>\n<p>邻接表 使用 数组 + 链表的方式来表示。 邻接表是从边的数量来表示图，有多少边 才会申请对应大小的链表。</p>\n<p>邻接表的构造相对邻接矩阵难理解一些。</p>\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20240223103713.png\" style=\"zoom:50%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 节点编号从1到n，所以申请 n+1 这么大的数组</span></span><br><span class=\"line\">vector&lt;list&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">graph</span>(n + <span class=\"number\">1</span>); <span class=\"comment\">// 邻接表，list为C++里的链表</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> (m--) &#123;</span><br><span class=\"line\">    cin &gt;&gt; s &gt;&gt; t;</span><br><span class=\"line\">    <span class=\"comment\">// 使用邻接表 ，表示 s -&gt; t 是相连的</span></span><br><span class=\"line\">    graph[s].<span class=\"built_in\">push_back</span>(t);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"深度优先搜索三部曲\">深度优先搜索三部曲</h3>\n<ol>\n<li>确认递归函数，参数</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result; <span class=\"comment\">// 收集符合条件的路径</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; path; <span class=\"comment\">// 0节点到终点的路径</span></span><br><span class=\"line\"><span class=\"comment\">// x：目前遍历的节点</span></span><br><span class=\"line\"><span class=\"comment\">// graph：存当前的图</span></span><br><span class=\"line\"><span class=\"comment\">// n：终点</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span> <span class=\"params\">(<span class=\"type\">const</span> vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; graph, <span class=\"type\">int</span> x, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>确认终止条件</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 当前遍历的节点x 到达节点n </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (x == n) &#123; <span class=\"comment\">// 找到符合条件的一条路径</span></span><br><span class=\"line\">    result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>处理目前搜索节点出发的路径</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; i++) &#123; <span class=\"comment\">// 遍历节点x链接的所有节点</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (graph[x][i] == <span class=\"number\">1</span>) &#123; <span class=\"comment\">// 找到 x链接的节点</span></span><br><span class=\"line\">        path.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 遍历到的节点加入到路径中来</span></span><br><span class=\"line\">        <span class=\"built_in\">dfs</span>(graph, i, n); <span class=\"comment\">// 进入下一层递归</span></span><br><span class=\"line\">        path.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯，撤销本节点</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>打印结果</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 输出结果</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (result.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>) cout &lt;&lt; <span class=\"number\">-1</span> &lt;&lt; endl;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;pa : result) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>; i++) &#123; <span class=\"comment\">// 这里指打印到倒数第二个</span></span><br><span class=\"line\">        cout &lt;&lt; pa[i] &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    cout &lt;&lt; pa[pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>]  &lt;&lt; endl; <span class=\"comment\">// 这里再打印倒数第一个，控制最后一个元素后面没有空格</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"例题：所有可能的路径\">例题：所有可能的路径</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/all-paths-from-source-to-target/\">797. 所有可能的路径</a></p>\n<h4 id=\"邻接矩阵写法\">邻接矩阵写法</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\">vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result; <span class=\"comment\">// 收集符合条件的路径</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; path; <span class=\"comment\">// 1节点到终点的路径</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span> <span class=\"params\">(<span class=\"type\">const</span> vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; graph, <span class=\"type\">int</span> x, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 当前遍历的节点x 到达节点n </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (x == n) &#123; <span class=\"comment\">// 找到符合条件的一条路径</span></span><br><span class=\"line\">        result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; i++) &#123; <span class=\"comment\">// 遍历节点x链接的所有节点</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (graph[x][i] == <span class=\"number\">1</span>) &#123; <span class=\"comment\">// 找到 x链接的节点</span></span><br><span class=\"line\">            path.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 遍历到的节点加入到路径中来</span></span><br><span class=\"line\">            <span class=\"built_in\">dfs</span>(graph, i, n); <span class=\"comment\">// 进入下一层递归</span></span><br><span class=\"line\">            path.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯，撤销本节点</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n, m, s, t;</span><br><span class=\"line\">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 节点编号从1到n，所以申请 n+1 这么大的数组</span></span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">graph</span>(n + <span class=\"number\">1</span>, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n + <span class=\"number\">1</span>, <span class=\"number\">0</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (m--) &#123;</span><br><span class=\"line\">        cin &gt;&gt; s &gt;&gt; t;</span><br><span class=\"line\">        <span class=\"comment\">// 使用邻接矩阵 表示无线图，1 表示 s 与 t 是相连的</span></span><br><span class=\"line\">        graph[s][t] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    path.<span class=\"built_in\">push_back</span>(<span class=\"number\">1</span>); <span class=\"comment\">// 无论什么路径已经是从0节点出发</span></span><br><span class=\"line\">    <span class=\"built_in\">dfs</span>(graph, <span class=\"number\">1</span>, n); <span class=\"comment\">// 开始遍历</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 输出结果</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (result.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>) cout &lt;&lt; <span class=\"number\">-1</span> &lt;&lt; endl;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;pa : result) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">            cout &lt;&lt; pa[i] &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        cout &lt;&lt; pa[pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>]  &lt;&lt; endl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"邻接表写法\">邻接表写法</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;list&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result; <span class=\"comment\">// 收集符合条件的路径</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; path; <span class=\"comment\">// 1节点到终点的路径</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span> <span class=\"params\">(<span class=\"type\">const</span> vector&lt;list&lt;<span class=\"type\">int</span>&gt;&gt;&amp; graph, <span class=\"type\">int</span> x, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (x == n) &#123; <span class=\"comment\">// 找到符合条件的一条路径</span></span><br><span class=\"line\">        result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i : graph[x]) &#123; <span class=\"comment\">// 找到 x指向的节点</span></span><br><span class=\"line\">        path.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 遍历到的节点加入到路径中来</span></span><br><span class=\"line\">        <span class=\"built_in\">dfs</span>(graph, i, n); <span class=\"comment\">// 进入下一层递归</span></span><br><span class=\"line\">        path.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯，撤销本节点</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n, m, s, t;</span><br><span class=\"line\">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 节点编号从1到n，所以申请 n+1 这么大的数组</span></span><br><span class=\"line\">    vector&lt;list&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">graph</span>(n + <span class=\"number\">1</span>); <span class=\"comment\">// 邻接表</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (m--) &#123;</span><br><span class=\"line\">        cin &gt;&gt; s &gt;&gt; t;</span><br><span class=\"line\">        <span class=\"comment\">// 使用邻接表 ，表示 s -&gt; t 是相连的</span></span><br><span class=\"line\">        graph[s].<span class=\"built_in\">push_back</span>(t);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    path.<span class=\"built_in\">push_back</span>(<span class=\"number\">1</span>); <span class=\"comment\">// 无论什么路径已经是从0节点出发</span></span><br><span class=\"line\">    <span class=\"built_in\">dfs</span>(graph, <span class=\"number\">1</span>, n); <span class=\"comment\">// 开始遍历</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 输出结果</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (result.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>) cout &lt;&lt; <span class=\"number\">-1</span> &lt;&lt; endl;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;pa : result) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">            cout &lt;&lt; pa[i] &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        cout &lt;&lt; pa[pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>]  &lt;&lt; endl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"图论\">图论</h2>\n<h3 id=\"图的存储方式\">图的存储方式</h3>\n<h4 id=\"邻接矩阵\">邻接矩阵</h4>\n<p>邻接矩阵 使用 二维数组来表示图结构。 邻接矩阵是从<strong>节点的角度</strong>来表示图，有多少节点就申请多大的二维数组。</p>\n<p>有n 个节点，因为节点标号是从1开始的，为了节点标号和下标对齐，申请 n + 1 * n + 1  这么大的二维数组。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">graph</span>(n + <span class=\"number\">1</span>, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n + <span class=\"number\">1</span>, <span class=\"number\">0</span>));</span><br><span class=\"line\"><span class=\"keyword\">while</span> (m--) &#123;</span><br><span class=\"line\">    cin &gt;&gt; s &gt;&gt; t</span><br><span class=\"line\">    <span class=\"comment\">// 使用邻接矩阵 ，1 表示 节点s 指向 节点t</span></span><br><span class=\"line\">    graph[s][t] = <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"邻接表\">邻接表</h4>\n<p>邻接表 使用 数组 + 链表的方式来表示。 邻接表是从边的数量来表示图，有多少边 才会申请对应大小的链表。</p>\n<p>邻接表的构造相对邻接矩阵难理解一些。</p>\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20240223103713.png\" style=\"zoom:50%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 节点编号从1到n，所以申请 n+1 这么大的数组</span></span><br><span class=\"line\">vector&lt;list&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">graph</span>(n + <span class=\"number\">1</span>); <span class=\"comment\">// 邻接表，list为C++里的链表</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> (m--) &#123;</span><br><span class=\"line\">    cin &gt;&gt; s &gt;&gt; t;</span><br><span class=\"line\">    <span class=\"comment\">// 使用邻接表 ，表示 s -&gt; t 是相连的</span></span><br><span class=\"line\">    graph[s].<span class=\"built_in\">push_back</span>(t);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"深度优先搜索三部曲\">深度优先搜索三部曲</h3>\n<ol>\n<li>确认递归函数，参数</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result; <span class=\"comment\">// 收集符合条件的路径</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; path; <span class=\"comment\">// 0节点到终点的路径</span></span><br><span class=\"line\"><span class=\"comment\">// x：目前遍历的节点</span></span><br><span class=\"line\"><span class=\"comment\">// graph：存当前的图</span></span><br><span class=\"line\"><span class=\"comment\">// n：终点</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span> <span class=\"params\">(<span class=\"type\">const</span> vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; graph, <span class=\"type\">int</span> x, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>确认终止条件</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 当前遍历的节点x 到达节点n </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (x == n) &#123; <span class=\"comment\">// 找到符合条件的一条路径</span></span><br><span class=\"line\">    result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>处理目前搜索节点出发的路径</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; i++) &#123; <span class=\"comment\">// 遍历节点x链接的所有节点</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (graph[x][i] == <span class=\"number\">1</span>) &#123; <span class=\"comment\">// 找到 x链接的节点</span></span><br><span class=\"line\">        path.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 遍历到的节点加入到路径中来</span></span><br><span class=\"line\">        <span class=\"built_in\">dfs</span>(graph, i, n); <span class=\"comment\">// 进入下一层递归</span></span><br><span class=\"line\">        path.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯，撤销本节点</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>打印结果</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 输出结果</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (result.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>) cout &lt;&lt; <span class=\"number\">-1</span> &lt;&lt; endl;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;pa : result) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>; i++) &#123; <span class=\"comment\">// 这里指打印到倒数第二个</span></span><br><span class=\"line\">        cout &lt;&lt; pa[i] &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    cout &lt;&lt; pa[pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>]  &lt;&lt; endl; <span class=\"comment\">// 这里再打印倒数第一个，控制最后一个元素后面没有空格</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"例题：所有可能的路径\">例题：所有可能的路径</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/all-paths-from-source-to-target/\">797. 所有可能的路径</a></p>\n<h4 id=\"邻接矩阵写法\">邻接矩阵写法</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\">vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result; <span class=\"comment\">// 收集符合条件的路径</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; path; <span class=\"comment\">// 1节点到终点的路径</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span> <span class=\"params\">(<span class=\"type\">const</span> vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; graph, <span class=\"type\">int</span> x, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 当前遍历的节点x 到达节点n </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (x == n) &#123; <span class=\"comment\">// 找到符合条件的一条路径</span></span><br><span class=\"line\">        result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; i++) &#123; <span class=\"comment\">// 遍历节点x链接的所有节点</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (graph[x][i] == <span class=\"number\">1</span>) &#123; <span class=\"comment\">// 找到 x链接的节点</span></span><br><span class=\"line\">            path.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 遍历到的节点加入到路径中来</span></span><br><span class=\"line\">            <span class=\"built_in\">dfs</span>(graph, i, n); <span class=\"comment\">// 进入下一层递归</span></span><br><span class=\"line\">            path.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯，撤销本节点</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n, m, s, t;</span><br><span class=\"line\">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 节点编号从1到n，所以申请 n+1 这么大的数组</span></span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">graph</span>(n + <span class=\"number\">1</span>, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n + <span class=\"number\">1</span>, <span class=\"number\">0</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (m--) &#123;</span><br><span class=\"line\">        cin &gt;&gt; s &gt;&gt; t;</span><br><span class=\"line\">        <span class=\"comment\">// 使用邻接矩阵 表示无线图，1 表示 s 与 t 是相连的</span></span><br><span class=\"line\">        graph[s][t] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    path.<span class=\"built_in\">push_back</span>(<span class=\"number\">1</span>); <span class=\"comment\">// 无论什么路径已经是从0节点出发</span></span><br><span class=\"line\">    <span class=\"built_in\">dfs</span>(graph, <span class=\"number\">1</span>, n); <span class=\"comment\">// 开始遍历</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 输出结果</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (result.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>) cout &lt;&lt; <span class=\"number\">-1</span> &lt;&lt; endl;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;pa : result) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">            cout &lt;&lt; pa[i] &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        cout &lt;&lt; pa[pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>]  &lt;&lt; endl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"邻接表写法\">邻接表写法</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;list&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result; <span class=\"comment\">// 收集符合条件的路径</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; path; <span class=\"comment\">// 1节点到终点的路径</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span> <span class=\"params\">(<span class=\"type\">const</span> vector&lt;list&lt;<span class=\"type\">int</span>&gt;&gt;&amp; graph, <span class=\"type\">int</span> x, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (x == n) &#123; <span class=\"comment\">// 找到符合条件的一条路径</span></span><br><span class=\"line\">        result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i : graph[x]) &#123; <span class=\"comment\">// 找到 x指向的节点</span></span><br><span class=\"line\">        path.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 遍历到的节点加入到路径中来</span></span><br><span class=\"line\">        <span class=\"built_in\">dfs</span>(graph, i, n); <span class=\"comment\">// 进入下一层递归</span></span><br><span class=\"line\">        path.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯，撤销本节点</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n, m, s, t;</span><br><span class=\"line\">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 节点编号从1到n，所以申请 n+1 这么大的数组</span></span><br><span class=\"line\">    vector&lt;list&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">graph</span>(n + <span class=\"number\">1</span>); <span class=\"comment\">// 邻接表</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (m--) &#123;</span><br><span class=\"line\">        cin &gt;&gt; s &gt;&gt; t;</span><br><span class=\"line\">        <span class=\"comment\">// 使用邻接表 ，表示 s -&gt; t 是相连的</span></span><br><span class=\"line\">        graph[s].<span class=\"built_in\">push_back</span>(t);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    path.<span class=\"built_in\">push_back</span>(<span class=\"number\">1</span>); <span class=\"comment\">// 无论什么路径已经是从0节点出发</span></span><br><span class=\"line\">    <span class=\"built_in\">dfs</span>(graph, <span class=\"number\">1</span>, n); <span class=\"comment\">// 开始遍历</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 输出结果</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (result.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>) cout &lt;&lt; <span class=\"number\">-1</span> &lt;&lt; endl;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;pa : result) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">            cout &lt;&lt; pa[i] &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        cout &lt;&lt; pa[pa.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>]  &lt;&lt; endl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"代码随想录--回溯算法","date":"2025-03-04T14:31:53.000Z","updated":"2025-03-08T13:34:40.290Z","description":"代码随想录--回溯算法（1）","_content":"\n## 回溯\n\n### 组合\n\n题目链接：[77. 组合](https://leetcode.cn/problems/combinations/)\n\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20201123195242899.png\" style=\"zoom: 50%;\" />\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> result; // 存放符合条件结果的集合\n    vector<int> path; // 用来存放符合条件结果\n    void backtracking(int n, int k, int startIndex) {\n        if (path.size() == k) {\n            result.push_back(path);\n            return;\n        }\n        for (int i = startIndex; i <= n; i++) {\n            path.push_back(i); // 处理节点\n            backtracking(n, k, i + 1); // 递归\n            path.pop_back(); // 回溯，撤销处理的节点\n        }\n    }\npublic:\n    vector<vector<int>> combine(int n, int k) {\n        result.clear(); // 可以不写\n        path.clear();   // 可以不写\n        backtracking(n, k, 1);\n        return result;\n    }\n};\n```\n\n#### 回溯剪枝\n\n剪枝的地方就在递归中每一层的for循环所选择的起始位置。\n\n如果for循环选择的起始位置之后的元素个数 已经不足 我们需要的元素个数了，那么就没有必要搜索了。\n\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20210130194335207.png\" style=\"zoom: 50%;\" />\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> result;\n    vector<int> path;\n    void backtracking(int n, int k, int startIndex) {\n        if (path.size() == k) {\n            result.push_back(path);\n            return;\n        }\n        for (int i = startIndex; i <= n - (k - path.size()) + 1; i++) { // 优化的地方\n            path.push_back(i); // 处理节点\n            backtracking(n, k, i + 1);\n            path.pop_back(); // 回溯，撤销处理的节点\n        }\n    }\npublic:\n    vector<vector<int>> combine(int n, int k) {\n        backtracking(n, k, 1);\n        return result;\n    }\n};\n```\n\n### 组合总和 III\n\n题目链接：[216. 组合总和 III](https://leetcode.cn/problems/combination-sum-iii/)\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> ans;\n    vector<int> an;\n    int sum=0;\n    void track(int n,int k,int s){\n        if(an.size()==k && sum==n){\n            ans.push_back(an);\n            return;\n        }\n        if(sum>n) return;\n        for(int i=s;i<=9;i++){\n            an.push_back(i);\n            sum+=i;\n            track(n,k,i+1);\n            sum-=i;\n            an.pop_back();\n        }\n    }\npublic:\n    vector<vector<int>> combinationSum3(int k, int n) {\n        track(n,k,1);\n        return ans;\n    }\n};\n```\n\n### 电话号码的字母组合\n\n题目链接：[17. 电话号码的字母组合](https://leetcode.cn/problems/letter-combinations-of-a-phone-number/)\n\n```c++\nclass Solution {\nprivate:\n    vector<string> ans; // 存储最终结果，字符串组合\n    string combination;   // 当前正在构建的字符串组合\n    string phoneMap[10] = {\"\", \"\", \"abc\", \"def\", \"ghi\", \"jkl\", \"mno\", \"pqrs\", \"tuv\", \"wxyz\"}; // 电话号码数字到字母的映射\n    void backtracking(string digits, int index) {\n        if (index == digits.size()) { // 递归终止条件：当处理完所有数字时\n            ans.push_back(combination); // 将当前组合添加到结果集\n            return;\n        }\n        char digitChar = digits[index]; // 获取当前处理的数字字符\n        int digitIndex = digitChar - '0'; // 将数字字符转换为整数索引 (0-9)\n        string letters = phoneMap[digitIndex]; // 获取数字对应的字母字符串\n        for (char letter : letters) { // 遍历当前数字对应的每个字母\n            combination.push_back(letter); // 将当前字母添加到组合中\n            backtracking(digits, index + 1); // 递归处理下一个数字，索引 + 1\n            combination.pop_back(); // 回溯：移除最后一个添加的字母，尝试下一个字母\n        }\n    }\npublic:\n    vector<string> letterCombinations(string digits) {\n        ans.clear(); // 清空结果集\n        combination.clear(); // 清空当前组合\n        if (digits.empty()) { // 如果输入 digits 为空，直接返回空结果集\n            return ans;\n        }\n        backtracking(digits, 0); // 从 digits 的第一个数字开始回溯，索引从 0 开始\n        return ans;\n    }\n};\n```\n\n### 组合总和\n\n题目链接：[39. 组合总和](https://leetcode.cn/problems/combination-sum/)\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> ans;\n    vector<int> an;\n    void track(vector<int>& candidates, int target, int startIndex){\n        if(target == 0){\n            ans.push_back(an);\n            return;\n        }\n        if(target < 0) return;\n        for(int i = startIndex; i < candidates.size(); i++){\n            an.push_back(candidates[i]);\n            track(candidates, target - candidates[i], i); // 注意这里是 i，允许重复使用同一元素\n            an.pop_back();\n        }\n    }\npublic:\n    vector<vector<int>> combinationSum(vector<int>& candidates, int target) {\n        ans.clear();\n        an.clear();\n        track(candidates, target, 0);\n        return ans;\n    }\n};\n```\n\n### 组合总和 II\n\n题目链接：[40. 组合总和 II](https://leetcode.cn/problems/combination-sum-ii/)\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> ans;\n    vector<int> an;\n    void track(vector<int>& candidates, int target, int inx) {\n        if (target == 0) {\n            ans.push_back(an);\n            return;\n        }\n        if (target < 0) return;\n        for (int i = inx; i < candidates.size(); i++) {\n            if (i > inx && candidates[i] == candidates[i - 1]) continue; // 如果该元素与左边元素相等，说明该搜索分支重复，直接跳过\n            an.push_back(candidates[i]);\n            track(candidates, target - candidates[i], i + 1); \n            an.pop_back();\n        }\n    }\npublic:\n    vector<vector<int>> combinationSum2(vector<int>& candidates, int target) {\n        sort(candidates.begin(), candidates.end());\n        track(candidates, target, 0);\n        return ans;\n    }\n};\n```\n\n### 子集\n\n题目链接：[78. 子集](https://leetcode.cn/problems/subsets/)\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> ans;\n    vector<int> an;\n    void track(vector<int>& nums,int idx){\n        int n=nums.size();\n        ans.push_back(an);\n        for(int i=idx;i<n;i++){\n            an.push_back(nums[i]);\n            track(nums,i+1);\n            an.pop_back();\n        }\n    }\npublic:\n    vector<vector<int>> subsets(vector<int>& nums) {\n        track(nums,0);\n        return ans;\n    }\n};\n```\n\n### 子集 II\n\n题目链接：[90. 子集 II](https://leetcode.cn/problems/subsets-ii/)\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> ans;\n    vector<int> an;\n    void track(vector<int>& nums,int idx){\n        int n=nums.size();\n        ans.push_back(an);\n        for(int i=idx;i<n;i++){\n            if(i>idx && nums[i]==nums[i-1]) continue;\n            an.push_back(nums[i]);\n            track(nums,i+1);\n            an.pop_back();\n        }\n    }\npublic:\n    vector<vector<int>> subsetsWithDup(vector<int>& nums) {\n        sort(nums.begin(),nums.end());\n        track(nums,0);\n        return ans;\n    }\n};\n```\n\n","source":"_posts/12day.md","raw":"---\ntitle: 代码随想录--回溯算法\ndate: 2025-03-04 22:31:53\ntags: [数据结构与算法,回溯,递归,剪枝]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--回溯算法（1）\n---\n\n## 回溯\n\n### 组合\n\n题目链接：[77. 组合](https://leetcode.cn/problems/combinations/)\n\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20201123195242899.png\" style=\"zoom: 50%;\" />\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> result; // 存放符合条件结果的集合\n    vector<int> path; // 用来存放符合条件结果\n    void backtracking(int n, int k, int startIndex) {\n        if (path.size() == k) {\n            result.push_back(path);\n            return;\n        }\n        for (int i = startIndex; i <= n; i++) {\n            path.push_back(i); // 处理节点\n            backtracking(n, k, i + 1); // 递归\n            path.pop_back(); // 回溯，撤销处理的节点\n        }\n    }\npublic:\n    vector<vector<int>> combine(int n, int k) {\n        result.clear(); // 可以不写\n        path.clear();   // 可以不写\n        backtracking(n, k, 1);\n        return result;\n    }\n};\n```\n\n#### 回溯剪枝\n\n剪枝的地方就在递归中每一层的for循环所选择的起始位置。\n\n如果for循环选择的起始位置之后的元素个数 已经不足 我们需要的元素个数了，那么就没有必要搜索了。\n\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20210130194335207.png\" style=\"zoom: 50%;\" />\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> result;\n    vector<int> path;\n    void backtracking(int n, int k, int startIndex) {\n        if (path.size() == k) {\n            result.push_back(path);\n            return;\n        }\n        for (int i = startIndex; i <= n - (k - path.size()) + 1; i++) { // 优化的地方\n            path.push_back(i); // 处理节点\n            backtracking(n, k, i + 1);\n            path.pop_back(); // 回溯，撤销处理的节点\n        }\n    }\npublic:\n    vector<vector<int>> combine(int n, int k) {\n        backtracking(n, k, 1);\n        return result;\n    }\n};\n```\n\n### 组合总和 III\n\n题目链接：[216. 组合总和 III](https://leetcode.cn/problems/combination-sum-iii/)\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> ans;\n    vector<int> an;\n    int sum=0;\n    void track(int n,int k,int s){\n        if(an.size()==k && sum==n){\n            ans.push_back(an);\n            return;\n        }\n        if(sum>n) return;\n        for(int i=s;i<=9;i++){\n            an.push_back(i);\n            sum+=i;\n            track(n,k,i+1);\n            sum-=i;\n            an.pop_back();\n        }\n    }\npublic:\n    vector<vector<int>> combinationSum3(int k, int n) {\n        track(n,k,1);\n        return ans;\n    }\n};\n```\n\n### 电话号码的字母组合\n\n题目链接：[17. 电话号码的字母组合](https://leetcode.cn/problems/letter-combinations-of-a-phone-number/)\n\n```c++\nclass Solution {\nprivate:\n    vector<string> ans; // 存储最终结果，字符串组合\n    string combination;   // 当前正在构建的字符串组合\n    string phoneMap[10] = {\"\", \"\", \"abc\", \"def\", \"ghi\", \"jkl\", \"mno\", \"pqrs\", \"tuv\", \"wxyz\"}; // 电话号码数字到字母的映射\n    void backtracking(string digits, int index) {\n        if (index == digits.size()) { // 递归终止条件：当处理完所有数字时\n            ans.push_back(combination); // 将当前组合添加到结果集\n            return;\n        }\n        char digitChar = digits[index]; // 获取当前处理的数字字符\n        int digitIndex = digitChar - '0'; // 将数字字符转换为整数索引 (0-9)\n        string letters = phoneMap[digitIndex]; // 获取数字对应的字母字符串\n        for (char letter : letters) { // 遍历当前数字对应的每个字母\n            combination.push_back(letter); // 将当前字母添加到组合中\n            backtracking(digits, index + 1); // 递归处理下一个数字，索引 + 1\n            combination.pop_back(); // 回溯：移除最后一个添加的字母，尝试下一个字母\n        }\n    }\npublic:\n    vector<string> letterCombinations(string digits) {\n        ans.clear(); // 清空结果集\n        combination.clear(); // 清空当前组合\n        if (digits.empty()) { // 如果输入 digits 为空，直接返回空结果集\n            return ans;\n        }\n        backtracking(digits, 0); // 从 digits 的第一个数字开始回溯，索引从 0 开始\n        return ans;\n    }\n};\n```\n\n### 组合总和\n\n题目链接：[39. 组合总和](https://leetcode.cn/problems/combination-sum/)\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> ans;\n    vector<int> an;\n    void track(vector<int>& candidates, int target, int startIndex){\n        if(target == 0){\n            ans.push_back(an);\n            return;\n        }\n        if(target < 0) return;\n        for(int i = startIndex; i < candidates.size(); i++){\n            an.push_back(candidates[i]);\n            track(candidates, target - candidates[i], i); // 注意这里是 i，允许重复使用同一元素\n            an.pop_back();\n        }\n    }\npublic:\n    vector<vector<int>> combinationSum(vector<int>& candidates, int target) {\n        ans.clear();\n        an.clear();\n        track(candidates, target, 0);\n        return ans;\n    }\n};\n```\n\n### 组合总和 II\n\n题目链接：[40. 组合总和 II](https://leetcode.cn/problems/combination-sum-ii/)\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> ans;\n    vector<int> an;\n    void track(vector<int>& candidates, int target, int inx) {\n        if (target == 0) {\n            ans.push_back(an);\n            return;\n        }\n        if (target < 0) return;\n        for (int i = inx; i < candidates.size(); i++) {\n            if (i > inx && candidates[i] == candidates[i - 1]) continue; // 如果该元素与左边元素相等，说明该搜索分支重复，直接跳过\n            an.push_back(candidates[i]);\n            track(candidates, target - candidates[i], i + 1); \n            an.pop_back();\n        }\n    }\npublic:\n    vector<vector<int>> combinationSum2(vector<int>& candidates, int target) {\n        sort(candidates.begin(), candidates.end());\n        track(candidates, target, 0);\n        return ans;\n    }\n};\n```\n\n### 子集\n\n题目链接：[78. 子集](https://leetcode.cn/problems/subsets/)\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> ans;\n    vector<int> an;\n    void track(vector<int>& nums,int idx){\n        int n=nums.size();\n        ans.push_back(an);\n        for(int i=idx;i<n;i++){\n            an.push_back(nums[i]);\n            track(nums,i+1);\n            an.pop_back();\n        }\n    }\npublic:\n    vector<vector<int>> subsets(vector<int>& nums) {\n        track(nums,0);\n        return ans;\n    }\n};\n```\n\n### 子集 II\n\n题目链接：[90. 子集 II](https://leetcode.cn/problems/subsets-ii/)\n\n```c++\nclass Solution {\nprivate:\n    vector<vector<int>> ans;\n    vector<int> an;\n    void track(vector<int>& nums,int idx){\n        int n=nums.size();\n        ans.push_back(an);\n        for(int i=idx;i<n;i++){\n            if(i>idx && nums[i]==nums[i-1]) continue;\n            an.push_back(nums[i]);\n            track(nums,i+1);\n            an.pop_back();\n        }\n    }\npublic:\n    vector<vector<int>> subsetsWithDup(vector<int>& nums) {\n        sort(nums.begin(),nums.end());\n        track(nums,0);\n        return ans;\n    }\n};\n```\n\n","slug":"12day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbami100071swm9kt6gpvr","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"回溯\">回溯</h2>\n<h3 id=\"组合\">组合</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/combinations/\">77. 组合</a></p>\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20201123195242899.png\" style=\"zoom: 50%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result; <span class=\"comment\">// 存放符合条件结果的集合</span></span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; path; <span class=\"comment\">// 用来存放符合条件结果</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">backtracking</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k, <span class=\"type\">int</span> startIndex)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (path.<span class=\"built_in\">size</span>() == k) &#123;</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = startIndex; i &lt;= n; i++) &#123;</span><br><span class=\"line\">            path.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 处理节点</span></span><br><span class=\"line\">            <span class=\"built_in\">backtracking</span>(n, k, i + <span class=\"number\">1</span>); <span class=\"comment\">// 递归</span></span><br><span class=\"line\">            path.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯，撤销处理的节点</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combine</span>(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k) &#123;</span><br><span class=\"line\">        result.<span class=\"built_in\">clear</span>(); <span class=\"comment\">// 可以不写</span></span><br><span class=\"line\">        path.<span class=\"built_in\">clear</span>();   <span class=\"comment\">// 可以不写</span></span><br><span class=\"line\">        <span class=\"built_in\">backtracking</span>(n, k, <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"回溯剪枝\">回溯剪枝</h4>\n<p>剪枝的地方就在递归中每一层的for循环所选择的起始位置。</p>\n<p>如果for循环选择的起始位置之后的元素个数 已经不足 我们需要的元素个数了，那么就没有必要搜索了。</p>\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20210130194335207.png\" style=\"zoom: 50%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; path;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">backtracking</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k, <span class=\"type\">int</span> startIndex)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (path.<span class=\"built_in\">size</span>() == k) &#123;</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = startIndex; i &lt;= n - (k - path.<span class=\"built_in\">size</span>()) + <span class=\"number\">1</span>; i++) &#123; <span class=\"comment\">// 优化的地方</span></span><br><span class=\"line\">            path.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 处理节点</span></span><br><span class=\"line\">            <span class=\"built_in\">backtracking</span>(n, k, i + <span class=\"number\">1</span>);</span><br><span class=\"line\">            path.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯，撤销处理的节点</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combine</span>(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">backtracking</span>(n, k, <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"组合总和-III\">组合总和 III</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/combination-sum-iii/\">216. 组合总和 III</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; an;</span><br><span class=\"line\">    <span class=\"type\">int</span> sum=<span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">track</span><span class=\"params\">(<span class=\"type\">int</span> n,<span class=\"type\">int</span> k,<span class=\"type\">int</span> s)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(an.<span class=\"built_in\">size</span>()==k &amp;&amp; sum==n)&#123;</span><br><span class=\"line\">            ans.<span class=\"built_in\">push_back</span>(an);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(sum&gt;n) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=s;i&lt;=<span class=\"number\">9</span>;i++)&#123;</span><br><span class=\"line\">            an.<span class=\"built_in\">push_back</span>(i);</span><br><span class=\"line\">            sum+=i;</span><br><span class=\"line\">            <span class=\"built_in\">track</span>(n,k,i<span class=\"number\">+1</span>);</span><br><span class=\"line\">            sum-=i;</span><br><span class=\"line\">            an.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combinationSum3</span>(<span class=\"type\">int</span> k, <span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">track</span>(n,k,<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"电话号码的字母组合\">电话号码的字母组合</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/letter-combinations-of-a-phone-number/\">17. 电话号码的字母组合</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;string&gt; ans; <span class=\"comment\">// 存储最终结果，字符串组合</span></span><br><span class=\"line\">    string combination;   <span class=\"comment\">// 当前正在构建的字符串组合</span></span><br><span class=\"line\">    string phoneMap[<span class=\"number\">10</span>] = &#123;<span class=\"string\">&quot;&quot;</span>, <span class=\"string\">&quot;&quot;</span>, <span class=\"string\">&quot;abc&quot;</span>, <span class=\"string\">&quot;def&quot;</span>, <span class=\"string\">&quot;ghi&quot;</span>, <span class=\"string\">&quot;jkl&quot;</span>, <span class=\"string\">&quot;mno&quot;</span>, <span class=\"string\">&quot;pqrs&quot;</span>, <span class=\"string\">&quot;tuv&quot;</span>, <span class=\"string\">&quot;wxyz&quot;</span>&#125;; <span class=\"comment\">// 电话号码数字到字母的映射</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">backtracking</span><span class=\"params\">(string digits, <span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index == digits.<span class=\"built_in\">size</span>()) &#123; <span class=\"comment\">// 递归终止条件：当处理完所有数字时</span></span><br><span class=\"line\">            ans.<span class=\"built_in\">push_back</span>(combination); <span class=\"comment\">// 将当前组合添加到结果集</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">char</span> digitChar = digits[index]; <span class=\"comment\">// 获取当前处理的数字字符</span></span><br><span class=\"line\">        <span class=\"type\">int</span> digitIndex = digitChar - <span class=\"string\">&#x27;0&#x27;</span>; <span class=\"comment\">// 将数字字符转换为整数索引 (0-9)</span></span><br><span class=\"line\">        string letters = phoneMap[digitIndex]; <span class=\"comment\">// 获取数字对应的字母字符串</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">char</span> letter : letters) &#123; <span class=\"comment\">// 遍历当前数字对应的每个字母</span></span><br><span class=\"line\">            combination.<span class=\"built_in\">push_back</span>(letter); <span class=\"comment\">// 将当前字母添加到组合中</span></span><br><span class=\"line\">            <span class=\"built_in\">backtracking</span>(digits, index + <span class=\"number\">1</span>); <span class=\"comment\">// 递归处理下一个数字，索引 + 1</span></span><br><span class=\"line\">            combination.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯：移除最后一个添加的字母，尝试下一个字母</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;string&gt; <span class=\"title\">letterCombinations</span><span class=\"params\">(string digits)</span> </span>&#123;</span><br><span class=\"line\">        ans.<span class=\"built_in\">clear</span>(); <span class=\"comment\">// 清空结果集</span></span><br><span class=\"line\">        combination.<span class=\"built_in\">clear</span>(); <span class=\"comment\">// 清空当前组合</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (digits.<span class=\"built_in\">empty</span>()) &#123; <span class=\"comment\">// 如果输入 digits 为空，直接返回空结果集</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">backtracking</span>(digits, <span class=\"number\">0</span>); <span class=\"comment\">// 从 digits 的第一个数字开始回溯，索引从 0 开始</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"组合总和\">组合总和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/combination-sum/\">39. 组合总和</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; an;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">track</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; candidates, <span class=\"type\">int</span> target, <span class=\"type\">int</span> startIndex)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(target == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            ans.<span class=\"built_in\">push_back</span>(an);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(target &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = startIndex; i &lt; candidates.<span class=\"built_in\">size</span>(); i++)&#123;</span><br><span class=\"line\">            an.<span class=\"built_in\">push_back</span>(candidates[i]);</span><br><span class=\"line\">            <span class=\"built_in\">track</span>(candidates, target - candidates[i], i); <span class=\"comment\">// 注意这里是 i，允许重复使用同一元素</span></span><br><span class=\"line\">            an.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combinationSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; candidates, <span class=\"type\">int</span> target) &#123;</span><br><span class=\"line\">        ans.<span class=\"built_in\">clear</span>();</span><br><span class=\"line\">        an.<span class=\"built_in\">clear</span>();</span><br><span class=\"line\">        <span class=\"built_in\">track</span>(candidates, target, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"组合总和-II\">组合总和 II</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/combination-sum-ii/\">40. 组合总和 II</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; an;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">track</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; candidates, <span class=\"type\">int</span> target, <span class=\"type\">int</span> inx)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            ans.<span class=\"built_in\">push_back</span>(an);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = inx; i &lt; candidates.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt; inx &amp;&amp; candidates[i] == candidates[i - <span class=\"number\">1</span>]) <span class=\"keyword\">continue</span>; <span class=\"comment\">// 如果该元素与左边元素相等，说明该搜索分支重复，直接跳过</span></span><br><span class=\"line\">            an.<span class=\"built_in\">push_back</span>(candidates[i]);</span><br><span class=\"line\">            <span class=\"built_in\">track</span>(candidates, target - candidates[i], i + <span class=\"number\">1</span>); </span><br><span class=\"line\">            an.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combinationSum2</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; candidates, <span class=\"type\">int</span> target) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(candidates.<span class=\"built_in\">begin</span>(), candidates.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"built_in\">track</span>(candidates, target, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"子集\">子集</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/subsets/\">78. 子集</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; an;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">track</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums,<span class=\"type\">int</span> idx)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        ans.<span class=\"built_in\">push_back</span>(an);</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=idx;i&lt;n;i++)&#123;</span><br><span class=\"line\">            an.<span class=\"built_in\">push_back</span>(nums[i]);</span><br><span class=\"line\">            <span class=\"built_in\">track</span>(nums,i<span class=\"number\">+1</span>);</span><br><span class=\"line\">            an.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">subsets</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">track</span>(nums,<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"子集-II\">子集 II</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/subsets-ii/\">90. 子集 II</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; an;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">track</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums,<span class=\"type\">int</span> idx)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        ans.<span class=\"built_in\">push_back</span>(an);</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=idx;i&lt;n;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i&gt;idx &amp;&amp; nums[i]==nums[i<span class=\"number\">-1</span>]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            an.<span class=\"built_in\">push_back</span>(nums[i]);</span><br><span class=\"line\">            <span class=\"built_in\">track</span>(nums,i<span class=\"number\">+1</span>);</span><br><span class=\"line\">            an.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">subsetsWithDup</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(),nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"built_in\">track</span>(nums,<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"回溯\">回溯</h2>\n<h3 id=\"组合\">组合</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/combinations/\">77. 组合</a></p>\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20201123195242899.png\" style=\"zoom: 50%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result; <span class=\"comment\">// 存放符合条件结果的集合</span></span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; path; <span class=\"comment\">// 用来存放符合条件结果</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">backtracking</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k, <span class=\"type\">int</span> startIndex)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (path.<span class=\"built_in\">size</span>() == k) &#123;</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = startIndex; i &lt;= n; i++) &#123;</span><br><span class=\"line\">            path.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 处理节点</span></span><br><span class=\"line\">            <span class=\"built_in\">backtracking</span>(n, k, i + <span class=\"number\">1</span>); <span class=\"comment\">// 递归</span></span><br><span class=\"line\">            path.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯，撤销处理的节点</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combine</span>(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k) &#123;</span><br><span class=\"line\">        result.<span class=\"built_in\">clear</span>(); <span class=\"comment\">// 可以不写</span></span><br><span class=\"line\">        path.<span class=\"built_in\">clear</span>();   <span class=\"comment\">// 可以不写</span></span><br><span class=\"line\">        <span class=\"built_in\">backtracking</span>(n, k, <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"回溯剪枝\">回溯剪枝</h4>\n<p>剪枝的地方就在递归中每一层的for循环所选择的起始位置。</p>\n<p>如果for循环选择的起始位置之后的元素个数 已经不足 我们需要的元素个数了，那么就没有必要搜索了。</p>\n<img src=\"https://code-thinking-1253855093.file.myqcloud.com/pics/20210130194335207.png\" style=\"zoom: 50%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; path;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">backtracking</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k, <span class=\"type\">int</span> startIndex)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (path.<span class=\"built_in\">size</span>() == k) &#123;</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = startIndex; i &lt;= n - (k - path.<span class=\"built_in\">size</span>()) + <span class=\"number\">1</span>; i++) &#123; <span class=\"comment\">// 优化的地方</span></span><br><span class=\"line\">            path.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 处理节点</span></span><br><span class=\"line\">            <span class=\"built_in\">backtracking</span>(n, k, i + <span class=\"number\">1</span>);</span><br><span class=\"line\">            path.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯，撤销处理的节点</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combine</span>(<span class=\"type\">int</span> n, <span class=\"type\">int</span> k) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">backtracking</span>(n, k, <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"组合总和-III\">组合总和 III</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/combination-sum-iii/\">216. 组合总和 III</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; an;</span><br><span class=\"line\">    <span class=\"type\">int</span> sum=<span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">track</span><span class=\"params\">(<span class=\"type\">int</span> n,<span class=\"type\">int</span> k,<span class=\"type\">int</span> s)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(an.<span class=\"built_in\">size</span>()==k &amp;&amp; sum==n)&#123;</span><br><span class=\"line\">            ans.<span class=\"built_in\">push_back</span>(an);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(sum&gt;n) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=s;i&lt;=<span class=\"number\">9</span>;i++)&#123;</span><br><span class=\"line\">            an.<span class=\"built_in\">push_back</span>(i);</span><br><span class=\"line\">            sum+=i;</span><br><span class=\"line\">            <span class=\"built_in\">track</span>(n,k,i<span class=\"number\">+1</span>);</span><br><span class=\"line\">            sum-=i;</span><br><span class=\"line\">            an.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combinationSum3</span>(<span class=\"type\">int</span> k, <span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">track</span>(n,k,<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"电话号码的字母组合\">电话号码的字母组合</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/letter-combinations-of-a-phone-number/\">17. 电话号码的字母组合</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;string&gt; ans; <span class=\"comment\">// 存储最终结果，字符串组合</span></span><br><span class=\"line\">    string combination;   <span class=\"comment\">// 当前正在构建的字符串组合</span></span><br><span class=\"line\">    string phoneMap[<span class=\"number\">10</span>] = &#123;<span class=\"string\">&quot;&quot;</span>, <span class=\"string\">&quot;&quot;</span>, <span class=\"string\">&quot;abc&quot;</span>, <span class=\"string\">&quot;def&quot;</span>, <span class=\"string\">&quot;ghi&quot;</span>, <span class=\"string\">&quot;jkl&quot;</span>, <span class=\"string\">&quot;mno&quot;</span>, <span class=\"string\">&quot;pqrs&quot;</span>, <span class=\"string\">&quot;tuv&quot;</span>, <span class=\"string\">&quot;wxyz&quot;</span>&#125;; <span class=\"comment\">// 电话号码数字到字母的映射</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">backtracking</span><span class=\"params\">(string digits, <span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index == digits.<span class=\"built_in\">size</span>()) &#123; <span class=\"comment\">// 递归终止条件：当处理完所有数字时</span></span><br><span class=\"line\">            ans.<span class=\"built_in\">push_back</span>(combination); <span class=\"comment\">// 将当前组合添加到结果集</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">char</span> digitChar = digits[index]; <span class=\"comment\">// 获取当前处理的数字字符</span></span><br><span class=\"line\">        <span class=\"type\">int</span> digitIndex = digitChar - <span class=\"string\">&#x27;0&#x27;</span>; <span class=\"comment\">// 将数字字符转换为整数索引 (0-9)</span></span><br><span class=\"line\">        string letters = phoneMap[digitIndex]; <span class=\"comment\">// 获取数字对应的字母字符串</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">char</span> letter : letters) &#123; <span class=\"comment\">// 遍历当前数字对应的每个字母</span></span><br><span class=\"line\">            combination.<span class=\"built_in\">push_back</span>(letter); <span class=\"comment\">// 将当前字母添加到组合中</span></span><br><span class=\"line\">            <span class=\"built_in\">backtracking</span>(digits, index + <span class=\"number\">1</span>); <span class=\"comment\">// 递归处理下一个数字，索引 + 1</span></span><br><span class=\"line\">            combination.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 回溯：移除最后一个添加的字母，尝试下一个字母</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;string&gt; <span class=\"title\">letterCombinations</span><span class=\"params\">(string digits)</span> </span>&#123;</span><br><span class=\"line\">        ans.<span class=\"built_in\">clear</span>(); <span class=\"comment\">// 清空结果集</span></span><br><span class=\"line\">        combination.<span class=\"built_in\">clear</span>(); <span class=\"comment\">// 清空当前组合</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (digits.<span class=\"built_in\">empty</span>()) &#123; <span class=\"comment\">// 如果输入 digits 为空，直接返回空结果集</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">backtracking</span>(digits, <span class=\"number\">0</span>); <span class=\"comment\">// 从 digits 的第一个数字开始回溯，索引从 0 开始</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"组合总和\">组合总和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/combination-sum/\">39. 组合总和</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; an;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">track</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; candidates, <span class=\"type\">int</span> target, <span class=\"type\">int</span> startIndex)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(target == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            ans.<span class=\"built_in\">push_back</span>(an);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(target &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = startIndex; i &lt; candidates.<span class=\"built_in\">size</span>(); i++)&#123;</span><br><span class=\"line\">            an.<span class=\"built_in\">push_back</span>(candidates[i]);</span><br><span class=\"line\">            <span class=\"built_in\">track</span>(candidates, target - candidates[i], i); <span class=\"comment\">// 注意这里是 i，允许重复使用同一元素</span></span><br><span class=\"line\">            an.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combinationSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; candidates, <span class=\"type\">int</span> target) &#123;</span><br><span class=\"line\">        ans.<span class=\"built_in\">clear</span>();</span><br><span class=\"line\">        an.<span class=\"built_in\">clear</span>();</span><br><span class=\"line\">        <span class=\"built_in\">track</span>(candidates, target, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"组合总和-II\">组合总和 II</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/combination-sum-ii/\">40. 组合总和 II</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; an;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">track</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; candidates, <span class=\"type\">int</span> target, <span class=\"type\">int</span> inx)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            ans.<span class=\"built_in\">push_back</span>(an);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (target &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = inx; i &lt; candidates.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt; inx &amp;&amp; candidates[i] == candidates[i - <span class=\"number\">1</span>]) <span class=\"keyword\">continue</span>; <span class=\"comment\">// 如果该元素与左边元素相等，说明该搜索分支重复，直接跳过</span></span><br><span class=\"line\">            an.<span class=\"built_in\">push_back</span>(candidates[i]);</span><br><span class=\"line\">            <span class=\"built_in\">track</span>(candidates, target - candidates[i], i + <span class=\"number\">1</span>); </span><br><span class=\"line\">            an.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combinationSum2</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; candidates, <span class=\"type\">int</span> target) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(candidates.<span class=\"built_in\">begin</span>(), candidates.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"built_in\">track</span>(candidates, target, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"子集\">子集</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/subsets/\">78. 子集</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; an;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">track</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums,<span class=\"type\">int</span> idx)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        ans.<span class=\"built_in\">push_back</span>(an);</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=idx;i&lt;n;i++)&#123;</span><br><span class=\"line\">            an.<span class=\"built_in\">push_back</span>(nums[i]);</span><br><span class=\"line\">            <span class=\"built_in\">track</span>(nums,i<span class=\"number\">+1</span>);</span><br><span class=\"line\">            an.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">subsets</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">track</span>(nums,<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"子集-II\">子集 II</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/subsets-ii/\">90. 子集 II</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; an;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">track</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums,<span class=\"type\">int</span> idx)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        ans.<span class=\"built_in\">push_back</span>(an);</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=idx;i&lt;n;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i&gt;idx &amp;&amp; nums[i]==nums[i<span class=\"number\">-1</span>]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            an.<span class=\"built_in\">push_back</span>(nums[i]);</span><br><span class=\"line\">            <span class=\"built_in\">track</span>(nums,i<span class=\"number\">+1</span>);</span><br><span class=\"line\">            an.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">subsetsWithDup</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(),nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"built_in\">track</span>(nums,<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"代码随想录--动态规划","date":"2025-03-11T06:14:03.000Z","updated":"2025-03-22T14:55:09.483Z","description":"代码随想录--动态规划（1）","_content":"\n## 动态规划\n\n动态规划，英文：Dynamic Programming，简称DP，如果某一问题有很多重叠子问题，使用动态规划是最有效的。所以动态规划中每一个状态一定是由上一个状态推导出来的，**这一点就区分于贪心**，贪心没有状态推导，而是从局部直接选最优的。\n\n### 斐波那契数\n\n题目链接：[509. 斐波那契数](https://leetcode.cn/problems/fibonacci-number/)\n\n前几天做过一个斐波那契用递归超时，动态规划感觉就是递归加剪枝。\n\n```c++\nclass Solution {\npublic:\n    int fib(int N) {\n        if (N <= 1) return N;\n        int dp[2];\n        dp[0] = 0;\n        dp[1] = 1;\n        for (int i = 2; i <= N; i++) {\n            int sum = dp[0] + dp[1];\n            dp[0] = dp[1];\n            dp[1] = sum;\n        }\n        return dp[1];\n    }\n};\n```\n\n### 爬楼梯\n\n题目链接：[70. 爬楼梯](https://leetcode.cn/problems/climbing-stairs/)\n\n按照题意，要上楼梯的话，第一步只有两种上法，要么走一级台阶要么走两级台阶，走了一级台阶之后，等于是还要上一个n-1级台阶的楼梯，同理，走了两级台阶的话就等于是还要上一个n-2级台阶的楼梯，以此类推这样动态规划的思想就体现出来了。\n\n```c++\nclass Solution {\npublic:\n    int climbStairs(int n) {\n        if (n <= 1) return n;\n        int dp[3];\n        dp[1] = 1;\n        dp[2] = 2;\n        for (int i = 3; i <= n; i++) {\n            int sum = dp[1] + dp[2];\n            dp[1] = dp[2];\n            dp[2] = sum;\n        }\n        return dp[2];\n    }\n};\n```\n\n### 使用最小花费爬楼梯\n\n题目链接：[746. 使用最小花费爬楼梯](https://leetcode.cn/problems/min-cost-climbing-stairs/)\n\n```c++\nclass Solution {\npublic:\n    int minCostClimbingStairs(vector<int>& cost) {\n        vector<int> dp(cost.size()+1);\n        for(int i=2;i<=cost.size();i++)\n        {\n            dp[i]=min(dp[i-1]+cost[i-1],dp[i-2]+cost[i-2]);\n        }\n        return dp[cost.size()];\n    }\n};\n```\n\n### 不同路径\n\n题目链接：[62. 不同路径](https://leetcode.cn/problems/unique-paths/)\n\n```c++\nclass Solution {\npublic:\n    int uniquePaths(int m, int n) {\n        vector f(m + 1, vector<int>(n + 1));\n        f[0][1] = 1;\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++) {\n                f[i + 1][j + 1] = f[i][j + 1] + f[i + 1][j];\n            }\n        }\n        return f[m][n];\n    }\n};\n```\n\n### 比特位计数\n\n题目链接：[LCR 003. 比特位计数](https://leetcode.cn/problems/w3tCBm/)\n\n#### 除以2\n\n如果 `i` 是偶数，那么 `i` 的二进制表示中 1 的个数与 `i / 2` 的二进制表示中 1 的个数相同。\n\n如果 `i` 是奇数，那么 `i` 的二进制表示中 1 的个数比 `i / 2` 的二进制表示中 1 的个数多 1。\n\n```c++\nclass Solution {\npublic:\n    vector<int> countBits(int n) {\n        vector<int> ans(n + 1);\n        ans[0] = 0;\n        for (int i = 1; i <= n; ++i) {\n            if (i % 2 == 0) {\n                ans[i] = ans[i / 2];\n            } else {\n                ans[i] = ans[i / 2] + 1;\n            }\n        }\n        return ans;\n    }\n};\n```\n\n#### 位运算\n\n进行按位与运算 `i & (i - 1)` 后，从最右边的 1 开始的所有位都会变成 0，而其左边的位保持不变。因此，`i & (i - 1)` 的结果就是将 `i` 最右边的 1 去掉后得到的数字。\n\n```c++\nclass Solution {\npublic:\n    vector<int> countBits(int n) {\n        vector<int> ans(n + 1);\n        ans[0] = 0;\n        for (int i = 1; i <= n; ++i) {\n            ans[i] = ans[i & (i - 1)] + 1;\n        }\n        return ans;\n    }\n};\n```\n\n","source":"_posts/14day.md","raw":"---\ntitle: 代码随想录--动态规划\ndate: 2025-03-11 14:14:03\ntags: [数据结构与算法,动态规划]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--动态规划（1）\n---\n\n## 动态规划\n\n动态规划，英文：Dynamic Programming，简称DP，如果某一问题有很多重叠子问题，使用动态规划是最有效的。所以动态规划中每一个状态一定是由上一个状态推导出来的，**这一点就区分于贪心**，贪心没有状态推导，而是从局部直接选最优的。\n\n### 斐波那契数\n\n题目链接：[509. 斐波那契数](https://leetcode.cn/problems/fibonacci-number/)\n\n前几天做过一个斐波那契用递归超时，动态规划感觉就是递归加剪枝。\n\n```c++\nclass Solution {\npublic:\n    int fib(int N) {\n        if (N <= 1) return N;\n        int dp[2];\n        dp[0] = 0;\n        dp[1] = 1;\n        for (int i = 2; i <= N; i++) {\n            int sum = dp[0] + dp[1];\n            dp[0] = dp[1];\n            dp[1] = sum;\n        }\n        return dp[1];\n    }\n};\n```\n\n### 爬楼梯\n\n题目链接：[70. 爬楼梯](https://leetcode.cn/problems/climbing-stairs/)\n\n按照题意，要上楼梯的话，第一步只有两种上法，要么走一级台阶要么走两级台阶，走了一级台阶之后，等于是还要上一个n-1级台阶的楼梯，同理，走了两级台阶的话就等于是还要上一个n-2级台阶的楼梯，以此类推这样动态规划的思想就体现出来了。\n\n```c++\nclass Solution {\npublic:\n    int climbStairs(int n) {\n        if (n <= 1) return n;\n        int dp[3];\n        dp[1] = 1;\n        dp[2] = 2;\n        for (int i = 3; i <= n; i++) {\n            int sum = dp[1] + dp[2];\n            dp[1] = dp[2];\n            dp[2] = sum;\n        }\n        return dp[2];\n    }\n};\n```\n\n### 使用最小花费爬楼梯\n\n题目链接：[746. 使用最小花费爬楼梯](https://leetcode.cn/problems/min-cost-climbing-stairs/)\n\n```c++\nclass Solution {\npublic:\n    int minCostClimbingStairs(vector<int>& cost) {\n        vector<int> dp(cost.size()+1);\n        for(int i=2;i<=cost.size();i++)\n        {\n            dp[i]=min(dp[i-1]+cost[i-1],dp[i-2]+cost[i-2]);\n        }\n        return dp[cost.size()];\n    }\n};\n```\n\n### 不同路径\n\n题目链接：[62. 不同路径](https://leetcode.cn/problems/unique-paths/)\n\n```c++\nclass Solution {\npublic:\n    int uniquePaths(int m, int n) {\n        vector f(m + 1, vector<int>(n + 1));\n        f[0][1] = 1;\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++) {\n                f[i + 1][j + 1] = f[i][j + 1] + f[i + 1][j];\n            }\n        }\n        return f[m][n];\n    }\n};\n```\n\n### 比特位计数\n\n题目链接：[LCR 003. 比特位计数](https://leetcode.cn/problems/w3tCBm/)\n\n#### 除以2\n\n如果 `i` 是偶数，那么 `i` 的二进制表示中 1 的个数与 `i / 2` 的二进制表示中 1 的个数相同。\n\n如果 `i` 是奇数，那么 `i` 的二进制表示中 1 的个数比 `i / 2` 的二进制表示中 1 的个数多 1。\n\n```c++\nclass Solution {\npublic:\n    vector<int> countBits(int n) {\n        vector<int> ans(n + 1);\n        ans[0] = 0;\n        for (int i = 1; i <= n; ++i) {\n            if (i % 2 == 0) {\n                ans[i] = ans[i / 2];\n            } else {\n                ans[i] = ans[i / 2] + 1;\n            }\n        }\n        return ans;\n    }\n};\n```\n\n#### 位运算\n\n进行按位与运算 `i & (i - 1)` 后，从最右边的 1 开始的所有位都会变成 0，而其左边的位保持不变。因此，`i & (i - 1)` 的结果就是将 `i` 最右边的 1 去掉后得到的数字。\n\n```c++\nclass Solution {\npublic:\n    vector<int> countBits(int n) {\n        vector<int> ans(n + 1);\n        ans[0] = 0;\n        for (int i = 1; i <= n; ++i) {\n            ans[i] = ans[i & (i - 1)] + 1;\n        }\n        return ans;\n    }\n};\n```\n\n","slug":"14day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbami300091swmclmm7sx7","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"动态规划\">动态规划</h2>\n<p>动态规划，英文：Dynamic Programming，简称DP，如果某一问题有很多重叠子问题，使用动态规划是最有效的。所以动态规划中每一个状态一定是由上一个状态推导出来的，<strong>这一点就区分于贪心</strong>，贪心没有状态推导，而是从局部直接选最优的。</p>\n<h3 id=\"斐波那契数\">斐波那契数</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/fibonacci-number/\">509. 斐波那契数</a></p>\n<p>前几天做过一个斐波那契用递归超时，动态规划感觉就是递归加剪枝。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">fib</span><span class=\"params\">(<span class=\"type\">int</span> N)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (N &lt;= <span class=\"number\">1</span>) <span class=\"keyword\">return</span> N;</span><br><span class=\"line\">        <span class=\"type\">int</span> dp[<span class=\"number\">2</span>];</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        dp[<span class=\"number\">1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">2</span>; i &lt;= N; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> sum = dp[<span class=\"number\">0</span>] + dp[<span class=\"number\">1</span>];</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>] = dp[<span class=\"number\">1</span>];</span><br><span class=\"line\">            dp[<span class=\"number\">1</span>] = sum;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"爬楼梯\">爬楼梯</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/climbing-stairs/\">70. 爬楼梯</a></p>\n<p>按照题意，要上楼梯的话，第一步只有两种上法，要么走一级台阶要么走两级台阶，走了一级台阶之后，等于是还要上一个n-1级台阶的楼梯，同理，走了两级台阶的话就等于是还要上一个n-2级台阶的楼梯，以此类推这样动态规划的思想就体现出来了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">climbStairs</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">1</span>) <span class=\"keyword\">return</span> n;</span><br><span class=\"line\">        <span class=\"type\">int</span> dp[<span class=\"number\">3</span>];</span><br><span class=\"line\">        dp[<span class=\"number\">1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        dp[<span class=\"number\">2</span>] = <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">3</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> sum = dp[<span class=\"number\">1</span>] + dp[<span class=\"number\">2</span>];</span><br><span class=\"line\">            dp[<span class=\"number\">1</span>] = dp[<span class=\"number\">2</span>];</span><br><span class=\"line\">            dp[<span class=\"number\">2</span>] = sum;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">2</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"使用最小花费爬楼梯\">使用最小花费爬楼梯</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/min-cost-climbing-stairs/\">746. 使用最小花费爬楼梯</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minCostClimbingStairs</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">dp</span><span class=\"params\">(cost.size()<span class=\"number\">+1</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=cost.<span class=\"built_in\">size</span>();i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            dp[i]=<span class=\"built_in\">min</span>(dp[i<span class=\"number\">-1</span>]+cost[i<span class=\"number\">-1</span>],dp[i<span class=\"number\">-2</span>]+cost[i<span class=\"number\">-2</span>]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[cost.<span class=\"built_in\">size</span>()];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"不同路径\">不同路径</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/unique-paths/\">62. 不同路径</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">uniquePaths</span><span class=\"params\">(<span class=\"type\">int</span> m, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector <span class=\"title\">f</span><span class=\"params\">(m + <span class=\"number\">1</span>, vector&lt;<span class=\"type\">int</span>&gt;(n + <span class=\"number\">1</span>))</span></span>;</span><br><span class=\"line\">        f[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                f[i + <span class=\"number\">1</span>][j + <span class=\"number\">1</span>] = f[i][j + <span class=\"number\">1</span>] + f[i + <span class=\"number\">1</span>][j];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> f[m][n];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"比特位计数\">比特位计数</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/w3tCBm/\">LCR 003. 比特位计数</a></p>\n<h4 id=\"除以2\">除以2</h4>\n<p>如果 <code>i</code> 是偶数，那么 <code>i</code> 的二进制表示中 1 的个数与 <code>i / 2</code> 的二进制表示中 1 的个数相同。</p>\n<p>如果 <code>i</code> 是奇数，那么 <code>i</code> 的二进制表示中 1 的个数比 <code>i / 2</code> 的二进制表示中 1 的个数多 1。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">countBits</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">ans</span><span class=\"params\">(n + <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">        ans[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i % <span class=\"number\">2</span> == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                ans[i] = ans[i / <span class=\"number\">2</span>];</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                ans[i] = ans[i / <span class=\"number\">2</span>] + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"位运算\">位运算</h4>\n<p>进行按位与运算 <code>i &amp; (i - 1)</code> 后，从最右边的 1 开始的所有位都会变成 0，而其左边的位保持不变。因此，<code>i &amp; (i - 1)</code> 的结果就是将 <code>i</code> 最右边的 1 去掉后得到的数字。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">countBits</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">ans</span><span class=\"params\">(n + <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">        ans[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; ++i) &#123;</span><br><span class=\"line\">            ans[i] = ans[i &amp; (i - <span class=\"number\">1</span>)] + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"动态规划\">动态规划</h2>\n<p>动态规划，英文：Dynamic Programming，简称DP，如果某一问题有很多重叠子问题，使用动态规划是最有效的。所以动态规划中每一个状态一定是由上一个状态推导出来的，<strong>这一点就区分于贪心</strong>，贪心没有状态推导，而是从局部直接选最优的。</p>\n<h3 id=\"斐波那契数\">斐波那契数</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/fibonacci-number/\">509. 斐波那契数</a></p>\n<p>前几天做过一个斐波那契用递归超时，动态规划感觉就是递归加剪枝。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">fib</span><span class=\"params\">(<span class=\"type\">int</span> N)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (N &lt;= <span class=\"number\">1</span>) <span class=\"keyword\">return</span> N;</span><br><span class=\"line\">        <span class=\"type\">int</span> dp[<span class=\"number\">2</span>];</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        dp[<span class=\"number\">1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">2</span>; i &lt;= N; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> sum = dp[<span class=\"number\">0</span>] + dp[<span class=\"number\">1</span>];</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>] = dp[<span class=\"number\">1</span>];</span><br><span class=\"line\">            dp[<span class=\"number\">1</span>] = sum;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"爬楼梯\">爬楼梯</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/climbing-stairs/\">70. 爬楼梯</a></p>\n<p>按照题意，要上楼梯的话，第一步只有两种上法，要么走一级台阶要么走两级台阶，走了一级台阶之后，等于是还要上一个n-1级台阶的楼梯，同理，走了两级台阶的话就等于是还要上一个n-2级台阶的楼梯，以此类推这样动态规划的思想就体现出来了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">climbStairs</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">1</span>) <span class=\"keyword\">return</span> n;</span><br><span class=\"line\">        <span class=\"type\">int</span> dp[<span class=\"number\">3</span>];</span><br><span class=\"line\">        dp[<span class=\"number\">1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        dp[<span class=\"number\">2</span>] = <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">3</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> sum = dp[<span class=\"number\">1</span>] + dp[<span class=\"number\">2</span>];</span><br><span class=\"line\">            dp[<span class=\"number\">1</span>] = dp[<span class=\"number\">2</span>];</span><br><span class=\"line\">            dp[<span class=\"number\">2</span>] = sum;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">2</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"使用最小花费爬楼梯\">使用最小花费爬楼梯</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/min-cost-climbing-stairs/\">746. 使用最小花费爬楼梯</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minCostClimbingStairs</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">dp</span><span class=\"params\">(cost.size()<span class=\"number\">+1</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=cost.<span class=\"built_in\">size</span>();i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            dp[i]=<span class=\"built_in\">min</span>(dp[i<span class=\"number\">-1</span>]+cost[i<span class=\"number\">-1</span>],dp[i<span class=\"number\">-2</span>]+cost[i<span class=\"number\">-2</span>]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[cost.<span class=\"built_in\">size</span>()];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"不同路径\">不同路径</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/unique-paths/\">62. 不同路径</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">uniquePaths</span><span class=\"params\">(<span class=\"type\">int</span> m, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector <span class=\"title\">f</span><span class=\"params\">(m + <span class=\"number\">1</span>, vector&lt;<span class=\"type\">int</span>&gt;(n + <span class=\"number\">1</span>))</span></span>;</span><br><span class=\"line\">        f[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                f[i + <span class=\"number\">1</span>][j + <span class=\"number\">1</span>] = f[i][j + <span class=\"number\">1</span>] + f[i + <span class=\"number\">1</span>][j];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> f[m][n];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"比特位计数\">比特位计数</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/w3tCBm/\">LCR 003. 比特位计数</a></p>\n<h4 id=\"除以2\">除以2</h4>\n<p>如果 <code>i</code> 是偶数，那么 <code>i</code> 的二进制表示中 1 的个数与 <code>i / 2</code> 的二进制表示中 1 的个数相同。</p>\n<p>如果 <code>i</code> 是奇数，那么 <code>i</code> 的二进制表示中 1 的个数比 <code>i / 2</code> 的二进制表示中 1 的个数多 1。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">countBits</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">ans</span><span class=\"params\">(n + <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">        ans[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i % <span class=\"number\">2</span> == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                ans[i] = ans[i / <span class=\"number\">2</span>];</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                ans[i] = ans[i / <span class=\"number\">2</span>] + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"位运算\">位运算</h4>\n<p>进行按位与运算 <code>i &amp; (i - 1)</code> 后，从最右边的 1 开始的所有位都会变成 0，而其左边的位保持不变。因此，<code>i &amp; (i - 1)</code> 的结果就是将 <code>i</code> 最右边的 1 去掉后得到的数字。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">countBits</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">ans</span><span class=\"params\">(n + <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">        ans[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; ++i) &#123;</span><br><span class=\"line\">            ans[i] = ans[i &amp; (i - <span class=\"number\">1</span>)] + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"代码随想录--二叉树","date":"2025-02-19T07:10:38.000Z","updated":"2025-03-08T09:27:48.266Z","description":"代码随想录--二叉树（3）","_content":"\n## 二叉树\n\n### 完全二叉树的节点个数\n\n题目链接：[222. 完全二叉树的节点个数](https://leetcode.cn/problems/count-complete-tree-nodes/)\n\n迭代法：\n\n```c++\nclass Solution {\npublic:\n    int countNodes(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        int sum=0;\n        while(!q.empty()){\n            int s=q.size();\n            for(int i=0;i<s;i++){\n                TreeNode* node=q.front();\n                q.pop();\n                sum+=1;\n                if(node->right) q.push(node->right);\n                if(node->left) q.push(node->left);\n            }\n        }\n        return sum;\n    }\n};\n```\n\n\n\n### 平衡二叉树\n\n题目链接：[110. 平衡二叉树](https://leetcode.cn/problems/balanced-binary-tree/)\n\n```c++\nclass Solution {\n    int get_height(TreeNode* node){\n        if(node==NULL) return 0;\n        int left=get_height(node->left);\n        if(left==-1) return -1;\n        int right=get_height(node->right);\n        if(right==-1 || abs(left-right)>1) return -1;\n        return max(left,right)+1;\n    }\npublic: \n    bool isBalanced(TreeNode* root) {\n        return get_height(root) != -1;\n    }\n};\n```\n\n\n\n### 二叉树的所有路径\n\n题目链接：[257. 二叉树的所有路径](https://leetcode.cn/problems/binary-tree-paths/)\n\n**回溯和递归是一一对应的，有一个递归，就要有一个回溯**\n\n```c++\nclass Solution {\nprivate:\n\n    void traversal(TreeNode* cur, string path, vector<string>& result) {\n        path += to_string(cur->val); // 中\n        if (cur->left == NULL && cur->right == NULL) {\n            result.push_back(path);\n            return;\n        }\n        if (cur->left) traversal(cur->left, path + \"->\", result); // 左\n        if (cur->right) traversal(cur->right, path + \"->\", result); // 右\n    }\n\npublic:\n    vector<string> binaryTreePaths(TreeNode* root) {\n        vector<string> result;\n        string path;\n        if (root == NULL) return result;\n        traversal(root, path, result);\n        return result;\n\n    }\n};\n```\n\n\n\n\n\n```c++\nclass Solution {\npublic:\n    vector<string> binaryTreePaths(TreeNode* root) {\n        stack<TreeNode*> treeSt; \n        stack<string> path;\n        vector<string> ans;\n        if(root!=NULL) treeSt.push(root);\n        path.push(to_string(root->val));\n        while(!treeSt.empty()){\n            TreeNode* node=treeSt.top();\n            treeSt.pop();\n            string p=path.top();\n            path.pop();\n            if(node->right==NULL && node->left==NULL) ans.push_back(p);\n            if(node->left){\n                treeSt.push(node->left);\n                path.push(p+\"->\"+to_string(node->left->val));\n            }\n            if(node->right){\n                treeSt.push(node->right);\n                path.push(p+\"->\"+to_string(node->right->val));\n            }\n        }\n        return ans;\n    }\n};\n```\n\n### 左叶子之和\n\n题目链接：[404. 左叶子之和](https://leetcode.cn/problems/sum-of-left-leaves/)\n\n感觉还是迭代法简单好想\n\n```c++\nclass Solution {\npublic:\n    int sumOfLeftLeaves(TreeNode* root) {\n        stack<TreeNode*> s;\n        if(root!=NULL) s.push(root);\n        int sum=0;\n        while(!s.empty()){\n            TreeNode* node=s.top();\n            s.pop();\n            if(node->left && node->left->left==NULL && node->left->right==NULL) sum+=node->left->val;\n            if(node->left) s.push(node->left);\n            if(node->right) s.push(node->right);\n        }\n        return sum;\n    }\n};\n```\n\n递归法：\n\n```c++\nclass Solution {\npublic:\n    int sumOfLeftLeaves(TreeNode* root) {\n        if (root == NULL) return 0;\n        if (root->left == NULL && root->right== NULL) return 0;\n\n        int leftValue = sumOfLeftLeaves(root->left);    // 左\n        if (root->left && !root->left->left && !root->left->right) { // 左子树就是一个左叶子的情况\n            leftValue = root->left->val;\n        }\n        int rightValue = sumOfLeftLeaves(root->right);  // 右\n\n        int sum = leftValue + rightValue;               // 中\n        return sum;\n    }\n};\n```\n\n### 找树左下角的值\n\n题目链接：[513. 找树左下角的值](https://leetcode.cn/problems/find-bottom-left-tree-value/)\n\n#### 迭代法\n\n```c++\nclass Solution {\npublic:\n    int findBottomLeftValue(TreeNode* root) {\n        queue<TreeNode*> q;\n        int ans=0;\n        if(root!=NULL) q.push(root);\n        while(!q.empty()){\n            int s=q.size();\n            for(int i=0;i<s;i++)\n            {\n                TreeNode* node = q.front();\n                q.pop();\n                if(i==0) ans=node->val;\n                if(node->left) q.push(node->left);\n                if(node->right) q.push(node->right);\n            }\n        }\n        return ans;\n    }\n};\n```\n\n\n\n### 路径总和\n\n题目链接：[112. 路径总和](https://leetcode.cn/problems/path-sum/)\n\n#### 迭代法\n\n这题和二叉树的所有路径很像，就是把存储路径改成存储路径和。\n\n##### 版本一\n\n```c++\nclass Solution {\npublic:\n    bool hasPathSum(TreeNode* root, int targetSum) {\n        stack<TreeNode*> s;\n        stack<int> sums;  // 用来存储每个节点的路径和\n        if (root != NULL) {\n            s.push(root);  // 将根节点压入栈\n            sums.push(root->val);  // 将根节点的值作为初始路径和压入路径和栈\n        }  \n        while (!s.empty()) {\n            TreeNode* node = s.top();\n            int sum = sums.top();  // 获取当前节点的路径和\n            s.pop();\n            sums.pop();            \n            // 判断是否是叶子节点并且路径和等于目标值\n            if (node->left == NULL && node->right == NULL && sum == targetSum) {\n                return true;\n            }            \n            // 继续将左右子节点和更新后的路径和压入栈中\n            if (node->right) {\n                s.push(node->right);\n                sums.push(sum + node->right->val);\n            }\n            if (node->left) {\n                s.push(node->left);\n                sums.push(sum + node->left->val);\n            }\n        }        \n        return false;\n    }\n};\n```\n\n##### 版本二\n\n```c++\nclass Solution {\npublic:\n    bool hasPathSum(TreeNode* root, int targetSum) {\n        if (root == NULL) return false;       \n        stack<pair<TreeNode*, int>> s; // 使用栈存储节点和当前的路径和\n        s.push({root, root->val}); // 初始化，根节点和它的值      \n        while (!s.empty()) {\n            TreeNode* node = s.top().first;\n            int currentSum = s.top().second;\n            s.pop();   \n            // 判断是否是叶子节点，并且路径和是否等于目标值\n            if (node->left == NULL && node->right == NULL && currentSum == targetSum) {\n                return true;\n            }       \n            // 将子节点和更新后的路径和压入栈中\n            if (node->right) s.push({node->right, currentSum + node->right->val});\n            if (node->left) s.push({node->left, currentSum + node->left->val});\n        }     \n        return false;\n    }\n};\n```\n\n#### 递归法\n\n\n\n\n\n### 路径总和 II\n\n题目链接：[113. 路径总和 II](https://leetcode.cn/problems/path-sum-ii/)\n\n\n\n\n\n","source":"_posts/11day.md","raw":"---\ntitle: 代码随想录--二叉树\ndate: 2025-02-19 15:10:38\ntags: [数据结构与算法,二叉树,二叉树遍历,递归,迭代]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--二叉树（3）\n---\n\n## 二叉树\n\n### 完全二叉树的节点个数\n\n题目链接：[222. 完全二叉树的节点个数](https://leetcode.cn/problems/count-complete-tree-nodes/)\n\n迭代法：\n\n```c++\nclass Solution {\npublic:\n    int countNodes(TreeNode* root) {\n        queue<TreeNode*> q;\n        if(root!=NULL) q.push(root);\n        int sum=0;\n        while(!q.empty()){\n            int s=q.size();\n            for(int i=0;i<s;i++){\n                TreeNode* node=q.front();\n                q.pop();\n                sum+=1;\n                if(node->right) q.push(node->right);\n                if(node->left) q.push(node->left);\n            }\n        }\n        return sum;\n    }\n};\n```\n\n\n\n### 平衡二叉树\n\n题目链接：[110. 平衡二叉树](https://leetcode.cn/problems/balanced-binary-tree/)\n\n```c++\nclass Solution {\n    int get_height(TreeNode* node){\n        if(node==NULL) return 0;\n        int left=get_height(node->left);\n        if(left==-1) return -1;\n        int right=get_height(node->right);\n        if(right==-1 || abs(left-right)>1) return -1;\n        return max(left,right)+1;\n    }\npublic: \n    bool isBalanced(TreeNode* root) {\n        return get_height(root) != -1;\n    }\n};\n```\n\n\n\n### 二叉树的所有路径\n\n题目链接：[257. 二叉树的所有路径](https://leetcode.cn/problems/binary-tree-paths/)\n\n**回溯和递归是一一对应的，有一个递归，就要有一个回溯**\n\n```c++\nclass Solution {\nprivate:\n\n    void traversal(TreeNode* cur, string path, vector<string>& result) {\n        path += to_string(cur->val); // 中\n        if (cur->left == NULL && cur->right == NULL) {\n            result.push_back(path);\n            return;\n        }\n        if (cur->left) traversal(cur->left, path + \"->\", result); // 左\n        if (cur->right) traversal(cur->right, path + \"->\", result); // 右\n    }\n\npublic:\n    vector<string> binaryTreePaths(TreeNode* root) {\n        vector<string> result;\n        string path;\n        if (root == NULL) return result;\n        traversal(root, path, result);\n        return result;\n\n    }\n};\n```\n\n\n\n\n\n```c++\nclass Solution {\npublic:\n    vector<string> binaryTreePaths(TreeNode* root) {\n        stack<TreeNode*> treeSt; \n        stack<string> path;\n        vector<string> ans;\n        if(root!=NULL) treeSt.push(root);\n        path.push(to_string(root->val));\n        while(!treeSt.empty()){\n            TreeNode* node=treeSt.top();\n            treeSt.pop();\n            string p=path.top();\n            path.pop();\n            if(node->right==NULL && node->left==NULL) ans.push_back(p);\n            if(node->left){\n                treeSt.push(node->left);\n                path.push(p+\"->\"+to_string(node->left->val));\n            }\n            if(node->right){\n                treeSt.push(node->right);\n                path.push(p+\"->\"+to_string(node->right->val));\n            }\n        }\n        return ans;\n    }\n};\n```\n\n### 左叶子之和\n\n题目链接：[404. 左叶子之和](https://leetcode.cn/problems/sum-of-left-leaves/)\n\n感觉还是迭代法简单好想\n\n```c++\nclass Solution {\npublic:\n    int sumOfLeftLeaves(TreeNode* root) {\n        stack<TreeNode*> s;\n        if(root!=NULL) s.push(root);\n        int sum=0;\n        while(!s.empty()){\n            TreeNode* node=s.top();\n            s.pop();\n            if(node->left && node->left->left==NULL && node->left->right==NULL) sum+=node->left->val;\n            if(node->left) s.push(node->left);\n            if(node->right) s.push(node->right);\n        }\n        return sum;\n    }\n};\n```\n\n递归法：\n\n```c++\nclass Solution {\npublic:\n    int sumOfLeftLeaves(TreeNode* root) {\n        if (root == NULL) return 0;\n        if (root->left == NULL && root->right== NULL) return 0;\n\n        int leftValue = sumOfLeftLeaves(root->left);    // 左\n        if (root->left && !root->left->left && !root->left->right) { // 左子树就是一个左叶子的情况\n            leftValue = root->left->val;\n        }\n        int rightValue = sumOfLeftLeaves(root->right);  // 右\n\n        int sum = leftValue + rightValue;               // 中\n        return sum;\n    }\n};\n```\n\n### 找树左下角的值\n\n题目链接：[513. 找树左下角的值](https://leetcode.cn/problems/find-bottom-left-tree-value/)\n\n#### 迭代法\n\n```c++\nclass Solution {\npublic:\n    int findBottomLeftValue(TreeNode* root) {\n        queue<TreeNode*> q;\n        int ans=0;\n        if(root!=NULL) q.push(root);\n        while(!q.empty()){\n            int s=q.size();\n            for(int i=0;i<s;i++)\n            {\n                TreeNode* node = q.front();\n                q.pop();\n                if(i==0) ans=node->val;\n                if(node->left) q.push(node->left);\n                if(node->right) q.push(node->right);\n            }\n        }\n        return ans;\n    }\n};\n```\n\n\n\n### 路径总和\n\n题目链接：[112. 路径总和](https://leetcode.cn/problems/path-sum/)\n\n#### 迭代法\n\n这题和二叉树的所有路径很像，就是把存储路径改成存储路径和。\n\n##### 版本一\n\n```c++\nclass Solution {\npublic:\n    bool hasPathSum(TreeNode* root, int targetSum) {\n        stack<TreeNode*> s;\n        stack<int> sums;  // 用来存储每个节点的路径和\n        if (root != NULL) {\n            s.push(root);  // 将根节点压入栈\n            sums.push(root->val);  // 将根节点的值作为初始路径和压入路径和栈\n        }  \n        while (!s.empty()) {\n            TreeNode* node = s.top();\n            int sum = sums.top();  // 获取当前节点的路径和\n            s.pop();\n            sums.pop();            \n            // 判断是否是叶子节点并且路径和等于目标值\n            if (node->left == NULL && node->right == NULL && sum == targetSum) {\n                return true;\n            }            \n            // 继续将左右子节点和更新后的路径和压入栈中\n            if (node->right) {\n                s.push(node->right);\n                sums.push(sum + node->right->val);\n            }\n            if (node->left) {\n                s.push(node->left);\n                sums.push(sum + node->left->val);\n            }\n        }        \n        return false;\n    }\n};\n```\n\n##### 版本二\n\n```c++\nclass Solution {\npublic:\n    bool hasPathSum(TreeNode* root, int targetSum) {\n        if (root == NULL) return false;       \n        stack<pair<TreeNode*, int>> s; // 使用栈存储节点和当前的路径和\n        s.push({root, root->val}); // 初始化，根节点和它的值      \n        while (!s.empty()) {\n            TreeNode* node = s.top().first;\n            int currentSum = s.top().second;\n            s.pop();   \n            // 判断是否是叶子节点，并且路径和是否等于目标值\n            if (node->left == NULL && node->right == NULL && currentSum == targetSum) {\n                return true;\n            }       \n            // 将子节点和更新后的路径和压入栈中\n            if (node->right) s.push({node->right, currentSum + node->right->val});\n            if (node->left) s.push({node->left, currentSum + node->left->val});\n        }     \n        return false;\n    }\n};\n```\n\n#### 递归法\n\n\n\n\n\n### 路径总和 II\n\n题目链接：[113. 路径总和 II](https://leetcode.cn/problems/path-sum-ii/)\n\n\n\n\n\n","slug":"11day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbami4000b1swm9aox9no5","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"二叉树\">二叉树</h2>\n<h3 id=\"完全二叉树的节点个数\">完全二叉树的节点个数</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/count-complete-tree-nodes/\">222. 完全二叉树的节点个数</a></p>\n<p>迭代法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">countNodes</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"type\">int</span> sum=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> s=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s;i++)&#123;</span><br><span class=\"line\">                TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                sum+=<span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"平衡二叉树\">平衡二叉树</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/balanced-binary-tree/\">110. 平衡二叉树</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get_height</span><span class=\"params\">(TreeNode* node)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(node==<span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> left=<span class=\"built_in\">get_height</span>(node-&gt;left);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(left==<span class=\"number\">-1</span>) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> right=<span class=\"built_in\">get_height</span>(node-&gt;right);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(right==<span class=\"number\">-1</span> || <span class=\"built_in\">abs</span>(left-right)&gt;<span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>(left,right)<span class=\"number\">+1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>: </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isBalanced</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">get_height</span>(root) != <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的所有路径\">二叉树的所有路径</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-paths/\">257. 二叉树的所有路径</a></p>\n<p><strong>回溯和递归是一一对应的，有一个递归，就要有一个回溯</strong></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">traversal</span><span class=\"params\">(TreeNode* cur, string path, vector&lt;string&gt;&amp; result)</span> </span>&#123;</span><br><span class=\"line\">        path += <span class=\"built_in\">to_string</span>(cur-&gt;val); <span class=\"comment\">// 中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur-&gt;left == <span class=\"literal\">NULL</span> &amp;&amp; cur-&gt;right == <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur-&gt;left) <span class=\"built_in\">traversal</span>(cur-&gt;left, path + <span class=\"string\">&quot;-&gt;&quot;</span>, result); <span class=\"comment\">// 左</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur-&gt;right) <span class=\"built_in\">traversal</span>(cur-&gt;right, path + <span class=\"string\">&quot;-&gt;&quot;</span>, result); <span class=\"comment\">// 右</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;string&gt; <span class=\"title\">binaryTreePaths</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;string&gt; result;</span><br><span class=\"line\">        string path;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root, path, result);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;string&gt; <span class=\"title\">binaryTreePaths</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; treeSt; </span><br><span class=\"line\">        stack&lt;string&gt; path;</span><br><span class=\"line\">        vector&lt;string&gt; ans;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) treeSt.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        path.<span class=\"built_in\">push</span>(<span class=\"built_in\">to_string</span>(root-&gt;val));</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!treeSt.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            TreeNode* node=treeSt.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            treeSt.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            string p=path.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            path.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right==<span class=\"literal\">NULL</span> &amp;&amp; node-&gt;left==<span class=\"literal\">NULL</span>) ans.<span class=\"built_in\">push_back</span>(p);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left)&#123;</span><br><span class=\"line\">                treeSt.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                path.<span class=\"built_in\">push</span>(p+<span class=\"string\">&quot;-&gt;&quot;</span>+<span class=\"built_in\">to_string</span>(node-&gt;left-&gt;val));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right)&#123;</span><br><span class=\"line\">                treeSt.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                path.<span class=\"built_in\">push</span>(p+<span class=\"string\">&quot;-&gt;&quot;</span>+<span class=\"built_in\">to_string</span>(node-&gt;right-&gt;val));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"左叶子之和\">左叶子之和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/sum-of-left-leaves/\">404. 左叶子之和</a></p>\n<p>感觉还是迭代法简单好想</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">sumOfLeftLeaves</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) s.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"type\">int</span> sum=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!s.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            TreeNode* node=s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left &amp;&amp; node-&gt;left-&gt;left==<span class=\"literal\">NULL</span> &amp;&amp; node-&gt;left-&gt;right==<span class=\"literal\">NULL</span>) sum+=node-&gt;left-&gt;val;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left) s.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right) s.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>递归法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">sumOfLeftLeaves</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root-&gt;left == <span class=\"literal\">NULL</span> &amp;&amp; root-&gt;right== <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> leftValue = <span class=\"built_in\">sumOfLeftLeaves</span>(root-&gt;left);    <span class=\"comment\">// 左</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root-&gt;left &amp;&amp; !root-&gt;left-&gt;left &amp;&amp; !root-&gt;left-&gt;right) &#123; <span class=\"comment\">// 左子树就是一个左叶子的情况</span></span><br><span class=\"line\">            leftValue = root-&gt;left-&gt;val;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> rightValue = <span class=\"built_in\">sumOfLeftLeaves</span>(root-&gt;right);  <span class=\"comment\">// 右</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> sum = leftValue + rightValue;               <span class=\"comment\">// 中</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"找树左下角的值\">找树左下角的值</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/find-bottom-left-tree-value/\">513. 找树左下角的值</a></p>\n<h4 id=\"迭代法\">迭代法</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">findBottomLeftValue</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"type\">int</span> ans=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> s=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                TreeNode* node = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i==<span class=\"number\">0</span>) ans=node-&gt;val;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"路径总和\">路径总和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/path-sum/\">112. 路径总和</a></p>\n<h4 id=\"迭代法-2\">迭代法</h4>\n<p>这题和二叉树的所有路径很像，就是把存储路径改成存储路径和。</p>\n<h5 id=\"版本一\">版本一</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">hasPathSum</span><span class=\"params\">(TreeNode* root, <span class=\"type\">int</span> targetSum)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        stack&lt;<span class=\"type\">int</span>&gt; sums;  <span class=\"comment\">// 用来存储每个节点的路径和</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            s.<span class=\"built_in\">push</span>(root);  <span class=\"comment\">// 将根节点压入栈</span></span><br><span class=\"line\">            sums.<span class=\"built_in\">push</span>(root-&gt;val);  <span class=\"comment\">// 将根节点的值作为初始路径和压入路径和栈</span></span><br><span class=\"line\">        &#125;  </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!s.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* node = s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            <span class=\"type\">int</span> sum = sums.<span class=\"built_in\">top</span>();  <span class=\"comment\">// 获取当前节点的路径和</span></span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            sums.<span class=\"built_in\">pop</span>();            </span><br><span class=\"line\">            <span class=\"comment\">// 判断是否是叶子节点并且路径和等于目标值</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;left == <span class=\"literal\">NULL</span> &amp;&amp; node-&gt;right == <span class=\"literal\">NULL</span> &amp;&amp; sum == targetSum) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;            </span><br><span class=\"line\">            <span class=\"comment\">// 继续将左右子节点和更新后的路径和压入栈中</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;right) &#123;</span><br><span class=\"line\">                s.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                sums.<span class=\"built_in\">push</span>(sum + node-&gt;right-&gt;val);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;left) &#123;</span><br><span class=\"line\">                s.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                sums.<span class=\"built_in\">push</span>(sum + node-&gt;left-&gt;val);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h5 id=\"版本二\">版本二</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">hasPathSum</span><span class=\"params\">(TreeNode* root, <span class=\"type\">int</span> targetSum)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;       </span><br><span class=\"line\">        stack&lt;pair&lt;TreeNode*, <span class=\"type\">int</span>&gt;&gt; s; <span class=\"comment\">// 使用栈存储节点和当前的路径和</span></span><br><span class=\"line\">        s.<span class=\"built_in\">push</span>(&#123;root, root-&gt;val&#125;); <span class=\"comment\">// 初始化，根节点和它的值      </span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!s.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* node = s.<span class=\"built_in\">top</span>().first;</span><br><span class=\"line\">            <span class=\"type\">int</span> currentSum = s.<span class=\"built_in\">top</span>().second;</span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();   </span><br><span class=\"line\">            <span class=\"comment\">// 判断是否是叶子节点，并且路径和是否等于目标值</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;left == <span class=\"literal\">NULL</span> &amp;&amp; node-&gt;right == <span class=\"literal\">NULL</span> &amp;&amp; currentSum == targetSum) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;       </span><br><span class=\"line\">            <span class=\"comment\">// 将子节点和更新后的路径和压入栈中</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;right) s.<span class=\"built_in\">push</span>(&#123;node-&gt;right, currentSum + node-&gt;right-&gt;val&#125;);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;left) s.<span class=\"built_in\">push</span>(&#123;node-&gt;left, currentSum + node-&gt;left-&gt;val&#125;);</span><br><span class=\"line\">        &#125;     </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"递归法\">递归法</h4>\n<h3 id=\"路径总和-II\">路径总和 II</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/path-sum-ii/\">113. 路径总和 II</a></p>\n</div>","excerpt":"","more":"<h2 id=\"二叉树\">二叉树</h2>\n<h3 id=\"完全二叉树的节点个数\">完全二叉树的节点个数</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/count-complete-tree-nodes/\">222. 完全二叉树的节点个数</a></p>\n<p>迭代法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">countNodes</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"type\">int</span> sum=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> s=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s;i++)&#123;</span><br><span class=\"line\">                TreeNode* node=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                sum+=<span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"平衡二叉树\">平衡二叉树</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/balanced-binary-tree/\">110. 平衡二叉树</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get_height</span><span class=\"params\">(TreeNode* node)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(node==<span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> left=<span class=\"built_in\">get_height</span>(node-&gt;left);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(left==<span class=\"number\">-1</span>) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> right=<span class=\"built_in\">get_height</span>(node-&gt;right);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(right==<span class=\"number\">-1</span> || <span class=\"built_in\">abs</span>(left-right)&gt;<span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>(left,right)<span class=\"number\">+1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>: </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isBalanced</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">get_height</span>(root) != <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的所有路径\">二叉树的所有路径</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-paths/\">257. 二叉树的所有路径</a></p>\n<p><strong>回溯和递归是一一对应的，有一个递归，就要有一个回溯</strong></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">traversal</span><span class=\"params\">(TreeNode* cur, string path, vector&lt;string&gt;&amp; result)</span> </span>&#123;</span><br><span class=\"line\">        path += <span class=\"built_in\">to_string</span>(cur-&gt;val); <span class=\"comment\">// 中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur-&gt;left == <span class=\"literal\">NULL</span> &amp;&amp; cur-&gt;right == <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(path);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur-&gt;left) <span class=\"built_in\">traversal</span>(cur-&gt;left, path + <span class=\"string\">&quot;-&gt;&quot;</span>, result); <span class=\"comment\">// 左</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur-&gt;right) <span class=\"built_in\">traversal</span>(cur-&gt;right, path + <span class=\"string\">&quot;-&gt;&quot;</span>, result); <span class=\"comment\">// 右</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;string&gt; <span class=\"title\">binaryTreePaths</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;string&gt; result;</span><br><span class=\"line\">        string path;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root, path, result);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;string&gt; <span class=\"title\">binaryTreePaths</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; treeSt; </span><br><span class=\"line\">        stack&lt;string&gt; path;</span><br><span class=\"line\">        vector&lt;string&gt; ans;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) treeSt.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        path.<span class=\"built_in\">push</span>(<span class=\"built_in\">to_string</span>(root-&gt;val));</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!treeSt.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            TreeNode* node=treeSt.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            treeSt.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            string p=path.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            path.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right==<span class=\"literal\">NULL</span> &amp;&amp; node-&gt;left==<span class=\"literal\">NULL</span>) ans.<span class=\"built_in\">push_back</span>(p);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left)&#123;</span><br><span class=\"line\">                treeSt.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                path.<span class=\"built_in\">push</span>(p+<span class=\"string\">&quot;-&gt;&quot;</span>+<span class=\"built_in\">to_string</span>(node-&gt;left-&gt;val));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right)&#123;</span><br><span class=\"line\">                treeSt.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                path.<span class=\"built_in\">push</span>(p+<span class=\"string\">&quot;-&gt;&quot;</span>+<span class=\"built_in\">to_string</span>(node-&gt;right-&gt;val));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"左叶子之和\">左叶子之和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/sum-of-left-leaves/\">404. 左叶子之和</a></p>\n<p>感觉还是迭代法简单好想</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">sumOfLeftLeaves</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) s.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"type\">int</span> sum=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!s.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            TreeNode* node=s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left &amp;&amp; node-&gt;left-&gt;left==<span class=\"literal\">NULL</span> &amp;&amp; node-&gt;left-&gt;right==<span class=\"literal\">NULL</span>) sum+=node-&gt;left-&gt;val;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left) s.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right) s.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>递归法：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">sumOfLeftLeaves</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root-&gt;left == <span class=\"literal\">NULL</span> &amp;&amp; root-&gt;right== <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> leftValue = <span class=\"built_in\">sumOfLeftLeaves</span>(root-&gt;left);    <span class=\"comment\">// 左</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root-&gt;left &amp;&amp; !root-&gt;left-&gt;left &amp;&amp; !root-&gt;left-&gt;right) &#123; <span class=\"comment\">// 左子树就是一个左叶子的情况</span></span><br><span class=\"line\">            leftValue = root-&gt;left-&gt;val;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> rightValue = <span class=\"built_in\">sumOfLeftLeaves</span>(root-&gt;right);  <span class=\"comment\">// 右</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> sum = leftValue + rightValue;               <span class=\"comment\">// 中</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"找树左下角的值\">找树左下角的值</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/find-bottom-left-tree-value/\">513. 找树左下角的值</a></p>\n<h4 id=\"迭代法\">迭代法</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">findBottomLeftValue</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        queue&lt;TreeNode*&gt; q;</span><br><span class=\"line\">        <span class=\"type\">int</span> ans=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root!=<span class=\"literal\">NULL</span>) q.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!q.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> s=q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                TreeNode* node = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i==<span class=\"number\">0</span>) ans=node-&gt;val;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) q.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) q.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"路径总和\">路径总和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/path-sum/\">112. 路径总和</a></p>\n<h4 id=\"迭代法-2\">迭代法</h4>\n<p>这题和二叉树的所有路径很像，就是把存储路径改成存储路径和。</p>\n<h5 id=\"版本一\">版本一</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">hasPathSum</span><span class=\"params\">(TreeNode* root, <span class=\"type\">int</span> targetSum)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        stack&lt;<span class=\"type\">int</span>&gt; sums;  <span class=\"comment\">// 用来存储每个节点的路径和</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            s.<span class=\"built_in\">push</span>(root);  <span class=\"comment\">// 将根节点压入栈</span></span><br><span class=\"line\">            sums.<span class=\"built_in\">push</span>(root-&gt;val);  <span class=\"comment\">// 将根节点的值作为初始路径和压入路径和栈</span></span><br><span class=\"line\">        &#125;  </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!s.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* node = s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            <span class=\"type\">int</span> sum = sums.<span class=\"built_in\">top</span>();  <span class=\"comment\">// 获取当前节点的路径和</span></span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            sums.<span class=\"built_in\">pop</span>();            </span><br><span class=\"line\">            <span class=\"comment\">// 判断是否是叶子节点并且路径和等于目标值</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;left == <span class=\"literal\">NULL</span> &amp;&amp; node-&gt;right == <span class=\"literal\">NULL</span> &amp;&amp; sum == targetSum) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;            </span><br><span class=\"line\">            <span class=\"comment\">// 继续将左右子节点和更新后的路径和压入栈中</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;right) &#123;</span><br><span class=\"line\">                s.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                sums.<span class=\"built_in\">push</span>(sum + node-&gt;right-&gt;val);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;left) &#123;</span><br><span class=\"line\">                s.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">                sums.<span class=\"built_in\">push</span>(sum + node-&gt;left-&gt;val);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h5 id=\"版本二\">版本二</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">hasPathSum</span><span class=\"params\">(TreeNode* root, <span class=\"type\">int</span> targetSum)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;       </span><br><span class=\"line\">        stack&lt;pair&lt;TreeNode*, <span class=\"type\">int</span>&gt;&gt; s; <span class=\"comment\">// 使用栈存储节点和当前的路径和</span></span><br><span class=\"line\">        s.<span class=\"built_in\">push</span>(&#123;root, root-&gt;val&#125;); <span class=\"comment\">// 初始化，根节点和它的值      </span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!s.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* node = s.<span class=\"built_in\">top</span>().first;</span><br><span class=\"line\">            <span class=\"type\">int</span> currentSum = s.<span class=\"built_in\">top</span>().second;</span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();   </span><br><span class=\"line\">            <span class=\"comment\">// 判断是否是叶子节点，并且路径和是否等于目标值</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;left == <span class=\"literal\">NULL</span> &amp;&amp; node-&gt;right == <span class=\"literal\">NULL</span> &amp;&amp; currentSum == targetSum) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;       </span><br><span class=\"line\">            <span class=\"comment\">// 将子节点和更新后的路径和压入栈中</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;right) s.<span class=\"built_in\">push</span>(&#123;node-&gt;right, currentSum + node-&gt;right-&gt;val&#125;);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node-&gt;left) s.<span class=\"built_in\">push</span>(&#123;node-&gt;left, currentSum + node-&gt;left-&gt;val&#125;);</span><br><span class=\"line\">        &#125;     </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"递归法\">递归法</h4>\n<h3 id=\"路径总和-II\">路径总和 II</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/path-sum-ii/\">113. 路径总和 II</a></p>\n"},{"title":"代码随想录--数组","date":"2025-01-23T16:00:00.000Z","updated":"2025-03-08T09:26:58.475Z","description":"代码随想录--数组（下）","keywords":["算法","复试"],"top_img":null,"_content":"\n## 滑动窗口\n\n​\t刚开始不太好想到滑动窗口这种方法，即使想到了也并没有办法证明滑动窗口方法的正确性，现在我也不会证明。只是会用，前几天做过一次，这是第二次做，记住了这个方法之后也是没有什么障碍。\n\n### 例题\n\n题目链接：[209. 长度最小的子数组](https://leetcode.cn/problems/minimum-size-subarray-sum/)\n\n题目描述：找出数组中满足其总和大于等于 `target` 的长度最小的子数组，并返回其长度**。**如果不存在符合条件的子数组，返回 `0` 。\n\n``` c++\nclass Solution {\npublic:\n    int minSubArrayLen(int target, vector<int>& nums) {\n      int n=nums.size();\n      int sum=0,m=100010,j=0;\n      for(int i=0;i<n;i++)\n      {\n        sum=sum+nums[i];\n        while(sum>=target){\n            m=min(m,i-j+1);\n            sum-=nums[j++];\n        }\n      }\n      if(m==100010) return 0;\n      return m;\n    }\n};\n```\n\n\n\n### 相关题目 \n\n[904. 水果成篮](https://leetcode.cn/problems/fruit-into-baskets/)\n\n题目描述：找一个最长连续子数组，满足子数组中至多有两种数字。返回子数组的长度。\n\n这题题目描述很抽象，没看懂啥意思，去评论区的解释。\n\n[76. 最小覆盖子串](https://leetcode.cn/problems/minimum-window-substring/)\n\n不会做，没思路，目前水平不够，直接跳。\n\n\n\n## 矩阵规律\n\n题目链接：[59. 螺旋矩阵 II](https://leetcode.cn/problems/spiral-matrix-ii/)\n\n题目描述：给定一个正整数 `n` ，生成一个包含 `1` 到 `n2` 所有元素，且元素按顺时针顺序螺旋排列的 `n x n` 正方形矩阵 `matrix` 。\n### 例题\n\n#### 贪吃蛇输出\n\n题目思路：直接按顺序输出，定义上下左右四个边界，从左到右输出上边界加一，从上到下输出右边界减一，从右向左输出下边界减一，从下到上输出左边界加一，依次输出就可以，因为上边界加一，从上到下就少输出一个，右边界减一，从右到左输出就少输出一个。从下向上输出时，下边界减一，上边界加一，正好按顺序输出，完美！\n\n``` c++\nclass Solution {\npublic:\n    vector<vector<int>> generateMatrix(int n) {\n        vector<vector<int>> res(n, vector<int>(n, 0));\n        int l=0,r=n-1,t=0,b=n-1,count=1;\n        while(count<=(n*n))\n        {\n            for(int i=l;i<=r;i++)\n            {\n                res[t][i]=count;\n                count++;\n            }\n            t++;\n            for(int j=t;j<=b;j++)\n            {\n                res[j][r]=count;\n                count++;\n            }\n            r--;\n            for(int j=r;j>=l;j--)\n            {\n                res[b][j]=count;\n                count++;\n            }\n            b--;\n            for(int j=b;j>=t;j--)\n            {\n                res[j][l]=count;\n                count++;\n            }\n            l++;\n        }\n        return res;\n    }\n};\n```\n\n#### 循环不变量原则\n\n思路：每条边按左闭右开的输出，每圈输出四次，每次输出边长减一个，这里直接贴一下代码随想录的代码。\n\n``` c++\nclass Solution {\npublic:\n    vector<vector<int>> generateMatrix(int n) {\n        vector<vector<int>> res(n, vector<int>(n, 0)); // 使用vector定义一个二维数组\n        int startx = 0, starty = 0; // 定义每循环一个圈的起始位置\n        int loop = n / 2; \n        // 每个圈循环几次，例如n为奇数3，那么loop = 1 只是循环一圈，矩阵中间的值需要单独处理\n        int mid = n / 2; \n        // 矩阵中间的位置，例如：n为3， 中间的位置就是(1，1)，n为5，中间位置为(2, 2)\n        int count = 1; // 用来给矩阵中每一个空格赋值\n        int offset = 1; // 需要控制每一条边遍历的长度，每次循环右边界收缩一位\n        int i,j;\n        while (loop --) {\n            i = startx;\n            j = starty;\n        // 下面开始的四个for就是模拟转了一圈\n        // 模拟填充上行从左到右(左闭右开)\n            for (j; j < n - offset; j++) res[i][j] = count++;\n        // 模拟填充右列从上到下(左闭右开)\n            for (i; i < n - offset; i++) res[i][j] = count++;\n        // 模拟填充下行从右到左(左闭右开)\n            for (; j > starty; j--) res[i][j] = count++;\n        // 模拟填充左列从下到上(左闭右开)\n            for (; i > startx; i--) res[i][j] = count++;\n        // 第二圈开始的时候，起始位置要各自加1， 例如：第一圈起始位置是(0, 0)，第二圈起始位置是(1, 1)\n            startx++;\n            starty++;\n        // offset 控制每一圈里每一条边遍历的长度\n            offset += 1;\n        }\n        // 如果n为奇数的话，需要单独给矩阵最中间的位置赋值\n        if (n % 2) res[mid][mid] = count;\n        return res;\n    }\n};\n```\n\n### 相关题目\n\n[54. 螺旋矩阵](https://leetcode.cn/problems/spiral-matrix/)\n\n进阶了一下，今天没时间了改天再做，这两天光建blog了。\n\n[LCR 146. 螺旋遍历二维数组](https://leetcode.cn/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/)\n\n这题虽然是简单题，但是做起来比例题难，这题边界问题比较棘手。\n\n```c++\nclass Solution {\npublic:\n    vector<int> spiralArray(vector<vector<int>>& array) {\n        if (array.empty() || array[0].empty()) {\n            return {}; // 返回空 vector\n        }\n        int t=0,l=0,r=array[0].size() -1,b=array.size()-1,n=array[0].size()*array.size();\n        vector<int> ans(n);\n        int j=0;\n        while(t <= b && l <= r){\n            for(int i=l;i<=r;i++) ans[j++]=array[t][i];\n            t++;\n            for(int i=t;i<=b;i++) ans[j++]=array[i][r];\n            r--;\n            if (t <= b) { // 确保没有重复遍历\n                for (int i = r; i >= l; i--) {\n                    ans[j++] = array[b][i];\n                }\n                b--;\n            }\n            if (l <= r) { // 确保没有重复遍历\n                for (int i = b; i >= t; i--) {\n                    ans[j++] = array[i][l];\n                }\n                l++;\n            }\n        }\n        return ans;\n    }\n};\n```\n\n\n\n## 前缀和\n\n**前缀和 在涉及计算区间和的问题时非常有用**！\n\n刚开始使用的暴力解法，一直不行，知道看了题解才知道，故意卡暴力解。然后自己也想不出什么好方法，就问的chatgpt，这种方法刚开始我还以为时间复杂度差不多呢。\n\n### 例题\n\n题目链接：[区间和](https://kamacoder.com/problempage.php?pid=1070/)\n\n题目描述：给定一个整数数组 Array，请计算该数组在每个指定区间内元素的总和。 \n\n``` \n#include <cstdio>\n\nint main() {\n    int n;\n    scanf(\"%d\", &n);\n    int a[n];\n\n    // 读取数组元素\n    for (int i = 0; i < n; i++) {\n        scanf(\"%d\", &a[i]);\n    }\n\n    // 计算前缀和数组\n    int prefixSum[n + 1];  // prefixSum[0] = 0\n    prefixSum[0] = 0;\n    for (int i = 1; i <= n; i++) {\n        prefixSum[i] = prefixSum[i - 1] + a[i - 1];\n    }\n\n    // 处理区间查询\n    int l, r;\n    while (scanf(\"%d %d\", &l, &r) != EOF) {\n        // 使用前缀和快速计算区间 [l, r] 的和\n        printf(\"%d\\n\", prefixSum[r + 1] - prefixSum[l]);\n    }\n\n    return 0;\n}\n\n```\n\n\n\n### 相关题目 \n\n[开发商购买土地](https://kamacoder.com/problempage.php?pid=1044/)\n\n看起来挺难的，没看懂题目意思，明天再研究。\n\n","source":"_posts/2day.md","raw":"---\ntitle: 代码随想录--数组\ndate: 2025/1/24\ntags: [数据结构与算法,数组,滑动窗口,矩阵规律,前缀和]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--数组（下）\nkeywords: [算法,复试]\ntop_img:\n---\n\n## 滑动窗口\n\n​\t刚开始不太好想到滑动窗口这种方法，即使想到了也并没有办法证明滑动窗口方法的正确性，现在我也不会证明。只是会用，前几天做过一次，这是第二次做，记住了这个方法之后也是没有什么障碍。\n\n### 例题\n\n题目链接：[209. 长度最小的子数组](https://leetcode.cn/problems/minimum-size-subarray-sum/)\n\n题目描述：找出数组中满足其总和大于等于 `target` 的长度最小的子数组，并返回其长度**。**如果不存在符合条件的子数组，返回 `0` 。\n\n``` c++\nclass Solution {\npublic:\n    int minSubArrayLen(int target, vector<int>& nums) {\n      int n=nums.size();\n      int sum=0,m=100010,j=0;\n      for(int i=0;i<n;i++)\n      {\n        sum=sum+nums[i];\n        while(sum>=target){\n            m=min(m,i-j+1);\n            sum-=nums[j++];\n        }\n      }\n      if(m==100010) return 0;\n      return m;\n    }\n};\n```\n\n\n\n### 相关题目 \n\n[904. 水果成篮](https://leetcode.cn/problems/fruit-into-baskets/)\n\n题目描述：找一个最长连续子数组，满足子数组中至多有两种数字。返回子数组的长度。\n\n这题题目描述很抽象，没看懂啥意思，去评论区的解释。\n\n[76. 最小覆盖子串](https://leetcode.cn/problems/minimum-window-substring/)\n\n不会做，没思路，目前水平不够，直接跳。\n\n\n\n## 矩阵规律\n\n题目链接：[59. 螺旋矩阵 II](https://leetcode.cn/problems/spiral-matrix-ii/)\n\n题目描述：给定一个正整数 `n` ，生成一个包含 `1` 到 `n2` 所有元素，且元素按顺时针顺序螺旋排列的 `n x n` 正方形矩阵 `matrix` 。\n### 例题\n\n#### 贪吃蛇输出\n\n题目思路：直接按顺序输出，定义上下左右四个边界，从左到右输出上边界加一，从上到下输出右边界减一，从右向左输出下边界减一，从下到上输出左边界加一，依次输出就可以，因为上边界加一，从上到下就少输出一个，右边界减一，从右到左输出就少输出一个。从下向上输出时，下边界减一，上边界加一，正好按顺序输出，完美！\n\n``` c++\nclass Solution {\npublic:\n    vector<vector<int>> generateMatrix(int n) {\n        vector<vector<int>> res(n, vector<int>(n, 0));\n        int l=0,r=n-1,t=0,b=n-1,count=1;\n        while(count<=(n*n))\n        {\n            for(int i=l;i<=r;i++)\n            {\n                res[t][i]=count;\n                count++;\n            }\n            t++;\n            for(int j=t;j<=b;j++)\n            {\n                res[j][r]=count;\n                count++;\n            }\n            r--;\n            for(int j=r;j>=l;j--)\n            {\n                res[b][j]=count;\n                count++;\n            }\n            b--;\n            for(int j=b;j>=t;j--)\n            {\n                res[j][l]=count;\n                count++;\n            }\n            l++;\n        }\n        return res;\n    }\n};\n```\n\n#### 循环不变量原则\n\n思路：每条边按左闭右开的输出，每圈输出四次，每次输出边长减一个，这里直接贴一下代码随想录的代码。\n\n``` c++\nclass Solution {\npublic:\n    vector<vector<int>> generateMatrix(int n) {\n        vector<vector<int>> res(n, vector<int>(n, 0)); // 使用vector定义一个二维数组\n        int startx = 0, starty = 0; // 定义每循环一个圈的起始位置\n        int loop = n / 2; \n        // 每个圈循环几次，例如n为奇数3，那么loop = 1 只是循环一圈，矩阵中间的值需要单独处理\n        int mid = n / 2; \n        // 矩阵中间的位置，例如：n为3， 中间的位置就是(1，1)，n为5，中间位置为(2, 2)\n        int count = 1; // 用来给矩阵中每一个空格赋值\n        int offset = 1; // 需要控制每一条边遍历的长度，每次循环右边界收缩一位\n        int i,j;\n        while (loop --) {\n            i = startx;\n            j = starty;\n        // 下面开始的四个for就是模拟转了一圈\n        // 模拟填充上行从左到右(左闭右开)\n            for (j; j < n - offset; j++) res[i][j] = count++;\n        // 模拟填充右列从上到下(左闭右开)\n            for (i; i < n - offset; i++) res[i][j] = count++;\n        // 模拟填充下行从右到左(左闭右开)\n            for (; j > starty; j--) res[i][j] = count++;\n        // 模拟填充左列从下到上(左闭右开)\n            for (; i > startx; i--) res[i][j] = count++;\n        // 第二圈开始的时候，起始位置要各自加1， 例如：第一圈起始位置是(0, 0)，第二圈起始位置是(1, 1)\n            startx++;\n            starty++;\n        // offset 控制每一圈里每一条边遍历的长度\n            offset += 1;\n        }\n        // 如果n为奇数的话，需要单独给矩阵最中间的位置赋值\n        if (n % 2) res[mid][mid] = count;\n        return res;\n    }\n};\n```\n\n### 相关题目\n\n[54. 螺旋矩阵](https://leetcode.cn/problems/spiral-matrix/)\n\n进阶了一下，今天没时间了改天再做，这两天光建blog了。\n\n[LCR 146. 螺旋遍历二维数组](https://leetcode.cn/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/)\n\n这题虽然是简单题，但是做起来比例题难，这题边界问题比较棘手。\n\n```c++\nclass Solution {\npublic:\n    vector<int> spiralArray(vector<vector<int>>& array) {\n        if (array.empty() || array[0].empty()) {\n            return {}; // 返回空 vector\n        }\n        int t=0,l=0,r=array[0].size() -1,b=array.size()-1,n=array[0].size()*array.size();\n        vector<int> ans(n);\n        int j=0;\n        while(t <= b && l <= r){\n            for(int i=l;i<=r;i++) ans[j++]=array[t][i];\n            t++;\n            for(int i=t;i<=b;i++) ans[j++]=array[i][r];\n            r--;\n            if (t <= b) { // 确保没有重复遍历\n                for (int i = r; i >= l; i--) {\n                    ans[j++] = array[b][i];\n                }\n                b--;\n            }\n            if (l <= r) { // 确保没有重复遍历\n                for (int i = b; i >= t; i--) {\n                    ans[j++] = array[i][l];\n                }\n                l++;\n            }\n        }\n        return ans;\n    }\n};\n```\n\n\n\n## 前缀和\n\n**前缀和 在涉及计算区间和的问题时非常有用**！\n\n刚开始使用的暴力解法，一直不行，知道看了题解才知道，故意卡暴力解。然后自己也想不出什么好方法，就问的chatgpt，这种方法刚开始我还以为时间复杂度差不多呢。\n\n### 例题\n\n题目链接：[区间和](https://kamacoder.com/problempage.php?pid=1070/)\n\n题目描述：给定一个整数数组 Array，请计算该数组在每个指定区间内元素的总和。 \n\n``` \n#include <cstdio>\n\nint main() {\n    int n;\n    scanf(\"%d\", &n);\n    int a[n];\n\n    // 读取数组元素\n    for (int i = 0; i < n; i++) {\n        scanf(\"%d\", &a[i]);\n    }\n\n    // 计算前缀和数组\n    int prefixSum[n + 1];  // prefixSum[0] = 0\n    prefixSum[0] = 0;\n    for (int i = 1; i <= n; i++) {\n        prefixSum[i] = prefixSum[i - 1] + a[i - 1];\n    }\n\n    // 处理区间查询\n    int l, r;\n    while (scanf(\"%d %d\", &l, &r) != EOF) {\n        // 使用前缀和快速计算区间 [l, r] 的和\n        printf(\"%d\\n\", prefixSum[r + 1] - prefixSum[l]);\n    }\n\n    return 0;\n}\n\n```\n\n\n\n### 相关题目 \n\n[开发商购买土地](https://kamacoder.com/problempage.php?pid=1044/)\n\n看起来挺难的，没看懂题目意思，明天再研究。\n\n","slug":"2day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamik00231swm0nmq0n0l","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"滑动窗口\">滑动窗口</h2>\n<p>​\t刚开始不太好想到滑动窗口这种方法，即使想到了也并没有办法证明滑动窗口方法的正确性，现在我也不会证明。只是会用，前几天做过一次，这是第二次做，记住了这个方法之后也是没有什么障碍。</p>\n<h3 id=\"例题\">例题</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/minimum-size-subarray-sum/\">209. 长度最小的子数组</a></p>\n<p>题目描述：找出数组中满足其总和大于等于 <code>target</code> 的长度最小的子数组，并返回其长度**。**如果不存在符合条件的子数组，返回 <code>0</code> 。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minSubArrayLen</span><span class=\"params\">(<span class=\"type\">int</span> target, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">      <span class=\"type\">int</span> sum=<span class=\"number\">0</span>,m=<span class=\"number\">100010</span>,j=<span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        sum=sum+nums[i];</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(sum&gt;=target)&#123;</span><br><span class=\"line\">            m=<span class=\"built_in\">min</span>(m,i-j<span class=\"number\">+1</span>);</span><br><span class=\"line\">            sum-=nums[j++];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(m==<span class=\"number\">100010</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> m;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"相关题目\">相关题目</h3>\n<p><a href=\"https://leetcode.cn/problems/fruit-into-baskets/\">904. 水果成篮</a></p>\n<p>题目描述：找一个最长连续子数组，满足子数组中至多有两种数字。返回子数组的长度。</p>\n<p>这题题目描述很抽象，没看懂啥意思，去评论区的解释。</p>\n<p><a href=\"https://leetcode.cn/problems/minimum-window-substring/\">76. 最小覆盖子串</a></p>\n<p>不会做，没思路，目前水平不够，直接跳。</p>\n<h2 id=\"矩阵规律\">矩阵规律</h2>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/spiral-matrix-ii/\">59. 螺旋矩阵 II</a></p>\n<p>题目描述：给定一个正整数 <code>n</code> ，生成一个包含 <code>1</code> 到 <code>n2</code> 所有元素，且元素按顺时针顺序螺旋排列的 <code>n x n</code> 正方形矩阵 <code>matrix</code> 。</p>\n<h3 id=\"例题-2\">例题</h3>\n<h4 id=\"贪吃蛇输出\">贪吃蛇输出</h4>\n<p>题目思路：直接按顺序输出，定义上下左右四个边界，从左到右输出上边界加一，从上到下输出右边界减一，从右向左输出下边界减一，从下到上输出左边界加一，依次输出就可以，因为上边界加一，从上到下就少输出一个，右边界减一，从右到左输出就少输出一个。从下向上输出时，下边界减一，上边界加一，正好按顺序输出，完美！</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">generateMatrix</span>(<span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">res</span>(n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n, <span class=\"number\">0</span>));</span><br><span class=\"line\">        <span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=n<span class=\"number\">-1</span>,t=<span class=\"number\">0</span>,b=n<span class=\"number\">-1</span>,count=<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(count&lt;=(n*n))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=l;i&lt;=r;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                res[t][i]=count;</span><br><span class=\"line\">                count++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            t++;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=t;j&lt;=b;j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                res[j][r]=count;</span><br><span class=\"line\">                count++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            r--;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=r;j&gt;=l;j--)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                res[b][j]=count;</span><br><span class=\"line\">                count++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            b--;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=b;j&gt;=t;j--)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                res[j][l]=count;</span><br><span class=\"line\">                count++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            l++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"循环不变量原则\">循环不变量原则</h4>\n<p>思路：每条边按左闭右开的输出，每圈输出四次，每次输出边长减一个，这里直接贴一下代码随想录的代码。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">generateMatrix</span>(<span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">res</span>(n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n, <span class=\"number\">0</span>)); <span class=\"comment\">// 使用vector定义一个二维数组</span></span><br><span class=\"line\">        <span class=\"type\">int</span> startx = <span class=\"number\">0</span>, starty = <span class=\"number\">0</span>; <span class=\"comment\">// 定义每循环一个圈的起始位置</span></span><br><span class=\"line\">        <span class=\"type\">int</span> loop = n / <span class=\"number\">2</span>; </span><br><span class=\"line\">        <span class=\"comment\">// 每个圈循环几次，例如n为奇数3，那么loop = 1 只是循环一圈，矩阵中间的值需要单独处理</span></span><br><span class=\"line\">        <span class=\"type\">int</span> mid = n / <span class=\"number\">2</span>; </span><br><span class=\"line\">        <span class=\"comment\">// 矩阵中间的位置，例如：n为3， 中间的位置就是(1，1)，n为5，中间位置为(2, 2)</span></span><br><span class=\"line\">        <span class=\"type\">int</span> count = <span class=\"number\">1</span>; <span class=\"comment\">// 用来给矩阵中每一个空格赋值</span></span><br><span class=\"line\">        <span class=\"type\">int</span> offset = <span class=\"number\">1</span>; <span class=\"comment\">// 需要控制每一条边遍历的长度，每次循环右边界收缩一位</span></span><br><span class=\"line\">        <span class=\"type\">int</span> i,j;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (loop --) &#123;</span><br><span class=\"line\">            i = startx;</span><br><span class=\"line\">            j = starty;</span><br><span class=\"line\">        <span class=\"comment\">// 下面开始的四个for就是模拟转了一圈</span></span><br><span class=\"line\">        <span class=\"comment\">// 模拟填充上行从左到右(左闭右开)</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (j; j &lt; n - offset; j++) res[i][j] = count++;</span><br><span class=\"line\">        <span class=\"comment\">// 模拟填充右列从上到下(左闭右开)</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (i; i &lt; n - offset; i++) res[i][j] = count++;</span><br><span class=\"line\">        <span class=\"comment\">// 模拟填充下行从右到左(左闭右开)</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (; j &gt; starty; j--) res[i][j] = count++;</span><br><span class=\"line\">        <span class=\"comment\">// 模拟填充左列从下到上(左闭右开)</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (; i &gt; startx; i--) res[i][j] = count++;</span><br><span class=\"line\">        <span class=\"comment\">// 第二圈开始的时候，起始位置要各自加1， 例如：第一圈起始位置是(0, 0)，第二圈起始位置是(1, 1)</span></span><br><span class=\"line\">            startx++;</span><br><span class=\"line\">            starty++;</span><br><span class=\"line\">        <span class=\"comment\">// offset 控制每一圈里每一条边遍历的长度</span></span><br><span class=\"line\">            offset += <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果n为奇数的话，需要单独给矩阵最中间的位置赋值</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n % <span class=\"number\">2</span>) res[mid][mid] = count;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"相关题目-2\">相关题目</h3>\n<p><a href=\"https://leetcode.cn/problems/spiral-matrix/\">54. 螺旋矩阵</a></p>\n<p>进阶了一下，今天没时间了改天再做，这两天光建blog了。</p>\n<p><a href=\"https://leetcode.cn/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/\">LCR 146. 螺旋遍历二维数组</a></p>\n<p>这题虽然是简单题，但是做起来比例题难，这题边界问题比较棘手。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">spiralArray</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; array)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (array.<span class=\"built_in\">empty</span>() || array[<span class=\"number\">0</span>].<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> &#123;&#125;; <span class=\"comment\">// 返回空 vector</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> t=<span class=\"number\">0</span>,l=<span class=\"number\">0</span>,r=array[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>() <span class=\"number\">-1</span>,b=array.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>,n=array[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>()*array.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">ans</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> j=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(t &lt;= b &amp;&amp; l &lt;= r)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=l;i&lt;=r;i++) ans[j++]=array[t][i];</span><br><span class=\"line\">            t++;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=t;i&lt;=b;i++) ans[j++]=array[i][r];</span><br><span class=\"line\">            r--;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (t &lt;= b) &#123; <span class=\"comment\">// 确保没有重复遍历</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = r; i &gt;= l; i--) &#123;</span><br><span class=\"line\">                    ans[j++] = array[b][i];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                b--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (l &lt;= r) &#123; <span class=\"comment\">// 确保没有重复遍历</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = b; i &gt;= t; i--) &#123;</span><br><span class=\"line\">                    ans[j++] = array[i][l];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                l++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"前缀和\">前缀和</h2>\n<p><strong>前缀和 在涉及计算区间和的问题时非常有用</strong>！</p>\n<p>刚开始使用的暴力解法，一直不行，知道看了题解才知道，故意卡暴力解。然后自己也想不出什么好方法，就问的chatgpt，这种方法刚开始我还以为时间复杂度差不多呢。</p>\n<h3 id=\"例题-3\">例题</h3>\n<p>题目链接：<a href=\"https://kamacoder.com/problempage.php?pid=1070/\">区间和</a></p>\n<p>题目描述：给定一个整数数组 Array，请计算该数组在每个指定区间内元素的总和。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;cstdio&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">int main() &#123;</span><br><span class=\"line\">    int n;</span><br><span class=\"line\">    scanf(&quot;%d&quot;, &amp;n);</span><br><span class=\"line\">    int a[n];</span><br><span class=\"line\"></span><br><span class=\"line\">    // 读取数组元素</span><br><span class=\"line\">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">        scanf(&quot;%d&quot;, &amp;a[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // 计算前缀和数组</span><br><span class=\"line\">    int prefixSum[n + 1];  // prefixSum[0] = 0</span><br><span class=\"line\">    prefixSum[0] = 0;</span><br><span class=\"line\">    for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class=\"line\">        prefixSum[i] = prefixSum[i - 1] + a[i - 1];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // 处理区间查询</span><br><span class=\"line\">    int l, r;</span><br><span class=\"line\">    while (scanf(&quot;%d %d&quot;, &amp;l, &amp;r) != EOF) &#123;</span><br><span class=\"line\">        // 使用前缀和快速计算区间 [l, r] 的和</span><br><span class=\"line\">        printf(&quot;%d\\n&quot;, prefixSum[r + 1] - prefixSum[l]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"相关题目-3\">相关题目</h3>\n<p><a href=\"https://kamacoder.com/problempage.php?pid=1044/\">开发商购买土地</a></p>\n<p>看起来挺难的，没看懂题目意思，明天再研究。</p>\n</div>","excerpt":"","more":"<h2 id=\"滑动窗口\">滑动窗口</h2>\n<p>​\t刚开始不太好想到滑动窗口这种方法，即使想到了也并没有办法证明滑动窗口方法的正确性，现在我也不会证明。只是会用，前几天做过一次，这是第二次做，记住了这个方法之后也是没有什么障碍。</p>\n<h3 id=\"例题\">例题</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/minimum-size-subarray-sum/\">209. 长度最小的子数组</a></p>\n<p>题目描述：找出数组中满足其总和大于等于 <code>target</code> 的长度最小的子数组，并返回其长度**。**如果不存在符合条件的子数组，返回 <code>0</code> 。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minSubArrayLen</span><span class=\"params\">(<span class=\"type\">int</span> target, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">      <span class=\"type\">int</span> sum=<span class=\"number\">0</span>,m=<span class=\"number\">100010</span>,j=<span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        sum=sum+nums[i];</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(sum&gt;=target)&#123;</span><br><span class=\"line\">            m=<span class=\"built_in\">min</span>(m,i-j<span class=\"number\">+1</span>);</span><br><span class=\"line\">            sum-=nums[j++];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(m==<span class=\"number\">100010</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> m;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"相关题目\">相关题目</h3>\n<p><a href=\"https://leetcode.cn/problems/fruit-into-baskets/\">904. 水果成篮</a></p>\n<p>题目描述：找一个最长连续子数组，满足子数组中至多有两种数字。返回子数组的长度。</p>\n<p>这题题目描述很抽象，没看懂啥意思，去评论区的解释。</p>\n<p><a href=\"https://leetcode.cn/problems/minimum-window-substring/\">76. 最小覆盖子串</a></p>\n<p>不会做，没思路，目前水平不够，直接跳。</p>\n<h2 id=\"矩阵规律\">矩阵规律</h2>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/spiral-matrix-ii/\">59. 螺旋矩阵 II</a></p>\n<p>题目描述：给定一个正整数 <code>n</code> ，生成一个包含 <code>1</code> 到 <code>n2</code> 所有元素，且元素按顺时针顺序螺旋排列的 <code>n x n</code> 正方形矩阵 <code>matrix</code> 。</p>\n<h3 id=\"例题-2\">例题</h3>\n<h4 id=\"贪吃蛇输出\">贪吃蛇输出</h4>\n<p>题目思路：直接按顺序输出，定义上下左右四个边界，从左到右输出上边界加一，从上到下输出右边界减一，从右向左输出下边界减一，从下到上输出左边界加一，依次输出就可以，因为上边界加一，从上到下就少输出一个，右边界减一，从右到左输出就少输出一个。从下向上输出时，下边界减一，上边界加一，正好按顺序输出，完美！</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">generateMatrix</span>(<span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">res</span>(n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n, <span class=\"number\">0</span>));</span><br><span class=\"line\">        <span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=n<span class=\"number\">-1</span>,t=<span class=\"number\">0</span>,b=n<span class=\"number\">-1</span>,count=<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(count&lt;=(n*n))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=l;i&lt;=r;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                res[t][i]=count;</span><br><span class=\"line\">                count++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            t++;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=t;j&lt;=b;j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                res[j][r]=count;</span><br><span class=\"line\">                count++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            r--;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=r;j&gt;=l;j--)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                res[b][j]=count;</span><br><span class=\"line\">                count++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            b--;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=b;j&gt;=t;j--)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                res[j][l]=count;</span><br><span class=\"line\">                count++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            l++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"循环不变量原则\">循环不变量原则</h4>\n<p>思路：每条边按左闭右开的输出，每圈输出四次，每次输出边长减一个，这里直接贴一下代码随想录的代码。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">generateMatrix</span>(<span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">res</span>(n, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n, <span class=\"number\">0</span>)); <span class=\"comment\">// 使用vector定义一个二维数组</span></span><br><span class=\"line\">        <span class=\"type\">int</span> startx = <span class=\"number\">0</span>, starty = <span class=\"number\">0</span>; <span class=\"comment\">// 定义每循环一个圈的起始位置</span></span><br><span class=\"line\">        <span class=\"type\">int</span> loop = n / <span class=\"number\">2</span>; </span><br><span class=\"line\">        <span class=\"comment\">// 每个圈循环几次，例如n为奇数3，那么loop = 1 只是循环一圈，矩阵中间的值需要单独处理</span></span><br><span class=\"line\">        <span class=\"type\">int</span> mid = n / <span class=\"number\">2</span>; </span><br><span class=\"line\">        <span class=\"comment\">// 矩阵中间的位置，例如：n为3， 中间的位置就是(1，1)，n为5，中间位置为(2, 2)</span></span><br><span class=\"line\">        <span class=\"type\">int</span> count = <span class=\"number\">1</span>; <span class=\"comment\">// 用来给矩阵中每一个空格赋值</span></span><br><span class=\"line\">        <span class=\"type\">int</span> offset = <span class=\"number\">1</span>; <span class=\"comment\">// 需要控制每一条边遍历的长度，每次循环右边界收缩一位</span></span><br><span class=\"line\">        <span class=\"type\">int</span> i,j;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (loop --) &#123;</span><br><span class=\"line\">            i = startx;</span><br><span class=\"line\">            j = starty;</span><br><span class=\"line\">        <span class=\"comment\">// 下面开始的四个for就是模拟转了一圈</span></span><br><span class=\"line\">        <span class=\"comment\">// 模拟填充上行从左到右(左闭右开)</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (j; j &lt; n - offset; j++) res[i][j] = count++;</span><br><span class=\"line\">        <span class=\"comment\">// 模拟填充右列从上到下(左闭右开)</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (i; i &lt; n - offset; i++) res[i][j] = count++;</span><br><span class=\"line\">        <span class=\"comment\">// 模拟填充下行从右到左(左闭右开)</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (; j &gt; starty; j--) res[i][j] = count++;</span><br><span class=\"line\">        <span class=\"comment\">// 模拟填充左列从下到上(左闭右开)</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (; i &gt; startx; i--) res[i][j] = count++;</span><br><span class=\"line\">        <span class=\"comment\">// 第二圈开始的时候，起始位置要各自加1， 例如：第一圈起始位置是(0, 0)，第二圈起始位置是(1, 1)</span></span><br><span class=\"line\">            startx++;</span><br><span class=\"line\">            starty++;</span><br><span class=\"line\">        <span class=\"comment\">// offset 控制每一圈里每一条边遍历的长度</span></span><br><span class=\"line\">            offset += <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果n为奇数的话，需要单独给矩阵最中间的位置赋值</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n % <span class=\"number\">2</span>) res[mid][mid] = count;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"相关题目-2\">相关题目</h3>\n<p><a href=\"https://leetcode.cn/problems/spiral-matrix/\">54. 螺旋矩阵</a></p>\n<p>进阶了一下，今天没时间了改天再做，这两天光建blog了。</p>\n<p><a href=\"https://leetcode.cn/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/\">LCR 146. 螺旋遍历二维数组</a></p>\n<p>这题虽然是简单题，但是做起来比例题难，这题边界问题比较棘手。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">spiralArray</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; array)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (array.<span class=\"built_in\">empty</span>() || array[<span class=\"number\">0</span>].<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> &#123;&#125;; <span class=\"comment\">// 返回空 vector</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> t=<span class=\"number\">0</span>,l=<span class=\"number\">0</span>,r=array[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>() <span class=\"number\">-1</span>,b=array.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>,n=array[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>()*array.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">ans</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> j=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(t &lt;= b &amp;&amp; l &lt;= r)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=l;i&lt;=r;i++) ans[j++]=array[t][i];</span><br><span class=\"line\">            t++;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=t;i&lt;=b;i++) ans[j++]=array[i][r];</span><br><span class=\"line\">            r--;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (t &lt;= b) &#123; <span class=\"comment\">// 确保没有重复遍历</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = r; i &gt;= l; i--) &#123;</span><br><span class=\"line\">                    ans[j++] = array[b][i];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                b--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (l &lt;= r) &#123; <span class=\"comment\">// 确保没有重复遍历</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = b; i &gt;= t; i--) &#123;</span><br><span class=\"line\">                    ans[j++] = array[i][l];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                l++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"前缀和\">前缀和</h2>\n<p><strong>前缀和 在涉及计算区间和的问题时非常有用</strong>！</p>\n<p>刚开始使用的暴力解法，一直不行，知道看了题解才知道，故意卡暴力解。然后自己也想不出什么好方法，就问的chatgpt，这种方法刚开始我还以为时间复杂度差不多呢。</p>\n<h3 id=\"例题-3\">例题</h3>\n<p>题目链接：<a href=\"https://kamacoder.com/problempage.php?pid=1070/\">区间和</a></p>\n<p>题目描述：给定一个整数数组 Array，请计算该数组在每个指定区间内元素的总和。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;cstdio&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">int main() &#123;</span><br><span class=\"line\">    int n;</span><br><span class=\"line\">    scanf(&quot;%d&quot;, &amp;n);</span><br><span class=\"line\">    int a[n];</span><br><span class=\"line\"></span><br><span class=\"line\">    // 读取数组元素</span><br><span class=\"line\">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">        scanf(&quot;%d&quot;, &amp;a[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // 计算前缀和数组</span><br><span class=\"line\">    int prefixSum[n + 1];  // prefixSum[0] = 0</span><br><span class=\"line\">    prefixSum[0] = 0;</span><br><span class=\"line\">    for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class=\"line\">        prefixSum[i] = prefixSum[i - 1] + a[i - 1];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // 处理区间查询</span><br><span class=\"line\">    int l, r;</span><br><span class=\"line\">    while (scanf(&quot;%d %d&quot;, &amp;l, &amp;r) != EOF) &#123;</span><br><span class=\"line\">        // 使用前缀和快速计算区间 [l, r] 的和</span><br><span class=\"line\">        printf(&quot;%d\\n&quot;, prefixSum[r + 1] - prefixSum[l]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"相关题目-3\">相关题目</h3>\n<p><a href=\"https://kamacoder.com/problempage.php?pid=1044/\">开发商购买土地</a></p>\n<p>看起来挺难的，没看懂题目意思，明天再研究。</p>\n"},{"title":"代码随想录--链表","date":"2025-01-26T02:33:31.000Z","updated":"2025-03-08T09:27:07.743Z","description":"代码随想录--链表（下）","keywords":["算法","复试"],"_content":"\n## 链表操作\n\n​\t链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域一个是指针域，最后一个节点的指针域指向null（空指针的意思）。\n\n### 两两交换链表中的节点\n\n题目链接：[24. 两两交换链表中的节点](https://leetcode.cn/problems/remove-linked-list-elements/)\n\n题目描述：两两交换链表中相邻的节点，并返回交换后链表的头节点\n\n#### 虚拟头节点\n\n时间复杂度：O(n)     空间复杂度：O(1)\n\n题目思路：直接对指针进行处理就行了。刚才随手写了一下，想着交一下看看哪里有bug呢，结果直接过了，也是挺顺的。\n\n``` c++\nclass Solution {\npublic:\n    ListNode* swapPairs(ListNode* head) {\n        ListNode* dummy=new ListNode(0);\n        ListNode* pre=dummy;\n        dummy->next=head;\n        while(head && head->next)\n        {\n            ListNode* tmp=pre->next;\n            ListNode* tmp1=pre->next->next->next;\n            pre->next=head->next;\n            pre->next->next=tmp;\n            pre->next->next->next=tmp1;\n            pre=tmp;\n            head=tmp1;\n        }\n        return dummy->next;\n    }\n};\n```\n\n\n\n### 删除链表的倒数第 N 个结点\n\n题目链接：[9. 删除链表的倒数第 N 个结点](https://leetcode.cn/problems/reverse-linked-list/)\n\n题目描述：删除链表的倒数第 n 个结点，并且返回链表的头结点。\n\n#### 快慢双指针法\n\n时间复杂度：O(n)     空间复杂度：O(1)\n\n题目思路：又给秒了，定义一个快指针，一个慢指针，快指针先移动到第n个位置，然后开始快慢指针开始同时移动，当快指针指向尾节点的时候，慢指针正好指向导数第n个位置的前一个结点，略过倒数第n个结点，就结束了。\n\n``` c++\nclass Solution {\npublic:\n    ListNode* removeNthFromEnd(ListNode* head, int n) {\n        ListNode* dummy=new ListNode(0);\n        ListNode* fast=dummy;\n        ListNode* slow=dummy;\n        dummy->next=head;\n        for(int i=0;i<=n;i++) fast=fast->next;\n        while(fast)\n        {\n            fast=fast->next;\n            slow=slow->next;\n        }\n        ListNode* tmp=slow->next;\n        slow->next=slow->next->next;\n        delete tmp;\n        return dummy->next;\n    }\n};\n```\n\n### 链表相交\n\n题目链接：[面试题 02.07. 链表相交](https://leetcode.cn/problems/intersection-of-two-linked-lists-lcci/)\n\n题目描述：给定单链表的头节点 headA 和 headB ，找出并返回两个单链表相交的起始节点。如果两个链表没有交点，返回 null 。\n\n#### 思路1\n\n题目思路：求两个链表交点节点的指针。题目我都看不懂！看题解秒了。\n\n求出两个链表的长度，并求出两个链表长度的差值，然后让curA移动到，和curB 末尾对齐的位置。比较curA和curB是否相同，如果不相同，同时向后移动curA和curB，如果遇到curA == curB，则找到交点。否则循环退出返回空指针。\n\n```c++\nclass Solution {\npublic:\n    ListNode *getIntersectionNode(ListNode *headA, ListNode *headB) {\n        ListNode* curA = headA;\n        ListNode* curB = headB;\n        int lenA = 0, lenB = 0;\n        while (curA != NULL) { // 求链表A的长度\n            lenA++;\n            curA = curA->next;\n        }\n        while (curB != NULL) { // 求链表B的长度\n            lenB++;\n            curB = curB->next;\n        }\n        curA = headA;\n        curB = headB;\n        // 让curA为最长链表的头，lenA为其长度\n        if (lenB > lenA) {\n            swap (lenA, lenB);\n            swap (curA, curB);\n        }\n        // 求长度差\n        int gap = lenA - lenB;\n        // 让curA和curB在同一起点上（末尾位置对齐）\n        while (gap--) {\n            curA = curA->next;\n        }\n        // 遍历curA 和 curB，遇到相同则直接返回\n        while (curA != NULL) {\n            if (curA == curB) {\n                return curA;\n            }\n            curA = curA->next;\n            curB = curB->next;\n        }\n        return NULL;\n    }\n};\n```\n\n#### 思路二\n\n再贴个牛逼代码。\n\n```c++\nclass Solution {\npublic:\n    ListNode *getIntersectionNode(ListNode *headA, ListNode *headB) {\n        ListNode *A = headA, *B = headB;\n        while (A != B) {\n            A = A != nullptr ? A->next : headB;\n            B = B != nullptr ? B->next : headA;\n        }\n        return A;\n    }\n};\n```\n\n### 环形链表\n\n题目链接：[142. 环形链表 II](https://leetcode.cn/problems/linked-list-cycle-ii/)\n\n题目描述：给定一个链表，返回链表开始入环的第一个节点。 如果链表无环，则返回 null。\n\n题目思路：很有生活的题，不太好想，看题解才明白怎么才能找到环的入口，也是挺有思维量的。想明白了就好了，记下来就行了。\n\n```c++\nclass Solution {\npublic:\n    ListNode *detectCycle(ListNode *head) {\n        ListNode* fast=head;\n        ListNode* slow=head;\n        while(fast && fast->next){\n            fast=fast->next->next;\n            slow=slow->next;\n            if(fast==slow){\n                ListNode* f=fast;\n                ListNode* s=head;\n                while(f!=s){\n                    f=f->next;\n                    s=s->next;\n                }\n                return s;\n            }\n        }\n        return 0;\n    }\n};\n```\n\n","source":"_posts/4day.md","raw":"---\ntitle: 代码随想录--链表\ndate: 2025-01-26 10:33:31\ntags: [数据结构与算法,递归,双指针,链表]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--链表（下）\nkeywords: [算法,复试]\n---\n\n## 链表操作\n\n​\t链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域一个是指针域，最后一个节点的指针域指向null（空指针的意思）。\n\n### 两两交换链表中的节点\n\n题目链接：[24. 两两交换链表中的节点](https://leetcode.cn/problems/remove-linked-list-elements/)\n\n题目描述：两两交换链表中相邻的节点，并返回交换后链表的头节点\n\n#### 虚拟头节点\n\n时间复杂度：O(n)     空间复杂度：O(1)\n\n题目思路：直接对指针进行处理就行了。刚才随手写了一下，想着交一下看看哪里有bug呢，结果直接过了，也是挺顺的。\n\n``` c++\nclass Solution {\npublic:\n    ListNode* swapPairs(ListNode* head) {\n        ListNode* dummy=new ListNode(0);\n        ListNode* pre=dummy;\n        dummy->next=head;\n        while(head && head->next)\n        {\n            ListNode* tmp=pre->next;\n            ListNode* tmp1=pre->next->next->next;\n            pre->next=head->next;\n            pre->next->next=tmp;\n            pre->next->next->next=tmp1;\n            pre=tmp;\n            head=tmp1;\n        }\n        return dummy->next;\n    }\n};\n```\n\n\n\n### 删除链表的倒数第 N 个结点\n\n题目链接：[9. 删除链表的倒数第 N 个结点](https://leetcode.cn/problems/reverse-linked-list/)\n\n题目描述：删除链表的倒数第 n 个结点，并且返回链表的头结点。\n\n#### 快慢双指针法\n\n时间复杂度：O(n)     空间复杂度：O(1)\n\n题目思路：又给秒了，定义一个快指针，一个慢指针，快指针先移动到第n个位置，然后开始快慢指针开始同时移动，当快指针指向尾节点的时候，慢指针正好指向导数第n个位置的前一个结点，略过倒数第n个结点，就结束了。\n\n``` c++\nclass Solution {\npublic:\n    ListNode* removeNthFromEnd(ListNode* head, int n) {\n        ListNode* dummy=new ListNode(0);\n        ListNode* fast=dummy;\n        ListNode* slow=dummy;\n        dummy->next=head;\n        for(int i=0;i<=n;i++) fast=fast->next;\n        while(fast)\n        {\n            fast=fast->next;\n            slow=slow->next;\n        }\n        ListNode* tmp=slow->next;\n        slow->next=slow->next->next;\n        delete tmp;\n        return dummy->next;\n    }\n};\n```\n\n### 链表相交\n\n题目链接：[面试题 02.07. 链表相交](https://leetcode.cn/problems/intersection-of-two-linked-lists-lcci/)\n\n题目描述：给定单链表的头节点 headA 和 headB ，找出并返回两个单链表相交的起始节点。如果两个链表没有交点，返回 null 。\n\n#### 思路1\n\n题目思路：求两个链表交点节点的指针。题目我都看不懂！看题解秒了。\n\n求出两个链表的长度，并求出两个链表长度的差值，然后让curA移动到，和curB 末尾对齐的位置。比较curA和curB是否相同，如果不相同，同时向后移动curA和curB，如果遇到curA == curB，则找到交点。否则循环退出返回空指针。\n\n```c++\nclass Solution {\npublic:\n    ListNode *getIntersectionNode(ListNode *headA, ListNode *headB) {\n        ListNode* curA = headA;\n        ListNode* curB = headB;\n        int lenA = 0, lenB = 0;\n        while (curA != NULL) { // 求链表A的长度\n            lenA++;\n            curA = curA->next;\n        }\n        while (curB != NULL) { // 求链表B的长度\n            lenB++;\n            curB = curB->next;\n        }\n        curA = headA;\n        curB = headB;\n        // 让curA为最长链表的头，lenA为其长度\n        if (lenB > lenA) {\n            swap (lenA, lenB);\n            swap (curA, curB);\n        }\n        // 求长度差\n        int gap = lenA - lenB;\n        // 让curA和curB在同一起点上（末尾位置对齐）\n        while (gap--) {\n            curA = curA->next;\n        }\n        // 遍历curA 和 curB，遇到相同则直接返回\n        while (curA != NULL) {\n            if (curA == curB) {\n                return curA;\n            }\n            curA = curA->next;\n            curB = curB->next;\n        }\n        return NULL;\n    }\n};\n```\n\n#### 思路二\n\n再贴个牛逼代码。\n\n```c++\nclass Solution {\npublic:\n    ListNode *getIntersectionNode(ListNode *headA, ListNode *headB) {\n        ListNode *A = headA, *B = headB;\n        while (A != B) {\n            A = A != nullptr ? A->next : headB;\n            B = B != nullptr ? B->next : headA;\n        }\n        return A;\n    }\n};\n```\n\n### 环形链表\n\n题目链接：[142. 环形链表 II](https://leetcode.cn/problems/linked-list-cycle-ii/)\n\n题目描述：给定一个链表，返回链表开始入环的第一个节点。 如果链表无环，则返回 null。\n\n题目思路：很有生活的题，不太好想，看题解才明白怎么才能找到环的入口，也是挺有思维量的。想明白了就好了，记下来就行了。\n\n```c++\nclass Solution {\npublic:\n    ListNode *detectCycle(ListNode *head) {\n        ListNode* fast=head;\n        ListNode* slow=head;\n        while(fast && fast->next){\n            fast=fast->next->next;\n            slow=slow->next;\n            if(fast==slow){\n                ListNode* f=fast;\n                ListNode* s=head;\n                while(f!=s){\n                    f=f->next;\n                    s=s->next;\n                }\n                return s;\n            }\n        }\n        return 0;\n    }\n};\n```\n\n","slug":"4day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamik00241swm87uz7ypd","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"链表操作\">链表操作</h2>\n<p>​\t链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域一个是指针域，最后一个节点的指针域指向null（空指针的意思）。</p>\n<h3 id=\"两两交换链表中的节点\">两两交换链表中的节点</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/remove-linked-list-elements/\">24. 两两交换链表中的节点</a></p>\n<p>题目描述：两两交换链表中相邻的节点，并返回交换后链表的头节点</p>\n<h4 id=\"虚拟头节点\">虚拟头节点</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(1)</p>\n<p>题目思路：直接对指针进行处理就行了。刚才随手写了一下，想着交一下看看哪里有bug呢，结果直接过了，也是挺顺的。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">swapPairs</span><span class=\"params\">(ListNode* head)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* dummy=<span class=\"keyword\">new</span> <span class=\"built_in\">ListNode</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">        ListNode* pre=dummy;</span><br><span class=\"line\">        dummy-&gt;next=head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(head &amp;&amp; head-&gt;next)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ListNode* tmp=pre-&gt;next;</span><br><span class=\"line\">            ListNode* tmp1=pre-&gt;next-&gt;next-&gt;next;</span><br><span class=\"line\">            pre-&gt;next=head-&gt;next;</span><br><span class=\"line\">            pre-&gt;next-&gt;next=tmp;</span><br><span class=\"line\">            pre-&gt;next-&gt;next-&gt;next=tmp1;</span><br><span class=\"line\">            pre=tmp;</span><br><span class=\"line\">            head=tmp1;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dummy-&gt;next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除链表的倒数第-N-个结点\">删除链表的倒数第 N 个结点</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/reverse-linked-list/\">9. 删除链表的倒数第 N 个结点</a></p>\n<p>题目描述：删除链表的倒数第 n 个结点，并且返回链表的头结点。</p>\n<h4 id=\"快慢双指针法\">快慢双指针法</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(1)</p>\n<p>题目思路：又给秒了，定义一个快指针，一个慢指针，快指针先移动到第n个位置，然后开始快慢指针开始同时移动，当快指针指向尾节点的时候，慢指针正好指向导数第n个位置的前一个结点，略过倒数第n个结点，就结束了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">removeNthFromEnd</span><span class=\"params\">(ListNode* head, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* dummy=<span class=\"keyword\">new</span> <span class=\"built_in\">ListNode</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">        ListNode* fast=dummy;</span><br><span class=\"line\">        ListNode* slow=dummy;</span><br><span class=\"line\">        dummy-&gt;next=head;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;=n;i++) fast=fast-&gt;next;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(fast)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            fast=fast-&gt;next;</span><br><span class=\"line\">            slow=slow-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ListNode* tmp=slow-&gt;next;</span><br><span class=\"line\">        slow-&gt;next=slow-&gt;next-&gt;next;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> tmp;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dummy-&gt;next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"链表相交\">链表相交</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/intersection-of-two-linked-lists-lcci/\">面试题 02.07. 链表相交</a></p>\n<p>题目描述：给定单链表的头节点 headA 和 headB ，找出并返回两个单链表相交的起始节点。如果两个链表没有交点，返回 null 。</p>\n<h4 id=\"思路1\">思路1</h4>\n<p>题目思路：求两个链表交点节点的指针。题目我都看不懂！看题解秒了。</p>\n<p>求出两个链表的长度，并求出两个链表长度的差值，然后让curA移动到，和curB 末尾对齐的位置。比较curA和curB是否相同，如果不相同，同时向后移动curA和curB，如果遇到curA == curB，则找到交点。否则循环退出返回空指针。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode *<span class=\"title\">getIntersectionNode</span><span class=\"params\">(ListNode *headA, ListNode *headB)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* curA = headA;</span><br><span class=\"line\">        ListNode* curB = headB;</span><br><span class=\"line\">        <span class=\"type\">int</span> lenA = <span class=\"number\">0</span>, lenB = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (curA != <span class=\"literal\">NULL</span>) &#123; <span class=\"comment\">// 求链表A的长度</span></span><br><span class=\"line\">            lenA++;</span><br><span class=\"line\">            curA = curA-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (curB != <span class=\"literal\">NULL</span>) &#123; <span class=\"comment\">// 求链表B的长度</span></span><br><span class=\"line\">            lenB++;</span><br><span class=\"line\">            curB = curB-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        curA = headA;</span><br><span class=\"line\">        curB = headB;</span><br><span class=\"line\">        <span class=\"comment\">// 让curA为最长链表的头，lenA为其长度</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (lenB &gt; lenA) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">swap</span> (lenA, lenB);</span><br><span class=\"line\">            <span class=\"built_in\">swap</span> (curA, curB);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 求长度差</span></span><br><span class=\"line\">        <span class=\"type\">int</span> gap = lenA - lenB;</span><br><span class=\"line\">        <span class=\"comment\">// 让curA和curB在同一起点上（末尾位置对齐）</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (gap--) &#123;</span><br><span class=\"line\">            curA = curA-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历curA 和 curB，遇到相同则直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (curA != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (curA == curB) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> curA;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            curA = curA-&gt;next;</span><br><span class=\"line\">            curB = curB-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"思路二\">思路二</h4>\n<p>再贴个牛逼代码。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode *<span class=\"title\">getIntersectionNode</span><span class=\"params\">(ListNode *headA, ListNode *headB)</span> </span>&#123;</span><br><span class=\"line\">        ListNode *A = headA, *B = headB;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (A != B) &#123;</span><br><span class=\"line\">            A = A != <span class=\"literal\">nullptr</span> ? A-&gt;next : headB;</span><br><span class=\"line\">            B = B != <span class=\"literal\">nullptr</span> ? B-&gt;next : headA;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> A;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"环形链表\">环形链表</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/linked-list-cycle-ii/\">142. 环形链表 II</a></p>\n<p>题目描述：给定一个链表，返回链表开始入环的第一个节点。 如果链表无环，则返回 null。</p>\n<p>题目思路：很有生活的题，不太好想，看题解才明白怎么才能找到环的入口，也是挺有思维量的。想明白了就好了，记下来就行了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode *<span class=\"title\">detectCycle</span><span class=\"params\">(ListNode *head)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* fast=head;</span><br><span class=\"line\">        ListNode* slow=head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(fast &amp;&amp; fast-&gt;next)&#123;</span><br><span class=\"line\">            fast=fast-&gt;next-&gt;next;</span><br><span class=\"line\">            slow=slow-&gt;next;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(fast==slow)&#123;</span><br><span class=\"line\">                ListNode* f=fast;</span><br><span class=\"line\">                ListNode* s=head;</span><br><span class=\"line\">                <span class=\"keyword\">while</span>(f!=s)&#123;</span><br><span class=\"line\">                    f=f-&gt;next;</span><br><span class=\"line\">                    s=s-&gt;next;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"链表操作\">链表操作</h2>\n<p>​\t链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域一个是指针域，最后一个节点的指针域指向null（空指针的意思）。</p>\n<h3 id=\"两两交换链表中的节点\">两两交换链表中的节点</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/remove-linked-list-elements/\">24. 两两交换链表中的节点</a></p>\n<p>题目描述：两两交换链表中相邻的节点，并返回交换后链表的头节点</p>\n<h4 id=\"虚拟头节点\">虚拟头节点</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(1)</p>\n<p>题目思路：直接对指针进行处理就行了。刚才随手写了一下，想着交一下看看哪里有bug呢，结果直接过了，也是挺顺的。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">swapPairs</span><span class=\"params\">(ListNode* head)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* dummy=<span class=\"keyword\">new</span> <span class=\"built_in\">ListNode</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">        ListNode* pre=dummy;</span><br><span class=\"line\">        dummy-&gt;next=head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(head &amp;&amp; head-&gt;next)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ListNode* tmp=pre-&gt;next;</span><br><span class=\"line\">            ListNode* tmp1=pre-&gt;next-&gt;next-&gt;next;</span><br><span class=\"line\">            pre-&gt;next=head-&gt;next;</span><br><span class=\"line\">            pre-&gt;next-&gt;next=tmp;</span><br><span class=\"line\">            pre-&gt;next-&gt;next-&gt;next=tmp1;</span><br><span class=\"line\">            pre=tmp;</span><br><span class=\"line\">            head=tmp1;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dummy-&gt;next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除链表的倒数第-N-个结点\">删除链表的倒数第 N 个结点</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/reverse-linked-list/\">9. 删除链表的倒数第 N 个结点</a></p>\n<p>题目描述：删除链表的倒数第 n 个结点，并且返回链表的头结点。</p>\n<h4 id=\"快慢双指针法\">快慢双指针法</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(1)</p>\n<p>题目思路：又给秒了，定义一个快指针，一个慢指针，快指针先移动到第n个位置，然后开始快慢指针开始同时移动，当快指针指向尾节点的时候，慢指针正好指向导数第n个位置的前一个结点，略过倒数第n个结点，就结束了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">removeNthFromEnd</span><span class=\"params\">(ListNode* head, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* dummy=<span class=\"keyword\">new</span> <span class=\"built_in\">ListNode</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">        ListNode* fast=dummy;</span><br><span class=\"line\">        ListNode* slow=dummy;</span><br><span class=\"line\">        dummy-&gt;next=head;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;=n;i++) fast=fast-&gt;next;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(fast)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            fast=fast-&gt;next;</span><br><span class=\"line\">            slow=slow-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ListNode* tmp=slow-&gt;next;</span><br><span class=\"line\">        slow-&gt;next=slow-&gt;next-&gt;next;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> tmp;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dummy-&gt;next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"链表相交\">链表相交</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/intersection-of-two-linked-lists-lcci/\">面试题 02.07. 链表相交</a></p>\n<p>题目描述：给定单链表的头节点 headA 和 headB ，找出并返回两个单链表相交的起始节点。如果两个链表没有交点，返回 null 。</p>\n<h4 id=\"思路1\">思路1</h4>\n<p>题目思路：求两个链表交点节点的指针。题目我都看不懂！看题解秒了。</p>\n<p>求出两个链表的长度，并求出两个链表长度的差值，然后让curA移动到，和curB 末尾对齐的位置。比较curA和curB是否相同，如果不相同，同时向后移动curA和curB，如果遇到curA == curB，则找到交点。否则循环退出返回空指针。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode *<span class=\"title\">getIntersectionNode</span><span class=\"params\">(ListNode *headA, ListNode *headB)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* curA = headA;</span><br><span class=\"line\">        ListNode* curB = headB;</span><br><span class=\"line\">        <span class=\"type\">int</span> lenA = <span class=\"number\">0</span>, lenB = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (curA != <span class=\"literal\">NULL</span>) &#123; <span class=\"comment\">// 求链表A的长度</span></span><br><span class=\"line\">            lenA++;</span><br><span class=\"line\">            curA = curA-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (curB != <span class=\"literal\">NULL</span>) &#123; <span class=\"comment\">// 求链表B的长度</span></span><br><span class=\"line\">            lenB++;</span><br><span class=\"line\">            curB = curB-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        curA = headA;</span><br><span class=\"line\">        curB = headB;</span><br><span class=\"line\">        <span class=\"comment\">// 让curA为最长链表的头，lenA为其长度</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (lenB &gt; lenA) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">swap</span> (lenA, lenB);</span><br><span class=\"line\">            <span class=\"built_in\">swap</span> (curA, curB);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 求长度差</span></span><br><span class=\"line\">        <span class=\"type\">int</span> gap = lenA - lenB;</span><br><span class=\"line\">        <span class=\"comment\">// 让curA和curB在同一起点上（末尾位置对齐）</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (gap--) &#123;</span><br><span class=\"line\">            curA = curA-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历curA 和 curB，遇到相同则直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (curA != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (curA == curB) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> curA;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            curA = curA-&gt;next;</span><br><span class=\"line\">            curB = curB-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"思路二\">思路二</h4>\n<p>再贴个牛逼代码。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode *<span class=\"title\">getIntersectionNode</span><span class=\"params\">(ListNode *headA, ListNode *headB)</span> </span>&#123;</span><br><span class=\"line\">        ListNode *A = headA, *B = headB;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (A != B) &#123;</span><br><span class=\"line\">            A = A != <span class=\"literal\">nullptr</span> ? A-&gt;next : headB;</span><br><span class=\"line\">            B = B != <span class=\"literal\">nullptr</span> ? B-&gt;next : headA;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> A;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"环形链表\">环形链表</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/linked-list-cycle-ii/\">142. 环形链表 II</a></p>\n<p>题目描述：给定一个链表，返回链表开始入环的第一个节点。 如果链表无环，则返回 null。</p>\n<p>题目思路：很有生活的题，不太好想，看题解才明白怎么才能找到环的入口，也是挺有思维量的。想明白了就好了，记下来就行了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode *<span class=\"title\">detectCycle</span><span class=\"params\">(ListNode *head)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* fast=head;</span><br><span class=\"line\">        ListNode* slow=head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(fast &amp;&amp; fast-&gt;next)&#123;</span><br><span class=\"line\">            fast=fast-&gt;next-&gt;next;</span><br><span class=\"line\">            slow=slow-&gt;next;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(fast==slow)&#123;</span><br><span class=\"line\">                ListNode* f=fast;</span><br><span class=\"line\">                ListNode* s=head;</span><br><span class=\"line\">                <span class=\"keyword\">while</span>(f!=s)&#123;</span><br><span class=\"line\">                    f=f-&gt;next;</span><br><span class=\"line\">                    s=s-&gt;next;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"代码随想录--哈希表","date":"2025-02-03T06:10:17.000Z","updated":"2025-03-08T09:27:12.907Z","description":"代码随想录--哈希表（上）","_content":"\n## 哈希表\n\n​\t查询一个元素是否出现过，或者一个元素是否在集合里的时候，就要第一时间想到哈希法。一种以关键码的值**「key-value」**而直接进行访问的**数据结构**。\n\n### 有效的字母异位词\n\n题目链接：[242. 有效的字母异位词](https://leetcode.cn/problems/remove-linked-list-elements/)\n\n题目描述：给定两个字符串 `s` 和 `t` ，编写一个函数来判断 `t` 是否是 `s` 的 字母异位词。\n\n题目思路：创建一个哈希表，表长为26，哈希函数采用直接定址法，都不用处理冲突，还是比较简单的。直接排序，看是否两个数组相等应该也可以吧。\n\n``` c++\nclass Solution {\npublic:\n    bool isAnagram(string s, string t) {\n        int n=s.size(),m=t.size(),q[26]={0};\n        if(m!=n) return false;\n        for(int i=0;i<n;i++) q[s[i]-'a']++;\n        for(int i=0;i<m;i++) q[t[i]-'a']--;\n        for(int i=0;i<26;i++) if(q[i]!=0) return false;\n        return true;\n    }\n};\n```\n\n\n\n### 两个数组的交集\n\n题目链接：[349. 两个数组的交集](https://leetcode.cn/problems/intersection-of-two-arrays/)\n\n题目描述：给定两个数组 `nums1` 和 `nums2` ，返回它们的交集。输出结果中的每个元素一定是 **唯一** 的。\n\n我的思路：感觉自己写的这个代码和屎一样，又臭又长，一点也不优雅。首先循环nums1数组，将出现的元素在s[]的位置变为1，然后再遍历第二个数组，如果出现和第一个数组相同的元素，则t[]对应位置变为1，再将这些位置存到一个新数组中，记录数组长度，然后构建一个正好长度的新数组，返回这个数组。\n\n```c++\nclass Solution {\npublic:\n    vector<int> intersection(vector<int>& nums1, vector<int>& nums2) {\n        int n=nums1.size(),m=nums2.size();\n        int s[1001]={0},t[1001]={-1},num=0,u=1001;\n        for(int i=0;i<n;i++) s[nums1[i]]=1;\n        for(int i=0;i<m;i++) if(s[nums2[i]]==1) t[nums2[i]]=1;\n        vector<int> r(u);\n        for(int i=0;i<1001;i++)\n        {\n            if(t[i]>0){r[num]=i;\n            num++;\n            }\n        }\n        vector<int> v(num);\n        for(int i=0;i<num;i++) v[i]=r[i];\n        return v;\n    }\n};\n```\n\n代码随想录题解：太高级了，看都看不懂，特意搜了一下这几个函数的用法。\n\n​\t使用 `unordered_set<int> result` 来存储交集，这样可以自动去重，只保留一个 `nums2` 中与 `nums1` 相同的元素。\n\n**`set1.find(num)`**：\n\n- `find` 是 `unordered_set` 提供的一个成员函数，用于查找一个元素。如果元素存在，它会返回指向该元素的迭代器；如果元素不存在，它会返回指向 **`set1.end()`** 的迭代器。\n\n**`set1.end()`**：\n\n- `set1.end()` 返回的是一个指向 `set1` 容器最后一个元素之后的位置的迭代器。它并不是容器中的一个有效元素，表示容器的末尾。\n\n**`set1.find(num) != set1.end()`**：\n\n- 如果 `find(num)` 返回的迭代器与 `set1.end()` 不同，说明 **`num`** 存在于 `set1` 中。\n- 如果 `find(num)` 返回的迭代器等于 `set1.end()`，说明 **`num`** 不存在于 `set1` 中。\n\n```c++\nclass Solution {\npublic:\n    vector<int> intersection(vector<int>& nums1, vector<int>& nums2) {\n        unordered_set<int> result_set; \n        unordered_set<int> nums_set(nums1.begin(), nums1.end());\n        for (int num : nums2) {\n            if (nums_set.find(num) != nums_set.end()) {\n                result_set.insert(num);\n            }\n        }\n        return vector<int>(result_set.begin(), result_set.end());\n    }\n};\n```\n\n```c++\nclass Solution {\npublic:\n    vector<int> intersection(vector<int>& nums1, vector<int>& nums2) {\n        unordered_set<int> result_set; \n        int hash[1005] = {0}; \n        for (int num : nums1) { \n            hash[num] = 1;\n        }\n        for (int num : nums2) { \n            if (hash[num] == 1) {\n                result_set.insert(num);\n            }\n        }\n        return vector<int>(result_set.begin(), result_set.end());\n    }\n};\n\n```\n\n### 快乐数\n\n题目链接：[202. 快乐数](https://leetcode.cn/problems/happy-number/)\n\n我的思路：我就随便试一下，就直接过了，因为不知道停止条件，所以直接设了个100次，性能还很高。\n\n```c++\nclass Solution {\npublic:\n    bool isHappy(int n) {\n        for(int j=0;j<100;j++)\n        {\n            int num=0,t;\n            while(n>0)\n            {t=n%10;\n            n=n/10;\n            num=num+t*t;\n            }\n            n=num;\n            if(n==1) return true;\n        }\n        return false;\n    }\n};\n```\n\n代码随想录：题目中说了会 **无限循环**，那么也就是说**求和的过程中，sum会重复出现，这对解题很重要！**\n\n```c++\nclass Solution {\npublic:\n    // 取数值各个位上的单数之和\n    int getSum(int n) {\n        int sum = 0;\n        while (n) {\n            sum += (n % 10) * (n % 10);\n            n /= 10;\n        }\n        return sum;\n    }\n    bool isHappy(int n) {\n        unordered_set<int> set;\n        while(1) {\n            int sum = getSum(n);\n            if (sum == 1) {\n                return true;\n            }\n            // 如果这个sum曾经出现过，说明已经陷入了无限循环了，立刻return false\n            if (set.find(sum) != set.end()) {\n                return false;\n            } else {\n                set.insert(sum);\n            }\n            n = sum;\n        }\n    }\n};\n\n```\n\n### 两数之和\n\n题目链接：[1. 两数之和](https://leetcode.cn/problems/two-sum/)\n\n暴力解法：我直接先用暴力解写了一下,比较简单。\n\n```c++\nclass Solution {\npublic:\n    vector<int> twoSum(vector<int>& nums, int target) { \n        int n=nums.size();\n        for(int i=0;i<n;i++)\n        {\n            for(int j=i+1;j<n;j++)\n            {\n                if((nums[i]+nums[j])==target) \n                {\n                    return {i,j};\n                }\n            }\n        }\n        return {};\n    }\n};\n```\n\n哈希解法：思路还是挺好想的，但是代码不太会实现，不太熟练，自己写了一半，发现很多操作不会表达。直接贴一份代码随想录的代码。\n\n- 数组的大小是受限制的，而且如果元素很少，而哈希值太大会造成内存空间的浪费。\n- set是一个集合，里面放的元素只能是一个key，而两数之和这道题目，不仅要判断y是否存在而且还要记录y的下标位置，因为要返回x 和 y的下标。所以set 也不能用。\n\n​\t此时就要选择另一种数据结构：map ，map是一种key value的存储结构，可以用key保存数值，用value再保存数值所在的下标。\n\nmap中的存储结构为 {key：数据元素，value：数组元素对应的下标}。\n\n`auto` 是 **C++11** 引入的 **类型自动推导（Type Inference）** 关键字，编译器会根据变量的 **初始化值** 自动推导出其数据类型，而无需手动声明类型。\n\n```c++\nclass Solution {\npublic:\n    vector<int> twoSum(vector<int>& nums, int target) {\n        std::unordered_map <int,int> map;\n        for(int i = 0; i < nums.size(); i++) {\n            // 遍历当前元素，并在map中寻找是否有匹配的key\n            auto iter = map.find(target - nums[i]); \n            if(iter != map.end()) {\n                return {iter->second, i};\n            }\n            // 如果没找到匹配对，就把访问过的元素和下标加入到map中\n            map.insert(pair<int, int>(nums[i], i)); \n        }\n        return {};\n    }\n};\n\n```\n\n","source":"_posts/5day.md","raw":"---\ntitle: 代码随想录--哈希表\ndate: 2025-02-03 14:10:17\ntags: [数据结构与算法,哈希表,查找,set,map]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--哈希表（上）\n---\n\n## 哈希表\n\n​\t查询一个元素是否出现过，或者一个元素是否在集合里的时候，就要第一时间想到哈希法。一种以关键码的值**「key-value」**而直接进行访问的**数据结构**。\n\n### 有效的字母异位词\n\n题目链接：[242. 有效的字母异位词](https://leetcode.cn/problems/remove-linked-list-elements/)\n\n题目描述：给定两个字符串 `s` 和 `t` ，编写一个函数来判断 `t` 是否是 `s` 的 字母异位词。\n\n题目思路：创建一个哈希表，表长为26，哈希函数采用直接定址法，都不用处理冲突，还是比较简单的。直接排序，看是否两个数组相等应该也可以吧。\n\n``` c++\nclass Solution {\npublic:\n    bool isAnagram(string s, string t) {\n        int n=s.size(),m=t.size(),q[26]={0};\n        if(m!=n) return false;\n        for(int i=0;i<n;i++) q[s[i]-'a']++;\n        for(int i=0;i<m;i++) q[t[i]-'a']--;\n        for(int i=0;i<26;i++) if(q[i]!=0) return false;\n        return true;\n    }\n};\n```\n\n\n\n### 两个数组的交集\n\n题目链接：[349. 两个数组的交集](https://leetcode.cn/problems/intersection-of-two-arrays/)\n\n题目描述：给定两个数组 `nums1` 和 `nums2` ，返回它们的交集。输出结果中的每个元素一定是 **唯一** 的。\n\n我的思路：感觉自己写的这个代码和屎一样，又臭又长，一点也不优雅。首先循环nums1数组，将出现的元素在s[]的位置变为1，然后再遍历第二个数组，如果出现和第一个数组相同的元素，则t[]对应位置变为1，再将这些位置存到一个新数组中，记录数组长度，然后构建一个正好长度的新数组，返回这个数组。\n\n```c++\nclass Solution {\npublic:\n    vector<int> intersection(vector<int>& nums1, vector<int>& nums2) {\n        int n=nums1.size(),m=nums2.size();\n        int s[1001]={0},t[1001]={-1},num=0,u=1001;\n        for(int i=0;i<n;i++) s[nums1[i]]=1;\n        for(int i=0;i<m;i++) if(s[nums2[i]]==1) t[nums2[i]]=1;\n        vector<int> r(u);\n        for(int i=0;i<1001;i++)\n        {\n            if(t[i]>0){r[num]=i;\n            num++;\n            }\n        }\n        vector<int> v(num);\n        for(int i=0;i<num;i++) v[i]=r[i];\n        return v;\n    }\n};\n```\n\n代码随想录题解：太高级了，看都看不懂，特意搜了一下这几个函数的用法。\n\n​\t使用 `unordered_set<int> result` 来存储交集，这样可以自动去重，只保留一个 `nums2` 中与 `nums1` 相同的元素。\n\n**`set1.find(num)`**：\n\n- `find` 是 `unordered_set` 提供的一个成员函数，用于查找一个元素。如果元素存在，它会返回指向该元素的迭代器；如果元素不存在，它会返回指向 **`set1.end()`** 的迭代器。\n\n**`set1.end()`**：\n\n- `set1.end()` 返回的是一个指向 `set1` 容器最后一个元素之后的位置的迭代器。它并不是容器中的一个有效元素，表示容器的末尾。\n\n**`set1.find(num) != set1.end()`**：\n\n- 如果 `find(num)` 返回的迭代器与 `set1.end()` 不同，说明 **`num`** 存在于 `set1` 中。\n- 如果 `find(num)` 返回的迭代器等于 `set1.end()`，说明 **`num`** 不存在于 `set1` 中。\n\n```c++\nclass Solution {\npublic:\n    vector<int> intersection(vector<int>& nums1, vector<int>& nums2) {\n        unordered_set<int> result_set; \n        unordered_set<int> nums_set(nums1.begin(), nums1.end());\n        for (int num : nums2) {\n            if (nums_set.find(num) != nums_set.end()) {\n                result_set.insert(num);\n            }\n        }\n        return vector<int>(result_set.begin(), result_set.end());\n    }\n};\n```\n\n```c++\nclass Solution {\npublic:\n    vector<int> intersection(vector<int>& nums1, vector<int>& nums2) {\n        unordered_set<int> result_set; \n        int hash[1005] = {0}; \n        for (int num : nums1) { \n            hash[num] = 1;\n        }\n        for (int num : nums2) { \n            if (hash[num] == 1) {\n                result_set.insert(num);\n            }\n        }\n        return vector<int>(result_set.begin(), result_set.end());\n    }\n};\n\n```\n\n### 快乐数\n\n题目链接：[202. 快乐数](https://leetcode.cn/problems/happy-number/)\n\n我的思路：我就随便试一下，就直接过了，因为不知道停止条件，所以直接设了个100次，性能还很高。\n\n```c++\nclass Solution {\npublic:\n    bool isHappy(int n) {\n        for(int j=0;j<100;j++)\n        {\n            int num=0,t;\n            while(n>0)\n            {t=n%10;\n            n=n/10;\n            num=num+t*t;\n            }\n            n=num;\n            if(n==1) return true;\n        }\n        return false;\n    }\n};\n```\n\n代码随想录：题目中说了会 **无限循环**，那么也就是说**求和的过程中，sum会重复出现，这对解题很重要！**\n\n```c++\nclass Solution {\npublic:\n    // 取数值各个位上的单数之和\n    int getSum(int n) {\n        int sum = 0;\n        while (n) {\n            sum += (n % 10) * (n % 10);\n            n /= 10;\n        }\n        return sum;\n    }\n    bool isHappy(int n) {\n        unordered_set<int> set;\n        while(1) {\n            int sum = getSum(n);\n            if (sum == 1) {\n                return true;\n            }\n            // 如果这个sum曾经出现过，说明已经陷入了无限循环了，立刻return false\n            if (set.find(sum) != set.end()) {\n                return false;\n            } else {\n                set.insert(sum);\n            }\n            n = sum;\n        }\n    }\n};\n\n```\n\n### 两数之和\n\n题目链接：[1. 两数之和](https://leetcode.cn/problems/two-sum/)\n\n暴力解法：我直接先用暴力解写了一下,比较简单。\n\n```c++\nclass Solution {\npublic:\n    vector<int> twoSum(vector<int>& nums, int target) { \n        int n=nums.size();\n        for(int i=0;i<n;i++)\n        {\n            for(int j=i+1;j<n;j++)\n            {\n                if((nums[i]+nums[j])==target) \n                {\n                    return {i,j};\n                }\n            }\n        }\n        return {};\n    }\n};\n```\n\n哈希解法：思路还是挺好想的，但是代码不太会实现，不太熟练，自己写了一半，发现很多操作不会表达。直接贴一份代码随想录的代码。\n\n- 数组的大小是受限制的，而且如果元素很少，而哈希值太大会造成内存空间的浪费。\n- set是一个集合，里面放的元素只能是一个key，而两数之和这道题目，不仅要判断y是否存在而且还要记录y的下标位置，因为要返回x 和 y的下标。所以set 也不能用。\n\n​\t此时就要选择另一种数据结构：map ，map是一种key value的存储结构，可以用key保存数值，用value再保存数值所在的下标。\n\nmap中的存储结构为 {key：数据元素，value：数组元素对应的下标}。\n\n`auto` 是 **C++11** 引入的 **类型自动推导（Type Inference）** 关键字，编译器会根据变量的 **初始化值** 自动推导出其数据类型，而无需手动声明类型。\n\n```c++\nclass Solution {\npublic:\n    vector<int> twoSum(vector<int>& nums, int target) {\n        std::unordered_map <int,int> map;\n        for(int i = 0; i < nums.size(); i++) {\n            // 遍历当前元素，并在map中寻找是否有匹配的key\n            auto iter = map.find(target - nums[i]); \n            if(iter != map.end()) {\n                return {iter->second, i};\n            }\n            // 如果没找到匹配对，就把访问过的元素和下标加入到map中\n            map.insert(pair<int, int>(nums[i], i)); \n        }\n        return {};\n    }\n};\n\n```\n\n","slug":"5day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamil00261swmfxiyesfi","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"哈希表\">哈希表</h2>\n<p>​\t查询一个元素是否出现过，或者一个元素是否在集合里的时候，就要第一时间想到哈希法。一种以关键码的值**「key-value」<strong>而直接进行访问的</strong>数据结构**。</p>\n<h3 id=\"有效的字母异位词\">有效的字母异位词</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/remove-linked-list-elements/\">242. 有效的字母异位词</a></p>\n<p>题目描述：给定两个字符串 <code>s</code> 和 <code>t</code> ，编写一个函数来判断 <code>t</code> 是否是 <code>s</code> 的 字母异位词。</p>\n<p>题目思路：创建一个哈希表，表长为26，哈希函数采用直接定址法，都不用处理冲突，还是比较简单的。直接排序，看是否两个数组相等应该也可以吧。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isAnagram</span><span class=\"params\">(string s, string t)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=s.<span class=\"built_in\">size</span>(),m=t.<span class=\"built_in\">size</span>(),q[<span class=\"number\">26</span>]=&#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(m!=n) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) q[s[i]-<span class=\"string\">&#x27;a&#x27;</span>]++;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++) q[t[i]-<span class=\"string\">&#x27;a&#x27;</span>]--;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) <span class=\"keyword\">if</span>(q[i]!=<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"两个数组的交集\">两个数组的交集</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/intersection-of-two-arrays/\">349. 两个数组的交集</a></p>\n<p>题目描述：给定两个数组 <code>nums1</code> 和 <code>nums2</code> ，返回它们的交集。输出结果中的每个元素一定是 <strong>唯一</strong> 的。</p>\n<p>我的思路：感觉自己写的这个代码和屎一样，又臭又长，一点也不优雅。首先循环nums1数组，将出现的元素在s[]的位置变为1，然后再遍历第二个数组，如果出现和第一个数组相同的元素，则t[]对应位置变为1，再将这些位置存到一个新数组中，记录数组长度，然后构建一个正好长度的新数组，返回这个数组。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">intersection</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums1, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums<span class=\"number\">1.</span><span class=\"built_in\">size</span>(),m=nums<span class=\"number\">2.</span><span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> s[<span class=\"number\">1001</span>]=&#123;<span class=\"number\">0</span>&#125;,t[<span class=\"number\">1001</span>]=&#123;<span class=\"number\">-1</span>&#125;,num=<span class=\"number\">0</span>,u=<span class=\"number\">1001</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) s[nums1[i]]=<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++) <span class=\"keyword\">if</span>(s[nums2[i]]==<span class=\"number\">1</span>) t[nums2[i]]=<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">r</span><span class=\"params\">(u)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">1001</span>;i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(t[i]&gt;<span class=\"number\">0</span>)&#123;r[num]=i;</span><br><span class=\"line\">            num++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v</span><span class=\"params\">(num)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;num;i++) v[i]=r[i];</span><br><span class=\"line\">        <span class=\"keyword\">return</span> v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>代码随想录题解：太高级了，看都看不懂，特意搜了一下这几个函数的用法。</p>\n<p>​\t使用 <code>unordered_set&lt;int&gt; result</code> 来存储交集，这样可以自动去重，只保留一个 <code>nums2</code> 中与 <code>nums1</code> 相同的元素。</p>\n<p><strong><code>set1.find(num)</code></strong>：</p>\n<ul>\n<li><code>find</code> 是 <code>unordered_set</code> 提供的一个成员函数，用于查找一个元素。如果元素存在，它会返回指向该元素的迭代器；如果元素不存在，它会返回指向 <strong><code>set1.end()</code></strong> 的迭代器。</li>\n</ul>\n<p><strong><code>set1.end()</code></strong>：</p>\n<ul>\n<li><code>set1.end()</code> 返回的是一个指向 <code>set1</code> 容器最后一个元素之后的位置的迭代器。它并不是容器中的一个有效元素，表示容器的末尾。</li>\n</ul>\n<p><strong><code>set1.find(num) != set1.end()</code></strong>：</p>\n<ul>\n<li>如果 <code>find(num)</code> 返回的迭代器与 <code>set1.end()</code> 不同，说明 <strong><code>num</code></strong> 存在于 <code>set1</code> 中。</li>\n<li>如果 <code>find(num)</code> 返回的迭代器等于 <code>set1.end()</code>，说明 <strong><code>num</code></strong> 不存在于 <code>set1</code> 中。</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">intersection</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums1, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class=\"line\">        unordered_set&lt;<span class=\"type\">int</span>&gt; result_set; </span><br><span class=\"line\">        <span class=\"function\">unordered_set&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">nums_set</span><span class=\"params\">(nums<span class=\"number\">1.</span>begin(), nums<span class=\"number\">1.</span>end())</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> num : nums2) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums_set.<span class=\"built_in\">find</span>(num) != nums_set.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">                result_set.<span class=\"built_in\">insert</span>(num);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(result_set.<span class=\"built_in\">begin</span>(), result_set.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">intersection</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums1, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class=\"line\">        unordered_set&lt;<span class=\"type\">int</span>&gt; result_set; </span><br><span class=\"line\">        <span class=\"type\">int</span> hash[<span class=\"number\">1005</span>] = &#123;<span class=\"number\">0</span>&#125;; </span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> num : nums1) &#123; </span><br><span class=\"line\">            hash[num] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> num : nums2) &#123; </span><br><span class=\"line\">            <span class=\"keyword\">if</span> (hash[num] == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                result_set.<span class=\"built_in\">insert</span>(num);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(result_set.<span class=\"built_in\">begin</span>(), result_set.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"快乐数\">快乐数</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/happy-number/\">202. 快乐数</a></p>\n<p>我的思路：我就随便试一下，就直接过了，因为不知道停止条件，所以直接设了个100次，性能还很高。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isHappy</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">100</span>;j++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> num=<span class=\"number\">0</span>,t;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(n&gt;<span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;t=n%<span class=\"number\">10</span>;</span><br><span class=\"line\">            n=n/<span class=\"number\">10</span>;</span><br><span class=\"line\">            num=num+t*t;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            n=num;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(n==<span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>代码随想录：题目中说了会 <strong>无限循环</strong>，那么也就是说<strong>求和的过程中，sum会重复出现，这对解题很重要！</strong></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">// 取数值各个位上的单数之和</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">getSum</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (n) &#123;</span><br><span class=\"line\">            sum += (n % <span class=\"number\">10</span>) * (n % <span class=\"number\">10</span>);</span><br><span class=\"line\">            n /= <span class=\"number\">10</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isHappy</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        unordered_set&lt;<span class=\"type\">int</span>&gt; set;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> sum = <span class=\"built_in\">getSum</span>(n);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (sum == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 如果这个sum曾经出现过，说明已经陷入了无限循环了，立刻return false</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (set.<span class=\"built_in\">find</span>(sum) != set.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                set.<span class=\"built_in\">insert</span>(sum);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            n = sum;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"两数之和\">两数之和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/two-sum/\">1. 两数之和</a></p>\n<p>暴力解法：我直接先用暴力解写了一下,比较简单。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">twoSum</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> target)</span> </span>&#123; </span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i<span class=\"number\">+1</span>;j&lt;n;j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>((nums[i]+nums[j])==target) </span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> &#123;i,j&#125;;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;&#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>哈希解法：思路还是挺好想的，但是代码不太会实现，不太熟练，自己写了一半，发现很多操作不会表达。直接贴一份代码随想录的代码。</p>\n<ul>\n<li>数组的大小是受限制的，而且如果元素很少，而哈希值太大会造成内存空间的浪费。</li>\n<li>set是一个集合，里面放的元素只能是一个key，而两数之和这道题目，不仅要判断y是否存在而且还要记录y的下标位置，因为要返回x 和 y的下标。所以set 也不能用。</li>\n</ul>\n<p>​\t此时就要选择另一种数据结构：map ，map是一种key value的存储结构，可以用key保存数值，用value再保存数值所在的下标。</p>\n<p>map中的存储结构为 {key：数据元素，value：数组元素对应的下标}。</p>\n<p><code>auto</code> 是 <strong>C++11</strong> 引入的 <strong>类型自动推导（Type Inference）</strong> 关键字，编译器会根据变量的 <strong>初始化值</strong> 自动推导出其数据类型，而无需手动声明类型。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">twoSum</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> target)</span> </span>&#123;</span><br><span class=\"line\">        std::unordered_map &lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; map;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nums.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 遍历当前元素，并在map中寻找是否有匹配的key</span></span><br><span class=\"line\">            <span class=\"keyword\">auto</span> iter = map.<span class=\"built_in\">find</span>(target - nums[i]); </span><br><span class=\"line\">            <span class=\"keyword\">if</span>(iter != map.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> &#123;iter-&gt;second, i&#125;;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 如果没找到匹配对，就把访问过的元素和下标加入到map中</span></span><br><span class=\"line\">            map.<span class=\"built_in\">insert</span>(<span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;(nums[i], i)); </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;&#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"哈希表\">哈希表</h2>\n<p>​\t查询一个元素是否出现过，或者一个元素是否在集合里的时候，就要第一时间想到哈希法。一种以关键码的值**「key-value」<strong>而直接进行访问的</strong>数据结构**。</p>\n<h3 id=\"有效的字母异位词\">有效的字母异位词</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/remove-linked-list-elements/\">242. 有效的字母异位词</a></p>\n<p>题目描述：给定两个字符串 <code>s</code> 和 <code>t</code> ，编写一个函数来判断 <code>t</code> 是否是 <code>s</code> 的 字母异位词。</p>\n<p>题目思路：创建一个哈希表，表长为26，哈希函数采用直接定址法，都不用处理冲突，还是比较简单的。直接排序，看是否两个数组相等应该也可以吧。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isAnagram</span><span class=\"params\">(string s, string t)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=s.<span class=\"built_in\">size</span>(),m=t.<span class=\"built_in\">size</span>(),q[<span class=\"number\">26</span>]=&#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(m!=n) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) q[s[i]-<span class=\"string\">&#x27;a&#x27;</span>]++;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++) q[t[i]-<span class=\"string\">&#x27;a&#x27;</span>]--;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) <span class=\"keyword\">if</span>(q[i]!=<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"两个数组的交集\">两个数组的交集</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/intersection-of-two-arrays/\">349. 两个数组的交集</a></p>\n<p>题目描述：给定两个数组 <code>nums1</code> 和 <code>nums2</code> ，返回它们的交集。输出结果中的每个元素一定是 <strong>唯一</strong> 的。</p>\n<p>我的思路：感觉自己写的这个代码和屎一样，又臭又长，一点也不优雅。首先循环nums1数组，将出现的元素在s[]的位置变为1，然后再遍历第二个数组，如果出现和第一个数组相同的元素，则t[]对应位置变为1，再将这些位置存到一个新数组中，记录数组长度，然后构建一个正好长度的新数组，返回这个数组。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">intersection</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums1, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums<span class=\"number\">1.</span><span class=\"built_in\">size</span>(),m=nums<span class=\"number\">2.</span><span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> s[<span class=\"number\">1001</span>]=&#123;<span class=\"number\">0</span>&#125;,t[<span class=\"number\">1001</span>]=&#123;<span class=\"number\">-1</span>&#125;,num=<span class=\"number\">0</span>,u=<span class=\"number\">1001</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) s[nums1[i]]=<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++) <span class=\"keyword\">if</span>(s[nums2[i]]==<span class=\"number\">1</span>) t[nums2[i]]=<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">r</span><span class=\"params\">(u)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">1001</span>;i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(t[i]&gt;<span class=\"number\">0</span>)&#123;r[num]=i;</span><br><span class=\"line\">            num++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v</span><span class=\"params\">(num)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;num;i++) v[i]=r[i];</span><br><span class=\"line\">        <span class=\"keyword\">return</span> v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>代码随想录题解：太高级了，看都看不懂，特意搜了一下这几个函数的用法。</p>\n<p>​\t使用 <code>unordered_set&lt;int&gt; result</code> 来存储交集，这样可以自动去重，只保留一个 <code>nums2</code> 中与 <code>nums1</code> 相同的元素。</p>\n<p><strong><code>set1.find(num)</code></strong>：</p>\n<ul>\n<li><code>find</code> 是 <code>unordered_set</code> 提供的一个成员函数，用于查找一个元素。如果元素存在，它会返回指向该元素的迭代器；如果元素不存在，它会返回指向 <strong><code>set1.end()</code></strong> 的迭代器。</li>\n</ul>\n<p><strong><code>set1.end()</code></strong>：</p>\n<ul>\n<li><code>set1.end()</code> 返回的是一个指向 <code>set1</code> 容器最后一个元素之后的位置的迭代器。它并不是容器中的一个有效元素，表示容器的末尾。</li>\n</ul>\n<p><strong><code>set1.find(num) != set1.end()</code></strong>：</p>\n<ul>\n<li>如果 <code>find(num)</code> 返回的迭代器与 <code>set1.end()</code> 不同，说明 <strong><code>num</code></strong> 存在于 <code>set1</code> 中。</li>\n<li>如果 <code>find(num)</code> 返回的迭代器等于 <code>set1.end()</code>，说明 <strong><code>num</code></strong> 不存在于 <code>set1</code> 中。</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">intersection</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums1, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class=\"line\">        unordered_set&lt;<span class=\"type\">int</span>&gt; result_set; </span><br><span class=\"line\">        <span class=\"function\">unordered_set&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">nums_set</span><span class=\"params\">(nums<span class=\"number\">1.</span>begin(), nums<span class=\"number\">1.</span>end())</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> num : nums2) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums_set.<span class=\"built_in\">find</span>(num) != nums_set.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">                result_set.<span class=\"built_in\">insert</span>(num);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(result_set.<span class=\"built_in\">begin</span>(), result_set.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">intersection</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums1, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class=\"line\">        unordered_set&lt;<span class=\"type\">int</span>&gt; result_set; </span><br><span class=\"line\">        <span class=\"type\">int</span> hash[<span class=\"number\">1005</span>] = &#123;<span class=\"number\">0</span>&#125;; </span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> num : nums1) &#123; </span><br><span class=\"line\">            hash[num] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> num : nums2) &#123; </span><br><span class=\"line\">            <span class=\"keyword\">if</span> (hash[num] == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                result_set.<span class=\"built_in\">insert</span>(num);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(result_set.<span class=\"built_in\">begin</span>(), result_set.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"快乐数\">快乐数</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/happy-number/\">202. 快乐数</a></p>\n<p>我的思路：我就随便试一下，就直接过了，因为不知道停止条件，所以直接设了个100次，性能还很高。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isHappy</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">100</span>;j++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> num=<span class=\"number\">0</span>,t;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(n&gt;<span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;t=n%<span class=\"number\">10</span>;</span><br><span class=\"line\">            n=n/<span class=\"number\">10</span>;</span><br><span class=\"line\">            num=num+t*t;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            n=num;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(n==<span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>代码随想录：题目中说了会 <strong>无限循环</strong>，那么也就是说<strong>求和的过程中，sum会重复出现，这对解题很重要！</strong></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">// 取数值各个位上的单数之和</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">getSum</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (n) &#123;</span><br><span class=\"line\">            sum += (n % <span class=\"number\">10</span>) * (n % <span class=\"number\">10</span>);</span><br><span class=\"line\">            n /= <span class=\"number\">10</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isHappy</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">        unordered_set&lt;<span class=\"type\">int</span>&gt; set;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> sum = <span class=\"built_in\">getSum</span>(n);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (sum == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 如果这个sum曾经出现过，说明已经陷入了无限循环了，立刻return false</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (set.<span class=\"built_in\">find</span>(sum) != set.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                set.<span class=\"built_in\">insert</span>(sum);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            n = sum;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"两数之和\">两数之和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/two-sum/\">1. 两数之和</a></p>\n<p>暴力解法：我直接先用暴力解写了一下,比较简单。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">twoSum</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> target)</span> </span>&#123; </span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i<span class=\"number\">+1</span>;j&lt;n;j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>((nums[i]+nums[j])==target) </span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> &#123;i,j&#125;;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;&#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>哈希解法：思路还是挺好想的，但是代码不太会实现，不太熟练，自己写了一半，发现很多操作不会表达。直接贴一份代码随想录的代码。</p>\n<ul>\n<li>数组的大小是受限制的，而且如果元素很少，而哈希值太大会造成内存空间的浪费。</li>\n<li>set是一个集合，里面放的元素只能是一个key，而两数之和这道题目，不仅要判断y是否存在而且还要记录y的下标位置，因为要返回x 和 y的下标。所以set 也不能用。</li>\n</ul>\n<p>​\t此时就要选择另一种数据结构：map ，map是一种key value的存储结构，可以用key保存数值，用value再保存数值所在的下标。</p>\n<p>map中的存储结构为 {key：数据元素，value：数组元素对应的下标}。</p>\n<p><code>auto</code> 是 <strong>C++11</strong> 引入的 <strong>类型自动推导（Type Inference）</strong> 关键字，编译器会根据变量的 <strong>初始化值</strong> 自动推导出其数据类型，而无需手动声明类型。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">twoSum</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> target)</span> </span>&#123;</span><br><span class=\"line\">        std::unordered_map &lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; map;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nums.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 遍历当前元素，并在map中寻找是否有匹配的key</span></span><br><span class=\"line\">            <span class=\"keyword\">auto</span> iter = map.<span class=\"built_in\">find</span>(target - nums[i]); </span><br><span class=\"line\">            <span class=\"keyword\">if</span>(iter != map.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> &#123;iter-&gt;second, i&#125;;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 如果没找到匹配对，就把访问过的元素和下标加入到map中</span></span><br><span class=\"line\">            map.<span class=\"built_in\">insert</span>(<span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;(nums[i], i)); </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;&#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n"},{"title":"代码随想录--数组","date":"2025-01-22T16:00:00.000Z","updated":"2025-03-08T09:26:52.660Z","type":null,"comments":1,"description":"代码随想录--数组（上）","keywords":["算法","复试"],"top_img":null,"_content":"\n\n## 二分查找\n\n每次去除当前区间一半的元素，时间复杂度O(logn)，注意处理好区间。\n\n### 例题\n题目链接：[704. 二分查找](https://leetcode.cn/problems/binary-search/)\n\n题目描述：在严格递增的序列中找到给定的数，并返回其下标。\n#### 左闭右闭 [left,right]\n\n``` c++\nclass Solution {\npublic:\n    int search(vector<int>& nums, int target) {\n        int l=0,r=nums.size()-1;\n        while(l<=r)\n        {\n            int mid=(l+r)/2;\n            if(nums[mid]>target) r=mid-1;\n            else if(nums[mid]<target) l=mid+1;\n            else return mid;\n        }\n        return -1;\n    }\n};\n\n```\n\n#### 左闭右开 [left,right)\n\n``` c++\nclass Solution {\npublic:\n    int search(vector<int>& nums, int target) {\n        int l=0,r=nums.size()-1;\n        while(l<r) //当l=r时没有意义，所以改为l<r.\n        {\n            int mid=(l+r)/2;\n            if(nums[mid]>target) r=mid;\n            else if(nums[mid]<target) l=mid+1;\n            else return mid;\n        }\n        return -1;\n    }\n};\n\n```\n### 相关题目 \n\n[35. 搜索插入位置](https://leetcode.cn/problems/search-insert-position/)\n比较简单，处理一下返回值就可以。\n\n[34. 在排序数组中查找元素的第一个和最后一个位置](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)\n需要进行两次操作，找到左右边界，较复杂，还需要多做做。\n\n[69. x 的平方根 ](https://leetcode.cn/problems/sqrtx/)\n我的思路是当(l-r)<=1,找到的l便是整数部分。\n\n[367. 有效的完全平方数](https://leetcode.cn/problems/valid-perfect-square/)\n题目还未做\n\n\n\n## 双指针\n\n一种重要的编程思想，非常高效。\n### 例题\n题目链接：https://leetcode.cn/problems/remove-element/\n\n题目描述：给定一个数组 nums 和一个值 val，原地移除所有数值等于 val 的元素，并返回移除后数组的新长度。\n\n#### 左右指针法\n\n思路：从两头向中间移动指针，当左边==val，右边！=val时，交换两个元素，边界问题不太好处理，较麻烦。\n\n``` c++\nclass Solution {\npublic:\n    int removeElement(vector<int>& nums, int val) {\n        int l=0,r=nums.size()-1;\n        while(l<=r)\n        {\n            while(l<=r && nums[l]!=val) l++;\n            while(l<=r && nums[r]==val) r--;\n            if(l<r){ swap(nums[l],nums[r]);\n            l++;\n            r--;}\n        }\n        return r+1;\n    }\n};\n```\n\n#### 快慢指针法 \n\n思路：定义一个快指针，用于一直向前循环，定义一个慢指针，当快指针指到的元素！=val时，将这个元素加入到慢指针指向的位置。快指针不会慢于慢指针，所以慢指针元素的更改就是它最后输出的数组。\n``` c++\nclass Solution {\npublic:\n    int removeElement(vector<int>& nums, int val) {\n        int fast=0,slow=0,n=nums.size();\n        while(fast<n)\n        {\n            if(nums[fast]==val) fast++;\n            else nums[slow++]=nums[fast++];\n        }\n        return slow;\n    }\n};\n\n```\n\n### 相关题目\n\n26.删除有序数组中的重复项：https://leetcode.cn/problems/remove-duplicates-from-sorted-array/description/\n\n思路：快慢指针，题解中i为快指针，n为慢指针，当快慢指针指向的元素不相等时，更新慢指针，思路和例题中的差不多。\n\n``` c++\nclass Solution {\npublic:\n    int removeDuplicates(vector<int>& nums) {\n        int n=0;\n        for(int i=0;i<nums.size();i++) if(nums[i]!=nums[n]) nums[++n]=nums[i];\n        return n+1;\n    }\n};\n```\n\n283.移动零：https://leetcode.cn/problems/move-zeroes/solutions/2821184/san-chong-jie-fa-duo-yu-yan-you-pei-tu-b-1d3s/\n\n思路：这题不太好想，前几天做过，这次看还是没思路。\n\n``` c++\nclass Solution {\npublic:\n    void moveZeroes(vector<int>& nums) {\n        int n=0,tem;\n        for(int i=0;i<nums.size();i++)\n        {\n            if(nums[i]!=0)\n            {\n                tem=nums[i];\n                nums[i]=0;\n                nums[n++]=tem;     \n            }\n        }\n    }\n};\n```\n\n977.有序数组的平方：https://leetcode.cn/problems/squares-of-a-sorted-array/\n\n这题印象比较深刻，前几天做的时候一直想不明白我的做法的问题，后来问了学长，才知道，我因为没有定义一个新数组，导致在原数组上操作导致的问题。直接定义int数组也不行，得用vector定义一个动态数组，没接触过vector也是不太会用，一直想着看看呢，也总是不想看。当时一直以为是超出int范围了。\n\n思路：左右指针法，两边的数的平方向中间是递减的，所以比较两端，大的那一个就是剩下元素中最大的那个。\n\n``` c++\nclass Solution {\npublic:\n    vector<int> sortedSquares(vector<int>& nums) {\n        int l = 0, r = nums.size() - 1, pos = nums.size() - 1;\n        vector<int> result(nums.size());  // 创建 int 类型的结果数组\n        while (l <= r) {\n            int ll = nums[l] * nums[l];  \n            int rr = nums[r] * nums[r];  \n            if (ll >= rr) {\n                result[pos] = ll;\n                l++;\n            } else {\n                result[pos] = rr;\n                r--;\n            }\n            pos--;\n        }\n        return result;  // 返回结果数组\n    }\n};\n```\n","source":"_posts/1day.md","raw":"---\ntitle: 代码随想录--数组\ndate: 2025/1/23\ntags: [数据结构与算法,二分查找,双指针,数组]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ntype: \ncomments:\ndescription: 代码随想录--数组（上）\nkeywords: [算法,复试]\ntop_img: \n---\n\n\n## 二分查找\n\n每次去除当前区间一半的元素，时间复杂度O(logn)，注意处理好区间。\n\n### 例题\n题目链接：[704. 二分查找](https://leetcode.cn/problems/binary-search/)\n\n题目描述：在严格递增的序列中找到给定的数，并返回其下标。\n#### 左闭右闭 [left,right]\n\n``` c++\nclass Solution {\npublic:\n    int search(vector<int>& nums, int target) {\n        int l=0,r=nums.size()-1;\n        while(l<=r)\n        {\n            int mid=(l+r)/2;\n            if(nums[mid]>target) r=mid-1;\n            else if(nums[mid]<target) l=mid+1;\n            else return mid;\n        }\n        return -1;\n    }\n};\n\n```\n\n#### 左闭右开 [left,right)\n\n``` c++\nclass Solution {\npublic:\n    int search(vector<int>& nums, int target) {\n        int l=0,r=nums.size()-1;\n        while(l<r) //当l=r时没有意义，所以改为l<r.\n        {\n            int mid=(l+r)/2;\n            if(nums[mid]>target) r=mid;\n            else if(nums[mid]<target) l=mid+1;\n            else return mid;\n        }\n        return -1;\n    }\n};\n\n```\n### 相关题目 \n\n[35. 搜索插入位置](https://leetcode.cn/problems/search-insert-position/)\n比较简单，处理一下返回值就可以。\n\n[34. 在排序数组中查找元素的第一个和最后一个位置](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)\n需要进行两次操作，找到左右边界，较复杂，还需要多做做。\n\n[69. x 的平方根 ](https://leetcode.cn/problems/sqrtx/)\n我的思路是当(l-r)<=1,找到的l便是整数部分。\n\n[367. 有效的完全平方数](https://leetcode.cn/problems/valid-perfect-square/)\n题目还未做\n\n\n\n## 双指针\n\n一种重要的编程思想，非常高效。\n### 例题\n题目链接：https://leetcode.cn/problems/remove-element/\n\n题目描述：给定一个数组 nums 和一个值 val，原地移除所有数值等于 val 的元素，并返回移除后数组的新长度。\n\n#### 左右指针法\n\n思路：从两头向中间移动指针，当左边==val，右边！=val时，交换两个元素，边界问题不太好处理，较麻烦。\n\n``` c++\nclass Solution {\npublic:\n    int removeElement(vector<int>& nums, int val) {\n        int l=0,r=nums.size()-1;\n        while(l<=r)\n        {\n            while(l<=r && nums[l]!=val) l++;\n            while(l<=r && nums[r]==val) r--;\n            if(l<r){ swap(nums[l],nums[r]);\n            l++;\n            r--;}\n        }\n        return r+1;\n    }\n};\n```\n\n#### 快慢指针法 \n\n思路：定义一个快指针，用于一直向前循环，定义一个慢指针，当快指针指到的元素！=val时，将这个元素加入到慢指针指向的位置。快指针不会慢于慢指针，所以慢指针元素的更改就是它最后输出的数组。\n``` c++\nclass Solution {\npublic:\n    int removeElement(vector<int>& nums, int val) {\n        int fast=0,slow=0,n=nums.size();\n        while(fast<n)\n        {\n            if(nums[fast]==val) fast++;\n            else nums[slow++]=nums[fast++];\n        }\n        return slow;\n    }\n};\n\n```\n\n### 相关题目\n\n26.删除有序数组中的重复项：https://leetcode.cn/problems/remove-duplicates-from-sorted-array/description/\n\n思路：快慢指针，题解中i为快指针，n为慢指针，当快慢指针指向的元素不相等时，更新慢指针，思路和例题中的差不多。\n\n``` c++\nclass Solution {\npublic:\n    int removeDuplicates(vector<int>& nums) {\n        int n=0;\n        for(int i=0;i<nums.size();i++) if(nums[i]!=nums[n]) nums[++n]=nums[i];\n        return n+1;\n    }\n};\n```\n\n283.移动零：https://leetcode.cn/problems/move-zeroes/solutions/2821184/san-chong-jie-fa-duo-yu-yan-you-pei-tu-b-1d3s/\n\n思路：这题不太好想，前几天做过，这次看还是没思路。\n\n``` c++\nclass Solution {\npublic:\n    void moveZeroes(vector<int>& nums) {\n        int n=0,tem;\n        for(int i=0;i<nums.size();i++)\n        {\n            if(nums[i]!=0)\n            {\n                tem=nums[i];\n                nums[i]=0;\n                nums[n++]=tem;     \n            }\n        }\n    }\n};\n```\n\n977.有序数组的平方：https://leetcode.cn/problems/squares-of-a-sorted-array/\n\n这题印象比较深刻，前几天做的时候一直想不明白我的做法的问题，后来问了学长，才知道，我因为没有定义一个新数组，导致在原数组上操作导致的问题。直接定义int数组也不行，得用vector定义一个动态数组，没接触过vector也是不太会用，一直想着看看呢，也总是不想看。当时一直以为是超出int范围了。\n\n思路：左右指针法，两边的数的平方向中间是递减的，所以比较两端，大的那一个就是剩下元素中最大的那个。\n\n``` c++\nclass Solution {\npublic:\n    vector<int> sortedSquares(vector<int>& nums) {\n        int l = 0, r = nums.size() - 1, pos = nums.size() - 1;\n        vector<int> result(nums.size());  // 创建 int 类型的结果数组\n        while (l <= r) {\n            int ll = nums[l] * nums[l];  \n            int rr = nums[r] * nums[r];  \n            if (ll >= rr) {\n                result[pos] = ll;\n                l++;\n            } else {\n                result[pos] = rr;\n                r--;\n            }\n            pos--;\n        }\n        return result;  // 返回结果数组\n    }\n};\n```\n","slug":"1day","published":1,"layout":"post","photos":[],"_id":"cmacbamil00271swm2faq21z3","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"二分查找\">二分查找</h2>\n<p>每次去除当前区间一半的元素，时间复杂度O(logn)，注意处理好区间。</p>\n<h3 id=\"例题\">例题</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-search/\">704. 二分查找</a></p>\n<p>题目描述：在严格递增的序列中找到给定的数，并返回其下标。</p>\n<h4 id=\"左闭右闭-left-right\">左闭右闭 [left,right]</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">search</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> target)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=nums.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(l&lt;=r)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> mid=(l+r)/<span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[mid]&gt;target) r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid]&lt;target) l=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"左闭右开-left-right\">左闭右开 [left,right)</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">search</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> target)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=nums.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(l&lt;r) <span class=\"comment\">//当l=r时没有意义，所以改为l&lt;r.</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> mid=(l+r)/<span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[mid]&gt;target) r=mid;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid]&lt;target) l=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"相关题目\">相关题目</h3>\n<p><a href=\"https://leetcode.cn/problems/search-insert-position/\">35. 搜索插入位置</a><br>\n比较简单，处理一下返回值就可以。</p>\n<p><a href=\"https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/\">34. 在排序数组中查找元素的第一个和最后一个位置</a><br>\n需要进行两次操作，找到左右边界，较复杂，还需要多做做。</p>\n<p><a href=\"https://leetcode.cn/problems/sqrtx/\">69. x 的平方根 </a><br>\n我的思路是当(l-r)&lt;=1,找到的l便是整数部分。</p>\n<p><a href=\"https://leetcode.cn/problems/valid-perfect-square/\">367. 有效的完全平方数</a><br>\n题目还未做</p>\n<h2 id=\"双指针\">双指针</h2>\n<p>一种重要的编程思想，非常高效。</p>\n<h3 id=\"例题-2\">例题</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/remove-element/\">https://leetcode.cn/problems/remove-element/</a></p>\n<p>题目描述：给定一个数组 nums 和一个值 val，原地移除所有数值等于 val 的元素，并返回移除后数组的新长度。</p>\n<h4 id=\"左右指针法\">左右指针法</h4>\n<p>思路：从两头向中间移动指针，当左边==val，右边！=val时，交换两个元素，边界问题不太好处理，较麻烦。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">removeElement</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=nums.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(l&lt;=r)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(l&lt;=r &amp;&amp; nums[l]!=val) l++;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(l&lt;=r &amp;&amp; nums[r]==val) r--;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(l&lt;r)&#123; <span class=\"built_in\">swap</span>(nums[l],nums[r]);</span><br><span class=\"line\">            l++;</span><br><span class=\"line\">            r--;&#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> r<span class=\"number\">+1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"快慢指针法\">快慢指针法</h4>\n<p>思路：定义一个快指针，用于一直向前循环，定义一个慢指针，当快指针指到的元素！=val时，将这个元素加入到慢指针指向的位置。快指针不会慢于慢指针，所以慢指针元素的更改就是它最后输出的数组。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">removeElement</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> fast=<span class=\"number\">0</span>,slow=<span class=\"number\">0</span>,n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(fast&lt;n)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[fast]==val) fast++;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> nums[slow++]=nums[fast++];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> slow;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"相关题目-2\">相关题目</h3>\n<p>26.删除有序数组中的重复项：<a href=\"https://leetcode.cn/problems/remove-duplicates-from-sorted-array/description/\">https://leetcode.cn/problems/remove-duplicates-from-sorted-array/description/</a></p>\n<p>思路：快慢指针，题解中i为快指针，n为慢指针，当快慢指针指向的元素不相等时，更新慢指针，思路和例题中的差不多。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.<span class=\"built_in\">size</span>();i++) <span class=\"keyword\">if</span>(nums[i]!=nums[n]) nums[++n]=nums[i];</span><br><span class=\"line\">        <span class=\"keyword\">return</span> n<span class=\"number\">+1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>283.移动零：<a href=\"https://leetcode.cn/problems/move-zeroes/solutions/2821184/san-chong-jie-fa-duo-yu-yan-you-pei-tu-b-1d3s/\">https://leetcode.cn/problems/move-zeroes/solutions/2821184/san-chong-jie-fa-duo-yu-yan-you-pei-tu-b-1d3s/</a></p>\n<p>思路：这题不太好想，前几天做过，这次看还是没思路。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">moveZeroes</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=<span class=\"number\">0</span>,tem;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.<span class=\"built_in\">size</span>();i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i]!=<span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                tem=nums[i];</span><br><span class=\"line\">                nums[i]=<span class=\"number\">0</span>;</span><br><span class=\"line\">                nums[n++]=tem;     </span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>977.有序数组的平方：<a href=\"https://leetcode.cn/problems/squares-of-a-sorted-array/\">https://leetcode.cn/problems/squares-of-a-sorted-array/</a></p>\n<p>这题印象比较深刻，前几天做的时候一直想不明白我的做法的问题，后来问了学长，才知道，我因为没有定义一个新数组，导致在原数组上操作导致的问题。直接定义int数组也不行，得用vector定义一个动态数组，没接触过vector也是不太会用，一直想着看看呢，也总是不想看。当时一直以为是超出int范围了。</p>\n<p>思路：左右指针法，两边的数的平方向中间是递减的，所以比较两端，大的那一个就是剩下元素中最大的那个。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">sortedSquares</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> l = <span class=\"number\">0</span>, r = nums.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>, pos = nums.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">result</span><span class=\"params\">(nums.size())</span></span>;  <span class=\"comment\">// 创建 int 类型的结果数组</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (l &lt;= r) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> ll = nums[l] * nums[l];  </span><br><span class=\"line\">            <span class=\"type\">int</span> rr = nums[r] * nums[r];  </span><br><span class=\"line\">            <span class=\"keyword\">if</span> (ll &gt;= rr) &#123;</span><br><span class=\"line\">                result[pos] = ll;</span><br><span class=\"line\">                l++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                result[pos] = rr;</span><br><span class=\"line\">                r--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            pos--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;  <span class=\"comment\">// 返回结果数组</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"二分查找\">二分查找</h2>\n<p>每次去除当前区间一半的元素，时间复杂度O(logn)，注意处理好区间。</p>\n<h3 id=\"例题\">例题</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-search/\">704. 二分查找</a></p>\n<p>题目描述：在严格递增的序列中找到给定的数，并返回其下标。</p>\n<h4 id=\"左闭右闭-left-right\">左闭右闭 [left,right]</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">search</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> target)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=nums.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(l&lt;=r)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> mid=(l+r)/<span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[mid]&gt;target) r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid]&lt;target) l=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"左闭右开-left-right\">左闭右开 [left,right)</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">search</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> target)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=nums.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(l&lt;r) <span class=\"comment\">//当l=r时没有意义，所以改为l&lt;r.</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> mid=(l+r)/<span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[mid]&gt;target) r=mid;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[mid]&lt;target) l=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"相关题目\">相关题目</h3>\n<p><a href=\"https://leetcode.cn/problems/search-insert-position/\">35. 搜索插入位置</a><br>\n比较简单，处理一下返回值就可以。</p>\n<p><a href=\"https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/\">34. 在排序数组中查找元素的第一个和最后一个位置</a><br>\n需要进行两次操作，找到左右边界，较复杂，还需要多做做。</p>\n<p><a href=\"https://leetcode.cn/problems/sqrtx/\">69. x 的平方根 </a><br>\n我的思路是当(l-r)&lt;=1,找到的l便是整数部分。</p>\n<p><a href=\"https://leetcode.cn/problems/valid-perfect-square/\">367. 有效的完全平方数</a><br>\n题目还未做</p>\n<h2 id=\"双指针\">双指针</h2>\n<p>一种重要的编程思想，非常高效。</p>\n<h3 id=\"例题-2\">例题</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/remove-element/\">https://leetcode.cn/problems/remove-element/</a></p>\n<p>题目描述：给定一个数组 nums 和一个值 val，原地移除所有数值等于 val 的元素，并返回移除后数组的新长度。</p>\n<h4 id=\"左右指针法\">左右指针法</h4>\n<p>思路：从两头向中间移动指针，当左边==val，右边！=val时，交换两个元素，边界问题不太好处理，较麻烦。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">removeElement</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=nums.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(l&lt;=r)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(l&lt;=r &amp;&amp; nums[l]!=val) l++;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(l&lt;=r &amp;&amp; nums[r]==val) r--;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(l&lt;r)&#123; <span class=\"built_in\">swap</span>(nums[l],nums[r]);</span><br><span class=\"line\">            l++;</span><br><span class=\"line\">            r--;&#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> r<span class=\"number\">+1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"快慢指针法\">快慢指针法</h4>\n<p>思路：定义一个快指针，用于一直向前循环，定义一个慢指针，当快指针指到的元素！=val时，将这个元素加入到慢指针指向的位置。快指针不会慢于慢指针，所以慢指针元素的更改就是它最后输出的数组。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">removeElement</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> fast=<span class=\"number\">0</span>,slow=<span class=\"number\">0</span>,n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(fast&lt;n)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[fast]==val) fast++;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> nums[slow++]=nums[fast++];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> slow;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"相关题目-2\">相关题目</h3>\n<p>26.删除有序数组中的重复项：<a href=\"https://leetcode.cn/problems/remove-duplicates-from-sorted-array/description/\">https://leetcode.cn/problems/remove-duplicates-from-sorted-array/description/</a></p>\n<p>思路：快慢指针，题解中i为快指针，n为慢指针，当快慢指针指向的元素不相等时，更新慢指针，思路和例题中的差不多。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.<span class=\"built_in\">size</span>();i++) <span class=\"keyword\">if</span>(nums[i]!=nums[n]) nums[++n]=nums[i];</span><br><span class=\"line\">        <span class=\"keyword\">return</span> n<span class=\"number\">+1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>283.移动零：<a href=\"https://leetcode.cn/problems/move-zeroes/solutions/2821184/san-chong-jie-fa-duo-yu-yan-you-pei-tu-b-1d3s/\">https://leetcode.cn/problems/move-zeroes/solutions/2821184/san-chong-jie-fa-duo-yu-yan-you-pei-tu-b-1d3s/</a></p>\n<p>思路：这题不太好想，前几天做过，这次看还是没思路。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">moveZeroes</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=<span class=\"number\">0</span>,tem;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.<span class=\"built_in\">size</span>();i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i]!=<span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                tem=nums[i];</span><br><span class=\"line\">                nums[i]=<span class=\"number\">0</span>;</span><br><span class=\"line\">                nums[n++]=tem;     </span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>977.有序数组的平方：<a href=\"https://leetcode.cn/problems/squares-of-a-sorted-array/\">https://leetcode.cn/problems/squares-of-a-sorted-array/</a></p>\n<p>这题印象比较深刻，前几天做的时候一直想不明白我的做法的问题，后来问了学长，才知道，我因为没有定义一个新数组，导致在原数组上操作导致的问题。直接定义int数组也不行，得用vector定义一个动态数组，没接触过vector也是不太会用，一直想着看看呢，也总是不想看。当时一直以为是超出int范围了。</p>\n<p>思路：左右指针法，两边的数的平方向中间是递减的，所以比较两端，大的那一个就是剩下元素中最大的那个。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">sortedSquares</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> l = <span class=\"number\">0</span>, r = nums.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>, pos = nums.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">result</span><span class=\"params\">(nums.size())</span></span>;  <span class=\"comment\">// 创建 int 类型的结果数组</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (l &lt;= r) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> ll = nums[l] * nums[l];  </span><br><span class=\"line\">            <span class=\"type\">int</span> rr = nums[r] * nums[r];  </span><br><span class=\"line\">            <span class=\"keyword\">if</span> (ll &gt;= rr) &#123;</span><br><span class=\"line\">                result[pos] = ll;</span><br><span class=\"line\">                l++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                result[pos] = rr;</span><br><span class=\"line\">                r--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            pos--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;  <span class=\"comment\">// 返回结果数组</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"代码随想录--链表","date":"2025-01-24T16:00:00.000Z","updated":"2025-03-08T09:27:03.458Z","description":"代码随想录--链表（上）","_content":"\n\n## 链表基础\n\n​\t链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域一个是指针域，最后一个节点的指针域指向null（空指针的意思）。\n\n### 移除链表元素\n\n题目链接：[203. 移除链表元素](https://leetcode.cn/problems/remove-linked-list-elements/)\n\n题目描述：一个链表的头节点 `head` 和一个整数 `val` ，删除链表中所有满足 `Node.val == val` 的节点，并返回新的头节点 。\n\n#### 虚拟头节点\n\n时间复杂度：O(n)     空间复杂度：O(1)\n\n题目思路：如果直接处理链表的话，需要考虑头节点，但是加入虚拟头节点就可以按照统一的方式去处理。\n\n``` c++\nclass Solution {\npublic:\n    ListNode* removeElements(ListNode* head, int val) {\n        ListNode* dummy=new ListNode(0);\n        ListNode* pre=dummy;\n        pre->next=head;\n        while(head)\n        {\n            if(head->val==val)\n            {\n                pre->next=head->next;\n                ListNode* tem=head;\n                head=head->next;\n                delete tem;\n            }\n            else\n            {\n                pre=head;\n                head=head->next;\n            }\n        }\n        return dummy->next;\n    }\n};\n```\n\n#### 直接操作\n\n时间复杂度：O(n)     空间复杂度：O(1)\n\n```c++\nclass Solution {\npublic:\n    ListNode* removeElements(ListNode* head, int val) {\n        // 删除头结点\n        while (head != NULL && head->val == val) { // 注意这里不是if\n            ListNode* tmp = head;\n            head = head->next;\n            delete tmp;\n        }\n        // 删除非头结点\n        ListNode* cur = head;\n        while (cur != NULL && cur->next!= NULL) {\n            if (cur->next->val == val) {\n                ListNode* tmp = cur->next;\n                cur->next = cur->next->next;\n                delete tmp;\n            } else {\n                cur = cur->next;\n            }\n        }\n        return head;\n    }\n};\n```\n\n#### 递归解法\n\n时间复杂度：O(n)     空间复杂度：O(n)\n\n题目思路：首先检查头节点的值是否为 val，如果是则移除头节点，答案即为在头节点的后续节点上递归的结果；如果头节点的值不为 val，则答案为头节点与在头节点的后续节点上递归得到的新链表拼接的结果。\n\n``` c++\nclass Solution {\npublic:\n    ListNode* removeElements(ListNode* head, int val) {\n        // 基础情况：空链表\n        if (head == nullptr) {\n            return nullptr;\n        }\n        // 递归处理\n        if (head->val == val) {\n            ListNode* newHead = removeElements(head->next, val);\n            delete head;\n            return newHead;\n        } else {\n            head->next = removeElements(head->next, val);\n            return head;\n        }\n    }\n};\n```\n\n### 反转链表\n\n题目链接：[206. 反转链表](https://leetcode.cn/problems/reverse-linked-list/)\n\n题目描述：反转单链表，并返回反转后的链表。\n\n#### 双指针法\n\n时间复杂度：O(n)     空间复杂度：O(1)\n\n题目思路：定义cur和pre指针，pre初始化为NULL，cur指向head，然后反转链表，cur->next指向pre，按逻辑移动。\n\n``` c++\nclass Solution {\npublic:\n    ListNode* reverseList(ListNode* head) {\n        ListNode* tem;\n        ListNode* cur=head;\n        ListNode* pre=NULL;\n        while(cur)\n        {\n            tem=cur->next;\n            cur->next=pre;\n            pre=cur;\n            cur=tem;\n        }\n        return pre;\n    }\n};\n```\n\n#### 递归法\n\n思路和双指针差不多，明天研究一下。\n\n时间复杂度：O(n)     空间复杂度：O(n)\n\n```c++\nclass Solution {\npublic:\n    ListNode* reverse(ListNode* pre,ListNode* cur){\n        if(cur == NULL) return pre;\n        ListNode* temp = cur->next;\n        cur->next = pre;\n        // 可以和双指针法的代码进行对比，如下递归的写法，其实就是做了这两步\n        // pre = cur;\n        // cur = temp;\n        return reverse(cur,temp);\n    }\n    ListNode* reverseList(ListNode* head) {\n        // 和双指针法初始化是一样的逻辑\n        // ListNode* cur = head;\n        // ListNode* pre = NULL;\n        return reverse(NULL, head);\n    }\n\n};\n```\n\n\n\n### 设计链表\n\n题目链接：[707. 设计链表](https://leetcode.cn/problems/design-linked-list/)\n\n题目描述：获取第index个节点的值，添加头节点，添加尾节点，在第 index 个节点之前添加值为 val 的节点，删除链表中的第 index 个节点。\n\n#### 虚拟头节点\n\n``` c++\nclass MyLinkedList {\nprivate:\n    struct LinkedNode {          // 先定义 LinkedNode 结构体\n        int val;\n        LinkedNode* next;\n        LinkedNode(int val) : val(val), next(nullptr) {}\n    };\n    LinkedNode* dummyhead;       // 现在可以使用 LinkedNode 类型\n    int size;\n    \npublic:\n    MyLinkedList() {\n        dummyhead=new LinkedNode(0);\n        size=0;\n    }   \n    int get(int index) {\n        if(index>(size-1) || index<0){\n            return -1;\n        }\n        LinkedNode* cur=dummyhead->next;\n        while(index--){\n            cur=cur->next;\n        }\n        return cur->val;\n    }  \n    void addAtHead(int val) {\n        LinkedNode* newNode = new LinkedNode(val);\n        newNode->next=dummyhead->next;\n        dummyhead->next=newNode;\n        size++;\n    } \n    void addAtTail(int val) {\n        LinkedNode* newNode=new LinkedNode(val);\n        LinkedNode* cur=dummyhead;\n        while(cur->next != NULL)\n        {\n            cur=cur->next;\n        }\n        cur->next=newNode;\n        size++;\n    }   \n    void addAtIndex(int index, int val) {\n        if(index>size) return;\n        if(index<0) index=0;\n        LinkedNode* newNode=new LinkedNode(val);\n        LinkedNode* cur=dummyhead;\n        while(index--){\n            cur=cur->next;\n        }\n        newNode->next=cur->next;\n        cur->next=newNode;\n        size++;\n    }\n    void deleteAtIndex(int index) {\n        if(index>(size-1) || index<0){\n            return;\n        }\n        LinkedNode* cur=dummyhead;\n        while(index--)\n        {\n            cur=cur->next;\n        }\n        LinkedNode* tem=cur->next;\n        cur->next=cur->next->next;\n        delete tem;\n        size--;\n    }\n};\n```\n\n#### 虚拟头节点（双链表）\n\n还未看，直接copy的\n\n``` c++\n//采用循环虚拟结点的双链表实现\nclass MyLinkedList {\npublic:\n    // 定义双向链表节点结构体\n    struct DList {\n        int elem; // 节点存储的元素\n        DList *next; // 指向下一个节点的指针\n        DList *prev; // 指向上一个节点的指针\n        // 构造函数，创建一个值为elem的新节点\n        DList(int elem) : elem(elem), next(nullptr), prev(nullptr) {};\n    };\n\n    // 构造函数，初始化链表\n    MyLinkedList() {\n        sentinelNode = new DList(0); // 创建哨兵节点，不存储有效数据\n        sentinelNode->next = sentinelNode; // 哨兵节点的下一个节点指向自身，形成循环\n        sentinelNode->prev = sentinelNode; // 哨兵节点的上一个节点指向自身，形成循环\n        size = 0; // 初始化链表大小为0\n    }\n\n    // 获取链表中第index个节点的值\n    int get(int index) {\n        if (index > (size - 1) || index < 0) { // 检查索引是否超出范围\n            return -1; // 如果超出范围，返回-1\n        }\n        int num;\n        int mid = size >> 1; // 计算链表中部位置\n        DList *curNode = sentinelNode; // 从哨兵节点开始\n        if (index < mid) { // 如果索引小于中部位置，从前往后遍历\n            for (int i = 0; i < index + 1; i++) {\n                curNode = curNode->next; // 移动到目标节点\n            }\n        } else { // 如果索引大于等于中部位置，从后往前遍历\n            for (int i = 0; i < size - index; i++) {\n                curNode = curNode->prev; // 移动到目标节点\n            }\n        }\n        num = curNode->elem; // 获取目标节点的值\n        return num; // 返回节点的值\n    }\n\n    // 在链表头部添加节点\n    void addAtHead(int val) {\n        DList *newNode = new DList(val); // 创建新节点\n        DList *next = sentinelNode->next; // 获取当前头节点的下一个节点\n        newNode->prev = sentinelNode; // 新节点的上一个节点指向哨兵节点\n        newNode->next = next; // 新节点的下一个节点指向原来的头节点\n        size++; // 链表大小加1\n        sentinelNode->next = newNode; // 哨兵节点的下一个节点指向新节点\n        next->prev = newNode; // 原来的头节点的上一个节点指向新节点\n    }\n\n    // 在链表尾部添加节点\n    void addAtTail(int val) {\n        DList *newNode = new DList(val); // 创建新节点\n        DList *prev = sentinelNode->prev; // 获取当前尾节点的上一个节点\n        newNode->next = sentinelNode; // 新节点的下一个节点指向哨兵节点\n        newNode->prev = prev; // 新节点的上一个节点指向原来的尾节点\n        size++; // 链表大小加1\n        sentinelNode->prev = newNode; // 哨兵节点的上一个节点指向新节点\n        prev->next = newNode; // 原来的尾节点的下一个节点指向新节点\n    }\n\n    // 在链表中的第index个节点之前添加值为val的节点\n    void addAtIndex(int index, int val) {\n        if (index > size) { // 检查索引是否超出范围\n            return; // 如果超出范围，直接返回\n        }\n        if (index <= 0) { // 如果索引为0或负数，在头部添加节点\n            addAtHead(val);\n            return;\n        }\n        int num;\n        int mid = size >> 1; // 计算链表中部位置\n        DList *curNode = sentinelNode; // 从哨兵节点开始\n        if (index < mid) { // 如果索引小于中部位置，从前往后遍历\n            for (int i = 0; i < index; i++) {\n                curNode = curNode->next; // 移动到目标位置的前一个节点\n            }\n            DList *temp = curNode->next; // 获取目标位置的节点\n            DList *newNode = new DList(val); // 创建新节点\n            curNode->next = newNode; // 在目标位置前添加新节点\n            temp->prev = newNode; // 目标位置的节点的前一个节点指向新节点\n            newNode->next = temp; // 新节点的下一个节点指向目标位置的结点\n            newNode->prev = curNode; // 新节点的上一个节点指向当前节点\n        } else { // 如果索引大于等于中部位置，从后往前遍历\n            for (int i = 0; i < size - index; i++) {\n                curNode = curNode->prev; // 移动到目标位置的后一个节点\n            }\n            DList *temp = curNode->prev; // 获取目标位置的节点\n            DList *newNode = new DList(val); // 创建新节点\n            curNode->prev = newNode; // 在目标位置后添加新节点\n            temp->next = newNode; // 目标位置的节点的下一个节点指向新节点\n            newNode->prev = temp; // 新节点的上一个节点指向目标位置的节点\n            newNode->next = curNode; // 新节点的下一个节点指向当前节点\n        }\n        size++; // 链表大小加1\n    }\n\n    // 删除链表中的第index个节点\n    void deleteAtIndex(int index) {\n        if (index > (size - 1) || index < 0) { // 检查索引是否超出范围\n            return; // 如果超出范围，直接返回\n        }\n        int num;\n        int mid = size >> 1; // 计算链表中部位置\n        DList *curNode = sentinelNode; // 从哨兵节点开始\n        if (index < mid) { // 如果索引小于中部位置，从前往后遍历\n            for (int i = 0; i < index; i++) {\n                curNode = curNode->next; // 移动到目标位置的前一个节点\n            }\n            DList *next = curNode->next->next; // 获取目标位置的下一个节点\n            curNode->next = next; // 删除目标位置的节点\n            next->prev = curNode; // 目标位置的下一个节点的前一个节点指向当前节点\n        } else { // 如果索引大于等于中部位置，从后往前遍历\n            for (int i = 0; i < size - index - 1; i++) {\n                curNode = curNode->prev; // 移动到目标位置的后一个节点\n            }\n            DList *prev = curNode->prev->prev; // 获取目标位置的下一个节点\n            curNode->prev = prev; // 删除目标位置的节点\n            prev->next = curNode; // 目标位置的下一个节点的下一个节点指向当前节点\n        }\n        size--; // 链表大小减1\n    }\n\nprivate:\n    int size; // 链表的大小\n    DList *sentinelNode; // 哨兵节点的指针\n};\n```\n\n","source":"_posts/3day.md","raw":"---\ntitle: 代码随想录--链表\ndate: 2025/1/25\ntags: [数据结构与算法,递归,双指针,链表]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--链表（上）\n---\n\n\n## 链表基础\n\n​\t链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域一个是指针域，最后一个节点的指针域指向null（空指针的意思）。\n\n### 移除链表元素\n\n题目链接：[203. 移除链表元素](https://leetcode.cn/problems/remove-linked-list-elements/)\n\n题目描述：一个链表的头节点 `head` 和一个整数 `val` ，删除链表中所有满足 `Node.val == val` 的节点，并返回新的头节点 。\n\n#### 虚拟头节点\n\n时间复杂度：O(n)     空间复杂度：O(1)\n\n题目思路：如果直接处理链表的话，需要考虑头节点，但是加入虚拟头节点就可以按照统一的方式去处理。\n\n``` c++\nclass Solution {\npublic:\n    ListNode* removeElements(ListNode* head, int val) {\n        ListNode* dummy=new ListNode(0);\n        ListNode* pre=dummy;\n        pre->next=head;\n        while(head)\n        {\n            if(head->val==val)\n            {\n                pre->next=head->next;\n                ListNode* tem=head;\n                head=head->next;\n                delete tem;\n            }\n            else\n            {\n                pre=head;\n                head=head->next;\n            }\n        }\n        return dummy->next;\n    }\n};\n```\n\n#### 直接操作\n\n时间复杂度：O(n)     空间复杂度：O(1)\n\n```c++\nclass Solution {\npublic:\n    ListNode* removeElements(ListNode* head, int val) {\n        // 删除头结点\n        while (head != NULL && head->val == val) { // 注意这里不是if\n            ListNode* tmp = head;\n            head = head->next;\n            delete tmp;\n        }\n        // 删除非头结点\n        ListNode* cur = head;\n        while (cur != NULL && cur->next!= NULL) {\n            if (cur->next->val == val) {\n                ListNode* tmp = cur->next;\n                cur->next = cur->next->next;\n                delete tmp;\n            } else {\n                cur = cur->next;\n            }\n        }\n        return head;\n    }\n};\n```\n\n#### 递归解法\n\n时间复杂度：O(n)     空间复杂度：O(n)\n\n题目思路：首先检查头节点的值是否为 val，如果是则移除头节点，答案即为在头节点的后续节点上递归的结果；如果头节点的值不为 val，则答案为头节点与在头节点的后续节点上递归得到的新链表拼接的结果。\n\n``` c++\nclass Solution {\npublic:\n    ListNode* removeElements(ListNode* head, int val) {\n        // 基础情况：空链表\n        if (head == nullptr) {\n            return nullptr;\n        }\n        // 递归处理\n        if (head->val == val) {\n            ListNode* newHead = removeElements(head->next, val);\n            delete head;\n            return newHead;\n        } else {\n            head->next = removeElements(head->next, val);\n            return head;\n        }\n    }\n};\n```\n\n### 反转链表\n\n题目链接：[206. 反转链表](https://leetcode.cn/problems/reverse-linked-list/)\n\n题目描述：反转单链表，并返回反转后的链表。\n\n#### 双指针法\n\n时间复杂度：O(n)     空间复杂度：O(1)\n\n题目思路：定义cur和pre指针，pre初始化为NULL，cur指向head，然后反转链表，cur->next指向pre，按逻辑移动。\n\n``` c++\nclass Solution {\npublic:\n    ListNode* reverseList(ListNode* head) {\n        ListNode* tem;\n        ListNode* cur=head;\n        ListNode* pre=NULL;\n        while(cur)\n        {\n            tem=cur->next;\n            cur->next=pre;\n            pre=cur;\n            cur=tem;\n        }\n        return pre;\n    }\n};\n```\n\n#### 递归法\n\n思路和双指针差不多，明天研究一下。\n\n时间复杂度：O(n)     空间复杂度：O(n)\n\n```c++\nclass Solution {\npublic:\n    ListNode* reverse(ListNode* pre,ListNode* cur){\n        if(cur == NULL) return pre;\n        ListNode* temp = cur->next;\n        cur->next = pre;\n        // 可以和双指针法的代码进行对比，如下递归的写法，其实就是做了这两步\n        // pre = cur;\n        // cur = temp;\n        return reverse(cur,temp);\n    }\n    ListNode* reverseList(ListNode* head) {\n        // 和双指针法初始化是一样的逻辑\n        // ListNode* cur = head;\n        // ListNode* pre = NULL;\n        return reverse(NULL, head);\n    }\n\n};\n```\n\n\n\n### 设计链表\n\n题目链接：[707. 设计链表](https://leetcode.cn/problems/design-linked-list/)\n\n题目描述：获取第index个节点的值，添加头节点，添加尾节点，在第 index 个节点之前添加值为 val 的节点，删除链表中的第 index 个节点。\n\n#### 虚拟头节点\n\n``` c++\nclass MyLinkedList {\nprivate:\n    struct LinkedNode {          // 先定义 LinkedNode 结构体\n        int val;\n        LinkedNode* next;\n        LinkedNode(int val) : val(val), next(nullptr) {}\n    };\n    LinkedNode* dummyhead;       // 现在可以使用 LinkedNode 类型\n    int size;\n    \npublic:\n    MyLinkedList() {\n        dummyhead=new LinkedNode(0);\n        size=0;\n    }   \n    int get(int index) {\n        if(index>(size-1) || index<0){\n            return -1;\n        }\n        LinkedNode* cur=dummyhead->next;\n        while(index--){\n            cur=cur->next;\n        }\n        return cur->val;\n    }  \n    void addAtHead(int val) {\n        LinkedNode* newNode = new LinkedNode(val);\n        newNode->next=dummyhead->next;\n        dummyhead->next=newNode;\n        size++;\n    } \n    void addAtTail(int val) {\n        LinkedNode* newNode=new LinkedNode(val);\n        LinkedNode* cur=dummyhead;\n        while(cur->next != NULL)\n        {\n            cur=cur->next;\n        }\n        cur->next=newNode;\n        size++;\n    }   \n    void addAtIndex(int index, int val) {\n        if(index>size) return;\n        if(index<0) index=0;\n        LinkedNode* newNode=new LinkedNode(val);\n        LinkedNode* cur=dummyhead;\n        while(index--){\n            cur=cur->next;\n        }\n        newNode->next=cur->next;\n        cur->next=newNode;\n        size++;\n    }\n    void deleteAtIndex(int index) {\n        if(index>(size-1) || index<0){\n            return;\n        }\n        LinkedNode* cur=dummyhead;\n        while(index--)\n        {\n            cur=cur->next;\n        }\n        LinkedNode* tem=cur->next;\n        cur->next=cur->next->next;\n        delete tem;\n        size--;\n    }\n};\n```\n\n#### 虚拟头节点（双链表）\n\n还未看，直接copy的\n\n``` c++\n//采用循环虚拟结点的双链表实现\nclass MyLinkedList {\npublic:\n    // 定义双向链表节点结构体\n    struct DList {\n        int elem; // 节点存储的元素\n        DList *next; // 指向下一个节点的指针\n        DList *prev; // 指向上一个节点的指针\n        // 构造函数，创建一个值为elem的新节点\n        DList(int elem) : elem(elem), next(nullptr), prev(nullptr) {};\n    };\n\n    // 构造函数，初始化链表\n    MyLinkedList() {\n        sentinelNode = new DList(0); // 创建哨兵节点，不存储有效数据\n        sentinelNode->next = sentinelNode; // 哨兵节点的下一个节点指向自身，形成循环\n        sentinelNode->prev = sentinelNode; // 哨兵节点的上一个节点指向自身，形成循环\n        size = 0; // 初始化链表大小为0\n    }\n\n    // 获取链表中第index个节点的值\n    int get(int index) {\n        if (index > (size - 1) || index < 0) { // 检查索引是否超出范围\n            return -1; // 如果超出范围，返回-1\n        }\n        int num;\n        int mid = size >> 1; // 计算链表中部位置\n        DList *curNode = sentinelNode; // 从哨兵节点开始\n        if (index < mid) { // 如果索引小于中部位置，从前往后遍历\n            for (int i = 0; i < index + 1; i++) {\n                curNode = curNode->next; // 移动到目标节点\n            }\n        } else { // 如果索引大于等于中部位置，从后往前遍历\n            for (int i = 0; i < size - index; i++) {\n                curNode = curNode->prev; // 移动到目标节点\n            }\n        }\n        num = curNode->elem; // 获取目标节点的值\n        return num; // 返回节点的值\n    }\n\n    // 在链表头部添加节点\n    void addAtHead(int val) {\n        DList *newNode = new DList(val); // 创建新节点\n        DList *next = sentinelNode->next; // 获取当前头节点的下一个节点\n        newNode->prev = sentinelNode; // 新节点的上一个节点指向哨兵节点\n        newNode->next = next; // 新节点的下一个节点指向原来的头节点\n        size++; // 链表大小加1\n        sentinelNode->next = newNode; // 哨兵节点的下一个节点指向新节点\n        next->prev = newNode; // 原来的头节点的上一个节点指向新节点\n    }\n\n    // 在链表尾部添加节点\n    void addAtTail(int val) {\n        DList *newNode = new DList(val); // 创建新节点\n        DList *prev = sentinelNode->prev; // 获取当前尾节点的上一个节点\n        newNode->next = sentinelNode; // 新节点的下一个节点指向哨兵节点\n        newNode->prev = prev; // 新节点的上一个节点指向原来的尾节点\n        size++; // 链表大小加1\n        sentinelNode->prev = newNode; // 哨兵节点的上一个节点指向新节点\n        prev->next = newNode; // 原来的尾节点的下一个节点指向新节点\n    }\n\n    // 在链表中的第index个节点之前添加值为val的节点\n    void addAtIndex(int index, int val) {\n        if (index > size) { // 检查索引是否超出范围\n            return; // 如果超出范围，直接返回\n        }\n        if (index <= 0) { // 如果索引为0或负数，在头部添加节点\n            addAtHead(val);\n            return;\n        }\n        int num;\n        int mid = size >> 1; // 计算链表中部位置\n        DList *curNode = sentinelNode; // 从哨兵节点开始\n        if (index < mid) { // 如果索引小于中部位置，从前往后遍历\n            for (int i = 0; i < index; i++) {\n                curNode = curNode->next; // 移动到目标位置的前一个节点\n            }\n            DList *temp = curNode->next; // 获取目标位置的节点\n            DList *newNode = new DList(val); // 创建新节点\n            curNode->next = newNode; // 在目标位置前添加新节点\n            temp->prev = newNode; // 目标位置的节点的前一个节点指向新节点\n            newNode->next = temp; // 新节点的下一个节点指向目标位置的结点\n            newNode->prev = curNode; // 新节点的上一个节点指向当前节点\n        } else { // 如果索引大于等于中部位置，从后往前遍历\n            for (int i = 0; i < size - index; i++) {\n                curNode = curNode->prev; // 移动到目标位置的后一个节点\n            }\n            DList *temp = curNode->prev; // 获取目标位置的节点\n            DList *newNode = new DList(val); // 创建新节点\n            curNode->prev = newNode; // 在目标位置后添加新节点\n            temp->next = newNode; // 目标位置的节点的下一个节点指向新节点\n            newNode->prev = temp; // 新节点的上一个节点指向目标位置的节点\n            newNode->next = curNode; // 新节点的下一个节点指向当前节点\n        }\n        size++; // 链表大小加1\n    }\n\n    // 删除链表中的第index个节点\n    void deleteAtIndex(int index) {\n        if (index > (size - 1) || index < 0) { // 检查索引是否超出范围\n            return; // 如果超出范围，直接返回\n        }\n        int num;\n        int mid = size >> 1; // 计算链表中部位置\n        DList *curNode = sentinelNode; // 从哨兵节点开始\n        if (index < mid) { // 如果索引小于中部位置，从前往后遍历\n            for (int i = 0; i < index; i++) {\n                curNode = curNode->next; // 移动到目标位置的前一个节点\n            }\n            DList *next = curNode->next->next; // 获取目标位置的下一个节点\n            curNode->next = next; // 删除目标位置的节点\n            next->prev = curNode; // 目标位置的下一个节点的前一个节点指向当前节点\n        } else { // 如果索引大于等于中部位置，从后往前遍历\n            for (int i = 0; i < size - index - 1; i++) {\n                curNode = curNode->prev; // 移动到目标位置的后一个节点\n            }\n            DList *prev = curNode->prev->prev; // 获取目标位置的下一个节点\n            curNode->prev = prev; // 删除目标位置的节点\n            prev->next = curNode; // 目标位置的下一个节点的下一个节点指向当前节点\n        }\n        size--; // 链表大小减1\n    }\n\nprivate:\n    int size; // 链表的大小\n    DList *sentinelNode; // 哨兵节点的指针\n};\n```\n\n","slug":"3day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamim00291swm7pnyb68g","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"链表基础\">链表基础</h2>\n<p>​\t链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域一个是指针域，最后一个节点的指针域指向null（空指针的意思）。</p>\n<h3 id=\"移除链表元素\">移除链表元素</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/remove-linked-list-elements/\">203. 移除链表元素</a></p>\n<p>题目描述：一个链表的头节点 <code>head</code> 和一个整数 <code>val</code> ，删除链表中所有满足 <code>Node.val == val</code> 的节点，并返回新的头节点 。</p>\n<h4 id=\"虚拟头节点\">虚拟头节点</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(1)</p>\n<p>题目思路：如果直接处理链表的话，需要考虑头节点，但是加入虚拟头节点就可以按照统一的方式去处理。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">removeElements</span><span class=\"params\">(ListNode* head, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* dummy=<span class=\"keyword\">new</span> <span class=\"built_in\">ListNode</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">        ListNode* pre=dummy;</span><br><span class=\"line\">        pre-&gt;next=head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(head)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(head-&gt;val==val)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                pre-&gt;next=head-&gt;next;</span><br><span class=\"line\">                ListNode* tem=head;</span><br><span class=\"line\">                head=head-&gt;next;</span><br><span class=\"line\">                <span class=\"keyword\">delete</span> tem;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                pre=head;</span><br><span class=\"line\">                head=head-&gt;next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dummy-&gt;next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"直接操作\">直接操作</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(1)</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">removeElements</span><span class=\"params\">(ListNode* head, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 删除头结点</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (head != <span class=\"literal\">NULL</span> &amp;&amp; head-&gt;val == val) &#123; <span class=\"comment\">// 注意这里不是if</span></span><br><span class=\"line\">            ListNode* tmp = head;</span><br><span class=\"line\">            head = head-&gt;next;</span><br><span class=\"line\">            <span class=\"keyword\">delete</span> tmp;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 删除非头结点</span></span><br><span class=\"line\">        ListNode* cur = head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (cur != <span class=\"literal\">NULL</span> &amp;&amp; cur-&gt;next!= <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cur-&gt;next-&gt;val == val) &#123;</span><br><span class=\"line\">                ListNode* tmp = cur-&gt;next;</span><br><span class=\"line\">                cur-&gt;next = cur-&gt;next-&gt;next;</span><br><span class=\"line\">                <span class=\"keyword\">delete</span> tmp;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                cur = cur-&gt;next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"递归解法\">递归解法</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(n)</p>\n<p>题目思路：首先检查头节点的值是否为 val，如果是则移除头节点，答案即为在头节点的后续节点上递归的结果；如果头节点的值不为 val，则答案为头节点与在头节点的后续节点上递归得到的新链表拼接的结果。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">removeElements</span><span class=\"params\">(ListNode* head, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 基础情况：空链表</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (head == <span class=\"literal\">nullptr</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 递归处理</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (head-&gt;val == val) &#123;</span><br><span class=\"line\">            ListNode* newHead = <span class=\"built_in\">removeElements</span>(head-&gt;next, val);</span><br><span class=\"line\">            <span class=\"keyword\">delete</span> head;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> newHead;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            head-&gt;next = <span class=\"built_in\">removeElements</span>(head-&gt;next, val);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"反转链表\">反转链表</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/reverse-linked-list/\">206. 反转链表</a></p>\n<p>题目描述：反转单链表，并返回反转后的链表。</p>\n<h4 id=\"双指针法\">双指针法</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(1)</p>\n<p>题目思路：定义cur和pre指针，pre初始化为NULL，cur指向head，然后反转链表，cur-&gt;next指向pre，按逻辑移动。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">reverseList</span><span class=\"params\">(ListNode* head)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* tem;</span><br><span class=\"line\">        ListNode* cur=head;</span><br><span class=\"line\">        ListNode* pre=<span class=\"literal\">NULL</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(cur)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            tem=cur-&gt;next;</span><br><span class=\"line\">            cur-&gt;next=pre;</span><br><span class=\"line\">            pre=cur;</span><br><span class=\"line\">            cur=tem;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pre;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"递归法\">递归法</h4>\n<p>思路和双指针差不多，明天研究一下。</p>\n<p>时间复杂度：O(n)     空间复杂度：O(n)</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">reverse</span><span class=\"params\">(ListNode* pre,ListNode* cur)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(cur == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> pre;</span><br><span class=\"line\">        ListNode* temp = cur-&gt;next;</span><br><span class=\"line\">        cur-&gt;next = pre;</span><br><span class=\"line\">        <span class=\"comment\">// 可以和双指针法的代码进行对比，如下递归的写法，其实就是做了这两步</span></span><br><span class=\"line\">        <span class=\"comment\">// pre = cur;</span></span><br><span class=\"line\">        <span class=\"comment\">// cur = temp;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">reverse</span>(cur,temp);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">reverseList</span><span class=\"params\">(ListNode* head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 和双指针法初始化是一样的逻辑</span></span><br><span class=\"line\">        <span class=\"comment\">// ListNode* cur = head;</span></span><br><span class=\"line\">        <span class=\"comment\">// ListNode* pre = NULL;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">reverse</span>(<span class=\"literal\">NULL</span>, head);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"设计链表\">设计链表</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/design-linked-list/\">707. 设计链表</a></p>\n<p>题目描述：获取第index个节点的值，添加头节点，添加尾节点，在第 index 个节点之前添加值为 val 的节点，删除链表中的第 index 个节点。</p>\n<h4 id=\"虚拟头节点-2\">虚拟头节点</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyLinkedList</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"keyword\">struct</span> <span class=\"title class_\">LinkedNode</span> &#123;          <span class=\"comment\">// 先定义 LinkedNode 结构体</span></span><br><span class=\"line\">        <span class=\"type\">int</span> val;</span><br><span class=\"line\">        LinkedNode* next;</span><br><span class=\"line\">        <span class=\"built_in\">LinkedNode</span>(<span class=\"type\">int</span> val) : <span class=\"built_in\">val</span>(val), <span class=\"built_in\">next</span>(<span class=\"literal\">nullptr</span>) &#123;&#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    LinkedNode* dummyhead;       <span class=\"comment\">// 现在可以使用 LinkedNode 类型</span></span><br><span class=\"line\">    <span class=\"type\">int</span> size;</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">MyLinkedList</span>() &#123;</span><br><span class=\"line\">        dummyhead=<span class=\"keyword\">new</span> <span class=\"built_in\">LinkedNode</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">        size=<span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index&gt;(size<span class=\"number\">-1</span>) || index&lt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        LinkedNode* cur=dummyhead-&gt;next;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(index--)&#123;</span><br><span class=\"line\">            cur=cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cur-&gt;val;</span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtHead</span><span class=\"params\">(<span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        LinkedNode* newNode = <span class=\"keyword\">new</span> <span class=\"built_in\">LinkedNode</span>(val);</span><br><span class=\"line\">        newNode-&gt;next=dummyhead-&gt;next;</span><br><span class=\"line\">        dummyhead-&gt;next=newNode;</span><br><span class=\"line\">        size++;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtTail</span><span class=\"params\">(<span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        LinkedNode* newNode=<span class=\"keyword\">new</span> <span class=\"built_in\">LinkedNode</span>(val);</span><br><span class=\"line\">        LinkedNode* cur=dummyhead;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(cur-&gt;next != <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            cur=cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        cur-&gt;next=newNode;</span><br><span class=\"line\">        size++;</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtIndex</span><span class=\"params\">(<span class=\"type\">int</span> index, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index&gt;size) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index&lt;<span class=\"number\">0</span>) index=<span class=\"number\">0</span>;</span><br><span class=\"line\">        LinkedNode* newNode=<span class=\"keyword\">new</span> <span class=\"built_in\">LinkedNode</span>(val);</span><br><span class=\"line\">        LinkedNode* cur=dummyhead;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(index--)&#123;</span><br><span class=\"line\">            cur=cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        newNode-&gt;next=cur-&gt;next;</span><br><span class=\"line\">        cur-&gt;next=newNode;</span><br><span class=\"line\">        size++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">deleteAtIndex</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index&gt;(size<span class=\"number\">-1</span>) || index&lt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        LinkedNode* cur=dummyhead;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(index--)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            cur=cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        LinkedNode* tem=cur-&gt;next;</span><br><span class=\"line\">        cur-&gt;next=cur-&gt;next-&gt;next;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> tem;</span><br><span class=\"line\">        size--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"虚拟头节点（双链表）\">虚拟头节点（双链表）</h4>\n<p>还未看，直接copy的</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//采用循环虚拟结点的双链表实现</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyLinkedList</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">// 定义双向链表节点结构体</span></span><br><span class=\"line\">    <span class=\"keyword\">struct</span> <span class=\"title class_\">DList</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> elem; <span class=\"comment\">// 节点存储的元素</span></span><br><span class=\"line\">        DList *next; <span class=\"comment\">// 指向下一个节点的指针</span></span><br><span class=\"line\">        DList *prev; <span class=\"comment\">// 指向上一个节点的指针</span></span><br><span class=\"line\">        <span class=\"comment\">// 构造函数，创建一个值为elem的新节点</span></span><br><span class=\"line\">        <span class=\"built_in\">DList</span>(<span class=\"type\">int</span> elem) : <span class=\"built_in\">elem</span>(elem), <span class=\"built_in\">next</span>(<span class=\"literal\">nullptr</span>), <span class=\"built_in\">prev</span>(<span class=\"literal\">nullptr</span>) &#123;&#125;;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 构造函数，初始化链表</span></span><br><span class=\"line\">    <span class=\"built_in\">MyLinkedList</span>() &#123;</span><br><span class=\"line\">        sentinelNode = <span class=\"keyword\">new</span> <span class=\"built_in\">DList</span>(<span class=\"number\">0</span>); <span class=\"comment\">// 创建哨兵节点，不存储有效数据</span></span><br><span class=\"line\">        sentinelNode-&gt;next = sentinelNode; <span class=\"comment\">// 哨兵节点的下一个节点指向自身，形成循环</span></span><br><span class=\"line\">        sentinelNode-&gt;prev = sentinelNode; <span class=\"comment\">// 哨兵节点的上一个节点指向自身，形成循环</span></span><br><span class=\"line\">        size = <span class=\"number\">0</span>; <span class=\"comment\">// 初始化链表大小为0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 获取链表中第index个节点的值</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &gt; (size - <span class=\"number\">1</span>) || index &lt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// 检查索引是否超出范围</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span>; <span class=\"comment\">// 如果超出范围，返回-1</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> num;</span><br><span class=\"line\">        <span class=\"type\">int</span> mid = size &gt;&gt; <span class=\"number\">1</span>; <span class=\"comment\">// 计算链表中部位置</span></span><br><span class=\"line\">        DList *curNode = sentinelNode; <span class=\"comment\">// 从哨兵节点开始</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &lt; mid) &#123; <span class=\"comment\">// 如果索引小于中部位置，从前往后遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; index + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;next; <span class=\"comment\">// 移动到目标节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 如果索引大于等于中部位置，从后往前遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size - index; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;prev; <span class=\"comment\">// 移动到目标节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        num = curNode-&gt;elem; <span class=\"comment\">// 获取目标节点的值</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> num; <span class=\"comment\">// 返回节点的值</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在链表头部添加节点</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtHead</span><span class=\"params\">(<span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        DList *newNode = <span class=\"keyword\">new</span> <span class=\"built_in\">DList</span>(val); <span class=\"comment\">// 创建新节点</span></span><br><span class=\"line\">        DList *next = sentinelNode-&gt;next; <span class=\"comment\">// 获取当前头节点的下一个节点</span></span><br><span class=\"line\">        newNode-&gt;prev = sentinelNode; <span class=\"comment\">// 新节点的上一个节点指向哨兵节点</span></span><br><span class=\"line\">        newNode-&gt;next = next; <span class=\"comment\">// 新节点的下一个节点指向原来的头节点</span></span><br><span class=\"line\">        size++; <span class=\"comment\">// 链表大小加1</span></span><br><span class=\"line\">        sentinelNode-&gt;next = newNode; <span class=\"comment\">// 哨兵节点的下一个节点指向新节点</span></span><br><span class=\"line\">        next-&gt;prev = newNode; <span class=\"comment\">// 原来的头节点的上一个节点指向新节点</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在链表尾部添加节点</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtTail</span><span class=\"params\">(<span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        DList *newNode = <span class=\"keyword\">new</span> <span class=\"built_in\">DList</span>(val); <span class=\"comment\">// 创建新节点</span></span><br><span class=\"line\">        DList *prev = sentinelNode-&gt;prev; <span class=\"comment\">// 获取当前尾节点的上一个节点</span></span><br><span class=\"line\">        newNode-&gt;next = sentinelNode; <span class=\"comment\">// 新节点的下一个节点指向哨兵节点</span></span><br><span class=\"line\">        newNode-&gt;prev = prev; <span class=\"comment\">// 新节点的上一个节点指向原来的尾节点</span></span><br><span class=\"line\">        size++; <span class=\"comment\">// 链表大小加1</span></span><br><span class=\"line\">        sentinelNode-&gt;prev = newNode; <span class=\"comment\">// 哨兵节点的上一个节点指向新节点</span></span><br><span class=\"line\">        prev-&gt;next = newNode; <span class=\"comment\">// 原来的尾节点的下一个节点指向新节点</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在链表中的第index个节点之前添加值为val的节点</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtIndex</span><span class=\"params\">(<span class=\"type\">int</span> index, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &gt; size) &#123; <span class=\"comment\">// 检查索引是否超出范围</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>; <span class=\"comment\">// 如果超出范围，直接返回</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &lt;= <span class=\"number\">0</span>) &#123; <span class=\"comment\">// 如果索引为0或负数，在头部添加节点</span></span><br><span class=\"line\">            <span class=\"built_in\">addAtHead</span>(val);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> num;</span><br><span class=\"line\">        <span class=\"type\">int</span> mid = size &gt;&gt; <span class=\"number\">1</span>; <span class=\"comment\">// 计算链表中部位置</span></span><br><span class=\"line\">        DList *curNode = sentinelNode; <span class=\"comment\">// 从哨兵节点开始</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &lt; mid) &#123; <span class=\"comment\">// 如果索引小于中部位置，从前往后遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; index; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;next; <span class=\"comment\">// 移动到目标位置的前一个节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            DList *temp = curNode-&gt;next; <span class=\"comment\">// 获取目标位置的节点</span></span><br><span class=\"line\">            DList *newNode = <span class=\"keyword\">new</span> <span class=\"built_in\">DList</span>(val); <span class=\"comment\">// 创建新节点</span></span><br><span class=\"line\">            curNode-&gt;next = newNode; <span class=\"comment\">// 在目标位置前添加新节点</span></span><br><span class=\"line\">            temp-&gt;prev = newNode; <span class=\"comment\">// 目标位置的节点的前一个节点指向新节点</span></span><br><span class=\"line\">            newNode-&gt;next = temp; <span class=\"comment\">// 新节点的下一个节点指向目标位置的结点</span></span><br><span class=\"line\">            newNode-&gt;prev = curNode; <span class=\"comment\">// 新节点的上一个节点指向当前节点</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 如果索引大于等于中部位置，从后往前遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size - index; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;prev; <span class=\"comment\">// 移动到目标位置的后一个节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            DList *temp = curNode-&gt;prev; <span class=\"comment\">// 获取目标位置的节点</span></span><br><span class=\"line\">            DList *newNode = <span class=\"keyword\">new</span> <span class=\"built_in\">DList</span>(val); <span class=\"comment\">// 创建新节点</span></span><br><span class=\"line\">            curNode-&gt;prev = newNode; <span class=\"comment\">// 在目标位置后添加新节点</span></span><br><span class=\"line\">            temp-&gt;next = newNode; <span class=\"comment\">// 目标位置的节点的下一个节点指向新节点</span></span><br><span class=\"line\">            newNode-&gt;prev = temp; <span class=\"comment\">// 新节点的上一个节点指向目标位置的节点</span></span><br><span class=\"line\">            newNode-&gt;next = curNode; <span class=\"comment\">// 新节点的下一个节点指向当前节点</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        size++; <span class=\"comment\">// 链表大小加1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 删除链表中的第index个节点</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">deleteAtIndex</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &gt; (size - <span class=\"number\">1</span>) || index &lt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// 检查索引是否超出范围</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>; <span class=\"comment\">// 如果超出范围，直接返回</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> num;</span><br><span class=\"line\">        <span class=\"type\">int</span> mid = size &gt;&gt; <span class=\"number\">1</span>; <span class=\"comment\">// 计算链表中部位置</span></span><br><span class=\"line\">        DList *curNode = sentinelNode; <span class=\"comment\">// 从哨兵节点开始</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &lt; mid) &#123; <span class=\"comment\">// 如果索引小于中部位置，从前往后遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; index; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;next; <span class=\"comment\">// 移动到目标位置的前一个节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            DList *next = curNode-&gt;next-&gt;next; <span class=\"comment\">// 获取目标位置的下一个节点</span></span><br><span class=\"line\">            curNode-&gt;next = next; <span class=\"comment\">// 删除目标位置的节点</span></span><br><span class=\"line\">            next-&gt;prev = curNode; <span class=\"comment\">// 目标位置的下一个节点的前一个节点指向当前节点</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 如果索引大于等于中部位置，从后往前遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size - index - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;prev; <span class=\"comment\">// 移动到目标位置的后一个节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            DList *prev = curNode-&gt;prev-&gt;prev; <span class=\"comment\">// 获取目标位置的下一个节点</span></span><br><span class=\"line\">            curNode-&gt;prev = prev; <span class=\"comment\">// 删除目标位置的节点</span></span><br><span class=\"line\">            prev-&gt;next = curNode; <span class=\"comment\">// 目标位置的下一个节点的下一个节点指向当前节点</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        size--; <span class=\"comment\">// 链表大小减1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"type\">int</span> size; <span class=\"comment\">// 链表的大小</span></span><br><span class=\"line\">    DList *sentinelNode; <span class=\"comment\">// 哨兵节点的指针</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"链表基础\">链表基础</h2>\n<p>​\t链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域一个是指针域，最后一个节点的指针域指向null（空指针的意思）。</p>\n<h3 id=\"移除链表元素\">移除链表元素</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/remove-linked-list-elements/\">203. 移除链表元素</a></p>\n<p>题目描述：一个链表的头节点 <code>head</code> 和一个整数 <code>val</code> ，删除链表中所有满足 <code>Node.val == val</code> 的节点，并返回新的头节点 。</p>\n<h4 id=\"虚拟头节点\">虚拟头节点</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(1)</p>\n<p>题目思路：如果直接处理链表的话，需要考虑头节点，但是加入虚拟头节点就可以按照统一的方式去处理。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">removeElements</span><span class=\"params\">(ListNode* head, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* dummy=<span class=\"keyword\">new</span> <span class=\"built_in\">ListNode</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">        ListNode* pre=dummy;</span><br><span class=\"line\">        pre-&gt;next=head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(head)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(head-&gt;val==val)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                pre-&gt;next=head-&gt;next;</span><br><span class=\"line\">                ListNode* tem=head;</span><br><span class=\"line\">                head=head-&gt;next;</span><br><span class=\"line\">                <span class=\"keyword\">delete</span> tem;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                pre=head;</span><br><span class=\"line\">                head=head-&gt;next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dummy-&gt;next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"直接操作\">直接操作</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(1)</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">removeElements</span><span class=\"params\">(ListNode* head, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 删除头结点</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (head != <span class=\"literal\">NULL</span> &amp;&amp; head-&gt;val == val) &#123; <span class=\"comment\">// 注意这里不是if</span></span><br><span class=\"line\">            ListNode* tmp = head;</span><br><span class=\"line\">            head = head-&gt;next;</span><br><span class=\"line\">            <span class=\"keyword\">delete</span> tmp;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 删除非头结点</span></span><br><span class=\"line\">        ListNode* cur = head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (cur != <span class=\"literal\">NULL</span> &amp;&amp; cur-&gt;next!= <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cur-&gt;next-&gt;val == val) &#123;</span><br><span class=\"line\">                ListNode* tmp = cur-&gt;next;</span><br><span class=\"line\">                cur-&gt;next = cur-&gt;next-&gt;next;</span><br><span class=\"line\">                <span class=\"keyword\">delete</span> tmp;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                cur = cur-&gt;next;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"递归解法\">递归解法</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(n)</p>\n<p>题目思路：首先检查头节点的值是否为 val，如果是则移除头节点，答案即为在头节点的后续节点上递归的结果；如果头节点的值不为 val，则答案为头节点与在头节点的后续节点上递归得到的新链表拼接的结果。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">removeElements</span><span class=\"params\">(ListNode* head, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 基础情况：空链表</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (head == <span class=\"literal\">nullptr</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 递归处理</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (head-&gt;val == val) &#123;</span><br><span class=\"line\">            ListNode* newHead = <span class=\"built_in\">removeElements</span>(head-&gt;next, val);</span><br><span class=\"line\">            <span class=\"keyword\">delete</span> head;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> newHead;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            head-&gt;next = <span class=\"built_in\">removeElements</span>(head-&gt;next, val);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> head;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"反转链表\">反转链表</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/reverse-linked-list/\">206. 反转链表</a></p>\n<p>题目描述：反转单链表，并返回反转后的链表。</p>\n<h4 id=\"双指针法\">双指针法</h4>\n<p>时间复杂度：O(n)     空间复杂度：O(1)</p>\n<p>题目思路：定义cur和pre指针，pre初始化为NULL，cur指向head，然后反转链表，cur-&gt;next指向pre，按逻辑移动。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">reverseList</span><span class=\"params\">(ListNode* head)</span> </span>&#123;</span><br><span class=\"line\">        ListNode* tem;</span><br><span class=\"line\">        ListNode* cur=head;</span><br><span class=\"line\">        ListNode* pre=<span class=\"literal\">NULL</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(cur)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            tem=cur-&gt;next;</span><br><span class=\"line\">            cur-&gt;next=pre;</span><br><span class=\"line\">            pre=cur;</span><br><span class=\"line\">            cur=tem;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pre;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"递归法\">递归法</h4>\n<p>思路和双指针差不多，明天研究一下。</p>\n<p>时间复杂度：O(n)     空间复杂度：O(n)</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">reverse</span><span class=\"params\">(ListNode* pre,ListNode* cur)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(cur == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> pre;</span><br><span class=\"line\">        ListNode* temp = cur-&gt;next;</span><br><span class=\"line\">        cur-&gt;next = pre;</span><br><span class=\"line\">        <span class=\"comment\">// 可以和双指针法的代码进行对比，如下递归的写法，其实就是做了这两步</span></span><br><span class=\"line\">        <span class=\"comment\">// pre = cur;</span></span><br><span class=\"line\">        <span class=\"comment\">// cur = temp;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">reverse</span>(cur,temp);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">reverseList</span><span class=\"params\">(ListNode* head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 和双指针法初始化是一样的逻辑</span></span><br><span class=\"line\">        <span class=\"comment\">// ListNode* cur = head;</span></span><br><span class=\"line\">        <span class=\"comment\">// ListNode* pre = NULL;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">reverse</span>(<span class=\"literal\">NULL</span>, head);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"设计链表\">设计链表</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/design-linked-list/\">707. 设计链表</a></p>\n<p>题目描述：获取第index个节点的值，添加头节点，添加尾节点，在第 index 个节点之前添加值为 val 的节点，删除链表中的第 index 个节点。</p>\n<h4 id=\"虚拟头节点-2\">虚拟头节点</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyLinkedList</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"keyword\">struct</span> <span class=\"title class_\">LinkedNode</span> &#123;          <span class=\"comment\">// 先定义 LinkedNode 结构体</span></span><br><span class=\"line\">        <span class=\"type\">int</span> val;</span><br><span class=\"line\">        LinkedNode* next;</span><br><span class=\"line\">        <span class=\"built_in\">LinkedNode</span>(<span class=\"type\">int</span> val) : <span class=\"built_in\">val</span>(val), <span class=\"built_in\">next</span>(<span class=\"literal\">nullptr</span>) &#123;&#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    LinkedNode* dummyhead;       <span class=\"comment\">// 现在可以使用 LinkedNode 类型</span></span><br><span class=\"line\">    <span class=\"type\">int</span> size;</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">MyLinkedList</span>() &#123;</span><br><span class=\"line\">        dummyhead=<span class=\"keyword\">new</span> <span class=\"built_in\">LinkedNode</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">        size=<span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index&gt;(size<span class=\"number\">-1</span>) || index&lt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        LinkedNode* cur=dummyhead-&gt;next;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(index--)&#123;</span><br><span class=\"line\">            cur=cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cur-&gt;val;</span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtHead</span><span class=\"params\">(<span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        LinkedNode* newNode = <span class=\"keyword\">new</span> <span class=\"built_in\">LinkedNode</span>(val);</span><br><span class=\"line\">        newNode-&gt;next=dummyhead-&gt;next;</span><br><span class=\"line\">        dummyhead-&gt;next=newNode;</span><br><span class=\"line\">        size++;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtTail</span><span class=\"params\">(<span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        LinkedNode* newNode=<span class=\"keyword\">new</span> <span class=\"built_in\">LinkedNode</span>(val);</span><br><span class=\"line\">        LinkedNode* cur=dummyhead;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(cur-&gt;next != <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            cur=cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        cur-&gt;next=newNode;</span><br><span class=\"line\">        size++;</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtIndex</span><span class=\"params\">(<span class=\"type\">int</span> index, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index&gt;size) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index&lt;<span class=\"number\">0</span>) index=<span class=\"number\">0</span>;</span><br><span class=\"line\">        LinkedNode* newNode=<span class=\"keyword\">new</span> <span class=\"built_in\">LinkedNode</span>(val);</span><br><span class=\"line\">        LinkedNode* cur=dummyhead;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(index--)&#123;</span><br><span class=\"line\">            cur=cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        newNode-&gt;next=cur-&gt;next;</span><br><span class=\"line\">        cur-&gt;next=newNode;</span><br><span class=\"line\">        size++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">deleteAtIndex</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index&gt;(size<span class=\"number\">-1</span>) || index&lt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        LinkedNode* cur=dummyhead;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(index--)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            cur=cur-&gt;next;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        LinkedNode* tem=cur-&gt;next;</span><br><span class=\"line\">        cur-&gt;next=cur-&gt;next-&gt;next;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> tem;</span><br><span class=\"line\">        size--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"虚拟头节点（双链表）\">虚拟头节点（双链表）</h4>\n<p>还未看，直接copy的</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//采用循环虚拟结点的双链表实现</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyLinkedList</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">// 定义双向链表节点结构体</span></span><br><span class=\"line\">    <span class=\"keyword\">struct</span> <span class=\"title class_\">DList</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> elem; <span class=\"comment\">// 节点存储的元素</span></span><br><span class=\"line\">        DList *next; <span class=\"comment\">// 指向下一个节点的指针</span></span><br><span class=\"line\">        DList *prev; <span class=\"comment\">// 指向上一个节点的指针</span></span><br><span class=\"line\">        <span class=\"comment\">// 构造函数，创建一个值为elem的新节点</span></span><br><span class=\"line\">        <span class=\"built_in\">DList</span>(<span class=\"type\">int</span> elem) : <span class=\"built_in\">elem</span>(elem), <span class=\"built_in\">next</span>(<span class=\"literal\">nullptr</span>), <span class=\"built_in\">prev</span>(<span class=\"literal\">nullptr</span>) &#123;&#125;;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 构造函数，初始化链表</span></span><br><span class=\"line\">    <span class=\"built_in\">MyLinkedList</span>() &#123;</span><br><span class=\"line\">        sentinelNode = <span class=\"keyword\">new</span> <span class=\"built_in\">DList</span>(<span class=\"number\">0</span>); <span class=\"comment\">// 创建哨兵节点，不存储有效数据</span></span><br><span class=\"line\">        sentinelNode-&gt;next = sentinelNode; <span class=\"comment\">// 哨兵节点的下一个节点指向自身，形成循环</span></span><br><span class=\"line\">        sentinelNode-&gt;prev = sentinelNode; <span class=\"comment\">// 哨兵节点的上一个节点指向自身，形成循环</span></span><br><span class=\"line\">        size = <span class=\"number\">0</span>; <span class=\"comment\">// 初始化链表大小为0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 获取链表中第index个节点的值</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &gt; (size - <span class=\"number\">1</span>) || index &lt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// 检查索引是否超出范围</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span>; <span class=\"comment\">// 如果超出范围，返回-1</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> num;</span><br><span class=\"line\">        <span class=\"type\">int</span> mid = size &gt;&gt; <span class=\"number\">1</span>; <span class=\"comment\">// 计算链表中部位置</span></span><br><span class=\"line\">        DList *curNode = sentinelNode; <span class=\"comment\">// 从哨兵节点开始</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &lt; mid) &#123; <span class=\"comment\">// 如果索引小于中部位置，从前往后遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; index + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;next; <span class=\"comment\">// 移动到目标节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 如果索引大于等于中部位置，从后往前遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size - index; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;prev; <span class=\"comment\">// 移动到目标节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        num = curNode-&gt;elem; <span class=\"comment\">// 获取目标节点的值</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> num; <span class=\"comment\">// 返回节点的值</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在链表头部添加节点</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtHead</span><span class=\"params\">(<span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        DList *newNode = <span class=\"keyword\">new</span> <span class=\"built_in\">DList</span>(val); <span class=\"comment\">// 创建新节点</span></span><br><span class=\"line\">        DList *next = sentinelNode-&gt;next; <span class=\"comment\">// 获取当前头节点的下一个节点</span></span><br><span class=\"line\">        newNode-&gt;prev = sentinelNode; <span class=\"comment\">// 新节点的上一个节点指向哨兵节点</span></span><br><span class=\"line\">        newNode-&gt;next = next; <span class=\"comment\">// 新节点的下一个节点指向原来的头节点</span></span><br><span class=\"line\">        size++; <span class=\"comment\">// 链表大小加1</span></span><br><span class=\"line\">        sentinelNode-&gt;next = newNode; <span class=\"comment\">// 哨兵节点的下一个节点指向新节点</span></span><br><span class=\"line\">        next-&gt;prev = newNode; <span class=\"comment\">// 原来的头节点的上一个节点指向新节点</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在链表尾部添加节点</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtTail</span><span class=\"params\">(<span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        DList *newNode = <span class=\"keyword\">new</span> <span class=\"built_in\">DList</span>(val); <span class=\"comment\">// 创建新节点</span></span><br><span class=\"line\">        DList *prev = sentinelNode-&gt;prev; <span class=\"comment\">// 获取当前尾节点的上一个节点</span></span><br><span class=\"line\">        newNode-&gt;next = sentinelNode; <span class=\"comment\">// 新节点的下一个节点指向哨兵节点</span></span><br><span class=\"line\">        newNode-&gt;prev = prev; <span class=\"comment\">// 新节点的上一个节点指向原来的尾节点</span></span><br><span class=\"line\">        size++; <span class=\"comment\">// 链表大小加1</span></span><br><span class=\"line\">        sentinelNode-&gt;prev = newNode; <span class=\"comment\">// 哨兵节点的上一个节点指向新节点</span></span><br><span class=\"line\">        prev-&gt;next = newNode; <span class=\"comment\">// 原来的尾节点的下一个节点指向新节点</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 在链表中的第index个节点之前添加值为val的节点</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addAtIndex</span><span class=\"params\">(<span class=\"type\">int</span> index, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &gt; size) &#123; <span class=\"comment\">// 检查索引是否超出范围</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>; <span class=\"comment\">// 如果超出范围，直接返回</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &lt;= <span class=\"number\">0</span>) &#123; <span class=\"comment\">// 如果索引为0或负数，在头部添加节点</span></span><br><span class=\"line\">            <span class=\"built_in\">addAtHead</span>(val);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> num;</span><br><span class=\"line\">        <span class=\"type\">int</span> mid = size &gt;&gt; <span class=\"number\">1</span>; <span class=\"comment\">// 计算链表中部位置</span></span><br><span class=\"line\">        DList *curNode = sentinelNode; <span class=\"comment\">// 从哨兵节点开始</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &lt; mid) &#123; <span class=\"comment\">// 如果索引小于中部位置，从前往后遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; index; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;next; <span class=\"comment\">// 移动到目标位置的前一个节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            DList *temp = curNode-&gt;next; <span class=\"comment\">// 获取目标位置的节点</span></span><br><span class=\"line\">            DList *newNode = <span class=\"keyword\">new</span> <span class=\"built_in\">DList</span>(val); <span class=\"comment\">// 创建新节点</span></span><br><span class=\"line\">            curNode-&gt;next = newNode; <span class=\"comment\">// 在目标位置前添加新节点</span></span><br><span class=\"line\">            temp-&gt;prev = newNode; <span class=\"comment\">// 目标位置的节点的前一个节点指向新节点</span></span><br><span class=\"line\">            newNode-&gt;next = temp; <span class=\"comment\">// 新节点的下一个节点指向目标位置的结点</span></span><br><span class=\"line\">            newNode-&gt;prev = curNode; <span class=\"comment\">// 新节点的上一个节点指向当前节点</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 如果索引大于等于中部位置，从后往前遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size - index; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;prev; <span class=\"comment\">// 移动到目标位置的后一个节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            DList *temp = curNode-&gt;prev; <span class=\"comment\">// 获取目标位置的节点</span></span><br><span class=\"line\">            DList *newNode = <span class=\"keyword\">new</span> <span class=\"built_in\">DList</span>(val); <span class=\"comment\">// 创建新节点</span></span><br><span class=\"line\">            curNode-&gt;prev = newNode; <span class=\"comment\">// 在目标位置后添加新节点</span></span><br><span class=\"line\">            temp-&gt;next = newNode; <span class=\"comment\">// 目标位置的节点的下一个节点指向新节点</span></span><br><span class=\"line\">            newNode-&gt;prev = temp; <span class=\"comment\">// 新节点的上一个节点指向目标位置的节点</span></span><br><span class=\"line\">            newNode-&gt;next = curNode; <span class=\"comment\">// 新节点的下一个节点指向当前节点</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        size++; <span class=\"comment\">// 链表大小加1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 删除链表中的第index个节点</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">deleteAtIndex</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &gt; (size - <span class=\"number\">1</span>) || index &lt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// 检查索引是否超出范围</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>; <span class=\"comment\">// 如果超出范围，直接返回</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> num;</span><br><span class=\"line\">        <span class=\"type\">int</span> mid = size &gt;&gt; <span class=\"number\">1</span>; <span class=\"comment\">// 计算链表中部位置</span></span><br><span class=\"line\">        DList *curNode = sentinelNode; <span class=\"comment\">// 从哨兵节点开始</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &lt; mid) &#123; <span class=\"comment\">// 如果索引小于中部位置，从前往后遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; index; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;next; <span class=\"comment\">// 移动到目标位置的前一个节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            DList *next = curNode-&gt;next-&gt;next; <span class=\"comment\">// 获取目标位置的下一个节点</span></span><br><span class=\"line\">            curNode-&gt;next = next; <span class=\"comment\">// 删除目标位置的节点</span></span><br><span class=\"line\">            next-&gt;prev = curNode; <span class=\"comment\">// 目标位置的下一个节点的前一个节点指向当前节点</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 如果索引大于等于中部位置，从后往前遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; size - index - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">                curNode = curNode-&gt;prev; <span class=\"comment\">// 移动到目标位置的后一个节点</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            DList *prev = curNode-&gt;prev-&gt;prev; <span class=\"comment\">// 获取目标位置的下一个节点</span></span><br><span class=\"line\">            curNode-&gt;prev = prev; <span class=\"comment\">// 删除目标位置的节点</span></span><br><span class=\"line\">            prev-&gt;next = curNode; <span class=\"comment\">// 目标位置的下一个节点的下一个节点指向当前节点</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        size--; <span class=\"comment\">// 链表大小减1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"type\">int</span> size; <span class=\"comment\">// 链表的大小</span></span><br><span class=\"line\">    DList *sentinelNode; <span class=\"comment\">// 哨兵节点的指针</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"代码随想录--哈希表","date":"2025-02-04T06:10:17.000Z","updated":"2025-03-08T09:27:17.215Z","description":"代码随想录--哈希表（下）","_content":"\n## 哈希表\n\n​\t查询一个元素是否出现过，或者一个元素是否在集合里的时候，就要第一时间想到哈希法。一种以关键码的值**「key-value」**而直接进行访问的**数据结构**。[总结](https://programmercarl.com/%E5%93%88%E5%B8%8C%E8%A1%A8%E6%80%BB%E7%BB%93.html#%E5%93%88%E5%B8%8C%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80)\n\n### 四数相加Ⅱ\n\n题目链接：[454. 四数相加 II](https://leetcode.cn/problems/4sum-ii/)\n\n题目思路：我刚开始的思路是for四次，但是算了一下，可能有点超时，然后就直接看题解了。将四个数组两两分成一组进行处理，时间复杂度就是O(n*n)。\n\n1. 首先定义 一个unordered_map，key放a和b两数之和，value 放a和b两数之和出现的次数。\n2. 遍历大A和大B数组，统计两个数组元素之和，和出现的次数，放到map中。\n3. 定义int变量count，用来统计 a+b+c+d = 0 出现的次数。\n4. 再遍历大C和大D数组，找到如果 0-(c+d) 在map中出现过的话，就用count把map中key对应的value也就是出现次数统计出来。\n5. 最后返回统计值 count 就可以了\n\n```c++\nclass Solution {\npublic:\n    int fourSumCount(vector<int>& nums1, vector<int>& nums2, vector<int>& nums3, vector<int>& nums4) {\n        unordered_map<int,int> umap;\n        for(int a : nums1) for(int b:nums2) umap[a+b]++;\n        int count=0;\n        for(int c:nums3) for(int d:nums4) if(umap.find(0-(c+d))!=umap.end()) count+=umap[0-(c+d)];\n        return count;\n    }\n};\n```\n\n### 救赎金\n\n题目链接：[383. 赎金信](https://leetcode.cn/problems/ransom-note/)\n\n题目思路：秒了，这和 [242. 有效的字母异位词](https://leetcode.cn/problems/valid-anagram/) 几乎差不多。\n\n```c++\nclass Solution {\npublic:\n    bool canConstruct(string ransomNote, string magazine) {\n        int n=magazine.size(),m=ransomNote.size();\n        int j[26]={0};\n        for(int i=0;i<n;i++) j[magazine[i]-'a']++;\n        for(int i=0;i<m;i++) j[ransomNote[i]-'a']--;\n        for(int i=0;i<26;i++) if(j[i]<0) return false; \n        return true;\n    }\n};\n```\n\n### 三数之和\n\n题目链接：[15. 三数之和](https://leetcode.cn/problems/3sum/)\n\n题目思路1：感觉这题最不好处理的地方就是去重。三次循环，意料之中的超时了，当锻炼一下代码熟练度了。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> threeSum(vector<int>& nums) {\n        vector<vector<int>> result;\n        sort(nums.begin(),nums.end());\n        for(int i=0;i<nums.size();i++)\n        {\n            for(int j=i+1;j<nums.size();j++)\n            {\n                for(int k=j+1;k<nums.size();k++)\n                {\n                    if((nums[i]+nums[j]+nums[k])==0) \n                    result.push_back({nums[i], nums[j], nums[k]});\n                }\n            }\n        }\n        set<vector<int>> unique_nums(result.begin(), result.end());\n        vector<vector<int>> result_vector(unique_nums.begin(), unique_nums.end());\n        return result_vector;\n    }\n};\n```\n\n题目思路2：改了一下上一种方法，用哈希表进行处理。虽然可以通过，但是还是很慢。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> threeSum(vector<int>& nums) {\n        vector<vector<int>> result;\n        sort(nums.begin(),nums.end());\n        for(int i=0;i<nums.size();i++)\n        {\n            if (nums[i] > 0) break;\n            if (i > 0 && nums[i] == nums[i - 1]) continue;\n            unordered_set<int> set;\n            for(int j=i+1;j<nums.size();j++)\n            {\n                int target = 0 - (nums[i] + nums[j]);\n                if (set.find(target) != set.end()) {\n                    result.push_back({nums[i], target, nums[j]});   \n                    set.erase(target);\n                }\n                else {\n                    set.insert(nums[j]);\n                }\n            }\n        }\n        set<vector<int>> unique_nums(result.begin(), result.end());\n        vector<vector<int>> result_vector(unique_nums.begin(), unique_nums.end());\n        return result_vector;\n    }\n};\n```\n\n双指针：代码随想录的那个代码，感觉很多地方可以优化，所以就去找了一个优化完的代码。首先先将数组排序，我们只需要输出加和等于0的元素就可以，不用管次序。排序之后就可以从两端开始操作了，先创造一个大循环，用来固定住第一个数，然后再用双指针取操作另外两个数。\n\n优化一：当最小的三个数的和大于0时，就可以直接退出循环了。\n\n优化二：当最大的两个数加最小的那个数，还是小于0，就可以向前移动到再大的数了。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> threeSum(vector<int>& nums) {\n        ranges::sort(nums);\n        vector<vector<int>> ans;\n        int n = nums.size();\n        for (int i = 0; i < n - 2; i++) {\n            int x = nums[i];\n            if (i && x == nums[i - 1]) continue; // 跳过重复数字\n            if (x + nums[i + 1] + nums[i + 2] > 0) break; // 优化一\n            if (x + nums[n - 2] + nums[n - 1] < 0) continue; // 优化二\n            int j = i + 1, k = n - 1;\n            while (j < k) {\n                int s = x + nums[j] + nums[k];\n                if (s > 0) {\n                    k--;\n                } else if (s < 0) {\n                    j++;\n                } else { // 三数之和为 0\n                    ans.push_back({x, nums[j], nums[k]});\n                    for (j++; j < k && nums[j] == nums[j - 1]; j++); // 跳过重复数字\n                    for (k--; k > j && nums[k] == nums[k + 1]; k--); // 跳过重复数字\n                }\n            }\n        }\n        return ans;\n    }\n};\n\n```\n\n### 四数之和\n\n题目链接：[18. 四数之和](https://leetcode.cn/problems/4sum/)\n\n我的思路：做了半个小时，好几个小问题，思路和上一题一样，用同样的方法，只不过多了一层循环，需要多判断一下重复条件，那几个相加超范围不太会如何处理，chatgpt让它给的方案。看了一下代码随想录的思路，差不多，它加了两行剪枝代码，但是它的代码性能有点慢，加了也不如我的这个性能高，我也在代码中加上了那两行剪枝代码。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> fourSum(vector<int>& nums, int target) {\n        int n=nums.size();\n        sort(nums.begin(),nums.end());\n        vector<vector<int>> ans;\n        for(int i=0;i<n-3;i++)\n            if(i>0 && nums[i]==nums[i-1]) continue;\n            if (nums[i] > target && nums[i] >= 0) break; // \n            for(int j=i+1;j<n-2;j++)\n            {\n                if(j>i+1 && nums[j]==nums[j-1]) continue;\n                if(nums[i]+nums[j] > target && nums[i]+nums[j] >= 0) break; //\n                int c=j+1,d=n-1;\n                if((long long)nums[i]+nums[j]+nums[j+1]+nums[j+2]>target) break;\n                if((long long)nums[i]+nums[j]+nums[n-1]+nums[n-2]<target) continue;\n                while(c<d){\n                    long long sum=(long long)nums[i]+nums[j]+nums[c]+nums[d];\n                    if(sum>target) d--;\n                    else if(sum<target) c++;\n                    else{\n                        ans.push_back(vector<int> {nums[i],nums[j],nums[c],nums[d]});\n                        while(c<d && nums[c]==nums[c+1]) c++;\n                        while(c<d && nums[d]==nums[d-1]) d--;\n                        c++;\n                        d--;\n                    }\n                }\n            }\n        }\n        return ans;\n    }\n};\n```\n\n\n\n\n\n","source":"_posts/6day.md","raw":"---\ntitle: 代码随想录--哈希表\ndate: 2025-02-04 14:10:17\ntags: [数据结构与算法,哈希表,map,双指针]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--哈希表（下）\n---\n\n## 哈希表\n\n​\t查询一个元素是否出现过，或者一个元素是否在集合里的时候，就要第一时间想到哈希法。一种以关键码的值**「key-value」**而直接进行访问的**数据结构**。[总结](https://programmercarl.com/%E5%93%88%E5%B8%8C%E8%A1%A8%E6%80%BB%E7%BB%93.html#%E5%93%88%E5%B8%8C%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80)\n\n### 四数相加Ⅱ\n\n题目链接：[454. 四数相加 II](https://leetcode.cn/problems/4sum-ii/)\n\n题目思路：我刚开始的思路是for四次，但是算了一下，可能有点超时，然后就直接看题解了。将四个数组两两分成一组进行处理，时间复杂度就是O(n*n)。\n\n1. 首先定义 一个unordered_map，key放a和b两数之和，value 放a和b两数之和出现的次数。\n2. 遍历大A和大B数组，统计两个数组元素之和，和出现的次数，放到map中。\n3. 定义int变量count，用来统计 a+b+c+d = 0 出现的次数。\n4. 再遍历大C和大D数组，找到如果 0-(c+d) 在map中出现过的话，就用count把map中key对应的value也就是出现次数统计出来。\n5. 最后返回统计值 count 就可以了\n\n```c++\nclass Solution {\npublic:\n    int fourSumCount(vector<int>& nums1, vector<int>& nums2, vector<int>& nums3, vector<int>& nums4) {\n        unordered_map<int,int> umap;\n        for(int a : nums1) for(int b:nums2) umap[a+b]++;\n        int count=0;\n        for(int c:nums3) for(int d:nums4) if(umap.find(0-(c+d))!=umap.end()) count+=umap[0-(c+d)];\n        return count;\n    }\n};\n```\n\n### 救赎金\n\n题目链接：[383. 赎金信](https://leetcode.cn/problems/ransom-note/)\n\n题目思路：秒了，这和 [242. 有效的字母异位词](https://leetcode.cn/problems/valid-anagram/) 几乎差不多。\n\n```c++\nclass Solution {\npublic:\n    bool canConstruct(string ransomNote, string magazine) {\n        int n=magazine.size(),m=ransomNote.size();\n        int j[26]={0};\n        for(int i=0;i<n;i++) j[magazine[i]-'a']++;\n        for(int i=0;i<m;i++) j[ransomNote[i]-'a']--;\n        for(int i=0;i<26;i++) if(j[i]<0) return false; \n        return true;\n    }\n};\n```\n\n### 三数之和\n\n题目链接：[15. 三数之和](https://leetcode.cn/problems/3sum/)\n\n题目思路1：感觉这题最不好处理的地方就是去重。三次循环，意料之中的超时了，当锻炼一下代码熟练度了。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> threeSum(vector<int>& nums) {\n        vector<vector<int>> result;\n        sort(nums.begin(),nums.end());\n        for(int i=0;i<nums.size();i++)\n        {\n            for(int j=i+1;j<nums.size();j++)\n            {\n                for(int k=j+1;k<nums.size();k++)\n                {\n                    if((nums[i]+nums[j]+nums[k])==0) \n                    result.push_back({nums[i], nums[j], nums[k]});\n                }\n            }\n        }\n        set<vector<int>> unique_nums(result.begin(), result.end());\n        vector<vector<int>> result_vector(unique_nums.begin(), unique_nums.end());\n        return result_vector;\n    }\n};\n```\n\n题目思路2：改了一下上一种方法，用哈希表进行处理。虽然可以通过，但是还是很慢。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> threeSum(vector<int>& nums) {\n        vector<vector<int>> result;\n        sort(nums.begin(),nums.end());\n        for(int i=0;i<nums.size();i++)\n        {\n            if (nums[i] > 0) break;\n            if (i > 0 && nums[i] == nums[i - 1]) continue;\n            unordered_set<int> set;\n            for(int j=i+1;j<nums.size();j++)\n            {\n                int target = 0 - (nums[i] + nums[j]);\n                if (set.find(target) != set.end()) {\n                    result.push_back({nums[i], target, nums[j]});   \n                    set.erase(target);\n                }\n                else {\n                    set.insert(nums[j]);\n                }\n            }\n        }\n        set<vector<int>> unique_nums(result.begin(), result.end());\n        vector<vector<int>> result_vector(unique_nums.begin(), unique_nums.end());\n        return result_vector;\n    }\n};\n```\n\n双指针：代码随想录的那个代码，感觉很多地方可以优化，所以就去找了一个优化完的代码。首先先将数组排序，我们只需要输出加和等于0的元素就可以，不用管次序。排序之后就可以从两端开始操作了，先创造一个大循环，用来固定住第一个数，然后再用双指针取操作另外两个数。\n\n优化一：当最小的三个数的和大于0时，就可以直接退出循环了。\n\n优化二：当最大的两个数加最小的那个数，还是小于0，就可以向前移动到再大的数了。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> threeSum(vector<int>& nums) {\n        ranges::sort(nums);\n        vector<vector<int>> ans;\n        int n = nums.size();\n        for (int i = 0; i < n - 2; i++) {\n            int x = nums[i];\n            if (i && x == nums[i - 1]) continue; // 跳过重复数字\n            if (x + nums[i + 1] + nums[i + 2] > 0) break; // 优化一\n            if (x + nums[n - 2] + nums[n - 1] < 0) continue; // 优化二\n            int j = i + 1, k = n - 1;\n            while (j < k) {\n                int s = x + nums[j] + nums[k];\n                if (s > 0) {\n                    k--;\n                } else if (s < 0) {\n                    j++;\n                } else { // 三数之和为 0\n                    ans.push_back({x, nums[j], nums[k]});\n                    for (j++; j < k && nums[j] == nums[j - 1]; j++); // 跳过重复数字\n                    for (k--; k > j && nums[k] == nums[k + 1]; k--); // 跳过重复数字\n                }\n            }\n        }\n        return ans;\n    }\n};\n\n```\n\n### 四数之和\n\n题目链接：[18. 四数之和](https://leetcode.cn/problems/4sum/)\n\n我的思路：做了半个小时，好几个小问题，思路和上一题一样，用同样的方法，只不过多了一层循环，需要多判断一下重复条件，那几个相加超范围不太会如何处理，chatgpt让它给的方案。看了一下代码随想录的思路，差不多，它加了两行剪枝代码，但是它的代码性能有点慢，加了也不如我的这个性能高，我也在代码中加上了那两行剪枝代码。\n\n```c++\nclass Solution {\npublic:\n    vector<vector<int>> fourSum(vector<int>& nums, int target) {\n        int n=nums.size();\n        sort(nums.begin(),nums.end());\n        vector<vector<int>> ans;\n        for(int i=0;i<n-3;i++)\n            if(i>0 && nums[i]==nums[i-1]) continue;\n            if (nums[i] > target && nums[i] >= 0) break; // \n            for(int j=i+1;j<n-2;j++)\n            {\n                if(j>i+1 && nums[j]==nums[j-1]) continue;\n                if(nums[i]+nums[j] > target && nums[i]+nums[j] >= 0) break; //\n                int c=j+1,d=n-1;\n                if((long long)nums[i]+nums[j]+nums[j+1]+nums[j+2]>target) break;\n                if((long long)nums[i]+nums[j]+nums[n-1]+nums[n-2]<target) continue;\n                while(c<d){\n                    long long sum=(long long)nums[i]+nums[j]+nums[c]+nums[d];\n                    if(sum>target) d--;\n                    else if(sum<target) c++;\n                    else{\n                        ans.push_back(vector<int> {nums[i],nums[j],nums[c],nums[d]});\n                        while(c<d && nums[c]==nums[c+1]) c++;\n                        while(c<d && nums[d]==nums[d-1]) d--;\n                        c++;\n                        d--;\n                    }\n                }\n            }\n        }\n        return ans;\n    }\n};\n```\n\n\n\n\n\n","slug":"6day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamin002c1swm31eih0y3","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"哈希表\">哈希表</h2>\n<p>​\t查询一个元素是否出现过，或者一个元素是否在集合里的时候，就要第一时间想到哈希法。一种以关键码的值**「key-value」<strong>而直接进行访问的</strong>数据结构**。<a href=\"https://programmercarl.com/%E5%93%88%E5%B8%8C%E8%A1%A8%E6%80%BB%E7%BB%93.html#%E5%93%88%E5%B8%8C%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80\">总结</a></p>\n<h3 id=\"四数相加Ⅱ\">四数相加Ⅱ</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/4sum-ii/\">454. 四数相加 II</a></p>\n<p>题目思路：我刚开始的思路是for四次，但是算了一下，可能有点超时，然后就直接看题解了。将四个数组两两分成一组进行处理，时间复杂度就是O(n*n)。</p>\n<ol>\n<li>首先定义 一个unordered_map，key放a和b两数之和，value 放a和b两数之和出现的次数。</li>\n<li>遍历大A和大B数组，统计两个数组元素之和，和出现的次数，放到map中。</li>\n<li>定义int变量count，用来统计 a+b+c+d = 0 出现的次数。</li>\n<li>再遍历大C和大D数组，找到如果 0-(c+d) 在map中出现过的话，就用count把map中key对应的value也就是出现次数统计出来。</li>\n<li>最后返回统计值 count 就可以了</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">fourSumCount</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums1, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums2, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums3, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums4)</span> </span>&#123;</span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; umap;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> a : nums1) <span class=\"keyword\">for</span>(<span class=\"type\">int</span> b:nums2) umap[a+b]++;</span><br><span class=\"line\">        <span class=\"type\">int</span> count=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> c:nums3) <span class=\"keyword\">for</span>(<span class=\"type\">int</span> d:nums4) <span class=\"keyword\">if</span>(umap.<span class=\"built_in\">find</span>(<span class=\"number\">0</span>-(c+d))!=umap.<span class=\"built_in\">end</span>()) count+=umap[<span class=\"number\">0</span>-(c+d)];</span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"救赎金\">救赎金</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/ransom-note/\">383. 赎金信</a></p>\n<p>题目思路：秒了，这和 <a href=\"https://leetcode.cn/problems/valid-anagram/\">242. 有效的字母异位词</a> 几乎差不多。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">canConstruct</span><span class=\"params\">(string ransomNote, string magazine)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=magazine.<span class=\"built_in\">size</span>(),m=ransomNote.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> j[<span class=\"number\">26</span>]=&#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) j[magazine[i]-<span class=\"string\">&#x27;a&#x27;</span>]++;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++) j[ransomNote[i]-<span class=\"string\">&#x27;a&#x27;</span>]--;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) <span class=\"keyword\">if</span>(j[i]&lt;<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"三数之和\">三数之和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/3sum/\">15. 三数之和</a></p>\n<p>题目思路1：感觉这题最不好处理的地方就是去重。三次循环，意料之中的超时了，当锻炼一下代码熟练度了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">threeSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(),nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.<span class=\"built_in\">size</span>();i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i<span class=\"number\">+1</span>;j&lt;nums.<span class=\"built_in\">size</span>();j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> k=j<span class=\"number\">+1</span>;k&lt;nums.<span class=\"built_in\">size</span>();k++)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>((nums[i]+nums[j]+nums[k])==<span class=\"number\">0</span>) </span><br><span class=\"line\">                    result.<span class=\"built_in\">push_back</span>(&#123;nums[i], nums[j], nums[k]&#125;);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        set&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">unique_nums</span>(result.<span class=\"built_in\">begin</span>(), result.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">result_vector</span>(unique_nums.<span class=\"built_in\">begin</span>(), unique_nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result_vector;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>题目思路2：改了一下上一种方法，用哈希表进行处理。虽然可以通过，但是还是很慢。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">threeSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(),nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.<span class=\"built_in\">size</span>();i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[i] &gt; <span class=\"number\">0</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i] == nums[i - <span class=\"number\">1</span>]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            unordered_set&lt;<span class=\"type\">int</span>&gt; set;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i<span class=\"number\">+1</span>;j&lt;nums.<span class=\"built_in\">size</span>();j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> target = <span class=\"number\">0</span> - (nums[i] + nums[j]);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (set.<span class=\"built_in\">find</span>(target) != set.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">                    result.<span class=\"built_in\">push_back</span>(&#123;nums[i], target, nums[j]&#125;);   </span><br><span class=\"line\">                    set.<span class=\"built_in\">erase</span>(target);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    set.<span class=\"built_in\">insert</span>(nums[j]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        set&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">unique_nums</span>(result.<span class=\"built_in\">begin</span>(), result.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">result_vector</span>(unique_nums.<span class=\"built_in\">begin</span>(), unique_nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result_vector;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>双指针：代码随想录的那个代码，感觉很多地方可以优化，所以就去找了一个优化完的代码。首先先将数组排序，我们只需要输出加和等于0的元素就可以，不用管次序。排序之后就可以从两端开始操作了，先创造一个大循环，用来固定住第一个数，然后再用双指针取操作另外两个数。</p>\n<p>优化一：当最小的三个数的和大于0时，就可以直接退出循环了。</p>\n<p>优化二：当最大的两个数加最小的那个数，还是小于0，就可以向前移动到再大的数了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">threeSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        ranges::<span class=\"built_in\">sort</span>(nums);</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n - <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> x = nums[i];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &amp;&amp; x == nums[i - <span class=\"number\">1</span>]) <span class=\"keyword\">continue</span>; <span class=\"comment\">// 跳过重复数字</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (x + nums[i + <span class=\"number\">1</span>] + nums[i + <span class=\"number\">2</span>] &gt; <span class=\"number\">0</span>) <span class=\"keyword\">break</span>; <span class=\"comment\">// 优化一</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (x + nums[n - <span class=\"number\">2</span>] + nums[n - <span class=\"number\">1</span>] &lt; <span class=\"number\">0</span>) <span class=\"keyword\">continue</span>; <span class=\"comment\">// 优化二</span></span><br><span class=\"line\">            <span class=\"type\">int</span> j = i + <span class=\"number\">1</span>, k = n - <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (j &lt; k) &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> s = x + nums[j] + nums[k];</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (s &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                    k--;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (s &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                    j++;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 三数之和为 0</span></span><br><span class=\"line\">                    ans.<span class=\"built_in\">push_back</span>(&#123;x, nums[j], nums[k]&#125;);</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (j++; j &lt; k &amp;&amp; nums[j] == nums[j - <span class=\"number\">1</span>]; j++); <span class=\"comment\">// 跳过重复数字</span></span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (k--; k &gt; j &amp;&amp; nums[k] == nums[k + <span class=\"number\">1</span>]; k--); <span class=\"comment\">// 跳过重复数字</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"四数之和\">四数之和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/4sum/\">18. 四数之和</a></p>\n<p>我的思路：做了半个小时，好几个小问题，思路和上一题一样，用同样的方法，只不过多了一层循环，需要多判断一下重复条件，那几个相加超范围不太会如何处理，chatgpt让它给的方案。看了一下代码随想录的思路，差不多，它加了两行剪枝代码，但是它的代码性能有点慢，加了也不如我的这个性能高，我也在代码中加上了那两行剪枝代码。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">fourSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> target) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(),nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n<span class=\"number\">-3</span>;i++)</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i&gt;<span class=\"number\">0</span> &amp;&amp; nums[i]==nums[i<span class=\"number\">-1</span>]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[i] &gt; target &amp;&amp; nums[i] &gt;= <span class=\"number\">0</span>) <span class=\"keyword\">break</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i<span class=\"number\">+1</span>;j&lt;n<span class=\"number\">-2</span>;j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(j&gt;i<span class=\"number\">+1</span> &amp;&amp; nums[j]==nums[j<span class=\"number\">-1</span>]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(nums[i]+nums[j] &gt; target &amp;&amp; nums[i]+nums[j] &gt;= <span class=\"number\">0</span>) <span class=\"keyword\">break</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">                <span class=\"type\">int</span> c=j<span class=\"number\">+1</span>,d=n<span class=\"number\">-1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>((<span class=\"type\">long</span> <span class=\"type\">long</span>)nums[i]+nums[j]+nums[j<span class=\"number\">+1</span>]+nums[j<span class=\"number\">+2</span>]&gt;target) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>((<span class=\"type\">long</span> <span class=\"type\">long</span>)nums[i]+nums[j]+nums[n<span class=\"number\">-1</span>]+nums[n<span class=\"number\">-2</span>]&lt;target) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                <span class=\"keyword\">while</span>(c&lt;d)&#123;</span><br><span class=\"line\">                    <span class=\"type\">long</span> <span class=\"type\">long</span> sum=(<span class=\"type\">long</span> <span class=\"type\">long</span>)nums[i]+nums[j]+nums[c]+nums[d];</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(sum&gt;target) d--;</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(sum&lt;target) c++;</span><br><span class=\"line\">                    <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                        ans.<span class=\"built_in\">push_back</span>(vector&lt;<span class=\"type\">int</span>&gt; &#123;nums[i],nums[j],nums[c],nums[d]&#125;);</span><br><span class=\"line\">                        <span class=\"keyword\">while</span>(c&lt;d &amp;&amp; nums[c]==nums[c<span class=\"number\">+1</span>]) c++;</span><br><span class=\"line\">                        <span class=\"keyword\">while</span>(c&lt;d &amp;&amp; nums[d]==nums[d<span class=\"number\">-1</span>]) d--;</span><br><span class=\"line\">                        c++;</span><br><span class=\"line\">                        d--;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"哈希表\">哈希表</h2>\n<p>​\t查询一个元素是否出现过，或者一个元素是否在集合里的时候，就要第一时间想到哈希法。一种以关键码的值**「key-value」<strong>而直接进行访问的</strong>数据结构**。<a href=\"https://programmercarl.com/%E5%93%88%E5%B8%8C%E8%A1%A8%E6%80%BB%E7%BB%93.html#%E5%93%88%E5%B8%8C%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80\">总结</a></p>\n<h3 id=\"四数相加Ⅱ\">四数相加Ⅱ</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/4sum-ii/\">454. 四数相加 II</a></p>\n<p>题目思路：我刚开始的思路是for四次，但是算了一下，可能有点超时，然后就直接看题解了。将四个数组两两分成一组进行处理，时间复杂度就是O(n*n)。</p>\n<ol>\n<li>首先定义 一个unordered_map，key放a和b两数之和，value 放a和b两数之和出现的次数。</li>\n<li>遍历大A和大B数组，统计两个数组元素之和，和出现的次数，放到map中。</li>\n<li>定义int变量count，用来统计 a+b+c+d = 0 出现的次数。</li>\n<li>再遍历大C和大D数组，找到如果 0-(c+d) 在map中出现过的话，就用count把map中key对应的value也就是出现次数统计出来。</li>\n<li>最后返回统计值 count 就可以了</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">fourSumCount</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums1, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums2, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums3, vector&lt;<span class=\"type\">int</span>&gt;&amp; nums4)</span> </span>&#123;</span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; umap;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> a : nums1) <span class=\"keyword\">for</span>(<span class=\"type\">int</span> b:nums2) umap[a+b]++;</span><br><span class=\"line\">        <span class=\"type\">int</span> count=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> c:nums3) <span class=\"keyword\">for</span>(<span class=\"type\">int</span> d:nums4) <span class=\"keyword\">if</span>(umap.<span class=\"built_in\">find</span>(<span class=\"number\">0</span>-(c+d))!=umap.<span class=\"built_in\">end</span>()) count+=umap[<span class=\"number\">0</span>-(c+d)];</span><br><span class=\"line\">        <span class=\"keyword\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"救赎金\">救赎金</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/ransom-note/\">383. 赎金信</a></p>\n<p>题目思路：秒了，这和 <a href=\"https://leetcode.cn/problems/valid-anagram/\">242. 有效的字母异位词</a> 几乎差不多。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">canConstruct</span><span class=\"params\">(string ransomNote, string magazine)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=magazine.<span class=\"built_in\">size</span>(),m=ransomNote.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> j[<span class=\"number\">26</span>]=&#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) j[magazine[i]-<span class=\"string\">&#x27;a&#x27;</span>]++;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++) j[ransomNote[i]-<span class=\"string\">&#x27;a&#x27;</span>]--;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) <span class=\"keyword\">if</span>(j[i]&lt;<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"三数之和\">三数之和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/3sum/\">15. 三数之和</a></p>\n<p>题目思路1：感觉这题最不好处理的地方就是去重。三次循环，意料之中的超时了，当锻炼一下代码熟练度了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">threeSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(),nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.<span class=\"built_in\">size</span>();i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i<span class=\"number\">+1</span>;j&lt;nums.<span class=\"built_in\">size</span>();j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> k=j<span class=\"number\">+1</span>;k&lt;nums.<span class=\"built_in\">size</span>();k++)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>((nums[i]+nums[j]+nums[k])==<span class=\"number\">0</span>) </span><br><span class=\"line\">                    result.<span class=\"built_in\">push_back</span>(&#123;nums[i], nums[j], nums[k]&#125;);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        set&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">unique_nums</span>(result.<span class=\"built_in\">begin</span>(), result.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">result_vector</span>(unique_nums.<span class=\"built_in\">begin</span>(), unique_nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result_vector;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>题目思路2：改了一下上一种方法，用哈希表进行处理。虽然可以通过，但是还是很慢。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">threeSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(),nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.<span class=\"built_in\">size</span>();i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[i] &gt; <span class=\"number\">0</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; nums[i] == nums[i - <span class=\"number\">1</span>]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            unordered_set&lt;<span class=\"type\">int</span>&gt; set;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i<span class=\"number\">+1</span>;j&lt;nums.<span class=\"built_in\">size</span>();j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> target = <span class=\"number\">0</span> - (nums[i] + nums[j]);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (set.<span class=\"built_in\">find</span>(target) != set.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">                    result.<span class=\"built_in\">push_back</span>(&#123;nums[i], target, nums[j]&#125;);   </span><br><span class=\"line\">                    set.<span class=\"built_in\">erase</span>(target);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    set.<span class=\"built_in\">insert</span>(nums[j]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        set&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">unique_nums</span>(result.<span class=\"built_in\">begin</span>(), result.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">result_vector</span>(unique_nums.<span class=\"built_in\">begin</span>(), unique_nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result_vector;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>双指针：代码随想录的那个代码，感觉很多地方可以优化，所以就去找了一个优化完的代码。首先先将数组排序，我们只需要输出加和等于0的元素就可以，不用管次序。排序之后就可以从两端开始操作了，先创造一个大循环，用来固定住第一个数，然后再用双指针取操作另外两个数。</p>\n<p>优化一：当最小的三个数的和大于0时，就可以直接退出循环了。</p>\n<p>优化二：当最大的两个数加最小的那个数，还是小于0，就可以向前移动到再大的数了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">threeSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        ranges::<span class=\"built_in\">sort</span>(nums);</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n - <span class=\"number\">2</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> x = nums[i];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &amp;&amp; x == nums[i - <span class=\"number\">1</span>]) <span class=\"keyword\">continue</span>; <span class=\"comment\">// 跳过重复数字</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (x + nums[i + <span class=\"number\">1</span>] + nums[i + <span class=\"number\">2</span>] &gt; <span class=\"number\">0</span>) <span class=\"keyword\">break</span>; <span class=\"comment\">// 优化一</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (x + nums[n - <span class=\"number\">2</span>] + nums[n - <span class=\"number\">1</span>] &lt; <span class=\"number\">0</span>) <span class=\"keyword\">continue</span>; <span class=\"comment\">// 优化二</span></span><br><span class=\"line\">            <span class=\"type\">int</span> j = i + <span class=\"number\">1</span>, k = n - <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (j &lt; k) &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> s = x + nums[j] + nums[k];</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (s &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                    k--;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (s &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                    j++;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 三数之和为 0</span></span><br><span class=\"line\">                    ans.<span class=\"built_in\">push_back</span>(&#123;x, nums[j], nums[k]&#125;);</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (j++; j &lt; k &amp;&amp; nums[j] == nums[j - <span class=\"number\">1</span>]; j++); <span class=\"comment\">// 跳过重复数字</span></span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (k--; k &gt; j &amp;&amp; nums[k] == nums[k + <span class=\"number\">1</span>]; k--); <span class=\"comment\">// 跳过重复数字</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"四数之和\">四数之和</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/4sum/\">18. 四数之和</a></p>\n<p>我的思路：做了半个小时，好几个小问题，思路和上一题一样，用同样的方法，只不过多了一层循环，需要多判断一下重复条件，那几个相加超范围不太会如何处理，chatgpt让它给的方案。看了一下代码随想录的思路，差不多，它加了两行剪枝代码，但是它的代码性能有点慢，加了也不如我的这个性能高，我也在代码中加上了那两行剪枝代码。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">fourSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> target) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(),nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; ans;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n<span class=\"number\">-3</span>;i++)</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i&gt;<span class=\"number\">0</span> &amp;&amp; nums[i]==nums[i<span class=\"number\">-1</span>]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[i] &gt; target &amp;&amp; nums[i] &gt;= <span class=\"number\">0</span>) <span class=\"keyword\">break</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i<span class=\"number\">+1</span>;j&lt;n<span class=\"number\">-2</span>;j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(j&gt;i<span class=\"number\">+1</span> &amp;&amp; nums[j]==nums[j<span class=\"number\">-1</span>]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(nums[i]+nums[j] &gt; target &amp;&amp; nums[i]+nums[j] &gt;= <span class=\"number\">0</span>) <span class=\"keyword\">break</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">                <span class=\"type\">int</span> c=j<span class=\"number\">+1</span>,d=n<span class=\"number\">-1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>((<span class=\"type\">long</span> <span class=\"type\">long</span>)nums[i]+nums[j]+nums[j<span class=\"number\">+1</span>]+nums[j<span class=\"number\">+2</span>]&gt;target) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>((<span class=\"type\">long</span> <span class=\"type\">long</span>)nums[i]+nums[j]+nums[n<span class=\"number\">-1</span>]+nums[n<span class=\"number\">-2</span>]&lt;target) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                <span class=\"keyword\">while</span>(c&lt;d)&#123;</span><br><span class=\"line\">                    <span class=\"type\">long</span> <span class=\"type\">long</span> sum=(<span class=\"type\">long</span> <span class=\"type\">long</span>)nums[i]+nums[j]+nums[c]+nums[d];</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(sum&gt;target) d--;</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(sum&lt;target) c++;</span><br><span class=\"line\">                    <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                        ans.<span class=\"built_in\">push_back</span>(vector&lt;<span class=\"type\">int</span>&gt; &#123;nums[i],nums[j],nums[c],nums[d]&#125;);</span><br><span class=\"line\">                        <span class=\"keyword\">while</span>(c&lt;d &amp;&amp; nums[c]==nums[c<span class=\"number\">+1</span>]) c++;</span><br><span class=\"line\">                        <span class=\"keyword\">while</span>(c&lt;d &amp;&amp; nums[d]==nums[d<span class=\"number\">-1</span>]) d--;</span><br><span class=\"line\">                        c++;</span><br><span class=\"line\">                        d--;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"代码随想录--二叉树","date":"2025-02-11T16:10:23.000Z","updated":"2025-03-08T09:27:37.248Z","description":"代码随想录--二叉树（1）前中后序遍历","_content":"\n## 二叉树前中后序遍历\n\n二叉树定义\n\n```c++\nstruct TreeNode {\n    int val;\n    TreeNode *left;\n    TreeNode *right;\n    TreeNode(int x) : val(x), left(NULL), right(NULL) {}\n};\n```\n\n### 二叉树的前序遍历\n\n题目链接：[144. 二叉树的前序遍历](https://leetcode.cn/problems/binary-tree-preorder-traversal/)\n\n#### 递归遍历\n\n```c++\nclass Solution {\npublic:\n    void traversal(TreeNode* cur, vector<int>& vec) {\n        if (cur == NULL) return;\n        vec.push_back(cur->val);    // 中\n        traversal(cur->left, vec);  // 左\n        traversal(cur->right, vec); // 右\n    }\n    vector<int> preorderTraversal(TreeNode* root) {\n        vector<int> result;\n        traversal(root, result);\n        return result;\n    }\n};\n```\n\n#### 迭代遍历\n\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%BA%8C%E5%8F%89%E6%A0%91%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86%EF%BC%88%E8%BF%AD%E4%BB%A3%E6%B3%95%EF%BC%89.gif\" style=\"zoom:67%;\" />\n\n```c++\nclass Solution {\npublic:\n    vector<int> preorderTraversal(TreeNode* root) {\n        vector<int> res;\n        stack<TreeNode*> s;\n        if(root==NULL) return res;\n        s.push(root);\n        while(!s.empty()){\n            TreeNode* node= s.top();\n            s.pop();\n            res.push_back(node->val);\n            if(node->right) s.push(node->right);\n            if(node->left) s.push(node->left);\n        }\n        return res;\n    }\n};\n```\n\n#### 统一迭代法\n\n每次加入一个右中左，接着将中全部输出，最后再按顺序输出栈里的内容，思路很直观，另外两种遍历也是如此。\n\n```c++\nclass Solution {\npublic:\n    vector<int> preorderTraversal(TreeNode* root) {\n        vector<int> result;\n        stack<TreeNode*> st;\n        if (root != NULL) st.push(root);\n        while (!st.empty()) {\n            TreeNode* node = st.top();\n            if (node != NULL) {\n                st.pop();\n                if (node->right) st.push(node->right);  // 右\n                if (node->left) st.push(node->left);    // 左\n                st.push(node);                          // 中\n                st.push(NULL);\n            } else {\n                st.pop();\n                node = st.top();\n                st.pop();\n                result.push_back(node->val);\n            }\n        }\n        return result;\n    }\n};\n```\n\n\n\n\n\n### 二叉树的中序遍历\n\n题目链接：[94. 二叉树的中序遍历](https://leetcode.cn/problems/binary-tree-inorder-traversal/)\n\n#### 递归遍历\n\n```c++\nclass Solution {\npublic:\n    void traversal(TreeNode* cur, vector<int>& vec) {\n        if (cur == NULL) return;\n        traversal(cur->left, vec);  // 左\n        vec.push_back(cur->val);    // 中\n        traversal(cur->right, vec); // 右\n    }\n    vector<int> preorderTraversal(TreeNode* root) {\n        vector<int> result;\n        traversal(root, result);\n        return result;\n    }\n};\n```\n\n#### 迭代遍历\n\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%EF%BC%88%E8%BF%AD%E4%BB%A3%E6%B3%95%EF%BC%89.gif\" style=\"zoom: 67%;\" />\n\n```c++\nclass Solution {\npublic:\n    vector<int> inorderTraversal(TreeNode* root) {\n        vector<int> res;\n        stack<TreeNode*> s;\n        TreeNode* cur = root;\n        \n        while (cur != nullptr || !s.empty()) {\n            // 将当前节点及其左子树压入栈\n            while (cur != nullptr) {\n                s.push(cur);\n                cur = cur->left;\n            }\n            cur = s.top();\n            s.pop();\n            res.push_back(cur->val);\n            cur = cur->right;\n        } \n        return res;\n    }\n};\n```\n\n#### 统一迭代法\n\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E8%BF%AD%E4%BB%A3%EF%BC%88%E7%BB%9F%E4%B8%80%E5%86%99%E6%B3%95%EF%BC%89.gif\" style=\"zoom:67%;\" />\n\n```c++\nclass Solution {\npublic:\n    vector<int> inorderTraversal(TreeNode* root) {\n        vector<int> result;\n        stack<TreeNode*> st;\n        if (root != NULL) st.push (root);\n        while (!st.empty()) {\n            TreeNode* node = st.top();\n            if (node != NULL) {\n                st.pop(); // 将该节点弹出，避免重复操作，下面再将右中左节点添加到栈中\n                if (node->right) st.push(node->right);  // 添加右节点（空节点不入栈）\n                st.push(node);                          // 添加中节点\n                st.push(NULL); // 中节点访问过，但是还没有处理，加入空节点做为标记。\n                if (node->left) st.push(node->left);    // 添加左节点（空节点不入栈）\n            } else { // 只有遇到空节点的时候，才将下一个节点放进结果集\n                st.pop();           // 将空节点弹出\n                node = st.top();    // 重新取出栈中元素\n                st.pop();\n                result.push_back(node->val); // 加入到结果集\n            }\n        }\n        return result;\n    }\n};\n```\n\n\n\n### 二叉树的后序遍历\n\n题目链接：[145. 二叉树的后序遍历](https://leetcode.cn/problems/binary-tree-postorder-traversal/)\n\n#### 递归遍历\n\n```c++\nclass Solution {\npublic:\n    void traversal(TreeNode *root,vector<int>& res){\n        if(root==NULL) return;\n        traversal(root->left,res);\n        traversal(root->right,res);\n        res.push_back(root->val);\n    }\n    vector<int> postorderTraversal(TreeNode* root) {\n        vector<int> re;\n        traversal(root,re);\n        return re;\n    }\n};\n```\n\n#### 迭代遍历\n\n```c++\nclass Solution {\npublic:\n    vector<int> postorderTraversal(TreeNode* root) {\n        vector<int> res;\n        stack<TreeNode*> s;\n        if(root==NULL) return res;\n        s.push(root);\n        while(!s.empty()){\n            TreeNode* node=s.top();\n            s.pop();\n            res.push_back(node->val);\n            if(node->left) s.push(node->left);\n            if(node->right) s.push(node->right);\n        }\n        reverse(res.begin(),res.end());\n        return res;\n    }\n};\n```\n\n#### 统一迭代法\n\n```c++\nclass Solution {\npublic:\n    vector<int> postorderTraversal(TreeNode* root) {\n        stack<TreeNode*> s;\n        vector<int> res;\n        if(root==NULL) return res;\n        s.push(root);\n        while(!s.empty())\n        {\n            TreeNode* node =s.top();\n            if(node!=NULL)\n            {\n                s.pop();\n                s.push(node);\n                s.push(NULL);\n                if(node->right) s.push(node->right);\n                if(node->left) s.push(node->left);\n            }\n            else{\n                s.pop();\n                node =s.top();\n                s.pop();\n                res.push_back(node->val);\n            }\n        }\n        return res;\n    }\n};\n```\n\n","source":"_posts/9day.md","raw":"---\ntitle: 代码随想录--二叉树\ndate: 2025-02-12 00:10:23\ntags: [数据结构与算法,二叉树,二叉树遍历,递归,迭代]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--二叉树（1）前中后序遍历\n---\n\n## 二叉树前中后序遍历\n\n二叉树定义\n\n```c++\nstruct TreeNode {\n    int val;\n    TreeNode *left;\n    TreeNode *right;\n    TreeNode(int x) : val(x), left(NULL), right(NULL) {}\n};\n```\n\n### 二叉树的前序遍历\n\n题目链接：[144. 二叉树的前序遍历](https://leetcode.cn/problems/binary-tree-preorder-traversal/)\n\n#### 递归遍历\n\n```c++\nclass Solution {\npublic:\n    void traversal(TreeNode* cur, vector<int>& vec) {\n        if (cur == NULL) return;\n        vec.push_back(cur->val);    // 中\n        traversal(cur->left, vec);  // 左\n        traversal(cur->right, vec); // 右\n    }\n    vector<int> preorderTraversal(TreeNode* root) {\n        vector<int> result;\n        traversal(root, result);\n        return result;\n    }\n};\n```\n\n#### 迭代遍历\n\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%BA%8C%E5%8F%89%E6%A0%91%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86%EF%BC%88%E8%BF%AD%E4%BB%A3%E6%B3%95%EF%BC%89.gif\" style=\"zoom:67%;\" />\n\n```c++\nclass Solution {\npublic:\n    vector<int> preorderTraversal(TreeNode* root) {\n        vector<int> res;\n        stack<TreeNode*> s;\n        if(root==NULL) return res;\n        s.push(root);\n        while(!s.empty()){\n            TreeNode* node= s.top();\n            s.pop();\n            res.push_back(node->val);\n            if(node->right) s.push(node->right);\n            if(node->left) s.push(node->left);\n        }\n        return res;\n    }\n};\n```\n\n#### 统一迭代法\n\n每次加入一个右中左，接着将中全部输出，最后再按顺序输出栈里的内容，思路很直观，另外两种遍历也是如此。\n\n```c++\nclass Solution {\npublic:\n    vector<int> preorderTraversal(TreeNode* root) {\n        vector<int> result;\n        stack<TreeNode*> st;\n        if (root != NULL) st.push(root);\n        while (!st.empty()) {\n            TreeNode* node = st.top();\n            if (node != NULL) {\n                st.pop();\n                if (node->right) st.push(node->right);  // 右\n                if (node->left) st.push(node->left);    // 左\n                st.push(node);                          // 中\n                st.push(NULL);\n            } else {\n                st.pop();\n                node = st.top();\n                st.pop();\n                result.push_back(node->val);\n            }\n        }\n        return result;\n    }\n};\n```\n\n\n\n\n\n### 二叉树的中序遍历\n\n题目链接：[94. 二叉树的中序遍历](https://leetcode.cn/problems/binary-tree-inorder-traversal/)\n\n#### 递归遍历\n\n```c++\nclass Solution {\npublic:\n    void traversal(TreeNode* cur, vector<int>& vec) {\n        if (cur == NULL) return;\n        traversal(cur->left, vec);  // 左\n        vec.push_back(cur->val);    // 中\n        traversal(cur->right, vec); // 右\n    }\n    vector<int> preorderTraversal(TreeNode* root) {\n        vector<int> result;\n        traversal(root, result);\n        return result;\n    }\n};\n```\n\n#### 迭代遍历\n\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%EF%BC%88%E8%BF%AD%E4%BB%A3%E6%B3%95%EF%BC%89.gif\" style=\"zoom: 67%;\" />\n\n```c++\nclass Solution {\npublic:\n    vector<int> inorderTraversal(TreeNode* root) {\n        vector<int> res;\n        stack<TreeNode*> s;\n        TreeNode* cur = root;\n        \n        while (cur != nullptr || !s.empty()) {\n            // 将当前节点及其左子树压入栈\n            while (cur != nullptr) {\n                s.push(cur);\n                cur = cur->left;\n            }\n            cur = s.top();\n            s.pop();\n            res.push_back(cur->val);\n            cur = cur->right;\n        } \n        return res;\n    }\n};\n```\n\n#### 统一迭代法\n\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E8%BF%AD%E4%BB%A3%EF%BC%88%E7%BB%9F%E4%B8%80%E5%86%99%E6%B3%95%EF%BC%89.gif\" style=\"zoom:67%;\" />\n\n```c++\nclass Solution {\npublic:\n    vector<int> inorderTraversal(TreeNode* root) {\n        vector<int> result;\n        stack<TreeNode*> st;\n        if (root != NULL) st.push (root);\n        while (!st.empty()) {\n            TreeNode* node = st.top();\n            if (node != NULL) {\n                st.pop(); // 将该节点弹出，避免重复操作，下面再将右中左节点添加到栈中\n                if (node->right) st.push(node->right);  // 添加右节点（空节点不入栈）\n                st.push(node);                          // 添加中节点\n                st.push(NULL); // 中节点访问过，但是还没有处理，加入空节点做为标记。\n                if (node->left) st.push(node->left);    // 添加左节点（空节点不入栈）\n            } else { // 只有遇到空节点的时候，才将下一个节点放进结果集\n                st.pop();           // 将空节点弹出\n                node = st.top();    // 重新取出栈中元素\n                st.pop();\n                result.push_back(node->val); // 加入到结果集\n            }\n        }\n        return result;\n    }\n};\n```\n\n\n\n### 二叉树的后序遍历\n\n题目链接：[145. 二叉树的后序遍历](https://leetcode.cn/problems/binary-tree-postorder-traversal/)\n\n#### 递归遍历\n\n```c++\nclass Solution {\npublic:\n    void traversal(TreeNode *root,vector<int>& res){\n        if(root==NULL) return;\n        traversal(root->left,res);\n        traversal(root->right,res);\n        res.push_back(root->val);\n    }\n    vector<int> postorderTraversal(TreeNode* root) {\n        vector<int> re;\n        traversal(root,re);\n        return re;\n    }\n};\n```\n\n#### 迭代遍历\n\n```c++\nclass Solution {\npublic:\n    vector<int> postorderTraversal(TreeNode* root) {\n        vector<int> res;\n        stack<TreeNode*> s;\n        if(root==NULL) return res;\n        s.push(root);\n        while(!s.empty()){\n            TreeNode* node=s.top();\n            s.pop();\n            res.push_back(node->val);\n            if(node->left) s.push(node->left);\n            if(node->right) s.push(node->right);\n        }\n        reverse(res.begin(),res.end());\n        return res;\n    }\n};\n```\n\n#### 统一迭代法\n\n```c++\nclass Solution {\npublic:\n    vector<int> postorderTraversal(TreeNode* root) {\n        stack<TreeNode*> s;\n        vector<int> res;\n        if(root==NULL) return res;\n        s.push(root);\n        while(!s.empty())\n        {\n            TreeNode* node =s.top();\n            if(node!=NULL)\n            {\n                s.pop();\n                s.push(node);\n                s.push(NULL);\n                if(node->right) s.push(node->right);\n                if(node->left) s.push(node->left);\n            }\n            else{\n                s.pop();\n                node =s.top();\n                s.pop();\n                res.push_back(node->val);\n            }\n        }\n        return res;\n    }\n};\n```\n\n","slug":"9day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamio002e1swmap8edwyz","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"二叉树前中后序遍历\">二叉树前中后序遍历</h2>\n<p>二叉树定义</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">TreeNode</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> val;</span><br><span class=\"line\">    TreeNode *left;</span><br><span class=\"line\">    TreeNode *right;</span><br><span class=\"line\">    <span class=\"built_in\">TreeNode</span>(<span class=\"type\">int</span> x) : <span class=\"built_in\">val</span>(x), <span class=\"built_in\">left</span>(<span class=\"literal\">NULL</span>), <span class=\"built_in\">right</span>(<span class=\"literal\">NULL</span>) &#123;&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的前序遍历\">二叉树的前序遍历</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-preorder-traversal/\">144. 二叉树的前序遍历</a></p>\n<h4 id=\"递归遍历\">递归遍历</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">traversal</span><span class=\"params\">(TreeNode* cur, vector&lt;<span class=\"type\">int</span>&gt;&amp; vec)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        vec.<span class=\"built_in\">push_back</span>(cur-&gt;val);    <span class=\"comment\">// 中</span></span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(cur-&gt;left, vec);  <span class=\"comment\">// 左</span></span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(cur-&gt;right, vec); <span class=\"comment\">// 右</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">preorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root, result);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"迭代遍历\">迭代遍历</h4>\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%BA%8C%E5%8F%89%E6%A0%91%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86%EF%BC%88%E8%BF%AD%E4%BB%A3%E6%B3%95%EF%BC%89.gif\" style=\"zoom:67%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">preorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root==<span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        s.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!s.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            TreeNode* node= s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right) s.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left) s.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"统一迭代法\">统一迭代法</h4>\n<p>每次加入一个右中左，接着将中全部输出，最后再按顺序输出栈里的内容，思路很直观，另外两种遍历也是如此。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">preorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; st;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) st.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!st.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* node = st.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;right) st.<span class=\"built_in\">push</span>(node-&gt;right);  <span class=\"comment\">// 右</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;left) st.<span class=\"built_in\">push</span>(node-&gt;left);    <span class=\"comment\">// 左</span></span><br><span class=\"line\">                st.<span class=\"built_in\">push</span>(node);                          <span class=\"comment\">// 中</span></span><br><span class=\"line\">                st.<span class=\"built_in\">push</span>(<span class=\"literal\">NULL</span>);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                node = st.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                result.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的中序遍历\">二叉树的中序遍历</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-inorder-traversal/\">94. 二叉树的中序遍历</a></p>\n<h4 id=\"递归遍历-2\">递归遍历</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">traversal</span><span class=\"params\">(TreeNode* cur, vector&lt;<span class=\"type\">int</span>&gt;&amp; vec)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(cur-&gt;left, vec);  <span class=\"comment\">// 左</span></span><br><span class=\"line\">        vec.<span class=\"built_in\">push_back</span>(cur-&gt;val);    <span class=\"comment\">// 中</span></span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(cur-&gt;right, vec); <span class=\"comment\">// 右</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">preorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root, result);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"迭代遍历-2\">迭代遍历</h4>\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%EF%BC%88%E8%BF%AD%E4%BB%A3%E6%B3%95%EF%BC%89.gif\" style=\"zoom: 67%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">inorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        TreeNode* cur = root;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (cur != <span class=\"literal\">nullptr</span> || !s.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前节点及其左子树压入栈</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (cur != <span class=\"literal\">nullptr</span>) &#123;</span><br><span class=\"line\">                s.<span class=\"built_in\">push</span>(cur);</span><br><span class=\"line\">                cur = cur-&gt;left;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            cur = s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(cur-&gt;val);</span><br><span class=\"line\">            cur = cur-&gt;right;</span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"统一迭代法-2\">统一迭代法</h4>\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E8%BF%AD%E4%BB%A3%EF%BC%88%E7%BB%9F%E4%B8%80%E5%86%99%E6%B3%95%EF%BC%89.gif\" style=\"zoom:67%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">inorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; st;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) st.<span class=\"built_in\">push</span> (root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!st.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* node = st.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>(); <span class=\"comment\">// 将该节点弹出，避免重复操作，下面再将右中左节点添加到栈中</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;right) st.<span class=\"built_in\">push</span>(node-&gt;right);  <span class=\"comment\">// 添加右节点（空节点不入栈）</span></span><br><span class=\"line\">                st.<span class=\"built_in\">push</span>(node);                          <span class=\"comment\">// 添加中节点</span></span><br><span class=\"line\">                st.<span class=\"built_in\">push</span>(<span class=\"literal\">NULL</span>); <span class=\"comment\">// 中节点访问过，但是还没有处理，加入空节点做为标记。</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;left) st.<span class=\"built_in\">push</span>(node-&gt;left);    <span class=\"comment\">// 添加左节点（空节点不入栈）</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 只有遇到空节点的时候，才将下一个节点放进结果集</span></span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();           <span class=\"comment\">// 将空节点弹出</span></span><br><span class=\"line\">                node = st.<span class=\"built_in\">top</span>();    <span class=\"comment\">// 重新取出栈中元素</span></span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                result.<span class=\"built_in\">push_back</span>(node-&gt;val); <span class=\"comment\">// 加入到结果集</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的后序遍历\">二叉树的后序遍历</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-postorder-traversal/\">145. 二叉树的后序遍历</a></p>\n<h4 id=\"递归遍历-3\">递归遍历</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">traversal</span><span class=\"params\">(TreeNode *root,vector&lt;<span class=\"type\">int</span>&gt;&amp; res)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root==<span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root-&gt;left,res);</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root-&gt;right,res);</span><br><span class=\"line\">        res.<span class=\"built_in\">push_back</span>(root-&gt;val);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">postorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; re;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root,re);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> re;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"迭代遍历-3\">迭代遍历</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">postorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root==<span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        s.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!s.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            TreeNode* node=s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left) s.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right) s.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">reverse</span>(res.<span class=\"built_in\">begin</span>(),res.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"统一迭代法-3\">统一迭代法</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">postorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root==<span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        s.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!s.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            TreeNode* node =s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node!=<span class=\"literal\">NULL</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                s.<span class=\"built_in\">push</span>(node);</span><br><span class=\"line\">                s.<span class=\"built_in\">push</span>(<span class=\"literal\">NULL</span>);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) s.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) s.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                node =s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                res.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"二叉树前中后序遍历\">二叉树前中后序遍历</h2>\n<p>二叉树定义</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">TreeNode</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> val;</span><br><span class=\"line\">    TreeNode *left;</span><br><span class=\"line\">    TreeNode *right;</span><br><span class=\"line\">    <span class=\"built_in\">TreeNode</span>(<span class=\"type\">int</span> x) : <span class=\"built_in\">val</span>(x), <span class=\"built_in\">left</span>(<span class=\"literal\">NULL</span>), <span class=\"built_in\">right</span>(<span class=\"literal\">NULL</span>) &#123;&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的前序遍历\">二叉树的前序遍历</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-preorder-traversal/\">144. 二叉树的前序遍历</a></p>\n<h4 id=\"递归遍历\">递归遍历</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">traversal</span><span class=\"params\">(TreeNode* cur, vector&lt;<span class=\"type\">int</span>&gt;&amp; vec)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        vec.<span class=\"built_in\">push_back</span>(cur-&gt;val);    <span class=\"comment\">// 中</span></span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(cur-&gt;left, vec);  <span class=\"comment\">// 左</span></span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(cur-&gt;right, vec); <span class=\"comment\">// 右</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">preorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root, result);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"迭代遍历\">迭代遍历</h4>\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%BA%8C%E5%8F%89%E6%A0%91%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86%EF%BC%88%E8%BF%AD%E4%BB%A3%E6%B3%95%EF%BC%89.gif\" style=\"zoom:67%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">preorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root==<span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        s.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!s.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            TreeNode* node= s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right) s.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left) s.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"统一迭代法\">统一迭代法</h4>\n<p>每次加入一个右中左，接着将中全部输出，最后再按顺序输出栈里的内容，思路很直观，另外两种遍历也是如此。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">preorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; st;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) st.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!st.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* node = st.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;right) st.<span class=\"built_in\">push</span>(node-&gt;right);  <span class=\"comment\">// 右</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;left) st.<span class=\"built_in\">push</span>(node-&gt;left);    <span class=\"comment\">// 左</span></span><br><span class=\"line\">                st.<span class=\"built_in\">push</span>(node);                          <span class=\"comment\">// 中</span></span><br><span class=\"line\">                st.<span class=\"built_in\">push</span>(<span class=\"literal\">NULL</span>);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                node = st.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                result.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的中序遍历\">二叉树的中序遍历</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-inorder-traversal/\">94. 二叉树的中序遍历</a></p>\n<h4 id=\"递归遍历-2\">递归遍历</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">traversal</span><span class=\"params\">(TreeNode* cur, vector&lt;<span class=\"type\">int</span>&gt;&amp; vec)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cur == <span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(cur-&gt;left, vec);  <span class=\"comment\">// 左</span></span><br><span class=\"line\">        vec.<span class=\"built_in\">push_back</span>(cur-&gt;val);    <span class=\"comment\">// 中</span></span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(cur-&gt;right, vec); <span class=\"comment\">// 右</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">preorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root, result);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"迭代遍历-2\">迭代遍历</h4>\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%EF%BC%88%E8%BF%AD%E4%BB%A3%E6%B3%95%EF%BC%89.gif\" style=\"zoom: 67%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">inorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        TreeNode* cur = root;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (cur != <span class=\"literal\">nullptr</span> || !s.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 将当前节点及其左子树压入栈</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (cur != <span class=\"literal\">nullptr</span>) &#123;</span><br><span class=\"line\">                s.<span class=\"built_in\">push</span>(cur);</span><br><span class=\"line\">                cur = cur-&gt;left;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            cur = s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(cur-&gt;val);</span><br><span class=\"line\">            cur = cur-&gt;right;</span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"统一迭代法-2\">统一迭代法</h4>\n<img src=\"https://code-thinking.cdn.bcebos.com/gifs/%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E8%BF%AD%E4%BB%A3%EF%BC%88%E7%BB%9F%E4%B8%80%E5%86%99%E6%B3%95%EF%BC%89.gif\" style=\"zoom:67%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">inorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; st;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) st.<span class=\"built_in\">push</span> (root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!st.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            TreeNode* node = st.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (node != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>(); <span class=\"comment\">// 将该节点弹出，避免重复操作，下面再将右中左节点添加到栈中</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;right) st.<span class=\"built_in\">push</span>(node-&gt;right);  <span class=\"comment\">// 添加右节点（空节点不入栈）</span></span><br><span class=\"line\">                st.<span class=\"built_in\">push</span>(node);                          <span class=\"comment\">// 添加中节点</span></span><br><span class=\"line\">                st.<span class=\"built_in\">push</span>(<span class=\"literal\">NULL</span>); <span class=\"comment\">// 中节点访问过，但是还没有处理，加入空节点做为标记。</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (node-&gt;left) st.<span class=\"built_in\">push</span>(node-&gt;left);    <span class=\"comment\">// 添加左节点（空节点不入栈）</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 只有遇到空节点的时候，才将下一个节点放进结果集</span></span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();           <span class=\"comment\">// 将空节点弹出</span></span><br><span class=\"line\">                node = st.<span class=\"built_in\">top</span>();    <span class=\"comment\">// 重新取出栈中元素</span></span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                result.<span class=\"built_in\">push_back</span>(node-&gt;val); <span class=\"comment\">// 加入到结果集</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二叉树的后序遍历\">二叉树的后序遍历</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/binary-tree-postorder-traversal/\">145. 二叉树的后序遍历</a></p>\n<h4 id=\"递归遍历-3\">递归遍历</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">traversal</span><span class=\"params\">(TreeNode *root,vector&lt;<span class=\"type\">int</span>&gt;&amp; res)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root==<span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root-&gt;left,res);</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root-&gt;right,res);</span><br><span class=\"line\">        res.<span class=\"built_in\">push_back</span>(root-&gt;val);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">postorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; re;</span><br><span class=\"line\">        <span class=\"built_in\">traversal</span>(root,re);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> re;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"迭代遍历-3\">迭代遍历</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">postorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root==<span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        s.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!s.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            TreeNode* node=s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;left) s.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node-&gt;right) s.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">reverse</span>(res.<span class=\"built_in\">begin</span>(),res.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"统一迭代法-3\">统一迭代法</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">postorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;TreeNode*&gt; s;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(root==<span class=\"literal\">NULL</span>) <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        s.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!s.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            TreeNode* node =s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(node!=<span class=\"literal\">NULL</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                s.<span class=\"built_in\">push</span>(node);</span><br><span class=\"line\">                s.<span class=\"built_in\">push</span>(<span class=\"literal\">NULL</span>);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;right) s.<span class=\"built_in\">push</span>(node-&gt;right);</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(node-&gt;left) s.<span class=\"built_in\">push</span>(node-&gt;left);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                node =s.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                s.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                res.<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"代码随想录--字符串","date":"2025-02-05T09:48:35.000Z","updated":"2025-03-08T09:27:24.964Z","description":"代码随想录--字符串","_content":"\n## 字符串\n\n​\t字符串，就是由字符连接而成的序列。常见的字符串问题包括字符串匹配问题、子串相关问题、前缀/后缀相关问题、回文串相关问题、子序列相关问题等。\n\n### 反转字符串\n\n题目链接：[344. 反转字符串](https://leetcode.cn/problems/reverse-string/)\n\n```c++\nclass Solution {\npublic:\n    void reverseString(vector<char>& s) {\n        for(int i=0,j=s.size()-1;i<j;i++,j--)\n        {\n            char a=s[i];\n            s[i]=s[j];\n            s[j]=a;\n        }\n    }\n};\n```\n\n### 反转字符串\n\n题目链接：[541. 反转字符串 II](https://leetcode.cn/problems/reverse-string-ii/)\n\n注意一下reverse函数的用法。\n\n```c++\nclass Solution {\npublic:\n    string reverseStr(string s, int k) {\n        for (int i = 0; i < s.size(); i += (2 * k)) {\n            if (i + k <= s.size()) {\n                reverse(s.begin()  i, s.begin() + i + k );\n            } else {\n                reverse(s.begin() + i, s.end());\n            }\n        }\n        return s;\n    }\n};\n\n```\n\n### 替换数字                            \n\n题目链接：[替换数字（第八期模拟笔试）](https://kamacoder.com/problempage.php?pid=1064)\n\n题目思路：看似简单，实则不好操作，gpt给的这个思路很好啊，重新弄一个新字符串然后拼接。代码随想录的那个太麻烦了，直接pass掉了。\n\n```c++\n#include <iostream>\n#include <cctype>  // 需要 isdigit()\nusing namespace std;\nstring replaceDigitsWithNumber(const string& s) {\n    string result;\n    for (char c : s) {\n        if (isdigit(c)) {\n            result += \"number\";  // 仅替换数字\n        } else {\n            result += c;  // 直接添加非数字字符\n        }\n    }\n    return result;\n}\nint main() {\n    string s;\n    cin >> s;  // 读取输入\n    cout << replaceDigitsWithNumber(s) << endl;  \n    return 0;\n}\n```\n\n主要难点在于如何去掉空格，使用快慢指针。\n\n```c++\nclass Solution {\npublic:\n    void reverse(string& s, int start, int end){ //翻转，区间写法：左闭右闭 []\n        for (int i = start, j = end; i < j; i++, j--) {\n            swap(s[i], s[j]);\n        }\n    }\n\n    void removeExtraSpaces(string& s) {//去除所有空格并在相邻单词之间添加空格, 快慢指针。\n        int slow = 0;   //整体思想参考https://programmercarl.com/0027.移除元素.html\n        for (int i = 0; i < s.size(); ++i) { //\n            if (s[i] != ' ') { //遇到非空格就处理，即删除所有空格。\n                if (slow != 0) s[slow++] = ' '; //手动控制空格，给单词之间添加空格。slow != 0说明不是第一个单词，需要在单词前添加空格。\n                while (i < s.size() && s[i] != ' ') { //补上该单词，遇到空格说明单词结束。\n                    s[slow++] = s[i++];\n                }\n            }\n        }\n        s.resize(slow); //slow的大小即为去除多余空格后的大小。\n    }\n\n    string reverseWords(string s) {\n        removeExtraSpaces(s); //去除多余空格，保证单词之间之只有一个空格，且字符串首尾没空格。\n        reverse(s, 0, s.size() - 1);\n        int start = 0; //removeExtraSpaces后保证第一个单词的开始下标一定是0。\n        for (int i = 0; i <= s.size(); ++i) {\n            if (i == s.size() || s[i] == ' ') { //到达空格或者串尾，说明一个单词结束。进行翻转。\n                reverse(s, start, i - 1); //翻转，注意是左闭右闭 []的翻转。\n                start = i + 1; //更新下一个单词的开始下标start\n            }\n        }\n        return s;\n    }\n};\n```\n\n\n\n### 右旋字符串\n\n题目链接：[右旋字符串](https://kamacoder.com/problempage.php?pid=1065)\n\n题目思路：和前边有一题很类似，都是申请了一个额外的空间往上加，这题是先把后n个加上，再把前m-n个加上。\n\n```c++\n#include<iostream>\nusing namespace std;\nint main()\n{\n    int n;\n    string s,ans;\n    cin>>n>>s;\n    int m=s.size();\n    for(int i=(m-n);i<m;i++) ans+=s[i];\n    for(int i=0;i<(m-n);i++) ans+=s[i];\n    cout<<ans;\n    return 0;\n}\n```\n\n代码随想录：它要求不申请额外的空间，这个就直接reverse两次，和上一题差不多，先全局再局部。\n\n```c++\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main() {\n    int n;\n    string s;\n    cin >> n;\n    cin >> s;\n    int len = s.size(); //获取长度\n    reverse(s.begin(), s.end()); // 整体反转\n    reverse(s.begin(), s.begin() + n); // 先反转前一段，长度n\n    reverse(s.begin() + n, s.end()); // 再反转后一段\n    cout << s << endl;\n\n} \n```\n\n\n\n### 找出字符串中第一个匹配项的下标\n\n题目链接：[28. 找出字符串中第一个匹配项的下标](https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/)\n\n暴力解法：思路正确，但是我写的代码写的太麻烦了，下边贴一份优雅的代码。时间复杂度O(m*n)。\n\n```c++\nclass Solution {\npublic:\n    int strStr(string haystack, string needle) {\n        int s[26]={0};\n        if(needle.size()>haystack.size()) return -1;\n        for(int i:needle) s[i-'a']++;\n        for(int i=0;i<haystack.size();i++)\n        {\n            int t;\n            if(s[haystack[i]-'a']==0) continue;\n            else{\n                t=i;\n                int a=t;\n                for(int j=0;j<needle.size();j++) if(haystack.size()-a>=needle.size() && haystack[a+j]==needle[j]) t++;\n            }\n            if((t-i)==needle.size()) return i;\n        }\n        return -1;\n    }\n};\n```\n\n```c++\nclass Solution {\npublic:\n    int strStr(string s, string p) {\n        int n = s.size(), m = p.size();\n        for(int i = 0; i <= n - m; i++){\n            int j = i, k = 0; \n            while(k < m and s[j] == p[k]){\n                j++;\n                k++;\n            }\n            if(k == m) return i;\n        }\n        return -1;\n    }\n};\n```\n\n**KMP解法：**当出现字符串不匹配时，可以记录一部分之前已经匹配的文本内容，利用这些信息避免从头再去做匹配。\n\n前缀表是用来回退的，它记录了模式串与主串(文本串)不匹配的时候，模式串应该从哪里开始重新匹配。代码随想录写的这个就很通俗易懂。\n\n**Nex数组构造：**\n\n1. 初始化\n2. 处理前后缀不相同的情况\n3. 处理前后缀相同的情况\n\n![](https://code-thinking.cdn.bcebos.com/gifs/KMP%E7%B2%BE%E8%AE%B23.gif)\n\n```c++\nclass Solution {\npublic:\n    void getNext(int* next, const string& s) {\n        int j = -1;\n        next[0] = j;\n        for(int i = 1; i < s.size(); i++) { // 注意i从1开始\n            while (j >= 0 && s[i] != s[j + 1]) { // 前后缀不相同了\n                j = next[j]; // 向前回退\n            }\n            if (s[i] == s[j + 1]) { // 找到相同的前后缀\n                j++;\n            }\n            next[i] = j; // 将j（前缀的长度）赋给next[i]\n        }\n    }\n    int strStr(string haystack, string needle) {\n        if (needle.size() == 0) {\n            return 0;\n        }\n\t\tvector<int> next(needle.size());\n\t\tgetNext(&next[0], needle);\n        int j = -1; // // 因为next数组里记录的起始位置为-1\n        for (int i = 0; i < haystack.size(); i++) { // 注意i就从0开始\n            while(j >= 0 && haystack[i] != needle[j + 1]) { // 不匹配\n                j = next[j]; // j 寻找之前匹配的位置\n            }\n            if (haystack[i] == needle[j + 1]) { // 匹配，j和i同时向后移动\n                j++; // i的增加在for循环里\n            }\n            if (j == (needle.size() - 1) ) { // 文本串s里出现了模式串t\n                return (i - needle.size() + 1);\n            }\n        }\n        return -1;\n    }\n};\n```\n\n\n\n### 重复的子字符串\n\n题目链接：[459. 重复的子字符串](https://leetcode.cn/problems/repeated-substring-pattern/)\n\n暴力解法：想用暴力法写一下，结果写了两个小时，还是看了题解写出来的，钻牛角尖了。我写的代码性能不如官方代码高，贴一下官方代码。\n\n```c++\nclass Solution {\npublic:\n    bool repeatedSubstringPattern(string s) {\n        int n = s.size();\n        for (int i = 1; i * 2 <= n; ++i) {\n            if (n % i == 0) {\n                bool match = true;\n                for (int j = i; j < n; ++j) {\n                    if (s[j] != s[j - i]) {\n                        match = false;\n                        break;\n                    }\n                }\n                if (match) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n};\n\n```\n\n移动匹配：将两个 s 连在一起，并移除第一个和最后一个字符。如果 s 是该字符串的子串，那么 s 就满足题目要求。\n\n```c++\nclass Solution {\npublic:\n    bool repeatedSubstringPattern(string s) {\n        string t = s + s;\n        t.erase(t.begin()); t.erase(t.end() - 1); // 掐头去尾\n        if (t.find(s) != std::string::npos) return true; // r\n        return false;\n    }\n};\n```\n\nKMP实现：\n\n```c++\nclass Solution {\npublic:\n    void getNext (int* next, const string& s){\n        next[0] = -1;\n        int j = -1;\n        for(int i = 1;i < s.size(); i++){\n            while(j >= 0 && s[i] != s[j + 1]) {\n                j = next[j];\n            }\n            if(s[i] == s[j + 1]) {\n                j++;\n            }\n            next[i] = j;\n        }\n    }\n    bool repeatedSubstringPattern (string s) {\n        if (s.size() == 0) {\n            return false;\n        }\n        int next[s.size()];\n        getNext(next, s);\n        int len = s.size();\n        if (next[len - 1] != -1 && len % (len - (next[len - 1] + 1)) == 0) {\n            return true;\n        }\n        return false;\n    }\n};\n```\n\n","source":"_posts/7day.md","raw":"---\ntitle: 代码随想录--字符串\ndate: 2025-02-05 17:48:35\ntags: [数据结构与算法,字符串,KMP,双指针,reverse]\ncategories: [学习,数据结构与算法,代码随想录]\nupdated: \ndescription: 代码随想录--字符串\n---\n\n## 字符串\n\n​\t字符串，就是由字符连接而成的序列。常见的字符串问题包括字符串匹配问题、子串相关问题、前缀/后缀相关问题、回文串相关问题、子序列相关问题等。\n\n### 反转字符串\n\n题目链接：[344. 反转字符串](https://leetcode.cn/problems/reverse-string/)\n\n```c++\nclass Solution {\npublic:\n    void reverseString(vector<char>& s) {\n        for(int i=0,j=s.size()-1;i<j;i++,j--)\n        {\n            char a=s[i];\n            s[i]=s[j];\n            s[j]=a;\n        }\n    }\n};\n```\n\n### 反转字符串\n\n题目链接：[541. 反转字符串 II](https://leetcode.cn/problems/reverse-string-ii/)\n\n注意一下reverse函数的用法。\n\n```c++\nclass Solution {\npublic:\n    string reverseStr(string s, int k) {\n        for (int i = 0; i < s.size(); i += (2 * k)) {\n            if (i + k <= s.size()) {\n                reverse(s.begin()  i, s.begin() + i + k );\n            } else {\n                reverse(s.begin() + i, s.end());\n            }\n        }\n        return s;\n    }\n};\n\n```\n\n### 替换数字                            \n\n题目链接：[替换数字（第八期模拟笔试）](https://kamacoder.com/problempage.php?pid=1064)\n\n题目思路：看似简单，实则不好操作，gpt给的这个思路很好啊，重新弄一个新字符串然后拼接。代码随想录的那个太麻烦了，直接pass掉了。\n\n```c++\n#include <iostream>\n#include <cctype>  // 需要 isdigit()\nusing namespace std;\nstring replaceDigitsWithNumber(const string& s) {\n    string result;\n    for (char c : s) {\n        if (isdigit(c)) {\n            result += \"number\";  // 仅替换数字\n        } else {\n            result += c;  // 直接添加非数字字符\n        }\n    }\n    return result;\n}\nint main() {\n    string s;\n    cin >> s;  // 读取输入\n    cout << replaceDigitsWithNumber(s) << endl;  \n    return 0;\n}\n```\n\n主要难点在于如何去掉空格，使用快慢指针。\n\n```c++\nclass Solution {\npublic:\n    void reverse(string& s, int start, int end){ //翻转，区间写法：左闭右闭 []\n        for (int i = start, j = end; i < j; i++, j--) {\n            swap(s[i], s[j]);\n        }\n    }\n\n    void removeExtraSpaces(string& s) {//去除所有空格并在相邻单词之间添加空格, 快慢指针。\n        int slow = 0;   //整体思想参考https://programmercarl.com/0027.移除元素.html\n        for (int i = 0; i < s.size(); ++i) { //\n            if (s[i] != ' ') { //遇到非空格就处理，即删除所有空格。\n                if (slow != 0) s[slow++] = ' '; //手动控制空格，给单词之间添加空格。slow != 0说明不是第一个单词，需要在单词前添加空格。\n                while (i < s.size() && s[i] != ' ') { //补上该单词，遇到空格说明单词结束。\n                    s[slow++] = s[i++];\n                }\n            }\n        }\n        s.resize(slow); //slow的大小即为去除多余空格后的大小。\n    }\n\n    string reverseWords(string s) {\n        removeExtraSpaces(s); //去除多余空格，保证单词之间之只有一个空格，且字符串首尾没空格。\n        reverse(s, 0, s.size() - 1);\n        int start = 0; //removeExtraSpaces后保证第一个单词的开始下标一定是0。\n        for (int i = 0; i <= s.size(); ++i) {\n            if (i == s.size() || s[i] == ' ') { //到达空格或者串尾，说明一个单词结束。进行翻转。\n                reverse(s, start, i - 1); //翻转，注意是左闭右闭 []的翻转。\n                start = i + 1; //更新下一个单词的开始下标start\n            }\n        }\n        return s;\n    }\n};\n```\n\n\n\n### 右旋字符串\n\n题目链接：[右旋字符串](https://kamacoder.com/problempage.php?pid=1065)\n\n题目思路：和前边有一题很类似，都是申请了一个额外的空间往上加，这题是先把后n个加上，再把前m-n个加上。\n\n```c++\n#include<iostream>\nusing namespace std;\nint main()\n{\n    int n;\n    string s,ans;\n    cin>>n>>s;\n    int m=s.size();\n    for(int i=(m-n);i<m;i++) ans+=s[i];\n    for(int i=0;i<(m-n);i++) ans+=s[i];\n    cout<<ans;\n    return 0;\n}\n```\n\n代码随想录：它要求不申请额外的空间，这个就直接reverse两次，和上一题差不多，先全局再局部。\n\n```c++\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main() {\n    int n;\n    string s;\n    cin >> n;\n    cin >> s;\n    int len = s.size(); //获取长度\n    reverse(s.begin(), s.end()); // 整体反转\n    reverse(s.begin(), s.begin() + n); // 先反转前一段，长度n\n    reverse(s.begin() + n, s.end()); // 再反转后一段\n    cout << s << endl;\n\n} \n```\n\n\n\n### 找出字符串中第一个匹配项的下标\n\n题目链接：[28. 找出字符串中第一个匹配项的下标](https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/)\n\n暴力解法：思路正确，但是我写的代码写的太麻烦了，下边贴一份优雅的代码。时间复杂度O(m*n)。\n\n```c++\nclass Solution {\npublic:\n    int strStr(string haystack, string needle) {\n        int s[26]={0};\n        if(needle.size()>haystack.size()) return -1;\n        for(int i:needle) s[i-'a']++;\n        for(int i=0;i<haystack.size();i++)\n        {\n            int t;\n            if(s[haystack[i]-'a']==0) continue;\n            else{\n                t=i;\n                int a=t;\n                for(int j=0;j<needle.size();j++) if(haystack.size()-a>=needle.size() && haystack[a+j]==needle[j]) t++;\n            }\n            if((t-i)==needle.size()) return i;\n        }\n        return -1;\n    }\n};\n```\n\n```c++\nclass Solution {\npublic:\n    int strStr(string s, string p) {\n        int n = s.size(), m = p.size();\n        for(int i = 0; i <= n - m; i++){\n            int j = i, k = 0; \n            while(k < m and s[j] == p[k]){\n                j++;\n                k++;\n            }\n            if(k == m) return i;\n        }\n        return -1;\n    }\n};\n```\n\n**KMP解法：**当出现字符串不匹配时，可以记录一部分之前已经匹配的文本内容，利用这些信息避免从头再去做匹配。\n\n前缀表是用来回退的，它记录了模式串与主串(文本串)不匹配的时候，模式串应该从哪里开始重新匹配。代码随想录写的这个就很通俗易懂。\n\n**Nex数组构造：**\n\n1. 初始化\n2. 处理前后缀不相同的情况\n3. 处理前后缀相同的情况\n\n![](https://code-thinking.cdn.bcebos.com/gifs/KMP%E7%B2%BE%E8%AE%B23.gif)\n\n```c++\nclass Solution {\npublic:\n    void getNext(int* next, const string& s) {\n        int j = -1;\n        next[0] = j;\n        for(int i = 1; i < s.size(); i++) { // 注意i从1开始\n            while (j >= 0 && s[i] != s[j + 1]) { // 前后缀不相同了\n                j = next[j]; // 向前回退\n            }\n            if (s[i] == s[j + 1]) { // 找到相同的前后缀\n                j++;\n            }\n            next[i] = j; // 将j（前缀的长度）赋给next[i]\n        }\n    }\n    int strStr(string haystack, string needle) {\n        if (needle.size() == 0) {\n            return 0;\n        }\n\t\tvector<int> next(needle.size());\n\t\tgetNext(&next[0], needle);\n        int j = -1; // // 因为next数组里记录的起始位置为-1\n        for (int i = 0; i < haystack.size(); i++) { // 注意i就从0开始\n            while(j >= 0 && haystack[i] != needle[j + 1]) { // 不匹配\n                j = next[j]; // j 寻找之前匹配的位置\n            }\n            if (haystack[i] == needle[j + 1]) { // 匹配，j和i同时向后移动\n                j++; // i的增加在for循环里\n            }\n            if (j == (needle.size() - 1) ) { // 文本串s里出现了模式串t\n                return (i - needle.size() + 1);\n            }\n        }\n        return -1;\n    }\n};\n```\n\n\n\n### 重复的子字符串\n\n题目链接：[459. 重复的子字符串](https://leetcode.cn/problems/repeated-substring-pattern/)\n\n暴力解法：想用暴力法写一下，结果写了两个小时，还是看了题解写出来的，钻牛角尖了。我写的代码性能不如官方代码高，贴一下官方代码。\n\n```c++\nclass Solution {\npublic:\n    bool repeatedSubstringPattern(string s) {\n        int n = s.size();\n        for (int i = 1; i * 2 <= n; ++i) {\n            if (n % i == 0) {\n                bool match = true;\n                for (int j = i; j < n; ++j) {\n                    if (s[j] != s[j - i]) {\n                        match = false;\n                        break;\n                    }\n                }\n                if (match) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n};\n\n```\n\n移动匹配：将两个 s 连在一起，并移除第一个和最后一个字符。如果 s 是该字符串的子串，那么 s 就满足题目要求。\n\n```c++\nclass Solution {\npublic:\n    bool repeatedSubstringPattern(string s) {\n        string t = s + s;\n        t.erase(t.begin()); t.erase(t.end() - 1); // 掐头去尾\n        if (t.find(s) != std::string::npos) return true; // r\n        return false;\n    }\n};\n```\n\nKMP实现：\n\n```c++\nclass Solution {\npublic:\n    void getNext (int* next, const string& s){\n        next[0] = -1;\n        int j = -1;\n        for(int i = 1;i < s.size(); i++){\n            while(j >= 0 && s[i] != s[j + 1]) {\n                j = next[j];\n            }\n            if(s[i] == s[j + 1]) {\n                j++;\n            }\n            next[i] = j;\n        }\n    }\n    bool repeatedSubstringPattern (string s) {\n        if (s.size() == 0) {\n            return false;\n        }\n        int next[s.size()];\n        getNext(next, s);\n        int len = s.size();\n        if (next[len - 1] != -1 && len % (len - (next[len - 1] + 1)) == 0) {\n            return true;\n        }\n        return false;\n    }\n};\n```\n\n","slug":"7day","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamio002h1swm4528hnp6","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"字符串\">字符串</h2>\n<p>​\t字符串，就是由字符连接而成的序列。常见的字符串问题包括字符串匹配问题、子串相关问题、前缀/后缀相关问题、回文串相关问题、子序列相关问题等。</p>\n<h3 id=\"反转字符串\">反转字符串</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/reverse-string/\">344. 反转字符串</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">reverseString</span><span class=\"params\">(vector&lt;<span class=\"type\">char</span>&gt;&amp; s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>,j=s.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&lt;j;i++,j--)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">char</span> a=s[i];</span><br><span class=\"line\">            s[i]=s[j];</span><br><span class=\"line\">            s[j]=a;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"反转字符串-2\">反转字符串</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/reverse-string-ii/\">541. 反转字符串 II</a></p>\n<p>注意一下reverse函数的用法。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">reverseStr</span><span class=\"params\">(string s, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; s.<span class=\"built_in\">size</span>(); i += (<span class=\"number\">2</span> * k)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i + k &lt;= s.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">                <span class=\"built_in\">reverse</span>(s.<span class=\"built_in\">begin</span>()  i, s.<span class=\"built_in\">begin</span>() + i + k );</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"built_in\">reverse</span>(s.<span class=\"built_in\">begin</span>() + i, s.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"替换数字\">替换数字</h3>\n<p>题目链接：<a href=\"https://kamacoder.com/problempage.php?pid=1064\">替换数字（第八期模拟笔试）</a></p>\n<p>题目思路：看似简单，实则不好操作，gpt给的这个思路很好啊，重新弄一个新字符串然后拼接。代码随想录的那个太麻烦了，直接pass掉了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;cctype&gt;</span>  <span class=\"comment\">// 需要 isdigit()</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\">string <span class=\"title\">replaceDigitsWithNumber</span><span class=\"params\">(<span class=\"type\">const</span> string&amp; s)</span> </span>&#123;</span><br><span class=\"line\">    string result;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">char</span> c : s) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">isdigit</span>(c)) &#123;</span><br><span class=\"line\">            result += <span class=\"string\">&quot;number&quot;</span>;  <span class=\"comment\">// 仅替换数字</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            result += c;  <span class=\"comment\">// 直接添加非数字字符</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    string s;</span><br><span class=\"line\">    cin &gt;&gt; s;  <span class=\"comment\">// 读取输入</span></span><br><span class=\"line\">    cout &lt;&lt; <span class=\"built_in\">replaceDigitsWithNumber</span>(s) &lt;&lt; endl;  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>主要难点在于如何去掉空格，使用快慢指针。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">reverse</span><span class=\"params\">(string&amp; s, <span class=\"type\">int</span> start, <span class=\"type\">int</span> end)</span></span>&#123; <span class=\"comment\">//翻转，区间写法：左闭右闭 []</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = start, j = end; i &lt; j; i++, j--) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">swap</span>(s[i], s[j]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">removeExtraSpaces</span><span class=\"params\">(string&amp; s)</span> </span>&#123;<span class=\"comment\">//去除所有空格并在相邻单词之间添加空格, 快慢指针。</span></span><br><span class=\"line\">        <span class=\"type\">int</span> slow = <span class=\"number\">0</span>;   <span class=\"comment\">//整体思想参考https://programmercarl.com/0027.移除元素.html</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; s.<span class=\"built_in\">size</span>(); ++i) &#123; <span class=\"comment\">//</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (s[i] != <span class=\"string\">&#x27; &#x27;</span>) &#123; <span class=\"comment\">//遇到非空格就处理，即删除所有空格。</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (slow != <span class=\"number\">0</span>) s[slow++] = <span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">//手动控制空格，给单词之间添加空格。slow != 0说明不是第一个单词，需要在单词前添加空格。</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span> (i &lt; s.<span class=\"built_in\">size</span>() &amp;&amp; s[i] != <span class=\"string\">&#x27; &#x27;</span>) &#123; <span class=\"comment\">//补上该单词，遇到空格说明单词结束。</span></span><br><span class=\"line\">                    s[slow++] = s[i++];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        s.<span class=\"built_in\">resize</span>(slow); <span class=\"comment\">//slow的大小即为去除多余空格后的大小。</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">reverseWords</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">removeExtraSpaces</span>(s); <span class=\"comment\">//去除多余空格，保证单词之间之只有一个空格，且字符串首尾没空格。</span></span><br><span class=\"line\">        <span class=\"built_in\">reverse</span>(s, <span class=\"number\">0</span>, s.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"type\">int</span> start = <span class=\"number\">0</span>; <span class=\"comment\">//removeExtraSpaces后保证第一个单词的开始下标一定是0。</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt;= s.<span class=\"built_in\">size</span>(); ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i == s.<span class=\"built_in\">size</span>() || s[i] == <span class=\"string\">&#x27; &#x27;</span>) &#123; <span class=\"comment\">//到达空格或者串尾，说明一个单词结束。进行翻转。</span></span><br><span class=\"line\">                <span class=\"built_in\">reverse</span>(s, start, i - <span class=\"number\">1</span>); <span class=\"comment\">//翻转，注意是左闭右闭 []的翻转。</span></span><br><span class=\"line\">                start = i + <span class=\"number\">1</span>; <span class=\"comment\">//更新下一个单词的开始下标start</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"右旋字符串\">右旋字符串</h3>\n<p>题目链接：<a href=\"https://kamacoder.com/problempage.php?pid=1065\">右旋字符串</a></p>\n<p>题目思路：和前边有一题很类似，都是申请了一个额外的空间往上加，这题是先把后n个加上，再把前m-n个加上。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n;</span><br><span class=\"line\">    string s,ans;</span><br><span class=\"line\">    cin&gt;&gt;n&gt;&gt;s;</span><br><span class=\"line\">    <span class=\"type\">int</span> m=s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=(m-n);i&lt;m;i++) ans+=s[i];</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;(m-n);i++) ans+=s[i];</span><br><span class=\"line\">    cout&lt;&lt;ans;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>代码随想录：它要求不申请额外的空间，这个就直接reverse两次，和上一题差不多，先全局再局部。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;algorithm&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n;</span><br><span class=\"line\">    string s;</span><br><span class=\"line\">    cin &gt;&gt; n;</span><br><span class=\"line\">    cin &gt;&gt; s;</span><br><span class=\"line\">    <span class=\"type\">int</span> len = s.<span class=\"built_in\">size</span>(); <span class=\"comment\">//获取长度</span></span><br><span class=\"line\">    <span class=\"built_in\">reverse</span>(s.<span class=\"built_in\">begin</span>(), s.<span class=\"built_in\">end</span>()); <span class=\"comment\">// 整体反转</span></span><br><span class=\"line\">    <span class=\"built_in\">reverse</span>(s.<span class=\"built_in\">begin</span>(), s.<span class=\"built_in\">begin</span>() + n); <span class=\"comment\">// 先反转前一段，长度n</span></span><br><span class=\"line\">    <span class=\"built_in\">reverse</span>(s.<span class=\"built_in\">begin</span>() + n, s.<span class=\"built_in\">end</span>()); <span class=\"comment\">// 再反转后一段</span></span><br><span class=\"line\">    cout &lt;&lt; s &lt;&lt; endl;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<h3 id=\"找出字符串中第一个匹配项的下标\">找出字符串中第一个匹配项的下标</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/\">28. 找出字符串中第一个匹配项的下标</a></p>\n<p>暴力解法：思路正确，但是我写的代码写的太麻烦了，下边贴一份优雅的代码。时间复杂度O(m*n)。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">strStr</span><span class=\"params\">(string haystack, string needle)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> s[<span class=\"number\">26</span>]=&#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(needle.<span class=\"built_in\">size</span>()&gt;haystack.<span class=\"built_in\">size</span>()) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i:needle) s[i-<span class=\"string\">&#x27;a&#x27;</span>]++;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;haystack.<span class=\"built_in\">size</span>();i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> t;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(s[haystack[i]-<span class=\"string\">&#x27;a&#x27;</span>]==<span class=\"number\">0</span>) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                t=i;</span><br><span class=\"line\">                <span class=\"type\">int</span> a=t;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;needle.<span class=\"built_in\">size</span>();j++) <span class=\"keyword\">if</span>(haystack.<span class=\"built_in\">size</span>()-a&gt;=needle.<span class=\"built_in\">size</span>() &amp;&amp; haystack[a+j]==needle[j]) t++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>((t-i)==needle.<span class=\"built_in\">size</span>()) <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">strStr</span><span class=\"params\">(string s, string p)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = s.<span class=\"built_in\">size</span>(), m = p.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt;= n - m; i++)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> j = i, k = <span class=\"number\">0</span>; </span><br><span class=\"line\">            <span class=\"keyword\">while</span>(k &lt; m <span class=\"keyword\">and</span> s[j] == p[k])&#123;</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">                k++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(k == m) <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>**KMP解法：**当出现字符串不匹配时，可以记录一部分之前已经匹配的文本内容，利用这些信息避免从头再去做匹配。</p>\n<p>前缀表是用来回退的，它记录了模式串与主串(文本串)不匹配的时候，模式串应该从哪里开始重新匹配。代码随想录写的这个就很通俗易懂。</p>\n<p><strong>Nex数组构造：</strong></p>\n<ol>\n<li>初始化</li>\n<li>处理前后缀不相同的情况</li>\n<li>处理前后缀相同的情况</li>\n</ol>\n<p><img src=\"https://code-thinking.cdn.bcebos.com/gifs/KMP%E7%B2%BE%E8%AE%B23.gif\" alt=\"\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">getNext</span><span class=\"params\">(<span class=\"type\">int</span>* next, <span class=\"type\">const</span> string&amp; s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> j = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        next[<span class=\"number\">0</span>] = j;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; s.<span class=\"built_in\">size</span>(); i++) &#123; <span class=\"comment\">// 注意i从1开始</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (j &gt;= <span class=\"number\">0</span> &amp;&amp; s[i] != s[j + <span class=\"number\">1</span>]) &#123; <span class=\"comment\">// 前后缀不相同了</span></span><br><span class=\"line\">                j = next[j]; <span class=\"comment\">// 向前回退</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (s[i] == s[j + <span class=\"number\">1</span>]) &#123; <span class=\"comment\">// 找到相同的前后缀</span></span><br><span class=\"line\">                j++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            next[i] = j; <span class=\"comment\">// 将j（前缀的长度）赋给next[i]</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">strStr</span><span class=\"params\">(string haystack, string needle)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (needle.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">\t\t<span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">next</span><span class=\"params\">(needle.size())</span></span>;</span><br><span class=\"line\">\t\t<span class=\"built_in\">getNext</span>(&amp;next[<span class=\"number\">0</span>], needle);</span><br><span class=\"line\">        <span class=\"type\">int</span> j = <span class=\"number\">-1</span>; <span class=\"comment\">// // 因为next数组里记录的起始位置为-1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; haystack.<span class=\"built_in\">size</span>(); i++) &#123; <span class=\"comment\">// 注意i就从0开始</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span>(j &gt;= <span class=\"number\">0</span> &amp;&amp; haystack[i] != needle[j + <span class=\"number\">1</span>]) &#123; <span class=\"comment\">// 不匹配</span></span><br><span class=\"line\">                j = next[j]; <span class=\"comment\">// j 寻找之前匹配的位置</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (haystack[i] == needle[j + <span class=\"number\">1</span>]) &#123; <span class=\"comment\">// 匹配，j和i同时向后移动</span></span><br><span class=\"line\">                j++; <span class=\"comment\">// i的增加在for循环里</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (j == (needle.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>) ) &#123; <span class=\"comment\">// 文本串s里出现了模式串t</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> (i - needle.<span class=\"built_in\">size</span>() + <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"重复的子字符串\">重复的子字符串</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/repeated-substring-pattern/\">459. 重复的子字符串</a></p>\n<p>暴力解法：想用暴力法写一下，结果写了两个小时，还是看了题解写出来的，钻牛角尖了。我写的代码性能不如官方代码高，贴一下官方代码。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">repeatedSubstringPattern</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i * <span class=\"number\">2</span> &lt;= n; ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (n % i == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"type\">bool</span> match = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = i; j &lt; n; ++j) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (s[j] != s[j - i]) &#123;</span><br><span class=\"line\">                        match = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (match) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>移动匹配：将两个 s 连在一起，并移除第一个和最后一个字符。如果 s 是该字符串的子串，那么 s 就满足题目要求。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">repeatedSubstringPattern</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        string t = s + s;</span><br><span class=\"line\">        t.<span class=\"built_in\">erase</span>(t.<span class=\"built_in\">begin</span>()); t.<span class=\"built_in\">erase</span>(t.<span class=\"built_in\">end</span>() - <span class=\"number\">1</span>); <span class=\"comment\">// 掐头去尾</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (t.<span class=\"built_in\">find</span>(s) != std::string::npos) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// r</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>KMP实现：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">getNext</span> <span class=\"params\">(<span class=\"type\">int</span>* next, <span class=\"type\">const</span> string&amp; s)</span></span>&#123;</span><br><span class=\"line\">        next[<span class=\"number\">0</span>] = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> j = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>;i &lt; s.<span class=\"built_in\">size</span>(); i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(j &gt;= <span class=\"number\">0</span> &amp;&amp; s[i] != s[j + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                j = next[j];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(s[i] == s[j + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            next[i] = j;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">repeatedSubstringPattern</span> <span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> next[s.<span class=\"built_in\">size</span>()];</span><br><span class=\"line\">        <span class=\"built_in\">getNext</span>(next, s);</span><br><span class=\"line\">        <span class=\"type\">int</span> len = s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (next[len - <span class=\"number\">1</span>] != <span class=\"number\">-1</span> &amp;&amp; len % (len - (next[len - <span class=\"number\">1</span>] + <span class=\"number\">1</span>)) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"字符串\">字符串</h2>\n<p>​\t字符串，就是由字符连接而成的序列。常见的字符串问题包括字符串匹配问题、子串相关问题、前缀/后缀相关问题、回文串相关问题、子序列相关问题等。</p>\n<h3 id=\"反转字符串\">反转字符串</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/reverse-string/\">344. 反转字符串</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">reverseString</span><span class=\"params\">(vector&lt;<span class=\"type\">char</span>&gt;&amp; s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>,j=s.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&lt;j;i++,j--)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">char</span> a=s[i];</span><br><span class=\"line\">            s[i]=s[j];</span><br><span class=\"line\">            s[j]=a;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"反转字符串-2\">反转字符串</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/reverse-string-ii/\">541. 反转字符串 II</a></p>\n<p>注意一下reverse函数的用法。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">reverseStr</span><span class=\"params\">(string s, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; s.<span class=\"built_in\">size</span>(); i += (<span class=\"number\">2</span> * k)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i + k &lt;= s.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">                <span class=\"built_in\">reverse</span>(s.<span class=\"built_in\">begin</span>()  i, s.<span class=\"built_in\">begin</span>() + i + k );</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"built_in\">reverse</span>(s.<span class=\"built_in\">begin</span>() + i, s.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"替换数字\">替换数字</h3>\n<p>题目链接：<a href=\"https://kamacoder.com/problempage.php?pid=1064\">替换数字（第八期模拟笔试）</a></p>\n<p>题目思路：看似简单，实则不好操作，gpt给的这个思路很好啊，重新弄一个新字符串然后拼接。代码随想录的那个太麻烦了，直接pass掉了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;cctype&gt;</span>  <span class=\"comment\">// 需要 isdigit()</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\">string <span class=\"title\">replaceDigitsWithNumber</span><span class=\"params\">(<span class=\"type\">const</span> string&amp; s)</span> </span>&#123;</span><br><span class=\"line\">    string result;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">char</span> c : s) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">isdigit</span>(c)) &#123;</span><br><span class=\"line\">            result += <span class=\"string\">&quot;number&quot;</span>;  <span class=\"comment\">// 仅替换数字</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            result += c;  <span class=\"comment\">// 直接添加非数字字符</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    string s;</span><br><span class=\"line\">    cin &gt;&gt; s;  <span class=\"comment\">// 读取输入</span></span><br><span class=\"line\">    cout &lt;&lt; <span class=\"built_in\">replaceDigitsWithNumber</span>(s) &lt;&lt; endl;  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>主要难点在于如何去掉空格，使用快慢指针。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">reverse</span><span class=\"params\">(string&amp; s, <span class=\"type\">int</span> start, <span class=\"type\">int</span> end)</span></span>&#123; <span class=\"comment\">//翻转，区间写法：左闭右闭 []</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = start, j = end; i &lt; j; i++, j--) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">swap</span>(s[i], s[j]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">removeExtraSpaces</span><span class=\"params\">(string&amp; s)</span> </span>&#123;<span class=\"comment\">//去除所有空格并在相邻单词之间添加空格, 快慢指针。</span></span><br><span class=\"line\">        <span class=\"type\">int</span> slow = <span class=\"number\">0</span>;   <span class=\"comment\">//整体思想参考https://programmercarl.com/0027.移除元素.html</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; s.<span class=\"built_in\">size</span>(); ++i) &#123; <span class=\"comment\">//</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (s[i] != <span class=\"string\">&#x27; &#x27;</span>) &#123; <span class=\"comment\">//遇到非空格就处理，即删除所有空格。</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (slow != <span class=\"number\">0</span>) s[slow++] = <span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">//手动控制空格，给单词之间添加空格。slow != 0说明不是第一个单词，需要在单词前添加空格。</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span> (i &lt; s.<span class=\"built_in\">size</span>() &amp;&amp; s[i] != <span class=\"string\">&#x27; &#x27;</span>) &#123; <span class=\"comment\">//补上该单词，遇到空格说明单词结束。</span></span><br><span class=\"line\">                    s[slow++] = s[i++];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        s.<span class=\"built_in\">resize</span>(slow); <span class=\"comment\">//slow的大小即为去除多余空格后的大小。</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">reverseWords</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">removeExtraSpaces</span>(s); <span class=\"comment\">//去除多余空格，保证单词之间之只有一个空格，且字符串首尾没空格。</span></span><br><span class=\"line\">        <span class=\"built_in\">reverse</span>(s, <span class=\"number\">0</span>, s.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"type\">int</span> start = <span class=\"number\">0</span>; <span class=\"comment\">//removeExtraSpaces后保证第一个单词的开始下标一定是0。</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt;= s.<span class=\"built_in\">size</span>(); ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i == s.<span class=\"built_in\">size</span>() || s[i] == <span class=\"string\">&#x27; &#x27;</span>) &#123; <span class=\"comment\">//到达空格或者串尾，说明一个单词结束。进行翻转。</span></span><br><span class=\"line\">                <span class=\"built_in\">reverse</span>(s, start, i - <span class=\"number\">1</span>); <span class=\"comment\">//翻转，注意是左闭右闭 []的翻转。</span></span><br><span class=\"line\">                start = i + <span class=\"number\">1</span>; <span class=\"comment\">//更新下一个单词的开始下标start</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"右旋字符串\">右旋字符串</h3>\n<p>题目链接：<a href=\"https://kamacoder.com/problempage.php?pid=1065\">右旋字符串</a></p>\n<p>题目思路：和前边有一题很类似，都是申请了一个额外的空间往上加，这题是先把后n个加上，再把前m-n个加上。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n;</span><br><span class=\"line\">    string s,ans;</span><br><span class=\"line\">    cin&gt;&gt;n&gt;&gt;s;</span><br><span class=\"line\">    <span class=\"type\">int</span> m=s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=(m-n);i&lt;m;i++) ans+=s[i];</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;(m-n);i++) ans+=s[i];</span><br><span class=\"line\">    cout&lt;&lt;ans;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>代码随想录：它要求不申请额外的空间，这个就直接reverse两次，和上一题差不多，先全局再局部。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;algorithm&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n;</span><br><span class=\"line\">    string s;</span><br><span class=\"line\">    cin &gt;&gt; n;</span><br><span class=\"line\">    cin &gt;&gt; s;</span><br><span class=\"line\">    <span class=\"type\">int</span> len = s.<span class=\"built_in\">size</span>(); <span class=\"comment\">//获取长度</span></span><br><span class=\"line\">    <span class=\"built_in\">reverse</span>(s.<span class=\"built_in\">begin</span>(), s.<span class=\"built_in\">end</span>()); <span class=\"comment\">// 整体反转</span></span><br><span class=\"line\">    <span class=\"built_in\">reverse</span>(s.<span class=\"built_in\">begin</span>(), s.<span class=\"built_in\">begin</span>() + n); <span class=\"comment\">// 先反转前一段，长度n</span></span><br><span class=\"line\">    <span class=\"built_in\">reverse</span>(s.<span class=\"built_in\">begin</span>() + n, s.<span class=\"built_in\">end</span>()); <span class=\"comment\">// 再反转后一段</span></span><br><span class=\"line\">    cout &lt;&lt; s &lt;&lt; endl;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<h3 id=\"找出字符串中第一个匹配项的下标\">找出字符串中第一个匹配项的下标</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/\">28. 找出字符串中第一个匹配项的下标</a></p>\n<p>暴力解法：思路正确，但是我写的代码写的太麻烦了，下边贴一份优雅的代码。时间复杂度O(m*n)。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">strStr</span><span class=\"params\">(string haystack, string needle)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> s[<span class=\"number\">26</span>]=&#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(needle.<span class=\"built_in\">size</span>()&gt;haystack.<span class=\"built_in\">size</span>()) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i:needle) s[i-<span class=\"string\">&#x27;a&#x27;</span>]++;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;haystack.<span class=\"built_in\">size</span>();i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> t;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(s[haystack[i]-<span class=\"string\">&#x27;a&#x27;</span>]==<span class=\"number\">0</span>) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                t=i;</span><br><span class=\"line\">                <span class=\"type\">int</span> a=t;</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;needle.<span class=\"built_in\">size</span>();j++) <span class=\"keyword\">if</span>(haystack.<span class=\"built_in\">size</span>()-a&gt;=needle.<span class=\"built_in\">size</span>() &amp;&amp; haystack[a+j]==needle[j]) t++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>((t-i)==needle.<span class=\"built_in\">size</span>()) <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">strStr</span><span class=\"params\">(string s, string p)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = s.<span class=\"built_in\">size</span>(), m = p.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt;= n - m; i++)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> j = i, k = <span class=\"number\">0</span>; </span><br><span class=\"line\">            <span class=\"keyword\">while</span>(k &lt; m <span class=\"keyword\">and</span> s[j] == p[k])&#123;</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">                k++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(k == m) <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>**KMP解法：**当出现字符串不匹配时，可以记录一部分之前已经匹配的文本内容，利用这些信息避免从头再去做匹配。</p>\n<p>前缀表是用来回退的，它记录了模式串与主串(文本串)不匹配的时候，模式串应该从哪里开始重新匹配。代码随想录写的这个就很通俗易懂。</p>\n<p><strong>Nex数组构造：</strong></p>\n<ol>\n<li>初始化</li>\n<li>处理前后缀不相同的情况</li>\n<li>处理前后缀相同的情况</li>\n</ol>\n<p><img src=\"https://code-thinking.cdn.bcebos.com/gifs/KMP%E7%B2%BE%E8%AE%B23.gif\" alt=\"\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">getNext</span><span class=\"params\">(<span class=\"type\">int</span>* next, <span class=\"type\">const</span> string&amp; s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> j = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        next[<span class=\"number\">0</span>] = j;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; s.<span class=\"built_in\">size</span>(); i++) &#123; <span class=\"comment\">// 注意i从1开始</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (j &gt;= <span class=\"number\">0</span> &amp;&amp; s[i] != s[j + <span class=\"number\">1</span>]) &#123; <span class=\"comment\">// 前后缀不相同了</span></span><br><span class=\"line\">                j = next[j]; <span class=\"comment\">// 向前回退</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (s[i] == s[j + <span class=\"number\">1</span>]) &#123; <span class=\"comment\">// 找到相同的前后缀</span></span><br><span class=\"line\">                j++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            next[i] = j; <span class=\"comment\">// 将j（前缀的长度）赋给next[i]</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">strStr</span><span class=\"params\">(string haystack, string needle)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (needle.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">\t\t<span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">next</span><span class=\"params\">(needle.size())</span></span>;</span><br><span class=\"line\">\t\t<span class=\"built_in\">getNext</span>(&amp;next[<span class=\"number\">0</span>], needle);</span><br><span class=\"line\">        <span class=\"type\">int</span> j = <span class=\"number\">-1</span>; <span class=\"comment\">// // 因为next数组里记录的起始位置为-1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; haystack.<span class=\"built_in\">size</span>(); i++) &#123; <span class=\"comment\">// 注意i就从0开始</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span>(j &gt;= <span class=\"number\">0</span> &amp;&amp; haystack[i] != needle[j + <span class=\"number\">1</span>]) &#123; <span class=\"comment\">// 不匹配</span></span><br><span class=\"line\">                j = next[j]; <span class=\"comment\">// j 寻找之前匹配的位置</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (haystack[i] == needle[j + <span class=\"number\">1</span>]) &#123; <span class=\"comment\">// 匹配，j和i同时向后移动</span></span><br><span class=\"line\">                j++; <span class=\"comment\">// i的增加在for循环里</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (j == (needle.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>) ) &#123; <span class=\"comment\">// 文本串s里出现了模式串t</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> (i - needle.<span class=\"built_in\">size</span>() + <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"重复的子字符串\">重复的子字符串</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/repeated-substring-pattern/\">459. 重复的子字符串</a></p>\n<p>暴力解法：想用暴力法写一下，结果写了两个小时，还是看了题解写出来的，钻牛角尖了。我写的代码性能不如官方代码高，贴一下官方代码。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">repeatedSubstringPattern</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i * <span class=\"number\">2</span> &lt;= n; ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (n % i == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"type\">bool</span> match = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = i; j &lt; n; ++j) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (s[j] != s[j - i]) &#123;</span><br><span class=\"line\">                        match = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (match) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>移动匹配：将两个 s 连在一起，并移除第一个和最后一个字符。如果 s 是该字符串的子串，那么 s 就满足题目要求。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">repeatedSubstringPattern</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        string t = s + s;</span><br><span class=\"line\">        t.<span class=\"built_in\">erase</span>(t.<span class=\"built_in\">begin</span>()); t.<span class=\"built_in\">erase</span>(t.<span class=\"built_in\">end</span>() - <span class=\"number\">1</span>); <span class=\"comment\">// 掐头去尾</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (t.<span class=\"built_in\">find</span>(s) != std::string::npos) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// r</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>KMP实现：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">getNext</span> <span class=\"params\">(<span class=\"type\">int</span>* next, <span class=\"type\">const</span> string&amp; s)</span></span>&#123;</span><br><span class=\"line\">        next[<span class=\"number\">0</span>] = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> j = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>;i &lt; s.<span class=\"built_in\">size</span>(); i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(j &gt;= <span class=\"number\">0</span> &amp;&amp; s[i] != s[j + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                j = next[j];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(s[i] == s[j + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            next[i] = j;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">repeatedSubstringPattern</span> <span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> next[s.<span class=\"built_in\">size</span>()];</span><br><span class=\"line\">        <span class=\"built_in\">getNext</span>(next, s);</span><br><span class=\"line\">        <span class=\"type\">int</span> len = s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (next[len - <span class=\"number\">1</span>] != <span class=\"number\">-1</span> &amp;&amp; len % (len - (next[len - <span class=\"number\">1</span>] + <span class=\"number\">1</span>)) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"MoCo","date":"2025-04-24T12:17:27.000Z","updated":"2025-04-27T04:38:07.441Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425170023257.png","_content":"\n## MoCo\n\nMomentum Contrast for Unsupervised Visual Representation Learning  (cvpr2020)\n\n论文地址：https://arxiv.org/pdf/1911.05722\n\n代码地址：https://github.com/facebookresearch/moco\n\n### 概述\n\n<img src=\"https://user-images.githubusercontent.com/11435359/71603927-0ca98d00-2b14-11ea-9fd8-10d984a2de45.png\" style=\"zoom:60%;\" />\n\nMoCo 将对比学习看作是一个**字典查找**任务 ：一个编码后的查询（query）应该与其匹配的键（正样本）相似，而与其他所有的键（负样本）不相似 。\n\n对比学习的核心思想是训练一个编码器，使其能够区分相似（正样本）和不相似（负样本）的样本 。\n\n### 传统方法 VS MoCo\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425170023257.png\" style=\"zoom:40%;\" />\n\n**端到端（End-to-end）方法**（SimCLR，Inva Spread）：将当前 mini-batch 内的样本作为字典 。这种方法的优点是字典中的键编码是一致的（由同一个编码器生成），但缺点是字典的大小受限于 mini-batch 的大小，而 mini-batch 大小又受限于 GPU 内存 。过大的 mini-batch 也会带来优化难题 。\n\n**Memory Bank 方法**（Inst Disc）：Memory Bank包含数据集所有数据的特征表示，从Memory Bank中采样数据不需要进行反向传播，所以能支持比较大的字典，然而一个样本的特征表示只在它出现时才在Memory Bank更新，所以一个epoch只会更新一次，但模型在训练过程中不断迭代，这个特征就会“过时”，因此具有更少的一致性，而且它的更新只是进行特征表示的更新，不涉及encoder。\n\nMoCo跟Inst Disc是非常相似的，比如它用队列取代了原来的memory bank作为一个额外的数据结构去存储负样本，用动量编码器去取代了原来loss里的约束项，这样就可以动量的更新编码器，而不是动量的去更新特征，从而能得到更好的结果。其整体的出发点以及一些实现的细节（比如backbone和lr、batch_size，dim、τ等等超参数都是一样的）和Inst Disc都是非常类似的，所以可以说MoCo是Inst Disc的改进工作。\n\n\n\n### 创新点\n\nMoCo 通过两个创新点解决了这一问题：**基于队列的动态字典**和**动量编码器**，给无监督的对比学习构造了一个又大又一致的字典。\n\n#### 基于队列的动态字典\n\nMoCo 使用一个队列来存储图像表征（称为键），作为动态字典。通过这种“先进先出”的更新方式，队列始终保持固定的大小，并且包含的是相对较新的样本表示，有助于维持字典的一致性。队列可以容纳 65,536 个键，为对比学习提供了丰富的负样本集合。\n\n```python\nf_k.params = f_q.params # 初始化\nfor x in loader: # 输入一个图像序列x，包含N张图，没有标签\n    x_q = aug(x) # 用于查询的图（数据增强得到）\n    x_k = aug(x) # 模板图（数据增强得到），自监督就体现在这里，只有图x和x的数据增强才被归为一类\n    q = f_q.forward(x_q) # 提取查询特征，输出NxC\n    k = f_k.forward(x_k) # 提取模板特征，输出NxC\n    # 不使用梯度更新f_k的参数，这是因为文章假设用于提取模板的表示应该是稳定的，不应立即更新\n    k = k.detach() \n    # 这里bmm是分批矩阵乘法\n    l_pos = bmm(q.view(N,1,C), k.view(N,C,1)) # 输出Nx1，也就是自己与自己的增强图的特征的匹配度\n    l_neg = mm(q.view(N,C), queue.view(C,K)) # 输出Nxk，自己与上一批次所有图的匹配度（全不匹配）\n    logits = cat([l_pos, l_neg], dim=1) # 输出Nx(1+k)\n    labels = zeros(N)\n    # NCE损失函数，就是为了保证自己与自己衍生的匹配度输出越大越好，否则越小越好\n    loss = CrossEntropyLoss(logits/t, labels) \n    loss.backward()\n    update(f_q.params) # f_q使用梯度立即更新\n    # 由于假设模板特征的表示方法是稳定的，因此它更新得更慢，这里使用动量法更新，相当于做了个滤波。\n    f_k.params = m*f_k.params+(1-m)*f_q.params \n    enqueue(queue, k) # 为了生成反例，所以引入了队列\n    dequeue(queue)\n```\n\n#### 动量编码器\n\nMoCo 使用两个编码器：**查询编码器**（query encoder）和**键编码器**（key encoder）。查询编码器通过反向传播正常更新，而键编码器是查询编码器的缓慢更新版本，其参数通过动量机制更新。具体来说，键编码器的参数是其之前参数与查询编码器参数的加权平均，动量系数（momentum coefficient）通常设为 0.999，使得键编码器变化非常缓慢。这种稳定性保证了队列中键的表征不会因编码器快速变化而失去一致性。\n$$\n\\theta_k \\leftarrow m \\theta_k + (1-m) \\theta_q\n$$\n\n\n`query`的编码器和`key`的编码器既可以是相同的（模型的架构一样，参数完全共享，比如Inva Spread），或者说它们的参数是部分共享的，也可以是彻底不一样的两个网络（CMC，多视角多编码器）。\n\n### Pretext Task（代理任务）\n\n论文中主要采用了一个简单的实例判别任务（Instance Discrimination）：如果一个查询和一个键来源于同一张图片的不同随机增强视图（例如，不同的裁剪、颜色抖动等），则它们构成一个正样本对；否则构成负样本对 。编码器（如 ResNet ）将这些视图编码为特征向量，然后通过 InfoNCE 损失函数进行优化 。\n\n### 损失函数\n\n在对比学习中，最常用的目标函数是 **InfoNCE 损失**（Noise-Contrastive Estimation 的信息理论扩展）。InfoNCE 损失基于互信息最大化的思想，鼓励模型区分正样本对和负样本对。\n$$\n\\mathcal L_{q} = - \\log \\frac{\\exp(q \\cdot k_{+} / \\tau)}{\\sum_{i=0}^{K} \\exp(q \\cdot k_{i} / \\tau)}\n$$\n$ q $ 是查询的编码表示。\n\n$ k_{+} $ 是正样本键的编码表示。\n\n$ k_i $ 是字典中所有的键（包括一个正样本 $ k_{+} $ 和 K 个负样本）。\n\n$ \\tau $ 是超参数，用来控制分布的形状 ，去掉后整个式子其实就是交叉熵损失函数。\n\n$ q \\cdot k $ 表示点积相似度。\n\n`NCE loss`（`noise contrastive estimation` ）：将超级多分类转为二分类——数据类别data sample和噪声类别noisy sample。这样解决了类别多的问题。\n","source":"_posts/MoCo.md","raw":"---\ntitle: MoCo\ndate: 2025-04-24 20:17:27\ntags: [对比学习,论文精读]\ncategories: [学习,论文精读,对比学习,MoCo]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425170023257.png\n---\n\n## MoCo\n\nMomentum Contrast for Unsupervised Visual Representation Learning  (cvpr2020)\n\n论文地址：https://arxiv.org/pdf/1911.05722\n\n代码地址：https://github.com/facebookresearch/moco\n\n### 概述\n\n<img src=\"https://user-images.githubusercontent.com/11435359/71603927-0ca98d00-2b14-11ea-9fd8-10d984a2de45.png\" style=\"zoom:60%;\" />\n\nMoCo 将对比学习看作是一个**字典查找**任务 ：一个编码后的查询（query）应该与其匹配的键（正样本）相似，而与其他所有的键（负样本）不相似 。\n\n对比学习的核心思想是训练一个编码器，使其能够区分相似（正样本）和不相似（负样本）的样本 。\n\n### 传统方法 VS MoCo\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425170023257.png\" style=\"zoom:40%;\" />\n\n**端到端（End-to-end）方法**（SimCLR，Inva Spread）：将当前 mini-batch 内的样本作为字典 。这种方法的优点是字典中的键编码是一致的（由同一个编码器生成），但缺点是字典的大小受限于 mini-batch 的大小，而 mini-batch 大小又受限于 GPU 内存 。过大的 mini-batch 也会带来优化难题 。\n\n**Memory Bank 方法**（Inst Disc）：Memory Bank包含数据集所有数据的特征表示，从Memory Bank中采样数据不需要进行反向传播，所以能支持比较大的字典，然而一个样本的特征表示只在它出现时才在Memory Bank更新，所以一个epoch只会更新一次，但模型在训练过程中不断迭代，这个特征就会“过时”，因此具有更少的一致性，而且它的更新只是进行特征表示的更新，不涉及encoder。\n\nMoCo跟Inst Disc是非常相似的，比如它用队列取代了原来的memory bank作为一个额外的数据结构去存储负样本，用动量编码器去取代了原来loss里的约束项，这样就可以动量的更新编码器，而不是动量的去更新特征，从而能得到更好的结果。其整体的出发点以及一些实现的细节（比如backbone和lr、batch_size，dim、τ等等超参数都是一样的）和Inst Disc都是非常类似的，所以可以说MoCo是Inst Disc的改进工作。\n\n\n\n### 创新点\n\nMoCo 通过两个创新点解决了这一问题：**基于队列的动态字典**和**动量编码器**，给无监督的对比学习构造了一个又大又一致的字典。\n\n#### 基于队列的动态字典\n\nMoCo 使用一个队列来存储图像表征（称为键），作为动态字典。通过这种“先进先出”的更新方式，队列始终保持固定的大小，并且包含的是相对较新的样本表示，有助于维持字典的一致性。队列可以容纳 65,536 个键，为对比学习提供了丰富的负样本集合。\n\n```python\nf_k.params = f_q.params # 初始化\nfor x in loader: # 输入一个图像序列x，包含N张图，没有标签\n    x_q = aug(x) # 用于查询的图（数据增强得到）\n    x_k = aug(x) # 模板图（数据增强得到），自监督就体现在这里，只有图x和x的数据增强才被归为一类\n    q = f_q.forward(x_q) # 提取查询特征，输出NxC\n    k = f_k.forward(x_k) # 提取模板特征，输出NxC\n    # 不使用梯度更新f_k的参数，这是因为文章假设用于提取模板的表示应该是稳定的，不应立即更新\n    k = k.detach() \n    # 这里bmm是分批矩阵乘法\n    l_pos = bmm(q.view(N,1,C), k.view(N,C,1)) # 输出Nx1，也就是自己与自己的增强图的特征的匹配度\n    l_neg = mm(q.view(N,C), queue.view(C,K)) # 输出Nxk，自己与上一批次所有图的匹配度（全不匹配）\n    logits = cat([l_pos, l_neg], dim=1) # 输出Nx(1+k)\n    labels = zeros(N)\n    # NCE损失函数，就是为了保证自己与自己衍生的匹配度输出越大越好，否则越小越好\n    loss = CrossEntropyLoss(logits/t, labels) \n    loss.backward()\n    update(f_q.params) # f_q使用梯度立即更新\n    # 由于假设模板特征的表示方法是稳定的，因此它更新得更慢，这里使用动量法更新，相当于做了个滤波。\n    f_k.params = m*f_k.params+(1-m)*f_q.params \n    enqueue(queue, k) # 为了生成反例，所以引入了队列\n    dequeue(queue)\n```\n\n#### 动量编码器\n\nMoCo 使用两个编码器：**查询编码器**（query encoder）和**键编码器**（key encoder）。查询编码器通过反向传播正常更新，而键编码器是查询编码器的缓慢更新版本，其参数通过动量机制更新。具体来说，键编码器的参数是其之前参数与查询编码器参数的加权平均，动量系数（momentum coefficient）通常设为 0.999，使得键编码器变化非常缓慢。这种稳定性保证了队列中键的表征不会因编码器快速变化而失去一致性。\n$$\n\\theta_k \\leftarrow m \\theta_k + (1-m) \\theta_q\n$$\n\n\n`query`的编码器和`key`的编码器既可以是相同的（模型的架构一样，参数完全共享，比如Inva Spread），或者说它们的参数是部分共享的，也可以是彻底不一样的两个网络（CMC，多视角多编码器）。\n\n### Pretext Task（代理任务）\n\n论文中主要采用了一个简单的实例判别任务（Instance Discrimination）：如果一个查询和一个键来源于同一张图片的不同随机增强视图（例如，不同的裁剪、颜色抖动等），则它们构成一个正样本对；否则构成负样本对 。编码器（如 ResNet ）将这些视图编码为特征向量，然后通过 InfoNCE 损失函数进行优化 。\n\n### 损失函数\n\n在对比学习中，最常用的目标函数是 **InfoNCE 损失**（Noise-Contrastive Estimation 的信息理论扩展）。InfoNCE 损失基于互信息最大化的思想，鼓励模型区分正样本对和负样本对。\n$$\n\\mathcal L_{q} = - \\log \\frac{\\exp(q \\cdot k_{+} / \\tau)}{\\sum_{i=0}^{K} \\exp(q \\cdot k_{i} / \\tau)}\n$$\n$ q $ 是查询的编码表示。\n\n$ k_{+} $ 是正样本键的编码表示。\n\n$ k_i $ 是字典中所有的键（包括一个正样本 $ k_{+} $ 和 K 个负样本）。\n\n$ \\tau $ 是超参数，用来控制分布的形状 ，去掉后整个式子其实就是交叉熵损失函数。\n\n$ q \\cdot k $ 表示点积相似度。\n\n`NCE loss`（`noise contrastive estimation` ）：将超级多分类转为二分类——数据类别data sample和噪声类别noisy sample。这样解决了类别多的问题。\n","slug":"MoCo","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamip002k1swmfk32eusd","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"MoCo\">MoCo</h2>\n<p>Momentum Contrast for Unsupervised Visual Representation Learning  (cvpr2020)</p>\n<p>论文地址：<a href=\"https://arxiv.org/pdf/1911.05722\">https://arxiv.org/pdf/1911.05722</a></p>\n<p>代码地址：<a href=\"https://github.com/facebookresearch/moco\">https://github.com/facebookresearch/moco</a></p>\n<h3 id=\"概述\">概述</h3>\n<img src=\"https://user-images.githubusercontent.com/11435359/71603927-0ca98d00-2b14-11ea-9fd8-10d984a2de45.png\" style=\"zoom:60%;\" />\n<p>MoCo 将对比学习看作是一个<strong>字典查找</strong>任务 ：一个编码后的查询（query）应该与其匹配的键（正样本）相似，而与其他所有的键（负样本）不相似 。</p>\n<p>对比学习的核心思想是训练一个编码器，使其能够区分相似（正样本）和不相似（负样本）的样本 。</p>\n<h3 id=\"传统方法-VS-MoCo\">传统方法 VS MoCo</h3>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425170023257.png\" style=\"zoom:40%;\" />\n<p><strong>端到端（End-to-end）方法</strong>（SimCLR，Inva Spread）：将当前 mini-batch 内的样本作为字典 。这种方法的优点是字典中的键编码是一致的（由同一个编码器生成），但缺点是字典的大小受限于 mini-batch 的大小，而 mini-batch 大小又受限于 GPU 内存 。过大的 mini-batch 也会带来优化难题 。</p>\n<p><strong>Memory Bank 方法</strong>（Inst Disc）：Memory Bank包含数据集所有数据的特征表示，从Memory Bank中采样数据不需要进行反向传播，所以能支持比较大的字典，然而一个样本的特征表示只在它出现时才在Memory Bank更新，所以一个epoch只会更新一次，但模型在训练过程中不断迭代，这个特征就会“过时”，因此具有更少的一致性，而且它的更新只是进行特征表示的更新，不涉及encoder。</p>\n<p>MoCo跟Inst Disc是非常相似的，比如它用队列取代了原来的memory bank作为一个额外的数据结构去存储负样本，用动量编码器去取代了原来loss里的约束项，这样就可以动量的更新编码器，而不是动量的去更新特征，从而能得到更好的结果。其整体的出发点以及一些实现的细节（比如backbone和lr、batch_size，dim、τ等等超参数都是一样的）和Inst Disc都是非常类似的，所以可以说MoCo是Inst Disc的改进工作。</p>\n<h3 id=\"创新点\">创新点</h3>\n<p>MoCo 通过两个创新点解决了这一问题：<strong>基于队列的动态字典</strong>和<strong>动量编码器</strong>，给无监督的对比学习构造了一个又大又一致的字典。</p>\n<h4 id=\"基于队列的动态字典\">基于队列的动态字典</h4>\n<p>MoCo 使用一个队列来存储图像表征（称为键），作为动态字典。通过这种“先进先出”的更新方式，队列始终保持固定的大小，并且包含的是相对较新的样本表示，有助于维持字典的一致性。队列可以容纳 65,536 个键，为对比学习提供了丰富的负样本集合。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f_k.params = f_q.params <span class=\"comment\"># 初始化</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> loader: <span class=\"comment\"># 输入一个图像序列x，包含N张图，没有标签</span></span><br><span class=\"line\">    x_q = aug(x) <span class=\"comment\"># 用于查询的图（数据增强得到）</span></span><br><span class=\"line\">    x_k = aug(x) <span class=\"comment\"># 模板图（数据增强得到），自监督就体现在这里，只有图x和x的数据增强才被归为一类</span></span><br><span class=\"line\">    q = f_q.forward(x_q) <span class=\"comment\"># 提取查询特征，输出NxC</span></span><br><span class=\"line\">    k = f_k.forward(x_k) <span class=\"comment\"># 提取模板特征，输出NxC</span></span><br><span class=\"line\">    <span class=\"comment\"># 不使用梯度更新f_k的参数，这是因为文章假设用于提取模板的表示应该是稳定的，不应立即更新</span></span><br><span class=\"line\">    k = k.detach() </span><br><span class=\"line\">    <span class=\"comment\"># 这里bmm是分批矩阵乘法</span></span><br><span class=\"line\">    l_pos = bmm(q.view(N,<span class=\"number\">1</span>,C), k.view(N,C,<span class=\"number\">1</span>)) <span class=\"comment\"># 输出Nx1，也就是自己与自己的增强图的特征的匹配度</span></span><br><span class=\"line\">    l_neg = mm(q.view(N,C), queue.view(C,K)) <span class=\"comment\"># 输出Nxk，自己与上一批次所有图的匹配度（全不匹配）</span></span><br><span class=\"line\">    logits = cat([l_pos, l_neg], dim=<span class=\"number\">1</span>) <span class=\"comment\"># 输出Nx(1+k)</span></span><br><span class=\"line\">    labels = zeros(N)</span><br><span class=\"line\">    <span class=\"comment\"># NCE损失函数，就是为了保证自己与自己衍生的匹配度输出越大越好，否则越小越好</span></span><br><span class=\"line\">    loss = CrossEntropyLoss(logits/t, labels) </span><br><span class=\"line\">    loss.backward()</span><br><span class=\"line\">    update(f_q.params) <span class=\"comment\"># f_q使用梯度立即更新</span></span><br><span class=\"line\">    <span class=\"comment\"># 由于假设模板特征的表示方法是稳定的，因此它更新得更慢，这里使用动量法更新，相当于做了个滤波。</span></span><br><span class=\"line\">    f_k.params = m*f_k.params+(<span class=\"number\">1</span>-m)*f_q.params </span><br><span class=\"line\">    enqueue(queue, k) <span class=\"comment\"># 为了生成反例，所以引入了队列</span></span><br><span class=\"line\">    dequeue(queue)</span><br></pre></td></tr></table></figure>\n<h4 id=\"动量编码器\">动量编码器</h4>\n<p>MoCo 使用两个编码器：<strong>查询编码器</strong>（query encoder）和<strong>键编码器</strong>（key encoder）。查询编码器通过反向传播正常更新，而键编码器是查询编码器的缓慢更新版本，其参数通过动量机制更新。具体来说，键编码器的参数是其之前参数与查询编码器参数的加权平均，动量系数（momentum coefficient）通常设为 0.999，使得键编码器变化非常缓慢。这种稳定性保证了队列中键的表征不会因编码器快速变化而失去一致性。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.65ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"22.065ex\" height=\"2.347ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 9752.5 1037.2\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(502,-150) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1198.2,0)\"><path data-c=\"2190\" d=\"M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2476,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3354,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(502,-150) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(4496.6,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5496.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(5885.8,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6608,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7608.2,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8486.2,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(8875.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(502,-150) scale(0.707)\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>θ</mi><mi>k</mi></msub><mo stretchy=\"false\">←</mo><mi>m</mi><msub><mi>θ</mi><mi>k</mi></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><mi>m</mi><mo stretchy=\"false\">)</mo><msub><mi>θ</mi><mi>q</mi></msub></math></mjx-assistive-mml></mjx-container><p><code>query</code>的编码器和<code>key</code>的编码器既可以是相同的（模型的架构一样，参数完全共享，比如Inva Spread），或者说它们的参数是部分共享的，也可以是彻底不一样的两个网络（CMC，多视角多编码器）。</p>\n<h3 id=\"Pretext-Task（代理任务）\">Pretext Task（代理任务）</h3>\n<p>论文中主要采用了一个简单的实例判别任务（Instance Discrimination）：如果一个查询和一个键来源于同一张图片的不同随机增强视图（例如，不同的裁剪、颜色抖动等），则它们构成一个正样本对；否则构成负样本对 。编码器（如 ResNet ）将这些视图编码为特征向量，然后通过 InfoNCE 损失函数进行优化 。</p>\n<h3 id=\"损失函数\">损失函数</h3>\n<p>在对比学习中，最常用的目标函数是 <strong>InfoNCE 损失</strong>（Noise-Contrastive Estimation 的信息理论扩展）。InfoNCE 损失基于互信息最大化的思想，鼓励模型区分正样本对和负样本对。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.858ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"29.565ex\" height=\"6.161ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1460 13067.9 2723.3\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1376,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2431.8,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3376.5,0)\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4654.5,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(4821.2,0)\"><g data-mml-node=\"mrow\" transform=\"translate(1293.6,710)\"><g data-mml-node=\"mi\"><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(444,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(972,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1528,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1528,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1917,0)\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2599.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3099.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(554,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(4253.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2F\" d=\"M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(4753.6,0)\"><path data-c=\"1D70F\" d=\"M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5270.6,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mrow\" transform=\"translate(220,-920)\"><g data-mml-node=\"munderover\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1089,477.1) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1089,-285.4) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(2453.3,0)\"><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(444,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(972,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3981.3,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3981.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4370.3,0)\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5052.5,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5552.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(554,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(6400.7,0)\"><g data-mml-node=\"mo\"><path data-c=\"2F\" d=\"M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(6900.7,0)\"><path data-c=\"1D70F\" d=\"M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7417.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"8006.7\" height=\"60\" x=\"120\" y=\"220\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>q</mi></mrow></msub><mo>=</mo><mo>−</mo><mi>log</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mfrac><mrow><mi>exp</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mo stretchy=\"false\">(</mo><mi>q</mi><mo>⋅</mo><msub><mi>k</mi><mrow data-mjx-texclass=\"ORD\"><mo>+</mo></mrow></msub><mrow data-mjx-texclass=\"ORD\"><mo>/</mo></mrow><mi>τ</mi><mo stretchy=\"false\">)</mo></mrow><mrow><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>K</mi></mrow></munderover><mi>exp</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mo stretchy=\"false\">(</mo><mi>q</mi><mo>⋅</mo><msub><mi>k</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi></mrow></msub><mrow data-mjx-texclass=\"ORD\"><mo>/</mo></mrow><mi>τ</mi><mo stretchy=\"false\">)</mo></mrow></mfrac></math></mjx-assistive-mml></mjx-container><p>$ q $ 是查询的编码表示。</p>\n<p>$ k_{+} $ 是正样本键的编码表示。</p>\n<p>$ k_i $ 是字典中所有的键（包括一个正样本 $ k_{+} $ 和 K 个负样本）。</p>\n<p>$ \\tau $ 是超参数，用来控制分布的形状 ，去掉后整个式子其实就是交叉熵损失函数。</p>\n<p>$ q \\cdot k $ 表示点积相似度。</p>\n<p><code>NCE loss</code>（<code>noise contrastive estimation</code> ）：将超级多分类转为二分类——数据类别data sample和噪声类别noisy sample。这样解决了类别多的问题。</p>\n</div>","excerpt":"","more":"<h2 id=\"MoCo\">MoCo</h2>\n<p>Momentum Contrast for Unsupervised Visual Representation Learning  (cvpr2020)</p>\n<p>论文地址：<a href=\"https://arxiv.org/pdf/1911.05722\">https://arxiv.org/pdf/1911.05722</a></p>\n<p>代码地址：<a href=\"https://github.com/facebookresearch/moco\">https://github.com/facebookresearch/moco</a></p>\n<h3 id=\"概述\">概述</h3>\n<img src=\"https://user-images.githubusercontent.com/11435359/71603927-0ca98d00-2b14-11ea-9fd8-10d984a2de45.png\" style=\"zoom:60%;\" />\n<p>MoCo 将对比学习看作是一个<strong>字典查找</strong>任务 ：一个编码后的查询（query）应该与其匹配的键（正样本）相似，而与其他所有的键（负样本）不相似 。</p>\n<p>对比学习的核心思想是训练一个编码器，使其能够区分相似（正样本）和不相似（负样本）的样本 。</p>\n<h3 id=\"传统方法-VS-MoCo\">传统方法 VS MoCo</h3>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425170023257.png\" style=\"zoom:40%;\" />\n<p><strong>端到端（End-to-end）方法</strong>（SimCLR，Inva Spread）：将当前 mini-batch 内的样本作为字典 。这种方法的优点是字典中的键编码是一致的（由同一个编码器生成），但缺点是字典的大小受限于 mini-batch 的大小，而 mini-batch 大小又受限于 GPU 内存 。过大的 mini-batch 也会带来优化难题 。</p>\n<p><strong>Memory Bank 方法</strong>（Inst Disc）：Memory Bank包含数据集所有数据的特征表示，从Memory Bank中采样数据不需要进行反向传播，所以能支持比较大的字典，然而一个样本的特征表示只在它出现时才在Memory Bank更新，所以一个epoch只会更新一次，但模型在训练过程中不断迭代，这个特征就会“过时”，因此具有更少的一致性，而且它的更新只是进行特征表示的更新，不涉及encoder。</p>\n<p>MoCo跟Inst Disc是非常相似的，比如它用队列取代了原来的memory bank作为一个额外的数据结构去存储负样本，用动量编码器去取代了原来loss里的约束项，这样就可以动量的更新编码器，而不是动量的去更新特征，从而能得到更好的结果。其整体的出发点以及一些实现的细节（比如backbone和lr、batch_size，dim、τ等等超参数都是一样的）和Inst Disc都是非常类似的，所以可以说MoCo是Inst Disc的改进工作。</p>\n<h3 id=\"创新点\">创新点</h3>\n<p>MoCo 通过两个创新点解决了这一问题：<strong>基于队列的动态字典</strong>和<strong>动量编码器</strong>，给无监督的对比学习构造了一个又大又一致的字典。</p>\n<h4 id=\"基于队列的动态字典\">基于队列的动态字典</h4>\n<p>MoCo 使用一个队列来存储图像表征（称为键），作为动态字典。通过这种“先进先出”的更新方式，队列始终保持固定的大小，并且包含的是相对较新的样本表示，有助于维持字典的一致性。队列可以容纳 65,536 个键，为对比学习提供了丰富的负样本集合。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f_k.params = f_q.params <span class=\"comment\"># 初始化</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> loader: <span class=\"comment\"># 输入一个图像序列x，包含N张图，没有标签</span></span><br><span class=\"line\">    x_q = aug(x) <span class=\"comment\"># 用于查询的图（数据增强得到）</span></span><br><span class=\"line\">    x_k = aug(x) <span class=\"comment\"># 模板图（数据增强得到），自监督就体现在这里，只有图x和x的数据增强才被归为一类</span></span><br><span class=\"line\">    q = f_q.forward(x_q) <span class=\"comment\"># 提取查询特征，输出NxC</span></span><br><span class=\"line\">    k = f_k.forward(x_k) <span class=\"comment\"># 提取模板特征，输出NxC</span></span><br><span class=\"line\">    <span class=\"comment\"># 不使用梯度更新f_k的参数，这是因为文章假设用于提取模板的表示应该是稳定的，不应立即更新</span></span><br><span class=\"line\">    k = k.detach() </span><br><span class=\"line\">    <span class=\"comment\"># 这里bmm是分批矩阵乘法</span></span><br><span class=\"line\">    l_pos = bmm(q.view(N,<span class=\"number\">1</span>,C), k.view(N,C,<span class=\"number\">1</span>)) <span class=\"comment\"># 输出Nx1，也就是自己与自己的增强图的特征的匹配度</span></span><br><span class=\"line\">    l_neg = mm(q.view(N,C), queue.view(C,K)) <span class=\"comment\"># 输出Nxk，自己与上一批次所有图的匹配度（全不匹配）</span></span><br><span class=\"line\">    logits = cat([l_pos, l_neg], dim=<span class=\"number\">1</span>) <span class=\"comment\"># 输出Nx(1+k)</span></span><br><span class=\"line\">    labels = zeros(N)</span><br><span class=\"line\">    <span class=\"comment\"># NCE损失函数，就是为了保证自己与自己衍生的匹配度输出越大越好，否则越小越好</span></span><br><span class=\"line\">    loss = CrossEntropyLoss(logits/t, labels) </span><br><span class=\"line\">    loss.backward()</span><br><span class=\"line\">    update(f_q.params) <span class=\"comment\"># f_q使用梯度立即更新</span></span><br><span class=\"line\">    <span class=\"comment\"># 由于假设模板特征的表示方法是稳定的，因此它更新得更慢，这里使用动量法更新，相当于做了个滤波。</span></span><br><span class=\"line\">    f_k.params = m*f_k.params+(<span class=\"number\">1</span>-m)*f_q.params </span><br><span class=\"line\">    enqueue(queue, k) <span class=\"comment\"># 为了生成反例，所以引入了队列</span></span><br><span class=\"line\">    dequeue(queue)</span><br></pre></td></tr></table></figure>\n<h4 id=\"动量编码器\">动量编码器</h4>\n<p>MoCo 使用两个编码器：<strong>查询编码器</strong>（query encoder）和<strong>键编码器</strong>（key encoder）。查询编码器通过反向传播正常更新，而键编码器是查询编码器的缓慢更新版本，其参数通过动量机制更新。具体来说，键编码器的参数是其之前参数与查询编码器参数的加权平均，动量系数（momentum coefficient）通常设为 0.999，使得键编码器变化非常缓慢。这种稳定性保证了队列中键的表征不会因编码器快速变化而失去一致性。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.65ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"22.065ex\" height=\"2.347ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 9752.5 1037.2\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(502,-150) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1198.2,0)\"><path data-c=\"2190\" d=\"M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2476,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3354,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(502,-150) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(4496.6,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5496.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(5885.8,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6608,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7608.2,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8486.2,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(8875.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(502,-150) scale(0.707)\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>θ</mi><mi>k</mi></msub><mo stretchy=\"false\">←</mo><mi>m</mi><msub><mi>θ</mi><mi>k</mi></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><mi>m</mi><mo stretchy=\"false\">)</mo><msub><mi>θ</mi><mi>q</mi></msub></math></mjx-assistive-mml></mjx-container><p><code>query</code>的编码器和<code>key</code>的编码器既可以是相同的（模型的架构一样，参数完全共享，比如Inva Spread），或者说它们的参数是部分共享的，也可以是彻底不一样的两个网络（CMC，多视角多编码器）。</p>\n<h3 id=\"Pretext-Task（代理任务）\">Pretext Task（代理任务）</h3>\n<p>论文中主要采用了一个简单的实例判别任务（Instance Discrimination）：如果一个查询和一个键来源于同一张图片的不同随机增强视图（例如，不同的裁剪、颜色抖动等），则它们构成一个正样本对；否则构成负样本对 。编码器（如 ResNet ）将这些视图编码为特征向量，然后通过 InfoNCE 损失函数进行优化 。</p>\n<h3 id=\"损失函数\">损失函数</h3>\n<p>在对比学习中，最常用的目标函数是 <strong>InfoNCE 损失</strong>（Noise-Contrastive Estimation 的信息理论扩展）。InfoNCE 损失基于互信息最大化的思想，鼓励模型区分正样本对和负样本对。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.858ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"29.565ex\" height=\"6.161ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1460 13067.9 2723.3\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1376,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2431.8,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3376.5,0)\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4654.5,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(4821.2,0)\"><g data-mml-node=\"mrow\" transform=\"translate(1293.6,710)\"><g data-mml-node=\"mi\"><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(444,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(972,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1528,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1528,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1917,0)\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2599.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3099.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(554,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(4253.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2F\" d=\"M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(4753.6,0)\"><path data-c=\"1D70F\" d=\"M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5270.6,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mrow\" transform=\"translate(220,-920)\"><g data-mml-node=\"munderover\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1089,477.1) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1089,-285.4) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(2453.3,0)\"><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(444,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(972,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3981.3,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3981.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4370.3,0)\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5052.5,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5552.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(554,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(6400.7,0)\"><g data-mml-node=\"mo\"><path data-c=\"2F\" d=\"M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(6900.7,0)\"><path data-c=\"1D70F\" d=\"M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7417.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"8006.7\" height=\"60\" x=\"120\" y=\"220\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>q</mi></mrow></msub><mo>=</mo><mo>−</mo><mi>log</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mfrac><mrow><mi>exp</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mo stretchy=\"false\">(</mo><mi>q</mi><mo>⋅</mo><msub><mi>k</mi><mrow data-mjx-texclass=\"ORD\"><mo>+</mo></mrow></msub><mrow data-mjx-texclass=\"ORD\"><mo>/</mo></mrow><mi>τ</mi><mo stretchy=\"false\">)</mo></mrow><mrow><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>K</mi></mrow></munderover><mi>exp</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mo stretchy=\"false\">(</mo><mi>q</mi><mo>⋅</mo><msub><mi>k</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi></mrow></msub><mrow data-mjx-texclass=\"ORD\"><mo>/</mo></mrow><mi>τ</mi><mo stretchy=\"false\">)</mo></mrow></mfrac></math></mjx-assistive-mml></mjx-container><p>$ q $ 是查询的编码表示。</p>\n<p>$ k_{+} $ 是正样本键的编码表示。</p>\n<p>$ k_i $ 是字典中所有的键（包括一个正样本 $ k_{+} $ 和 K 个负样本）。</p>\n<p>$ \\tau $ 是超参数，用来控制分布的形状 ，去掉后整个式子其实就是交叉熵损失函数。</p>\n<p>$ q \\cdot k $ 表示点积相似度。</p>\n<p><code>NCE loss</code>（<code>noise contrastive estimation</code> ）：将超级多分类转为二分类——数据类别data sample和噪声类别noisy sample。这样解决了类别多的问题。</p>\n"},{"title":"STL","date":"2025-02-10T16:11:46.000Z","updated":"2025-03-08T09:26:47.773Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp","_content":"\n# 标准模板库（STL）\n\nSTL 即标准模板库（Standard Template Library），是 C++  标准库的一部分，里面包含了一些模板化的通用的数据结构和算法。由于其模板化的特点，它能够兼容自定义的数据类型，避免大量的造轮子工作。NOI 和  ICPC 赛事都支持 STL 库的使用，因此合理利用 STL 可以避免编写无用算法，并且充分利用编译器对模板库优化提高效率。\n\n## STL容器\n\n![](https://oi-wiki.org/lang/csl/images/container1.png)\n\n\n\n### 迭代器\n\n​\t在 STL 中，迭代器（Iterator）用来访问和检查 STL 容器中元素的对象，它的行为模式和指针类似，但是它封装了一些有效性检查，并且提供了统一的访问格式。\n\n​\t迭代器听起来比较晦涩，其实迭代器本身可以看作一个数据指针。迭代器主要支持两个运算符：自增 (`++`) 和解引用（单目 `*` 运算符），其中自增用来移动迭代器，解引用可以获取或修改它指向的元素。\n\n```c++\nvector<int> data(10);\n//下面两个 for 循环的效果是一样的\nfor (int i = 0; i < data.size(); i++)\n  cout << data[i] << endl;  // 使用下标访问元素\n\nfor (vector<int>::iterator iter = data.begin(); iter != data.end(); iter++)\n  cout << *iter << endl;  // 使用迭代器访问元素\n// 在C++11后可以使用 auto iter = data.begin() 来简化上述代码\n```\n\n​\t[STL 容器](https://oi-wiki.org/lang/csl/container/) 一般支持从一端或两端开始的访问，以及对 [const 修饰符](https://oi-wiki.org/lang/const/) 的支持。例如容器的 `begin()` 函数可以获得指向容器第一个元素的迭代器，`rbegin()` 函数可以获得指向容器最后一个元素的反向迭代器，`cbegin()` 函数可以获得指向容器第一个元素的 const 迭代器，`end()` 函数可以获得指向容器尾端（「尾端」并不是最后一个元素，可以看作是最后一个元素的后继；「尾端」的前驱是容器里的最后一个元素，其本身不指向任何一个元素）的迭代器。\n\n\n\n### 序列式容器\n\n- **向量**(`vector`) 后端可高效增加元素的顺序表。\n- **双端队列**(`deque`) 双端都可高效增加元素的顺序表。\n- **列表**(`list`) 可以沿双向遍历的链表。\n- **单向列表**(`forward_list`) 只能沿一个方向遍历的链表。\n\n#### `vector`\n\n`std::vector` 是 STL 提供的 **内存连续的**、**可变长度** 的数组（亦称列表）数据结构。能够提供线性复杂度的插入和删除，以及常数复杂度的随机访问。\n\n##### vector定义\n\n```c++\n#include<vector>                       //头文件\n\nvector<typename> name;                 //相当于长度可以变化的一维数组\n\nvector<vector<typename> > name;        //相当于长度可以变化的一维数组\n\nvector<typename> Arrayname[arraySize]; \n//一维长度固定为arraySize，Arrayname[0]~Arrayname[arraySize-1]中每一个都是一个vector容器\n\n//typename可以是任何基本类型，例如int,double,char,结构体等，也可以是STL标准容器，例如vector,set,queue等\n```\n\n```c++\n// 1. 创建空vector; 常数复杂度\nvector<int> v0;\n// 1+. 这句代码可以使得向vector中插入前3个元素时，保证常数时间复杂度\nv0.reserve(3);\n// 2. 创建一个初始空间为3的vector，其元素的默认值是0; 线性复杂度\nvector<int> v1(3);\n// 3. 创建一个初始空间为3的vector，其元素的默认值是2; 线性复杂度\nvector<int> v2(3, 2);\n// 4. 创建一个初始空间为3的vector，其元素的默认值是1，\n// 并且使用v2的空间配置器; 线性复杂度\nvector<int> v3(3, 1, v2.get_allocator());\n// 5. 创建一个v2的拷贝vector v4， 其内容元素和v2一样; 线性复杂度\nvector<int> v4(v2);\n// 6. 创建一个v4的拷贝vector v5，其内容是{v4[1], v4[2]}; 线性复杂度\nvector<int> v5(v4.begin() + 1, v4.begin() + 3);\n// 7. 移动v2到新创建的vector v6，不发生拷贝; 常数复杂度; 需要 C++11\nvector<int> v6(std::move(v2));  // 或者 v6 = std::move(v2);\n```\n\n#####  vector容器内元素的访问\n\n```c++\n//1.通过下标访问\nvector<int> m;\n//直接访问m[index],index从0到m.size()-1\n\n//2.通过迭代器访问\nvector<int>::iterator it;\n//迭代器就像STL容器的“指针”，可以用*it访问vector中的元素\n\n//m[i]和*(m.begin()+i)等价\n```\n\n```c++\n#include<stdio.h>\n#include<vector>\nusing namespace std;\nint main()\n{\n    vector<int> vi;\n    for(int i=1;i<=5;i++) vi.push_back(i);\n    //1\n    vector<int>::iterator it = vi.begin();\n    for(int i=0;i<5;i++)\n    {\n        printf(\"%d\",*(it+i)); //输出 1 2 3 4 5\n    }\n    //2\n    for(vector<int>::iterator it = vi.begin();it!=vi.end();it++)\n    {\n        printf(\"%d\",*it);    //输出 1 2 3 4 5\n    }\n    return 0;\n}\n```\n\n#####  vector常用函数\n\n1. `push_back()` 在末尾插入一个元素，均摊复杂度为 **常数**，最坏为线性复杂度。\n\n2. `pop_back()` 删除末尾元素，常数复杂度。\n\n3. ``front()``返回vector的第一个元素，等价于*a.begin() 和 a[0]。\n\n4. ``back()``返回vector的最后一个元素，等价于*==a.end() 和 a[a.size() – 1]。\n\n5. `size()` 返回容器长度（元素数量），即 `std::distance(v.begin(), v.end())`。\n\n6. `v.data()` 返回指向数组第一个元素的指针。\n\n7. `insert()` 支持在某个迭代器位置插入元素、可以插入多个。``insert(it,x)``在it处插入x。\n\n8. `clear()` 清除所有元素。\n\n9. `erase()` 删除某个迭代器或者区间的元素，返回最后被删除的迭代器。\n\nerase(it)删除迭代器为it处的元素，erase(first，last)即删除[first，last)内所有元素。\n\n\n\n#### `deque`\n\n`std::deque`（双端队列）支持在头部和尾部进行高效插入删除的序列容器，与vector相比：\n\n- 头尾插入/删除时间复杂度为O(1)\n- 支持随机访问（通过下标）\n- 存储空间分块管理，迭代器比vector复杂\n- 中间插入删除效率较低\n\n##### deque定义\n\n```c++\n#include <deque>\n\nstd::deque<int> dq1;              // 空双端队列\nstd::deque<char> dq2(5, 'A');     // 包含5个'A'\nstd::deque<int> dq3 = {1,2,3};    // 列表初始化（C++11）\n```\n\n##### deque容器内元素的访问\n\n| 方式        | 示例         | 说明                     |\n| ----------- | ------------ | ------------------------ |\n| 下标访问    | `dq[0]`      | 无越界检查               |\n| `at()` 方法 | `dq.at(0)`   | 有越界检查，越界抛出异常 |\n| 首元素      | `dq.front()` | 等价于 `dq[0]`           |\n| 末尾元素    | `dq.back()`  | 等价于 `dq[dq.size()-1]` |\n\n##### deque常用函数\n\n| 函数              | 功能说明                      |\n| ----------------- | ----------------------------- |\n| `push_front(x)`   | 在头部插入元素x               |\n| `pop_front()`     | 删除头部元素                  |\n| `push_back(x)`    | 在尾部插入元素x               |\n| `pop_back()`      | 删除尾部元素                  |\n| `insert(pos, x)`  | 在迭代器pos前插入元素x        |\n| `erase(pos)`      | 删除迭代器pos指向的元素       |\n| `resize(n)`       | 调整容器大小为n               |\n| `shrink_to_fit()` | 请求移除未使用的容量（C++11） |\n\n##### 特殊说明\n\n```c++\n// 头尾操作示例\nstd::deque<int> dq;\ndq.push_front(2);    // 头部插入：dq = [2]\ndq.push_back(3);     // 尾部插入：dq = [2,3]\ndq.pop_front();      // 删除头部：dq = [3]\n\n// 随机访问示例\ndq[0] = 5;          // 修改第一个元素\n```\n\n##### 综合对比\n\n| 特性\\容器  | vector       | deque          |\n| ---------- | ------------ | -------------- |\n| 头插效率   | O(n)         | O(1)           |\n| 尾插效率   | 均摊O(1)     | O(1)           |\n| 中间插入   | O(n)         | O(n)           |\n| 内存布局   | 单块连续内存 | 多块连续内存   |\n| 迭代器失效 | 容易失效     | 部分操作不失效 |\n| 缓存友好性 | 高           | 较低           |\n\n\n\n### 关联式容器\n\n- **集合**(`set`) 用以有序地存储 **互异** 元素的容器，其实现是由节点组成的红黑树。\n- **多重集合**(`multiset`) 用以有序地存储元素的容器。允许存在相等的元素。\n\n​\t头文件set，主要包括set和multiset两个容器，分别是“有序集合”和“有序多重集合”，即前者的元素不能重复，而后者可以包含若干个相等的元素。set和multiset的内部实现是一棵红黑树，它们支持的函数基本相同。 \n\n#### ``set``\n\n`set` 是关联容器，含有键值类型对象的已排序集，搜索、移除和插入拥有对数复杂度。`set` 内部通常采用 [红黑树](https://oi-wiki.org/ds/rbtree/) 实现。[平衡二叉树](https://oi-wiki.org/ds/bst/) 的特性使得 `set` 非常适合处理需要同时兼顾查找、插入与删除的情况。\n\n##### set定义\n\n```c++\n#include<set>\nset<typename> name;    //set数组的定义和vector相同\nset<typename> Arrayname[arraySize];\n```\n\n##### set容器内元素的访问\n\n``set只能通过迭代器访问``\n\nset和multiset的迭代器称为“双向访问迭代器”，不支持“随机访问”，支持星号(*)解除引用，仅支持”++”和--“两个与算术相关的操作。\n\n若把it++，则it会指向“下一个”元素。这里的“下一个”元素是指在元素从小到大排序的结果中，排在it下一名的元素。同理，若把it--，则it将会指向排在“上一个”的元素。\n\n```c++\nset<typename>::iterator it;   //这样就得到了迭代器，可以通过*it来访问set\n```\n\n```c++\n#include <stdio.h>\n#include <set>\nusing namespace std;\nint main()\n{\n    set<int> st;\n    st.insert(1);\n    st.insert(5);\n    st.insert(3);\n    st.insert(3);\n    for(set<int>::iterator it = st.begin();it != st.end();it++)\n    {\n        printf(\"%d\",*it);\n    }\n    return 0;\n}\n//输出结果：1 3 5\n```\n\n##### set常用函数\n\n1. `insert(x)` 当容器中没有等价元素的时候，将元素 x 插入到 `set` 中。\n\n2. `find(x)` 在 `set` 内存在键为 x 的元素时会返回该元素的迭代器，否则返回 `end()`。\n\n3. `erase(x)` 删除值为 x 的 **所有** 元素，返回删除元素的个数。\n\n​      `erase(pos)` 删除迭代器为 pos 的元素，要求迭代器必须合法。\n\n​      `erase(first,last)` 删除迭代器在 [first,last) 范围内的所有元素。\n\n4. `clear()` 清空 `set`。\n\n5. `count(x)` 返回 `set` 内键为 x 的元素数量。\n\n6. `lower_bound(x)` 返回指向首个不小于给定键的元素的迭代器。如果不存在这样的元素，返回 `end()`。\n\n7. `upper_bound(x)` 返回指向首个大于给定键的元素的迭代器。如果不存在这样的元素，返回 `end()`。\n\n8. `empty()` 返回容器是否为空。\n\n9. `size()` 返回容器内元素个数。\n\n```c++\n// 现存可用的元素\nset<int> available;\n// 需要大于等于的值\nint x;\n\n// 查找最小的大于等于x的元素\nset<int>::iterator it = available.lower_bound(x);\nif (it == available.end()) {\n  // 不存在这样的元素，则进行相应操作……\n} else {\n  // 找到了这样的元素，将其从现存可用元素中移除\n  available.erase(it);\n  // 进行相应操作……\n}\n```\n\n\n\n- **映射**(`map`) 由 {键，值} 对组成的集合，以某种比较键大小关系的谓词进行排列。\n- **多重映射**(`multimap`) 由 {键，值} 对组成的多重集合，亦即允许键有相等情况的映射。\n\n#### ``map``\n\n`map` 是有序键值对容器，它的元素的键是唯一的。搜索、移除和插入操作拥有对数复杂度。`map` 通常实现为 [红黑树](https://oi-wiki.org/ds/rbtree/)。\n\n##### map定义\n\n```c++\nmap<key,value> mp;\n//字符串映射到整型，必须使用string而不能用char数组\nmap<string,int> mp;\n//将set容器映射到字符串\nmap<set<int>, string> mp;\n```\n\n##### map容器内元素的访问\n\n```c++\n//1.通过下标访问\nmap<char,int> mp;\n//直接使用mp['c']来访问对应的整数，map中的键是唯一的。\n#include <stdio.h>\n#include <map>\nusing namespace std;\nint main()\n{\n    map<char,int> mp;\n    mp['c']=20;\n    mp['c']=30;\n    printf(\"%d\\n\",mp['c']);  //输出30\n    return 0;\n}\n\n//2.通过迭代器访问\nmap<key,value>::iterator it;\n//map可以使用it->first来访问键，使用it->second来访问值。\n#include <stdio.h>\n#include <map>\nusing namespace std;\nint main()\n{\n    map<char,int> mp;\n    mp['m']=20;\n    mp['r']=30;\n    mp['a']=40;\n    for(map<char,int>::iterator it = mp.begin();it!=mp.end();it++)\n    {\n        printf(\"%c %d\\n\",it->first,it->second);\n    }        \n    return 0;\n}\n// 输出：map会以键从小到大的顺序自动排序\n// a 40\n// m 20\n// r 30\n```\n\n##### map常用函数\n\n1. 通过向 `map` 中插入一个类型为 `pair<Key, T>` 的值可以达到插入元素的目的，例如 `mp.insert(pair<string,int>(\"Alan\",100));`；\n\n2. `find(x)`: 若容器内存在键为 x 的元素，会返回该元素的迭代器；否则返回 `end()`。\n\n3. `erase(key)` 函数会删除键为 `key` 的 **所有** 元素。返回值为删除元素的数量。\n\n​       `erase(pos)`: 删除迭代器为 pos 的元素，要求迭代器必须合法。\n\n​       `erase(first,last)`: 删除迭代器在 [first,last) 范围内的所有元素。\n\n4. `clear()` 函数会清空整个容器。\n\n5. `count(x)`: 返回容器内键为 x 的元素数量。复杂度为 ![O(\\log(size)+ans)](data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)（关于容器大小对数复杂度，加上匹配个数)。\n\n6. `lower_bound(x)`: 返回指向首个不小于给定键的元素的迭代器。\n\n7. `upper_bound(x)`: 返回指向首个大于给定键的元素的迭代器。若容器内所有元素均小于或等于给定键，返回 `end()`。\n\n8. `empty()`: 返回容器是否为空。\n\n9. `size()`: 返回容器内元素个数。\n\n\n\n### 无序（关联式）容器\n\n- **无序（多重）集合**(`unordered_set`/`unordered_multiset`)**C++11**，与 `set`/`multiset` 的区别在于元素无序，只关心「元素是否存在」，使用哈希实现。\n\n- **无序（多重）映射**(`unordered_map`/`unordered_multimap`)**C++11**，与 `map`/`multimap` 的区别在于键 (key) 无序，只关心 \"键与值的对应关系\"，使用哈希实现。\n\n  \n\n### 容器适配器\n\n容器适配器其实并不是容器。它们不具有容器的某些特点（如：有迭代器、有 `clear()` 函数……）。\n\n> 「适配器是使一种事物的行为类似于另外一种事物行为的一种机制」，适配器对容器进行包装，使其表现出另外一种行为。\n\n- **栈**(`stack`) 后进先出 (LIFO) 的容器，默认是对双端队列（`deque`）的包装。\n- **队列**(`queue`) 先进先出 (FIFO) 的容器，默认是对双端队列（`deque`）的包装。\n- **优先队列**(`priority_queue`) 元素的次序是由作用于所存储的值对上的某种谓词决定的的一种队列，默认是对向量（`vector`）的包装。\n\n\n\n#### stack（栈）\n\nSTL [栈](https://oi-wiki.org/ds/stack/)(`std::stack`) 是一种后进先出 (Last In, First Out) 的容器适配器，仅支持查询或删除最后一个加入的元素（栈顶元素），不支持随机访问，且为了保证数据的严格有序性，不支持迭代器。用来模拟实现一些递归。\n\n##### stack定义\n\n```c++\n#include<stack>\nstd::stack<TypeName> name;  // 使用默认底层容器 deque，数据类型为 TypeName\nstd::stack<TypeName, Container> name;  // 使用 Container 作为底层容器\n\nstd::stack<TypeName> s2(s1);        // 将 s1 复制一份用于构造 s2\n```\n\n##### stack容器内元素的访问\n\n由于栈本身就是一种后进先出的数据结构，在STL的stack中只能通过top()来访问栈顶元素。\n\n##### stack常用函数\n\n1. `top()` 访问栈顶元素（如果栈为空，此处会出错）\n\n2. `push(x)` 向栈中插入元素 x\n\n3. `pop()` 删除栈顶元素\n\n4. `size()` 查询容器中的元素数量\n\n5. `empty()` 询问容器是否为空\n\n\n\n#### queue（队列）\n\nSTL [队列](https://oi-wiki.org/ds/queue/)(`std::queue`) 是一种先进先出 (First In, First Out) 的容器适配器，仅支持查询或删除第一个加入的元素（队首元素），不支持随机访问，且为了保证数据的严格有序性，不支持迭代器。\n\n##### queue定义\n\n```c++\n#include<queue>\nstd::queue<TypeName> name;  // 使用默认底层容器 deque，数据类型为 TypeName\nstd::queue<TypeName, Container> name;  // 使用 Container 作为底层容器\n\nstd::queue<TypeName> q2(q1);  // 将 s1 复制一份用于构造 q2\n```\n\n##### queue容器内元素的访问\n\n由于队列本身就是一种先进先出的数据结构，在STL的queue中只能通过front()来访问队首元素，通过back()访问队尾元素。\n\n##### queue常用函数\n\n1. `front()` 访问队首元素（如果队列为空，此处会出错）\n2. `back()` 访问队尾元素\n\n3. `push(x)` 向队列中插入元素 x\n\n4. `pop()` 删除队首元素\n\n5. `size()` 查询容器中的元素数量\n6. `empty()` 询问容器是否为空\n\n\n\n#### priority_queue（优先队列）\n\n优先队列 `std::priority_queue` 是一种 [堆](https://oi-wiki.org/ds/heap/)，一般为 [二叉堆](https://oi-wiki.org/ds/binary-heap/)。队首元素一定是当前队列中优先级最高的那一个。\n\n##### priority_queue定义\n\n```c++\n#include<queue>\npriority_queue<TypeName> name;             // 数据类型为 TypeName\npriority_queue<TypeName, Container> name;  // 使用 Container 作为底层容器\npriority_queue<TypeName, Container, Compare> name;\n// 使用 Container 作为底层容器，使用 Compare 作为比较类型\n```\n\n##### priority_queue容器内元素的访问\n\n和队列不一样的是，优先队列没有front()和back()，只能通过top()访问队首元素(堆顶元素)。\n\n##### priority_queue常用函数\n\n1. `top()` 访问堆顶元素（此时优先队列不能为空）\n2. `pop()` 删除堆顶元素（此时优先队列不能为空）\n\n3. `push(x)` 插入元素，并对底层容器排序\n\n4. `size()` 查询容器中的元素数量\n\n5. `empty()` 询问容器是否为空\n\n\n\n## STL算法\n\nSTL 提供了大约 100 个实现算法的模版函数，基本都包含在 `<algorithm>` 之中，还有一部分包含在 `<numeric>` 和 `<functional>`。\n\n### algorithm\n\n`<algorithm>` 头文件提供了大量通用算法，适用于多种容器。所有算法均通过迭代器操作，不对容器进行直接修改（除非明确说明）。\n\n#### 常用算法列表\n\n| 算法                               | 功能说明                                                     |\n| ---------------------------------- | ------------------------------------------------------------ |\n| `sort(beg, end, cmp)`              | 对区间[beg,end)排序，cmp为可选比较函数（默认升序）           |\n| `reverse(beg, end)`                | 反转指定区间的元素顺序                                       |\n| `max(a, b)` / `min(a, b)`          | 返回两个值的较大/较小值（C++11支持初始化列表：`max({1,2,3})`） |\n| `swap(a, b)`                       | 交换两个变量的值                                             |\n| `find(beg, end, val)`              | 在区间内查找值，返回首个匹配的迭代器，未找到返回end          |\n| `count(beg, end, val)`             | 统计区间内指定值出现的次数                                   |\n| `fill(beg, end, val)`              | 用指定值填充区间                                             |\n| `copy(src_beg, src_end, dest_beg)` | 复制源区间到目标位置                                         |\n| `unique(beg, end)`                 | 去除相邻重复元素，返回去重后的新结尾迭代器（通常先排序后使用） |\n| `lower_bound(beg, end, val)`       | 在有序区间中找第一个不小于val的元素位置                      |\n| `upper_bound(beg, end, val)`       | 在有序区间中找第一个大于val的元素位置                        |\n| `binary_search(beg, end, val)`     | 检查有序区间中是否存在指定值                                 |\n\n#### 典型使用示例\n\n```c++\n// 自定义排序\nstd::vector<int> vec = {3,1,4,2};\nstd::sort(vec.begin(), vec.end(), [](int a, int b){ return a > b; }); // 降序排列\n\n// 去重操作\nstd::sort(vec.begin(), vec.end());\nauto last = std::unique(vec.begin(), vec.end());\nvec.erase(last, vec.end());\n\n// 查找元素\nauto it = std::find(vec.begin(), vec.end(), 3);\nif (it != vec.end()) std::cout << \"Found: \" << *it;\n```\n\n## pair\n\n`std::pair` 是一个模板类，用于将两个值组合成一个单元。常用于需要返回两个值的场景，或作为`map`容器的元素类型。通过灵活使用 `pair`，可以轻松应对 **需要将关联数据捆绑存储、处理** 的场景。\n\n### pair定义\n\n```c++\n#include <utility>\n//可以在定义时直接完成 pair 的初始化。\npair<int, double> p0(1, 2.0);\n//也可以使用先定义，后赋值的方法完成 pair 的初始化。\npair<int, double> p1;   // 默认构造：int=0, double=0.0\np1.first = 1;\np1.second = 2.0;\n//还可以使用 std::make_pair 函数。该函数接受两个变量，并返回由这两个变量组成的 pair。\npair<int, double> p2 = make_pair(1, 2.0);\n//在 C++11 以及之后的版本中，make_pair 可以配合 auto 使用，以避免显式声明数据类型。\nauto p3 = make_pair(3.14, \"PI\");          // 自动推导类型（C++11）\n```\n\n### pair元素访问\n\n| 成员变量 | 说明           |\n| -------- | -------------- |\n| `first`  | 访问第一个元素 |\n| `second` | 访问第二个元素 |\n\n### 常用操作\n\n| 操作                      | 说明                                                |\n| ------------------------- | --------------------------------------------------- |\n| 比较运算符（==, !=, <等） | 按字典序比较：先比较first，相等时再比较second       |\n| `swap`                    | 使用 `swap` 函数交换 `pair` 的值。                  |\n| 赋值                      | 将 `pair` 的值赋给另一个类型一致的 `pair`。p0 = p1; |\n\n## string\n\n`std::string` 是 C++ 标准库提供的字符串类，用于存储和操作字符序列。它在内存中以连续块存储字符，支持高效的随机访问和动态调整大小。\n\n### string定义\n\n```c++\n#include <string>\n\nstd::string str1;                // 空字符串\nstd::string str2 = \"Hello\";      // 用C风格字符串初始化\nstd::string str3(5, 'A');        // 创建含5个'A'的字符串，输出\"AAAAA\"\nstd::string str4(str2, 1, 3);    // 从str2下标1开始取3个字符，输出\"ell\"\n```\n\n### string容器内元素的访问\n\n```c++\n//1. 通过下标访问\nstr[index]\n//2. 通过迭代器访问\nstring::iterator it;\n//可以通过*it访问string里的每一位\nfor(string::iterator it= str.begin();it!=str.end();it++){\n    printf(\"%c\",*it);\n}\n//string和vector一样，支持直接对迭代器进行加减某个字，str.begin()+3\n```\n\n### string常用函数\n\n| 函数                     |                           功能说明                           |\n| ------------------------ | :----------------------------------------------------------: |\n| `append(str)`            |                     在字符串末尾追加内容                     |\n| `push_back(c)`           |                         追加单个字符                         |\n| `pop_back()`             |                  删除最后一个字符（C++11）                   |\n| `insert(pos, str)`       |                     在指定位置插入字符串                     |\n| `erase(pos, len)`        |                    从pos开始删除len个字符                    |\n| `replace(pos, len, str)` |                替换从pos开始的len个字符为str                 |\n| `find(str, pos)`         | 从pos开始查找子串，返回首次出现的位置，未找到返回`string::npos` |\n| `compare(str)`           |   比较字符串（返回0表示相等，负数表示小于，正数表示大于）    |\n| `c_str()`                |                返回C风格字符串（const char*）                |\n| `clear()`                |                        清空字符串内容                        |\n| `resize(n, c)`           |            调整字符串长度为n，多出部分用字符c填充            |\n| `capacity()`             |                    返回当前分配的存储容量                    |\n| `reserve(n)`             |              预分配至少能存储n个字符的内存空间               |\n\n","source":"_posts/STL.md","raw":"---\ntitle: STL\ndate: 2025-02-11 00:11:46\ntags: [STL,vector,string,deque,set,map,stack,queue,algorithm,priority_queue]\ncategories: [学习,数据结构与算法,基础知识]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp\n---\n\n# 标准模板库（STL）\n\nSTL 即标准模板库（Standard Template Library），是 C++  标准库的一部分，里面包含了一些模板化的通用的数据结构和算法。由于其模板化的特点，它能够兼容自定义的数据类型，避免大量的造轮子工作。NOI 和  ICPC 赛事都支持 STL 库的使用，因此合理利用 STL 可以避免编写无用算法，并且充分利用编译器对模板库优化提高效率。\n\n## STL容器\n\n![](https://oi-wiki.org/lang/csl/images/container1.png)\n\n\n\n### 迭代器\n\n​\t在 STL 中，迭代器（Iterator）用来访问和检查 STL 容器中元素的对象，它的行为模式和指针类似，但是它封装了一些有效性检查，并且提供了统一的访问格式。\n\n​\t迭代器听起来比较晦涩，其实迭代器本身可以看作一个数据指针。迭代器主要支持两个运算符：自增 (`++`) 和解引用（单目 `*` 运算符），其中自增用来移动迭代器，解引用可以获取或修改它指向的元素。\n\n```c++\nvector<int> data(10);\n//下面两个 for 循环的效果是一样的\nfor (int i = 0; i < data.size(); i++)\n  cout << data[i] << endl;  // 使用下标访问元素\n\nfor (vector<int>::iterator iter = data.begin(); iter != data.end(); iter++)\n  cout << *iter << endl;  // 使用迭代器访问元素\n// 在C++11后可以使用 auto iter = data.begin() 来简化上述代码\n```\n\n​\t[STL 容器](https://oi-wiki.org/lang/csl/container/) 一般支持从一端或两端开始的访问，以及对 [const 修饰符](https://oi-wiki.org/lang/const/) 的支持。例如容器的 `begin()` 函数可以获得指向容器第一个元素的迭代器，`rbegin()` 函数可以获得指向容器最后一个元素的反向迭代器，`cbegin()` 函数可以获得指向容器第一个元素的 const 迭代器，`end()` 函数可以获得指向容器尾端（「尾端」并不是最后一个元素，可以看作是最后一个元素的后继；「尾端」的前驱是容器里的最后一个元素，其本身不指向任何一个元素）的迭代器。\n\n\n\n### 序列式容器\n\n- **向量**(`vector`) 后端可高效增加元素的顺序表。\n- **双端队列**(`deque`) 双端都可高效增加元素的顺序表。\n- **列表**(`list`) 可以沿双向遍历的链表。\n- **单向列表**(`forward_list`) 只能沿一个方向遍历的链表。\n\n#### `vector`\n\n`std::vector` 是 STL 提供的 **内存连续的**、**可变长度** 的数组（亦称列表）数据结构。能够提供线性复杂度的插入和删除，以及常数复杂度的随机访问。\n\n##### vector定义\n\n```c++\n#include<vector>                       //头文件\n\nvector<typename> name;                 //相当于长度可以变化的一维数组\n\nvector<vector<typename> > name;        //相当于长度可以变化的一维数组\n\nvector<typename> Arrayname[arraySize]; \n//一维长度固定为arraySize，Arrayname[0]~Arrayname[arraySize-1]中每一个都是一个vector容器\n\n//typename可以是任何基本类型，例如int,double,char,结构体等，也可以是STL标准容器，例如vector,set,queue等\n```\n\n```c++\n// 1. 创建空vector; 常数复杂度\nvector<int> v0;\n// 1+. 这句代码可以使得向vector中插入前3个元素时，保证常数时间复杂度\nv0.reserve(3);\n// 2. 创建一个初始空间为3的vector，其元素的默认值是0; 线性复杂度\nvector<int> v1(3);\n// 3. 创建一个初始空间为3的vector，其元素的默认值是2; 线性复杂度\nvector<int> v2(3, 2);\n// 4. 创建一个初始空间为3的vector，其元素的默认值是1，\n// 并且使用v2的空间配置器; 线性复杂度\nvector<int> v3(3, 1, v2.get_allocator());\n// 5. 创建一个v2的拷贝vector v4， 其内容元素和v2一样; 线性复杂度\nvector<int> v4(v2);\n// 6. 创建一个v4的拷贝vector v5，其内容是{v4[1], v4[2]}; 线性复杂度\nvector<int> v5(v4.begin() + 1, v4.begin() + 3);\n// 7. 移动v2到新创建的vector v6，不发生拷贝; 常数复杂度; 需要 C++11\nvector<int> v6(std::move(v2));  // 或者 v6 = std::move(v2);\n```\n\n#####  vector容器内元素的访问\n\n```c++\n//1.通过下标访问\nvector<int> m;\n//直接访问m[index],index从0到m.size()-1\n\n//2.通过迭代器访问\nvector<int>::iterator it;\n//迭代器就像STL容器的“指针”，可以用*it访问vector中的元素\n\n//m[i]和*(m.begin()+i)等价\n```\n\n```c++\n#include<stdio.h>\n#include<vector>\nusing namespace std;\nint main()\n{\n    vector<int> vi;\n    for(int i=1;i<=5;i++) vi.push_back(i);\n    //1\n    vector<int>::iterator it = vi.begin();\n    for(int i=0;i<5;i++)\n    {\n        printf(\"%d\",*(it+i)); //输出 1 2 3 4 5\n    }\n    //2\n    for(vector<int>::iterator it = vi.begin();it!=vi.end();it++)\n    {\n        printf(\"%d\",*it);    //输出 1 2 3 4 5\n    }\n    return 0;\n}\n```\n\n#####  vector常用函数\n\n1. `push_back()` 在末尾插入一个元素，均摊复杂度为 **常数**，最坏为线性复杂度。\n\n2. `pop_back()` 删除末尾元素，常数复杂度。\n\n3. ``front()``返回vector的第一个元素，等价于*a.begin() 和 a[0]。\n\n4. ``back()``返回vector的最后一个元素，等价于*==a.end() 和 a[a.size() – 1]。\n\n5. `size()` 返回容器长度（元素数量），即 `std::distance(v.begin(), v.end())`。\n\n6. `v.data()` 返回指向数组第一个元素的指针。\n\n7. `insert()` 支持在某个迭代器位置插入元素、可以插入多个。``insert(it,x)``在it处插入x。\n\n8. `clear()` 清除所有元素。\n\n9. `erase()` 删除某个迭代器或者区间的元素，返回最后被删除的迭代器。\n\nerase(it)删除迭代器为it处的元素，erase(first，last)即删除[first，last)内所有元素。\n\n\n\n#### `deque`\n\n`std::deque`（双端队列）支持在头部和尾部进行高效插入删除的序列容器，与vector相比：\n\n- 头尾插入/删除时间复杂度为O(1)\n- 支持随机访问（通过下标）\n- 存储空间分块管理，迭代器比vector复杂\n- 中间插入删除效率较低\n\n##### deque定义\n\n```c++\n#include <deque>\n\nstd::deque<int> dq1;              // 空双端队列\nstd::deque<char> dq2(5, 'A');     // 包含5个'A'\nstd::deque<int> dq3 = {1,2,3};    // 列表初始化（C++11）\n```\n\n##### deque容器内元素的访问\n\n| 方式        | 示例         | 说明                     |\n| ----------- | ------------ | ------------------------ |\n| 下标访问    | `dq[0]`      | 无越界检查               |\n| `at()` 方法 | `dq.at(0)`   | 有越界检查，越界抛出异常 |\n| 首元素      | `dq.front()` | 等价于 `dq[0]`           |\n| 末尾元素    | `dq.back()`  | 等价于 `dq[dq.size()-1]` |\n\n##### deque常用函数\n\n| 函数              | 功能说明                      |\n| ----------------- | ----------------------------- |\n| `push_front(x)`   | 在头部插入元素x               |\n| `pop_front()`     | 删除头部元素                  |\n| `push_back(x)`    | 在尾部插入元素x               |\n| `pop_back()`      | 删除尾部元素                  |\n| `insert(pos, x)`  | 在迭代器pos前插入元素x        |\n| `erase(pos)`      | 删除迭代器pos指向的元素       |\n| `resize(n)`       | 调整容器大小为n               |\n| `shrink_to_fit()` | 请求移除未使用的容量（C++11） |\n\n##### 特殊说明\n\n```c++\n// 头尾操作示例\nstd::deque<int> dq;\ndq.push_front(2);    // 头部插入：dq = [2]\ndq.push_back(3);     // 尾部插入：dq = [2,3]\ndq.pop_front();      // 删除头部：dq = [3]\n\n// 随机访问示例\ndq[0] = 5;          // 修改第一个元素\n```\n\n##### 综合对比\n\n| 特性\\容器  | vector       | deque          |\n| ---------- | ------------ | -------------- |\n| 头插效率   | O(n)         | O(1)           |\n| 尾插效率   | 均摊O(1)     | O(1)           |\n| 中间插入   | O(n)         | O(n)           |\n| 内存布局   | 单块连续内存 | 多块连续内存   |\n| 迭代器失效 | 容易失效     | 部分操作不失效 |\n| 缓存友好性 | 高           | 较低           |\n\n\n\n### 关联式容器\n\n- **集合**(`set`) 用以有序地存储 **互异** 元素的容器，其实现是由节点组成的红黑树。\n- **多重集合**(`multiset`) 用以有序地存储元素的容器。允许存在相等的元素。\n\n​\t头文件set，主要包括set和multiset两个容器，分别是“有序集合”和“有序多重集合”，即前者的元素不能重复，而后者可以包含若干个相等的元素。set和multiset的内部实现是一棵红黑树，它们支持的函数基本相同。 \n\n#### ``set``\n\n`set` 是关联容器，含有键值类型对象的已排序集，搜索、移除和插入拥有对数复杂度。`set` 内部通常采用 [红黑树](https://oi-wiki.org/ds/rbtree/) 实现。[平衡二叉树](https://oi-wiki.org/ds/bst/) 的特性使得 `set` 非常适合处理需要同时兼顾查找、插入与删除的情况。\n\n##### set定义\n\n```c++\n#include<set>\nset<typename> name;    //set数组的定义和vector相同\nset<typename> Arrayname[arraySize];\n```\n\n##### set容器内元素的访问\n\n``set只能通过迭代器访问``\n\nset和multiset的迭代器称为“双向访问迭代器”，不支持“随机访问”，支持星号(*)解除引用，仅支持”++”和--“两个与算术相关的操作。\n\n若把it++，则it会指向“下一个”元素。这里的“下一个”元素是指在元素从小到大排序的结果中，排在it下一名的元素。同理，若把it--，则it将会指向排在“上一个”的元素。\n\n```c++\nset<typename>::iterator it;   //这样就得到了迭代器，可以通过*it来访问set\n```\n\n```c++\n#include <stdio.h>\n#include <set>\nusing namespace std;\nint main()\n{\n    set<int> st;\n    st.insert(1);\n    st.insert(5);\n    st.insert(3);\n    st.insert(3);\n    for(set<int>::iterator it = st.begin();it != st.end();it++)\n    {\n        printf(\"%d\",*it);\n    }\n    return 0;\n}\n//输出结果：1 3 5\n```\n\n##### set常用函数\n\n1. `insert(x)` 当容器中没有等价元素的时候，将元素 x 插入到 `set` 中。\n\n2. `find(x)` 在 `set` 内存在键为 x 的元素时会返回该元素的迭代器，否则返回 `end()`。\n\n3. `erase(x)` 删除值为 x 的 **所有** 元素，返回删除元素的个数。\n\n​      `erase(pos)` 删除迭代器为 pos 的元素，要求迭代器必须合法。\n\n​      `erase(first,last)` 删除迭代器在 [first,last) 范围内的所有元素。\n\n4. `clear()` 清空 `set`。\n\n5. `count(x)` 返回 `set` 内键为 x 的元素数量。\n\n6. `lower_bound(x)` 返回指向首个不小于给定键的元素的迭代器。如果不存在这样的元素，返回 `end()`。\n\n7. `upper_bound(x)` 返回指向首个大于给定键的元素的迭代器。如果不存在这样的元素，返回 `end()`。\n\n8. `empty()` 返回容器是否为空。\n\n9. `size()` 返回容器内元素个数。\n\n```c++\n// 现存可用的元素\nset<int> available;\n// 需要大于等于的值\nint x;\n\n// 查找最小的大于等于x的元素\nset<int>::iterator it = available.lower_bound(x);\nif (it == available.end()) {\n  // 不存在这样的元素，则进行相应操作……\n} else {\n  // 找到了这样的元素，将其从现存可用元素中移除\n  available.erase(it);\n  // 进行相应操作……\n}\n```\n\n\n\n- **映射**(`map`) 由 {键，值} 对组成的集合，以某种比较键大小关系的谓词进行排列。\n- **多重映射**(`multimap`) 由 {键，值} 对组成的多重集合，亦即允许键有相等情况的映射。\n\n#### ``map``\n\n`map` 是有序键值对容器，它的元素的键是唯一的。搜索、移除和插入操作拥有对数复杂度。`map` 通常实现为 [红黑树](https://oi-wiki.org/ds/rbtree/)。\n\n##### map定义\n\n```c++\nmap<key,value> mp;\n//字符串映射到整型，必须使用string而不能用char数组\nmap<string,int> mp;\n//将set容器映射到字符串\nmap<set<int>, string> mp;\n```\n\n##### map容器内元素的访问\n\n```c++\n//1.通过下标访问\nmap<char,int> mp;\n//直接使用mp['c']来访问对应的整数，map中的键是唯一的。\n#include <stdio.h>\n#include <map>\nusing namespace std;\nint main()\n{\n    map<char,int> mp;\n    mp['c']=20;\n    mp['c']=30;\n    printf(\"%d\\n\",mp['c']);  //输出30\n    return 0;\n}\n\n//2.通过迭代器访问\nmap<key,value>::iterator it;\n//map可以使用it->first来访问键，使用it->second来访问值。\n#include <stdio.h>\n#include <map>\nusing namespace std;\nint main()\n{\n    map<char,int> mp;\n    mp['m']=20;\n    mp['r']=30;\n    mp['a']=40;\n    for(map<char,int>::iterator it = mp.begin();it!=mp.end();it++)\n    {\n        printf(\"%c %d\\n\",it->first,it->second);\n    }        \n    return 0;\n}\n// 输出：map会以键从小到大的顺序自动排序\n// a 40\n// m 20\n// r 30\n```\n\n##### map常用函数\n\n1. 通过向 `map` 中插入一个类型为 `pair<Key, T>` 的值可以达到插入元素的目的，例如 `mp.insert(pair<string,int>(\"Alan\",100));`；\n\n2. `find(x)`: 若容器内存在键为 x 的元素，会返回该元素的迭代器；否则返回 `end()`。\n\n3. `erase(key)` 函数会删除键为 `key` 的 **所有** 元素。返回值为删除元素的数量。\n\n​       `erase(pos)`: 删除迭代器为 pos 的元素，要求迭代器必须合法。\n\n​       `erase(first,last)`: 删除迭代器在 [first,last) 范围内的所有元素。\n\n4. `clear()` 函数会清空整个容器。\n\n5. `count(x)`: 返回容器内键为 x 的元素数量。复杂度为 ![O(\\log(size)+ans)](data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)（关于容器大小对数复杂度，加上匹配个数)。\n\n6. `lower_bound(x)`: 返回指向首个不小于给定键的元素的迭代器。\n\n7. `upper_bound(x)`: 返回指向首个大于给定键的元素的迭代器。若容器内所有元素均小于或等于给定键，返回 `end()`。\n\n8. `empty()`: 返回容器是否为空。\n\n9. `size()`: 返回容器内元素个数。\n\n\n\n### 无序（关联式）容器\n\n- **无序（多重）集合**(`unordered_set`/`unordered_multiset`)**C++11**，与 `set`/`multiset` 的区别在于元素无序，只关心「元素是否存在」，使用哈希实现。\n\n- **无序（多重）映射**(`unordered_map`/`unordered_multimap`)**C++11**，与 `map`/`multimap` 的区别在于键 (key) 无序，只关心 \"键与值的对应关系\"，使用哈希实现。\n\n  \n\n### 容器适配器\n\n容器适配器其实并不是容器。它们不具有容器的某些特点（如：有迭代器、有 `clear()` 函数……）。\n\n> 「适配器是使一种事物的行为类似于另外一种事物行为的一种机制」，适配器对容器进行包装，使其表现出另外一种行为。\n\n- **栈**(`stack`) 后进先出 (LIFO) 的容器，默认是对双端队列（`deque`）的包装。\n- **队列**(`queue`) 先进先出 (FIFO) 的容器，默认是对双端队列（`deque`）的包装。\n- **优先队列**(`priority_queue`) 元素的次序是由作用于所存储的值对上的某种谓词决定的的一种队列，默认是对向量（`vector`）的包装。\n\n\n\n#### stack（栈）\n\nSTL [栈](https://oi-wiki.org/ds/stack/)(`std::stack`) 是一种后进先出 (Last In, First Out) 的容器适配器，仅支持查询或删除最后一个加入的元素（栈顶元素），不支持随机访问，且为了保证数据的严格有序性，不支持迭代器。用来模拟实现一些递归。\n\n##### stack定义\n\n```c++\n#include<stack>\nstd::stack<TypeName> name;  // 使用默认底层容器 deque，数据类型为 TypeName\nstd::stack<TypeName, Container> name;  // 使用 Container 作为底层容器\n\nstd::stack<TypeName> s2(s1);        // 将 s1 复制一份用于构造 s2\n```\n\n##### stack容器内元素的访问\n\n由于栈本身就是一种后进先出的数据结构，在STL的stack中只能通过top()来访问栈顶元素。\n\n##### stack常用函数\n\n1. `top()` 访问栈顶元素（如果栈为空，此处会出错）\n\n2. `push(x)` 向栈中插入元素 x\n\n3. `pop()` 删除栈顶元素\n\n4. `size()` 查询容器中的元素数量\n\n5. `empty()` 询问容器是否为空\n\n\n\n#### queue（队列）\n\nSTL [队列](https://oi-wiki.org/ds/queue/)(`std::queue`) 是一种先进先出 (First In, First Out) 的容器适配器，仅支持查询或删除第一个加入的元素（队首元素），不支持随机访问，且为了保证数据的严格有序性，不支持迭代器。\n\n##### queue定义\n\n```c++\n#include<queue>\nstd::queue<TypeName> name;  // 使用默认底层容器 deque，数据类型为 TypeName\nstd::queue<TypeName, Container> name;  // 使用 Container 作为底层容器\n\nstd::queue<TypeName> q2(q1);  // 将 s1 复制一份用于构造 q2\n```\n\n##### queue容器内元素的访问\n\n由于队列本身就是一种先进先出的数据结构，在STL的queue中只能通过front()来访问队首元素，通过back()访问队尾元素。\n\n##### queue常用函数\n\n1. `front()` 访问队首元素（如果队列为空，此处会出错）\n2. `back()` 访问队尾元素\n\n3. `push(x)` 向队列中插入元素 x\n\n4. `pop()` 删除队首元素\n\n5. `size()` 查询容器中的元素数量\n6. `empty()` 询问容器是否为空\n\n\n\n#### priority_queue（优先队列）\n\n优先队列 `std::priority_queue` 是一种 [堆](https://oi-wiki.org/ds/heap/)，一般为 [二叉堆](https://oi-wiki.org/ds/binary-heap/)。队首元素一定是当前队列中优先级最高的那一个。\n\n##### priority_queue定义\n\n```c++\n#include<queue>\npriority_queue<TypeName> name;             // 数据类型为 TypeName\npriority_queue<TypeName, Container> name;  // 使用 Container 作为底层容器\npriority_queue<TypeName, Container, Compare> name;\n// 使用 Container 作为底层容器，使用 Compare 作为比较类型\n```\n\n##### priority_queue容器内元素的访问\n\n和队列不一样的是，优先队列没有front()和back()，只能通过top()访问队首元素(堆顶元素)。\n\n##### priority_queue常用函数\n\n1. `top()` 访问堆顶元素（此时优先队列不能为空）\n2. `pop()` 删除堆顶元素（此时优先队列不能为空）\n\n3. `push(x)` 插入元素，并对底层容器排序\n\n4. `size()` 查询容器中的元素数量\n\n5. `empty()` 询问容器是否为空\n\n\n\n## STL算法\n\nSTL 提供了大约 100 个实现算法的模版函数，基本都包含在 `<algorithm>` 之中，还有一部分包含在 `<numeric>` 和 `<functional>`。\n\n### algorithm\n\n`<algorithm>` 头文件提供了大量通用算法，适用于多种容器。所有算法均通过迭代器操作，不对容器进行直接修改（除非明确说明）。\n\n#### 常用算法列表\n\n| 算法                               | 功能说明                                                     |\n| ---------------------------------- | ------------------------------------------------------------ |\n| `sort(beg, end, cmp)`              | 对区间[beg,end)排序，cmp为可选比较函数（默认升序）           |\n| `reverse(beg, end)`                | 反转指定区间的元素顺序                                       |\n| `max(a, b)` / `min(a, b)`          | 返回两个值的较大/较小值（C++11支持初始化列表：`max({1,2,3})`） |\n| `swap(a, b)`                       | 交换两个变量的值                                             |\n| `find(beg, end, val)`              | 在区间内查找值，返回首个匹配的迭代器，未找到返回end          |\n| `count(beg, end, val)`             | 统计区间内指定值出现的次数                                   |\n| `fill(beg, end, val)`              | 用指定值填充区间                                             |\n| `copy(src_beg, src_end, dest_beg)` | 复制源区间到目标位置                                         |\n| `unique(beg, end)`                 | 去除相邻重复元素，返回去重后的新结尾迭代器（通常先排序后使用） |\n| `lower_bound(beg, end, val)`       | 在有序区间中找第一个不小于val的元素位置                      |\n| `upper_bound(beg, end, val)`       | 在有序区间中找第一个大于val的元素位置                        |\n| `binary_search(beg, end, val)`     | 检查有序区间中是否存在指定值                                 |\n\n#### 典型使用示例\n\n```c++\n// 自定义排序\nstd::vector<int> vec = {3,1,4,2};\nstd::sort(vec.begin(), vec.end(), [](int a, int b){ return a > b; }); // 降序排列\n\n// 去重操作\nstd::sort(vec.begin(), vec.end());\nauto last = std::unique(vec.begin(), vec.end());\nvec.erase(last, vec.end());\n\n// 查找元素\nauto it = std::find(vec.begin(), vec.end(), 3);\nif (it != vec.end()) std::cout << \"Found: \" << *it;\n```\n\n## pair\n\n`std::pair` 是一个模板类，用于将两个值组合成一个单元。常用于需要返回两个值的场景，或作为`map`容器的元素类型。通过灵活使用 `pair`，可以轻松应对 **需要将关联数据捆绑存储、处理** 的场景。\n\n### pair定义\n\n```c++\n#include <utility>\n//可以在定义时直接完成 pair 的初始化。\npair<int, double> p0(1, 2.0);\n//也可以使用先定义，后赋值的方法完成 pair 的初始化。\npair<int, double> p1;   // 默认构造：int=0, double=0.0\np1.first = 1;\np1.second = 2.0;\n//还可以使用 std::make_pair 函数。该函数接受两个变量，并返回由这两个变量组成的 pair。\npair<int, double> p2 = make_pair(1, 2.0);\n//在 C++11 以及之后的版本中，make_pair 可以配合 auto 使用，以避免显式声明数据类型。\nauto p3 = make_pair(3.14, \"PI\");          // 自动推导类型（C++11）\n```\n\n### pair元素访问\n\n| 成员变量 | 说明           |\n| -------- | -------------- |\n| `first`  | 访问第一个元素 |\n| `second` | 访问第二个元素 |\n\n### 常用操作\n\n| 操作                      | 说明                                                |\n| ------------------------- | --------------------------------------------------- |\n| 比较运算符（==, !=, <等） | 按字典序比较：先比较first，相等时再比较second       |\n| `swap`                    | 使用 `swap` 函数交换 `pair` 的值。                  |\n| 赋值                      | 将 `pair` 的值赋给另一个类型一致的 `pair`。p0 = p1; |\n\n## string\n\n`std::string` 是 C++ 标准库提供的字符串类，用于存储和操作字符序列。它在内存中以连续块存储字符，支持高效的随机访问和动态调整大小。\n\n### string定义\n\n```c++\n#include <string>\n\nstd::string str1;                // 空字符串\nstd::string str2 = \"Hello\";      // 用C风格字符串初始化\nstd::string str3(5, 'A');        // 创建含5个'A'的字符串，输出\"AAAAA\"\nstd::string str4(str2, 1, 3);    // 从str2下标1开始取3个字符，输出\"ell\"\n```\n\n### string容器内元素的访问\n\n```c++\n//1. 通过下标访问\nstr[index]\n//2. 通过迭代器访问\nstring::iterator it;\n//可以通过*it访问string里的每一位\nfor(string::iterator it= str.begin();it!=str.end();it++){\n    printf(\"%c\",*it);\n}\n//string和vector一样，支持直接对迭代器进行加减某个字，str.begin()+3\n```\n\n### string常用函数\n\n| 函数                     |                           功能说明                           |\n| ------------------------ | :----------------------------------------------------------: |\n| `append(str)`            |                     在字符串末尾追加内容                     |\n| `push_back(c)`           |                         追加单个字符                         |\n| `pop_back()`             |                  删除最后一个字符（C++11）                   |\n| `insert(pos, str)`       |                     在指定位置插入字符串                     |\n| `erase(pos, len)`        |                    从pos开始删除len个字符                    |\n| `replace(pos, len, str)` |                替换从pos开始的len个字符为str                 |\n| `find(str, pos)`         | 从pos开始查找子串，返回首次出现的位置，未找到返回`string::npos` |\n| `compare(str)`           |   比较字符串（返回0表示相等，负数表示小于，正数表示大于）    |\n| `c_str()`                |                返回C风格字符串（const char*）                |\n| `clear()`                |                        清空字符串内容                        |\n| `resize(n, c)`           |            调整字符串长度为n，多出部分用字符c填充            |\n| `capacity()`             |                    返回当前分配的存储容量                    |\n| `reserve(n)`             |              预分配至少能存储n个字符的内存空间               |\n\n","slug":"STL","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamir002o1swm5ep5d5t8","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h1>标准模板库（STL）</h1>\n<p>STL 即标准模板库（Standard Template Library），是 C++  标准库的一部分，里面包含了一些模板化的通用的数据结构和算法。由于其模板化的特点，它能够兼容自定义的数据类型，避免大量的造轮子工作。NOI 和  ICPC 赛事都支持 STL 库的使用，因此合理利用 STL 可以避免编写无用算法，并且充分利用编译器对模板库优化提高效率。</p>\n<h2 id=\"STL容器\">STL容器</h2>\n<p><img src=\"https://oi-wiki.org/lang/csl/images/container1.png\" alt=\"\"></p>\n<h3 id=\"迭代器\">迭代器</h3>\n<p>​\t在 STL 中，迭代器（Iterator）用来访问和检查 STL 容器中元素的对象，它的行为模式和指针类似，但是它封装了一些有效性检查，并且提供了统一的访问格式。</p>\n<p>​\t迭代器听起来比较晦涩，其实迭代器本身可以看作一个数据指针。迭代器主要支持两个运算符：自增 (<code>++</code>) 和解引用（单目 <code>*</code> 运算符），其中自增用来移动迭代器，解引用可以获取或修改它指向的元素。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">data</span><span class=\"params\">(<span class=\"number\">10</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">//下面两个 for 循环的效果是一样的</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; data.<span class=\"built_in\">size</span>(); i++)</span><br><span class=\"line\">  cout &lt;&lt; data[i] &lt;&lt; endl;  <span class=\"comment\">// 使用下标访问元素</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (vector&lt;<span class=\"type\">int</span>&gt;::iterator iter = data.<span class=\"built_in\">begin</span>(); iter != data.<span class=\"built_in\">end</span>(); iter++)</span><br><span class=\"line\">  cout &lt;&lt; *iter &lt;&lt; endl;  <span class=\"comment\">// 使用迭代器访问元素</span></span><br><span class=\"line\"><span class=\"comment\">// 在C++11后可以使用 auto iter = data.begin() 来简化上述代码</span></span><br></pre></td></tr></table></figure>\n<p>​\t<a href=\"https://oi-wiki.org/lang/csl/container/\">STL 容器</a> 一般支持从一端或两端开始的访问，以及对 <a href=\"https://oi-wiki.org/lang/const/\">const 修饰符</a> 的支持。例如容器的 <code>begin()</code> 函数可以获得指向容器第一个元素的迭代器，<code>rbegin()</code> 函数可以获得指向容器最后一个元素的反向迭代器，<code>cbegin()</code> 函数可以获得指向容器第一个元素的 const 迭代器，<code>end()</code> 函数可以获得指向容器尾端（「尾端」并不是最后一个元素，可以看作是最后一个元素的后继；「尾端」的前驱是容器里的最后一个元素，其本身不指向任何一个元素）的迭代器。</p>\n<h3 id=\"序列式容器\">序列式容器</h3>\n<ul>\n<li><strong>向量</strong>(<code>vector</code>) 后端可高效增加元素的顺序表。</li>\n<li><strong>双端队列</strong>(<code>deque</code>) 双端都可高效增加元素的顺序表。</li>\n<li><strong>列表</strong>(<code>list</code>) 可以沿双向遍历的链表。</li>\n<li><strong>单向列表</strong>(<code>forward_list</code>) 只能沿一个方向遍历的链表。</li>\n</ul>\n<h4 id=\"vector\"><code>vector</code></h4>\n<p><code>std::vector</code> 是 STL 提供的 <strong>内存连续的</strong>、<strong>可变长度</strong> 的数组（亦称列表）数据结构。能够提供线性复杂度的插入和删除，以及常数复杂度的随机访问。</p>\n<h5 id=\"vector定义\">vector定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;vector&gt;</span>                       <span class=\"comment\">//头文件</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;<span class=\"keyword\">typename</span>&gt; name;                 <span class=\"comment\">//相当于长度可以变化的一维数组</span></span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;vector&lt;<span class=\"keyword\">typename</span>&gt; &gt; name;        <span class=\"comment\">//相当于长度可以变化的一维数组</span></span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;<span class=\"keyword\">typename</span>&gt; Arrayname[arraySize]; </span><br><span class=\"line\"><span class=\"comment\">//一维长度固定为arraySize，Arrayname[0]~Arrayname[arraySize-1]中每一个都是一个vector容器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//typename可以是任何基本类型，例如int,double,char,结构体等，也可以是STL标准容器，例如vector,set,queue等</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1. 创建空vector; 常数复杂度</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; v0;</span><br><span class=\"line\"><span class=\"comment\">// 1+. 这句代码可以使得向vector中插入前3个元素时，保证常数时间复杂度</span></span><br><span class=\"line\">v<span class=\"number\">0.</span><span class=\"built_in\">reserve</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"comment\">// 2. 创建一个初始空间为3的vector，其元素的默认值是0; 线性复杂度</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v1</span><span class=\"params\">(<span class=\"number\">3</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// 3. 创建一个初始空间为3的vector，其元素的默认值是2; 线性复杂度</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v2</span><span class=\"params\">(<span class=\"number\">3</span>, <span class=\"number\">2</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// 4. 创建一个初始空间为3的vector，其元素的默认值是1，</span></span><br><span class=\"line\"><span class=\"comment\">// 并且使用v2的空间配置器; 线性复杂度</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v3</span><span class=\"params\">(<span class=\"number\">3</span>, <span class=\"number\">1</span>, v<span class=\"number\">2.</span>get_allocator())</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// 5. 创建一个v2的拷贝vector v4， 其内容元素和v2一样; 线性复杂度</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v4</span><span class=\"params\">(v2)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// 6. 创建一个v4的拷贝vector v5，其内容是&#123;v4[1], v4[2]&#125;; 线性复杂度</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v5</span><span class=\"params\">(v<span class=\"number\">4.</span>begin() + <span class=\"number\">1</span>, v<span class=\"number\">4.</span>begin() + <span class=\"number\">3</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// 7. 移动v2到新创建的vector v6，不发生拷贝; 常数复杂度; 需要 C++11</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v6</span><span class=\"params\">(std::move(v2))</span></span>;  <span class=\"comment\">// 或者 v6 = std::move(v2);</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"vector容器内元素的访问\">vector容器内元素的访问</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.通过下标访问</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; m;</span><br><span class=\"line\"><span class=\"comment\">//直接访问m[index],index从0到m.size()-1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.通过迭代器访问</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt;::iterator it;</span><br><span class=\"line\"><span class=\"comment\">//迭代器就像STL容器的“指针”，可以用*it访问vector中的元素</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//m[i]和*(m.begin()+i)等价</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; vi;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">5</span>;i++) vi.<span class=\"built_in\">push_back</span>(i);</span><br><span class=\"line\">    <span class=\"comment\">//1</span></span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt;::iterator it = vi.<span class=\"built_in\">begin</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">5</span>;i++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d&quot;</span>,*(it+i)); <span class=\"comment\">//输出 1 2 3 4 5</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//2</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(vector&lt;<span class=\"type\">int</span>&gt;::iterator it = vi.<span class=\"built_in\">begin</span>();it!=vi.<span class=\"built_in\">end</span>();it++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d&quot;</span>,*it);    <span class=\"comment\">//输出 1 2 3 4 5</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"vector常用函数\">vector常用函数</h5>\n<ol>\n<li>\n<p><code>push_back()</code> 在末尾插入一个元素，均摊复杂度为 <strong>常数</strong>，最坏为线性复杂度。</p>\n</li>\n<li>\n<p><code>pop_back()</code> 删除末尾元素，常数复杂度。</p>\n</li>\n<li>\n<p><code>front()</code>返回vector的第一个元素，等价于*a.begin() 和 a[0]。</p>\n</li>\n<li>\n<p><code>back()</code>返回vector的最后一个元素，等价于*==a.end() 和 a[a.size() – 1]。</p>\n</li>\n<li>\n<p><code>size()</code> 返回容器长度（元素数量），即 <code>std::distance(v.begin(), v.end())</code>。</p>\n</li>\n<li>\n<p><code>v.data()</code> 返回指向数组第一个元素的指针。</p>\n</li>\n<li>\n<p><code>insert()</code> 支持在某个迭代器位置插入元素、可以插入多个。<code>insert(it,x)</code>在it处插入x。</p>\n</li>\n<li>\n<p><code>clear()</code> 清除所有元素。</p>\n</li>\n<li>\n<p><code>erase()</code> 删除某个迭代器或者区间的元素，返回最后被删除的迭代器。</p>\n</li>\n</ol>\n<p>erase(it)删除迭代器为it处的元素，erase(first，last)即删除[first，last)内所有元素。</p>\n<h4 id=\"deque\"><code>deque</code></h4>\n<p><code>std::deque</code>（双端队列）支持在头部和尾部进行高效插入删除的序列容器，与vector相比：</p>\n<ul>\n<li>头尾插入/删除时间复杂度为O(1)</li>\n<li>支持随机访问（通过下标）</li>\n<li>存储空间分块管理，迭代器比vector复杂</li>\n<li>中间插入删除效率较低</li>\n</ul>\n<h5 id=\"deque定义\">deque定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;deque&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">std::deque&lt;<span class=\"type\">int</span>&gt; dq1;              <span class=\"comment\">// 空双端队列</span></span><br><span class=\"line\"><span class=\"function\">std::deque&lt;<span class=\"type\">char</span>&gt; <span class=\"title\">dq2</span><span class=\"params\">(<span class=\"number\">5</span>, <span class=\"string\">&#x27;A&#x27;</span>)</span></span>;     <span class=\"comment\">// 包含5个&#x27;A&#x27;</span></span><br><span class=\"line\">std::deque&lt;<span class=\"type\">int</span>&gt; dq3 = &#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>&#125;;    <span class=\"comment\">// 列表初始化（C++11）</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"deque容器内元素的访问\">deque容器内元素的访问</h5>\n<table>\n<thead>\n<tr>\n<th>方式</th>\n<th>示例</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>下标访问</td>\n<td><code>dq[0]</code></td>\n<td>无越界检查</td>\n</tr>\n<tr>\n<td><code>at()</code> 方法</td>\n<td><code>dq.at(0)</code></td>\n<td>有越界检查，越界抛出异常</td>\n</tr>\n<tr>\n<td>首元素</td>\n<td><code>dq.front()</code></td>\n<td>等价于 <code>dq[0]</code></td>\n</tr>\n<tr>\n<td>末尾元素</td>\n<td><code>dq.back()</code></td>\n<td>等价于 <code>dq[dq.size()-1]</code></td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"deque常用函数\">deque常用函数</h5>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>功能说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>push_front(x)</code></td>\n<td>在头部插入元素x</td>\n</tr>\n<tr>\n<td><code>pop_front()</code></td>\n<td>删除头部元素</td>\n</tr>\n<tr>\n<td><code>push_back(x)</code></td>\n<td>在尾部插入元素x</td>\n</tr>\n<tr>\n<td><code>pop_back()</code></td>\n<td>删除尾部元素</td>\n</tr>\n<tr>\n<td><code>insert(pos, x)</code></td>\n<td>在迭代器pos前插入元素x</td>\n</tr>\n<tr>\n<td><code>erase(pos)</code></td>\n<td>删除迭代器pos指向的元素</td>\n</tr>\n<tr>\n<td><code>resize(n)</code></td>\n<td>调整容器大小为n</td>\n</tr>\n<tr>\n<td><code>shrink_to_fit()</code></td>\n<td>请求移除未使用的容量（C++11）</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"特殊说明\">特殊说明</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 头尾操作示例</span></span><br><span class=\"line\">std::deque&lt;<span class=\"type\">int</span>&gt; dq;</span><br><span class=\"line\">dq.<span class=\"built_in\">push_front</span>(<span class=\"number\">2</span>);    <span class=\"comment\">// 头部插入：dq = [2]</span></span><br><span class=\"line\">dq.<span class=\"built_in\">push_back</span>(<span class=\"number\">3</span>);     <span class=\"comment\">// 尾部插入：dq = [2,3]</span></span><br><span class=\"line\">dq.<span class=\"built_in\">pop_front</span>();      <span class=\"comment\">// 删除头部：dq = [3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 随机访问示例</span></span><br><span class=\"line\">dq[<span class=\"number\">0</span>] = <span class=\"number\">5</span>;          <span class=\"comment\">// 修改第一个元素</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"综合对比\">综合对比</h5>\n<table>\n<thead>\n<tr>\n<th>特性\\容器</th>\n<th>vector</th>\n<th>deque</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>头插效率</td>\n<td>O(n)</td>\n<td>O(1)</td>\n</tr>\n<tr>\n<td>尾插效率</td>\n<td>均摊O(1)</td>\n<td>O(1)</td>\n</tr>\n<tr>\n<td>中间插入</td>\n<td>O(n)</td>\n<td>O(n)</td>\n</tr>\n<tr>\n<td>内存布局</td>\n<td>单块连续内存</td>\n<td>多块连续内存</td>\n</tr>\n<tr>\n<td>迭代器失效</td>\n<td>容易失效</td>\n<td>部分操作不失效</td>\n</tr>\n<tr>\n<td>缓存友好性</td>\n<td>高</td>\n<td>较低</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"关联式容器\">关联式容器</h3>\n<ul>\n<li><strong>集合</strong>(<code>set</code>) 用以有序地存储 <strong>互异</strong> 元素的容器，其实现是由节点组成的红黑树。</li>\n<li><strong>多重集合</strong>(<code>multiset</code>) 用以有序地存储元素的容器。允许存在相等的元素。</li>\n</ul>\n<p>​\t头文件set，主要包括set和multiset两个容器，分别是“有序集合”和“有序多重集合”，即前者的元素不能重复，而后者可以包含若干个相等的元素。set和multiset的内部实现是一棵红黑树，它们支持的函数基本相同。</p>\n<h4 id=\"set\"><code>set</code></h4>\n<p><code>set</code> 是关联容器，含有键值类型对象的已排序集，搜索、移除和插入拥有对数复杂度。<code>set</code> 内部通常采用 <a href=\"https://oi-wiki.org/ds/rbtree/\">红黑树</a> 实现。<a href=\"https://oi-wiki.org/ds/bst/\">平衡二叉树</a> 的特性使得 <code>set</code> 非常适合处理需要同时兼顾查找、插入与删除的情况。</p>\n<h5 id=\"set定义\">set定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;set&gt;</span></span></span><br><span class=\"line\">set&lt;<span class=\"keyword\">typename</span>&gt; name;    <span class=\"comment\">//set数组的定义和vector相同</span></span><br><span class=\"line\">set&lt;<span class=\"keyword\">typename</span>&gt; Arrayname[arraySize];</span><br></pre></td></tr></table></figure>\n<h5 id=\"set容器内元素的访问\">set容器内元素的访问</h5>\n<p><code>set只能通过迭代器访问</code></p>\n<p>set和multiset的迭代器称为“双向访问迭代器”，不支持“随机访问”，支持星号(*)解除引用，仅支持”++”和–“两个与算术相关的操作。</p>\n<p>若把it++，则it会指向“下一个”元素。这里的“下一个”元素是指在元素从小到大排序的结果中，排在it下一名的元素。同理，若把it–，则it将会指向排在“上一个”的元素。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set&lt;<span class=\"keyword\">typename</span>&gt;::iterator it;   <span class=\"comment\">//这样就得到了迭代器，可以通过*it来访问set</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;set&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    set&lt;<span class=\"type\">int</span>&gt; st;</span><br><span class=\"line\">    st.<span class=\"built_in\">insert</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">    st.<span class=\"built_in\">insert</span>(<span class=\"number\">5</span>);</span><br><span class=\"line\">    st.<span class=\"built_in\">insert</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\">    st.<span class=\"built_in\">insert</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(set&lt;<span class=\"type\">int</span>&gt;::iterator it = st.<span class=\"built_in\">begin</span>();it != st.<span class=\"built_in\">end</span>();it++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d&quot;</span>,*it);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//输出结果：1 3 5</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"set常用函数\">set常用函数</h5>\n<ol>\n<li>\n<p><code>insert(x)</code> 当容器中没有等价元素的时候，将元素 x 插入到 <code>set</code> 中。</p>\n</li>\n<li>\n<p><code>find(x)</code> 在 <code>set</code> 内存在键为 x 的元素时会返回该元素的迭代器，否则返回 <code>end()</code>。</p>\n</li>\n<li>\n<p><code>erase(x)</code> 删除值为 x 的 <strong>所有</strong> 元素，返回删除元素的个数。</p>\n</li>\n</ol>\n<p>​      <code>erase(pos)</code> 删除迭代器为 pos 的元素，要求迭代器必须合法。</p>\n<p>​      <code>erase(first,last)</code> 删除迭代器在 [first,last) 范围内的所有元素。</p>\n<ol start=\"4\">\n<li>\n<p><code>clear()</code> 清空 <code>set</code>。</p>\n</li>\n<li>\n<p><code>count(x)</code> 返回 <code>set</code> 内键为 x 的元素数量。</p>\n</li>\n<li>\n<p><code>lower_bound(x)</code> 返回指向首个不小于给定键的元素的迭代器。如果不存在这样的元素，返回 <code>end()</code>。</p>\n</li>\n<li>\n<p><code>upper_bound(x)</code> 返回指向首个大于给定键的元素的迭代器。如果不存在这样的元素，返回 <code>end()</code>。</p>\n</li>\n<li>\n<p><code>empty()</code> 返回容器是否为空。</p>\n</li>\n<li>\n<p><code>size()</code> 返回容器内元素个数。</p>\n</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 现存可用的元素</span></span><br><span class=\"line\">set&lt;<span class=\"type\">int</span>&gt; available;</span><br><span class=\"line\"><span class=\"comment\">// 需要大于等于的值</span></span><br><span class=\"line\"><span class=\"type\">int</span> x;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 查找最小的大于等于x的元素</span></span><br><span class=\"line\">set&lt;<span class=\"type\">int</span>&gt;::iterator it = available.<span class=\"built_in\">lower_bound</span>(x);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (it == available.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 不存在这样的元素，则进行相应操作……</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 找到了这样的元素，将其从现存可用元素中移除</span></span><br><span class=\"line\">  available.<span class=\"built_in\">erase</span>(it);</span><br><span class=\"line\">  <span class=\"comment\">// 进行相应操作……</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><strong>映射</strong>(<code>map</code>) 由 {键，值} 对组成的集合，以某种比较键大小关系的谓词进行排列。</li>\n<li><strong>多重映射</strong>(<code>multimap</code>) 由 {键，值} 对组成的多重集合，亦即允许键有相等情况的映射。</li>\n</ul>\n<h4 id=\"map\"><code>map</code></h4>\n<p><code>map</code> 是有序键值对容器，它的元素的键是唯一的。搜索、移除和插入操作拥有对数复杂度。<code>map</code> 通常实现为 <a href=\"https://oi-wiki.org/ds/rbtree/\">红黑树</a>。</p>\n<h5 id=\"map定义\">map定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map&lt;key,value&gt; mp;</span><br><span class=\"line\"><span class=\"comment\">//字符串映射到整型，必须使用string而不能用char数组</span></span><br><span class=\"line\">map&lt;string,<span class=\"type\">int</span>&gt; mp;</span><br><span class=\"line\"><span class=\"comment\">//将set容器映射到字符串</span></span><br><span class=\"line\">map&lt;set&lt;<span class=\"type\">int</span>&gt;, string&gt; mp;</span><br></pre></td></tr></table></figure>\n<h5 id=\"map容器内元素的访问\">map容器内元素的访问</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.通过下标访问</span></span><br><span class=\"line\">map&lt;<span class=\"type\">char</span>,<span class=\"type\">int</span>&gt; mp;</span><br><span class=\"line\"><span class=\"comment\">//直接使用mp[&#x27;c&#x27;]来访问对应的整数，map中的键是唯一的。</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;map&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    map&lt;<span class=\"type\">char</span>,<span class=\"type\">int</span>&gt; mp;</span><br><span class=\"line\">    mp[<span class=\"string\">&#x27;c&#x27;</span>]=<span class=\"number\">20</span>;</span><br><span class=\"line\">    mp[<span class=\"string\">&#x27;c&#x27;</span>]=<span class=\"number\">30</span>;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d\\n&quot;</span>,mp[<span class=\"string\">&#x27;c&#x27;</span>]);  <span class=\"comment\">//输出30</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.通过迭代器访问</span></span><br><span class=\"line\">map&lt;key,value&gt;::iterator it;</span><br><span class=\"line\"><span class=\"comment\">//map可以使用it-&gt;first来访问键，使用it-&gt;second来访问值。</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;map&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    map&lt;<span class=\"type\">char</span>,<span class=\"type\">int</span>&gt; mp;</span><br><span class=\"line\">    mp[<span class=\"string\">&#x27;m&#x27;</span>]=<span class=\"number\">20</span>;</span><br><span class=\"line\">    mp[<span class=\"string\">&#x27;r&#x27;</span>]=<span class=\"number\">30</span>;</span><br><span class=\"line\">    mp[<span class=\"string\">&#x27;a&#x27;</span>]=<span class=\"number\">40</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(map&lt;<span class=\"type\">char</span>,<span class=\"type\">int</span>&gt;::iterator it = mp.<span class=\"built_in\">begin</span>();it!=mp.<span class=\"built_in\">end</span>();it++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%c %d\\n&quot;</span>,it-&gt;first,it-&gt;second);</span><br><span class=\"line\">    &#125;        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 输出：map会以键从小到大的顺序自动排序</span></span><br><span class=\"line\"><span class=\"comment\">// a 40</span></span><br><span class=\"line\"><span class=\"comment\">// m 20</span></span><br><span class=\"line\"><span class=\"comment\">// r 30</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"map常用函数\">map常用函数</h5>\n<ol>\n<li>\n<p>通过向 <code>map</code> 中插入一个类型为 <code>pair&lt;Key, T&gt;</code> 的值可以达到插入元素的目的，例如 <code>mp.insert(pair&lt;string,int&gt;(&quot;Alan&quot;,100));</code>；</p>\n</li>\n<li>\n<p><code>find(x)</code>: 若容器内存在键为 x 的元素，会返回该元素的迭代器；否则返回 <code>end()</code>。</p>\n</li>\n<li>\n<p><code>erase(key)</code> 函数会删除键为 <code>key</code> 的 <strong>所有</strong> 元素。返回值为删除元素的数量。</p>\n</li>\n</ol>\n<p>​       <code>erase(pos)</code>: 删除迭代器为 pos 的元素，要求迭代器必须合法。</p>\n<p>​       <code>erase(first,last)</code>: 删除迭代器在 [first,last) 范围内的所有元素。</p>\n<ol start=\"4\">\n<li>\n<p><code>clear()</code> 函数会清空整个容器。</p>\n</li>\n<li>\n<p><code>count(x)</code>: 返回容器内键为 x 的元素数量。复杂度为 <img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" alt=\"O(og(size)+ans)\">（关于容器大小对数复杂度，加上匹配个数)。</p>\n</li>\n<li>\n<p><code>lower_bound(x)</code>: 返回指向首个不小于给定键的元素的迭代器。</p>\n</li>\n<li>\n<p><code>upper_bound(x)</code>: 返回指向首个大于给定键的元素的迭代器。若容器内所有元素均小于或等于给定键，返回 <code>end()</code>。</p>\n</li>\n<li>\n<p><code>empty()</code>: 返回容器是否为空。</p>\n</li>\n<li>\n<p><code>size()</code>: 返回容器内元素个数。</p>\n</li>\n</ol>\n<h3 id=\"无序（关联式）容器\">无序（关联式）容器</h3>\n<ul>\n<li>\n<p><strong>无序（多重）集合</strong>(<code>unordered_set</code>/<code>unordered_multiset</code>)<strong>C++11</strong>，与 <code>set</code>/<code>multiset</code> 的区别在于元素无序，只关心「元素是否存在」，使用哈希实现。</p>\n</li>\n<li>\n<p><strong>无序（多重）映射</strong>(<code>unordered_map</code>/<code>unordered_multimap</code>)<strong>C++11</strong>，与 <code>map</code>/<code>multimap</code> 的区别在于键 (key) 无序，只关心 “键与值的对应关系”，使用哈希实现。</p>\n</li>\n</ul>\n<h3 id=\"容器适配器\">容器适配器</h3>\n<p>容器适配器其实并不是容器。它们不具有容器的某些特点（如：有迭代器、有 <code>clear()</code> 函数……）。</p>\n<blockquote>\n<p>「适配器是使一种事物的行为类似于另外一种事物行为的一种机制」，适配器对容器进行包装，使其表现出另外一种行为。</p>\n</blockquote>\n<ul>\n<li><strong>栈</strong>(<code>stack</code>) 后进先出 (LIFO) 的容器，默认是对双端队列（<code>deque</code>）的包装。</li>\n<li><strong>队列</strong>(<code>queue</code>) 先进先出 (FIFO) 的容器，默认是对双端队列（<code>deque</code>）的包装。</li>\n<li><strong>优先队列</strong>(<code>priority_queue</code>) 元素的次序是由作用于所存储的值对上的某种谓词决定的的一种队列，默认是对向量（<code>vector</code>）的包装。</li>\n</ul>\n<h4 id=\"stack（栈）\">stack（栈）</h4>\n<p>STL <a href=\"https://oi-wiki.org/ds/stack/\">栈</a>(<code>std::stack</code>) 是一种后进先出 (Last In, First Out) 的容器适配器，仅支持查询或删除最后一个加入的元素（栈顶元素），不支持随机访问，且为了保证数据的严格有序性，不支持迭代器。用来模拟实现一些递归。</p>\n<h5 id=\"stack定义\">stack定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;stack&gt;</span></span></span><br><span class=\"line\">std::stack&lt;TypeName&gt; name;  <span class=\"comment\">// 使用默认底层容器 deque，数据类型为 TypeName</span></span><br><span class=\"line\">std::stack&lt;TypeName, Container&gt; name;  <span class=\"comment\">// 使用 Container 作为底层容器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">std::stack&lt;TypeName&gt; <span class=\"title\">s2</span><span class=\"params\">(s1)</span></span>;        <span class=\"comment\">// 将 s1 复制一份用于构造 s2</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"stack容器内元素的访问\">stack容器内元素的访问</h5>\n<p>由于栈本身就是一种后进先出的数据结构，在STL的stack中只能通过top()来访问栈顶元素。</p>\n<h5 id=\"stack常用函数\">stack常用函数</h5>\n<ol>\n<li>\n<p><code>top()</code> 访问栈顶元素（如果栈为空，此处会出错）</p>\n</li>\n<li>\n<p><code>push(x)</code> 向栈中插入元素 x</p>\n</li>\n<li>\n<p><code>pop()</code> 删除栈顶元素</p>\n</li>\n<li>\n<p><code>size()</code> 查询容器中的元素数量</p>\n</li>\n<li>\n<p><code>empty()</code> 询问容器是否为空</p>\n</li>\n</ol>\n<h4 id=\"queue（队列）\">queue（队列）</h4>\n<p>STL <a href=\"https://oi-wiki.org/ds/queue/\">队列</a>(<code>std::queue</code>) 是一种先进先出 (First In, First Out) 的容器适配器，仅支持查询或删除第一个加入的元素（队首元素），不支持随机访问，且为了保证数据的严格有序性，不支持迭代器。</p>\n<h5 id=\"queue定义\">queue定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;queue&gt;</span></span></span><br><span class=\"line\">std::queue&lt;TypeName&gt; name;  <span class=\"comment\">// 使用默认底层容器 deque，数据类型为 TypeName</span></span><br><span class=\"line\">std::queue&lt;TypeName, Container&gt; name;  <span class=\"comment\">// 使用 Container 作为底层容器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">std::queue&lt;TypeName&gt; <span class=\"title\">q2</span><span class=\"params\">(q1)</span></span>;  <span class=\"comment\">// 将 s1 复制一份用于构造 q2</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"queue容器内元素的访问\">queue容器内元素的访问</h5>\n<p>由于队列本身就是一种先进先出的数据结构，在STL的queue中只能通过front()来访问队首元素，通过back()访问队尾元素。</p>\n<h5 id=\"queue常用函数\">queue常用函数</h5>\n<ol>\n<li>\n<p><code>front()</code> 访问队首元素（如果队列为空，此处会出错）</p>\n</li>\n<li>\n<p><code>back()</code> 访问队尾元素</p>\n</li>\n<li>\n<p><code>push(x)</code> 向队列中插入元素 x</p>\n</li>\n<li>\n<p><code>pop()</code> 删除队首元素</p>\n</li>\n<li>\n<p><code>size()</code> 查询容器中的元素数量</p>\n</li>\n<li>\n<p><code>empty()</code> 询问容器是否为空</p>\n</li>\n</ol>\n<h4 id=\"priority-queue（优先队列）\">priority_queue（优先队列）</h4>\n<p>优先队列 <code>std::priority_queue</code> 是一种 <a href=\"https://oi-wiki.org/ds/heap/\">堆</a>，一般为 <a href=\"https://oi-wiki.org/ds/binary-heap/\">二叉堆</a>。队首元素一定是当前队列中优先级最高的那一个。</p>\n<h5 id=\"priority-queue定义\">priority_queue定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;queue&gt;</span></span></span><br><span class=\"line\">priority_queue&lt;TypeName&gt; name;             <span class=\"comment\">// 数据类型为 TypeName</span></span><br><span class=\"line\">priority_queue&lt;TypeName, Container&gt; name;  <span class=\"comment\">// 使用 Container 作为底层容器</span></span><br><span class=\"line\">priority_queue&lt;TypeName, Container, Compare&gt; name;</span><br><span class=\"line\"><span class=\"comment\">// 使用 Container 作为底层容器，使用 Compare 作为比较类型</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"priority-queue容器内元素的访问\">priority_queue容器内元素的访问</h5>\n<p>和队列不一样的是，优先队列没有front()和back()，只能通过top()访问队首元素(堆顶元素)。</p>\n<h5 id=\"priority-queue常用函数\">priority_queue常用函数</h5>\n<ol>\n<li>\n<p><code>top()</code> 访问堆顶元素（此时优先队列不能为空）</p>\n</li>\n<li>\n<p><code>pop()</code> 删除堆顶元素（此时优先队列不能为空）</p>\n</li>\n<li>\n<p><code>push(x)</code> 插入元素，并对底层容器排序</p>\n</li>\n<li>\n<p><code>size()</code> 查询容器中的元素数量</p>\n</li>\n<li>\n<p><code>empty()</code> 询问容器是否为空</p>\n</li>\n</ol>\n<h2 id=\"STL算法\">STL算法</h2>\n<p>STL 提供了大约 100 个实现算法的模版函数，基本都包含在 <code>&lt;algorithm&gt;</code> 之中，还有一部分包含在 <code>&lt;numeric&gt;</code> 和 <code>&lt;functional&gt;</code>。</p>\n<h3 id=\"algorithm\">algorithm</h3>\n<p><code>&lt;algorithm&gt;</code> 头文件提供了大量通用算法，适用于多种容器。所有算法均通过迭代器操作，不对容器进行直接修改（除非明确说明）。</p>\n<h4 id=\"常用算法列表\">常用算法列表</h4>\n<table>\n<thead>\n<tr>\n<th>算法</th>\n<th>功能说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>sort(beg, end, cmp)</code></td>\n<td>对区间[beg,end)排序，cmp为可选比较函数（默认升序）</td>\n</tr>\n<tr>\n<td><code>reverse(beg, end)</code></td>\n<td>反转指定区间的元素顺序</td>\n</tr>\n<tr>\n<td><code>max(a, b)</code> / <code>min(a, b)</code></td>\n<td>返回两个值的较大/较小值（C++11支持初始化列表：<code>max(&#123;1,2,3&#125;)</code>）</td>\n</tr>\n<tr>\n<td><code>swap(a, b)</code></td>\n<td>交换两个变量的值</td>\n</tr>\n<tr>\n<td><code>find(beg, end, val)</code></td>\n<td>在区间内查找值，返回首个匹配的迭代器，未找到返回end</td>\n</tr>\n<tr>\n<td><code>count(beg, end, val)</code></td>\n<td>统计区间内指定值出现的次数</td>\n</tr>\n<tr>\n<td><code>fill(beg, end, val)</code></td>\n<td>用指定值填充区间</td>\n</tr>\n<tr>\n<td><code>copy(src_beg, src_end, dest_beg)</code></td>\n<td>复制源区间到目标位置</td>\n</tr>\n<tr>\n<td><code>unique(beg, end)</code></td>\n<td>去除相邻重复元素，返回去重后的新结尾迭代器（通常先排序后使用）</td>\n</tr>\n<tr>\n<td><code>lower_bound(beg, end, val)</code></td>\n<td>在有序区间中找第一个不小于val的元素位置</td>\n</tr>\n<tr>\n<td><code>upper_bound(beg, end, val)</code></td>\n<td>在有序区间中找第一个大于val的元素位置</td>\n</tr>\n<tr>\n<td><code>binary_search(beg, end, val)</code></td>\n<td>检查有序区间中是否存在指定值</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"典型使用示例\">典型使用示例</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 自定义排序</span></span><br><span class=\"line\">std::vector&lt;<span class=\"type\">int</span>&gt; vec = &#123;<span class=\"number\">3</span>,<span class=\"number\">1</span>,<span class=\"number\">4</span>,<span class=\"number\">2</span>&#125;;</span><br><span class=\"line\">std::<span class=\"built_in\">sort</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>(), [](<span class=\"type\">int</span> a, <span class=\"type\">int</span> b)&#123; <span class=\"keyword\">return</span> a &gt; b; &#125;); <span class=\"comment\">// 降序排列</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 去重操作</span></span><br><span class=\"line\">std::<span class=\"built_in\">sort</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>());</span><br><span class=\"line\"><span class=\"keyword\">auto</span> last = std::<span class=\"built_in\">unique</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">vec.<span class=\"built_in\">erase</span>(last, vec.<span class=\"built_in\">end</span>());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 查找元素</span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> it = std::<span class=\"built_in\">find</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>(), <span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (it != vec.<span class=\"built_in\">end</span>()) std::cout &lt;&lt; <span class=\"string\">&quot;Found: &quot;</span> &lt;&lt; *it;</span><br></pre></td></tr></table></figure>\n<h2 id=\"pair\">pair</h2>\n<p><code>std::pair</code> 是一个模板类，用于将两个值组合成一个单元。常用于需要返回两个值的场景，或作为<code>map</code>容器的元素类型。通过灵活使用 <code>pair</code>，可以轻松应对 <strong>需要将关联数据捆绑存储、处理</strong> 的场景。</p>\n<h3 id=\"pair定义\">pair定义</h3>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;utility&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\">//可以在定义时直接完成 pair 的初始化。</span></span><br><span class=\"line\"><span class=\"function\">pair&lt;<span class=\"type\">int</span>, <span class=\"type\">double</span>&gt; <span class=\"title\">p0</span><span class=\"params\">(<span class=\"number\">1</span>, <span class=\"number\">2.0</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">//也可以使用先定义，后赋值的方法完成 pair 的初始化。</span></span><br><span class=\"line\">pair&lt;<span class=\"type\">int</span>, <span class=\"type\">double</span>&gt; p1;   <span class=\"comment\">// 默认构造：int=0, double=0.0</span></span><br><span class=\"line\">p<span class=\"number\">1.f</span>irst = <span class=\"number\">1</span>;</span><br><span class=\"line\">p<span class=\"number\">1.</span>second = <span class=\"number\">2.0</span>;</span><br><span class=\"line\"><span class=\"comment\">//还可以使用 std::make_pair 函数。该函数接受两个变量，并返回由这两个变量组成的 pair。</span></span><br><span class=\"line\">pair&lt;<span class=\"type\">int</span>, <span class=\"type\">double</span>&gt; p2 = <span class=\"built_in\">make_pair</span>(<span class=\"number\">1</span>, <span class=\"number\">2.0</span>);</span><br><span class=\"line\"><span class=\"comment\">//在 C++11 以及之后的版本中，make_pair 可以配合 auto 使用，以避免显式声明数据类型。</span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> p3 = <span class=\"built_in\">make_pair</span>(<span class=\"number\">3.14</span>, <span class=\"string\">&quot;PI&quot;</span>);          <span class=\"comment\">// 自动推导类型（C++11）</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"pair元素访问\">pair元素访问</h3>\n<table>\n<thead>\n<tr>\n<th>成员变量</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>first</code></td>\n<td>访问第一个元素</td>\n</tr>\n<tr>\n<td><code>second</code></td>\n<td>访问第二个元素</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"常用操作\">常用操作</h3>\n<table>\n<thead>\n<tr>\n<th>操作</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>比较运算符（==, !=, &lt;等）</td>\n<td>按字典序比较：先比较first，相等时再比较second</td>\n</tr>\n<tr>\n<td><code>swap</code></td>\n<td>使用 <code>swap</code> 函数交换 <code>pair</code> 的值。</td>\n</tr>\n<tr>\n<td>赋值</td>\n<td>将 <code>pair</code> 的值赋给另一个类型一致的 <code>pair</code>。p0 = p1;</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"string\">string</h2>\n<p><code>std::string</code> 是 C++ 标准库提供的字符串类，用于存储和操作字符序列。它在内存中以连续块存储字符，支持高效的随机访问和动态调整大小。</p>\n<h3 id=\"string定义\">string定义</h3>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;string&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">std::string str1;                <span class=\"comment\">// 空字符串</span></span><br><span class=\"line\">std::string str2 = <span class=\"string\">&quot;Hello&quot;</span>;      <span class=\"comment\">// 用C风格字符串初始化</span></span><br><span class=\"line\"><span class=\"function\">std::string <span class=\"title\">str3</span><span class=\"params\">(<span class=\"number\">5</span>, <span class=\"string\">&#x27;A&#x27;</span>)</span></span>;        <span class=\"comment\">// 创建含5个&#x27;A&#x27;的字符串，输出&quot;AAAAA&quot;</span></span><br><span class=\"line\"><span class=\"function\">std::string <span class=\"title\">str4</span><span class=\"params\">(str2, <span class=\"number\">1</span>, <span class=\"number\">3</span>)</span></span>;    <span class=\"comment\">// 从str2下标1开始取3个字符，输出&quot;ell&quot;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"string容器内元素的访问\">string容器内元素的访问</h3>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1. 通过下标访问</span></span><br><span class=\"line\">str[index]</span><br><span class=\"line\"><span class=\"comment\">//2. 通过迭代器访问</span></span><br><span class=\"line\">string::iterator it;</span><br><span class=\"line\"><span class=\"comment\">//可以通过*it访问string里的每一位</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(string::iterator it= str.<span class=\"built_in\">begin</span>();it!=str.<span class=\"built_in\">end</span>();it++)&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%c&quot;</span>,*it);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//string和vector一样，支持直接对迭代器进行加减某个字，str.begin()+3</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"string常用函数\">string常用函数</h3>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th style=\"text-align:center\">功能说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>append(str)</code></td>\n<td style=\"text-align:center\">在字符串末尾追加内容</td>\n</tr>\n<tr>\n<td><code>push_back(c)</code></td>\n<td style=\"text-align:center\">追加单个字符</td>\n</tr>\n<tr>\n<td><code>pop_back()</code></td>\n<td style=\"text-align:center\">删除最后一个字符（C++11）</td>\n</tr>\n<tr>\n<td><code>insert(pos, str)</code></td>\n<td style=\"text-align:center\">在指定位置插入字符串</td>\n</tr>\n<tr>\n<td><code>erase(pos, len)</code></td>\n<td style=\"text-align:center\">从pos开始删除len个字符</td>\n</tr>\n<tr>\n<td><code>replace(pos, len, str)</code></td>\n<td style=\"text-align:center\">替换从pos开始的len个字符为str</td>\n</tr>\n<tr>\n<td><code>find(str, pos)</code></td>\n<td style=\"text-align:center\">从pos开始查找子串，返回首次出现的位置，未找到返回<code>string::npos</code></td>\n</tr>\n<tr>\n<td><code>compare(str)</code></td>\n<td style=\"text-align:center\">比较字符串（返回0表示相等，负数表示小于，正数表示大于）</td>\n</tr>\n<tr>\n<td><code>c_str()</code></td>\n<td style=\"text-align:center\">返回C风格字符串（const char*）</td>\n</tr>\n<tr>\n<td><code>clear()</code></td>\n<td style=\"text-align:center\">清空字符串内容</td>\n</tr>\n<tr>\n<td><code>resize(n, c)</code></td>\n<td style=\"text-align:center\">调整字符串长度为n，多出部分用字符c填充</td>\n</tr>\n<tr>\n<td><code>capacity()</code></td>\n<td style=\"text-align:center\">返回当前分配的存储容量</td>\n</tr>\n<tr>\n<td><code>reserve(n)</code></td>\n<td style=\"text-align:center\">预分配至少能存储n个字符的内存空间</td>\n</tr>\n</tbody>\n</table>\n</div>","excerpt":"","more":"<h1>标准模板库（STL）</h1>\n<p>STL 即标准模板库（Standard Template Library），是 C++  标准库的一部分，里面包含了一些模板化的通用的数据结构和算法。由于其模板化的特点，它能够兼容自定义的数据类型，避免大量的造轮子工作。NOI 和  ICPC 赛事都支持 STL 库的使用，因此合理利用 STL 可以避免编写无用算法，并且充分利用编译器对模板库优化提高效率。</p>\n<h2 id=\"STL容器\">STL容器</h2>\n<p><img src=\"https://oi-wiki.org/lang/csl/images/container1.png\" alt=\"\"></p>\n<h3 id=\"迭代器\">迭代器</h3>\n<p>​\t在 STL 中，迭代器（Iterator）用来访问和检查 STL 容器中元素的对象，它的行为模式和指针类似，但是它封装了一些有效性检查，并且提供了统一的访问格式。</p>\n<p>​\t迭代器听起来比较晦涩，其实迭代器本身可以看作一个数据指针。迭代器主要支持两个运算符：自增 (<code>++</code>) 和解引用（单目 <code>*</code> 运算符），其中自增用来移动迭代器，解引用可以获取或修改它指向的元素。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">data</span><span class=\"params\">(<span class=\"number\">10</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">//下面两个 for 循环的效果是一样的</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; data.<span class=\"built_in\">size</span>(); i++)</span><br><span class=\"line\">  cout &lt;&lt; data[i] &lt;&lt; endl;  <span class=\"comment\">// 使用下标访问元素</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (vector&lt;<span class=\"type\">int</span>&gt;::iterator iter = data.<span class=\"built_in\">begin</span>(); iter != data.<span class=\"built_in\">end</span>(); iter++)</span><br><span class=\"line\">  cout &lt;&lt; *iter &lt;&lt; endl;  <span class=\"comment\">// 使用迭代器访问元素</span></span><br><span class=\"line\"><span class=\"comment\">// 在C++11后可以使用 auto iter = data.begin() 来简化上述代码</span></span><br></pre></td></tr></table></figure>\n<p>​\t<a href=\"https://oi-wiki.org/lang/csl/container/\">STL 容器</a> 一般支持从一端或两端开始的访问，以及对 <a href=\"https://oi-wiki.org/lang/const/\">const 修饰符</a> 的支持。例如容器的 <code>begin()</code> 函数可以获得指向容器第一个元素的迭代器，<code>rbegin()</code> 函数可以获得指向容器最后一个元素的反向迭代器，<code>cbegin()</code> 函数可以获得指向容器第一个元素的 const 迭代器，<code>end()</code> 函数可以获得指向容器尾端（「尾端」并不是最后一个元素，可以看作是最后一个元素的后继；「尾端」的前驱是容器里的最后一个元素，其本身不指向任何一个元素）的迭代器。</p>\n<h3 id=\"序列式容器\">序列式容器</h3>\n<ul>\n<li><strong>向量</strong>(<code>vector</code>) 后端可高效增加元素的顺序表。</li>\n<li><strong>双端队列</strong>(<code>deque</code>) 双端都可高效增加元素的顺序表。</li>\n<li><strong>列表</strong>(<code>list</code>) 可以沿双向遍历的链表。</li>\n<li><strong>单向列表</strong>(<code>forward_list</code>) 只能沿一个方向遍历的链表。</li>\n</ul>\n<h4 id=\"vector\"><code>vector</code></h4>\n<p><code>std::vector</code> 是 STL 提供的 <strong>内存连续的</strong>、<strong>可变长度</strong> 的数组（亦称列表）数据结构。能够提供线性复杂度的插入和删除，以及常数复杂度的随机访问。</p>\n<h5 id=\"vector定义\">vector定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;vector&gt;</span>                       <span class=\"comment\">//头文件</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;<span class=\"keyword\">typename</span>&gt; name;                 <span class=\"comment\">//相当于长度可以变化的一维数组</span></span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;vector&lt;<span class=\"keyword\">typename</span>&gt; &gt; name;        <span class=\"comment\">//相当于长度可以变化的一维数组</span></span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;<span class=\"keyword\">typename</span>&gt; Arrayname[arraySize]; </span><br><span class=\"line\"><span class=\"comment\">//一维长度固定为arraySize，Arrayname[0]~Arrayname[arraySize-1]中每一个都是一个vector容器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//typename可以是任何基本类型，例如int,double,char,结构体等，也可以是STL标准容器，例如vector,set,queue等</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1. 创建空vector; 常数复杂度</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; v0;</span><br><span class=\"line\"><span class=\"comment\">// 1+. 这句代码可以使得向vector中插入前3个元素时，保证常数时间复杂度</span></span><br><span class=\"line\">v<span class=\"number\">0.</span><span class=\"built_in\">reserve</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"comment\">// 2. 创建一个初始空间为3的vector，其元素的默认值是0; 线性复杂度</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v1</span><span class=\"params\">(<span class=\"number\">3</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// 3. 创建一个初始空间为3的vector，其元素的默认值是2; 线性复杂度</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v2</span><span class=\"params\">(<span class=\"number\">3</span>, <span class=\"number\">2</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// 4. 创建一个初始空间为3的vector，其元素的默认值是1，</span></span><br><span class=\"line\"><span class=\"comment\">// 并且使用v2的空间配置器; 线性复杂度</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v3</span><span class=\"params\">(<span class=\"number\">3</span>, <span class=\"number\">1</span>, v<span class=\"number\">2.</span>get_allocator())</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// 5. 创建一个v2的拷贝vector v4， 其内容元素和v2一样; 线性复杂度</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v4</span><span class=\"params\">(v2)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// 6. 创建一个v4的拷贝vector v5，其内容是&#123;v4[1], v4[2]&#125;; 线性复杂度</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v5</span><span class=\"params\">(v<span class=\"number\">4.</span>begin() + <span class=\"number\">1</span>, v<span class=\"number\">4.</span>begin() + <span class=\"number\">3</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// 7. 移动v2到新创建的vector v6，不发生拷贝; 常数复杂度; 需要 C++11</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">v6</span><span class=\"params\">(std::move(v2))</span></span>;  <span class=\"comment\">// 或者 v6 = std::move(v2);</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"vector容器内元素的访问\">vector容器内元素的访问</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.通过下标访问</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; m;</span><br><span class=\"line\"><span class=\"comment\">//直接访问m[index],index从0到m.size()-1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.通过迭代器访问</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt;::iterator it;</span><br><span class=\"line\"><span class=\"comment\">//迭代器就像STL容器的“指针”，可以用*it访问vector中的元素</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//m[i]和*(m.begin()+i)等价</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; vi;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">5</span>;i++) vi.<span class=\"built_in\">push_back</span>(i);</span><br><span class=\"line\">    <span class=\"comment\">//1</span></span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt;::iterator it = vi.<span class=\"built_in\">begin</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">5</span>;i++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d&quot;</span>,*(it+i)); <span class=\"comment\">//输出 1 2 3 4 5</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//2</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(vector&lt;<span class=\"type\">int</span>&gt;::iterator it = vi.<span class=\"built_in\">begin</span>();it!=vi.<span class=\"built_in\">end</span>();it++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d&quot;</span>,*it);    <span class=\"comment\">//输出 1 2 3 4 5</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"vector常用函数\">vector常用函数</h5>\n<ol>\n<li>\n<p><code>push_back()</code> 在末尾插入一个元素，均摊复杂度为 <strong>常数</strong>，最坏为线性复杂度。</p>\n</li>\n<li>\n<p><code>pop_back()</code> 删除末尾元素，常数复杂度。</p>\n</li>\n<li>\n<p><code>front()</code>返回vector的第一个元素，等价于*a.begin() 和 a[0]。</p>\n</li>\n<li>\n<p><code>back()</code>返回vector的最后一个元素，等价于*==a.end() 和 a[a.size() – 1]。</p>\n</li>\n<li>\n<p><code>size()</code> 返回容器长度（元素数量），即 <code>std::distance(v.begin(), v.end())</code>。</p>\n</li>\n<li>\n<p><code>v.data()</code> 返回指向数组第一个元素的指针。</p>\n</li>\n<li>\n<p><code>insert()</code> 支持在某个迭代器位置插入元素、可以插入多个。<code>insert(it,x)</code>在it处插入x。</p>\n</li>\n<li>\n<p><code>clear()</code> 清除所有元素。</p>\n</li>\n<li>\n<p><code>erase()</code> 删除某个迭代器或者区间的元素，返回最后被删除的迭代器。</p>\n</li>\n</ol>\n<p>erase(it)删除迭代器为it处的元素，erase(first，last)即删除[first，last)内所有元素。</p>\n<h4 id=\"deque\"><code>deque</code></h4>\n<p><code>std::deque</code>（双端队列）支持在头部和尾部进行高效插入删除的序列容器，与vector相比：</p>\n<ul>\n<li>头尾插入/删除时间复杂度为O(1)</li>\n<li>支持随机访问（通过下标）</li>\n<li>存储空间分块管理，迭代器比vector复杂</li>\n<li>中间插入删除效率较低</li>\n</ul>\n<h5 id=\"deque定义\">deque定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;deque&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">std::deque&lt;<span class=\"type\">int</span>&gt; dq1;              <span class=\"comment\">// 空双端队列</span></span><br><span class=\"line\"><span class=\"function\">std::deque&lt;<span class=\"type\">char</span>&gt; <span class=\"title\">dq2</span><span class=\"params\">(<span class=\"number\">5</span>, <span class=\"string\">&#x27;A&#x27;</span>)</span></span>;     <span class=\"comment\">// 包含5个&#x27;A&#x27;</span></span><br><span class=\"line\">std::deque&lt;<span class=\"type\">int</span>&gt; dq3 = &#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>&#125;;    <span class=\"comment\">// 列表初始化（C++11）</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"deque容器内元素的访问\">deque容器内元素的访问</h5>\n<table>\n<thead>\n<tr>\n<th>方式</th>\n<th>示例</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>下标访问</td>\n<td><code>dq[0]</code></td>\n<td>无越界检查</td>\n</tr>\n<tr>\n<td><code>at()</code> 方法</td>\n<td><code>dq.at(0)</code></td>\n<td>有越界检查，越界抛出异常</td>\n</tr>\n<tr>\n<td>首元素</td>\n<td><code>dq.front()</code></td>\n<td>等价于 <code>dq[0]</code></td>\n</tr>\n<tr>\n<td>末尾元素</td>\n<td><code>dq.back()</code></td>\n<td>等价于 <code>dq[dq.size()-1]</code></td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"deque常用函数\">deque常用函数</h5>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>功能说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>push_front(x)</code></td>\n<td>在头部插入元素x</td>\n</tr>\n<tr>\n<td><code>pop_front()</code></td>\n<td>删除头部元素</td>\n</tr>\n<tr>\n<td><code>push_back(x)</code></td>\n<td>在尾部插入元素x</td>\n</tr>\n<tr>\n<td><code>pop_back()</code></td>\n<td>删除尾部元素</td>\n</tr>\n<tr>\n<td><code>insert(pos, x)</code></td>\n<td>在迭代器pos前插入元素x</td>\n</tr>\n<tr>\n<td><code>erase(pos)</code></td>\n<td>删除迭代器pos指向的元素</td>\n</tr>\n<tr>\n<td><code>resize(n)</code></td>\n<td>调整容器大小为n</td>\n</tr>\n<tr>\n<td><code>shrink_to_fit()</code></td>\n<td>请求移除未使用的容量（C++11）</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"特殊说明\">特殊说明</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 头尾操作示例</span></span><br><span class=\"line\">std::deque&lt;<span class=\"type\">int</span>&gt; dq;</span><br><span class=\"line\">dq.<span class=\"built_in\">push_front</span>(<span class=\"number\">2</span>);    <span class=\"comment\">// 头部插入：dq = [2]</span></span><br><span class=\"line\">dq.<span class=\"built_in\">push_back</span>(<span class=\"number\">3</span>);     <span class=\"comment\">// 尾部插入：dq = [2,3]</span></span><br><span class=\"line\">dq.<span class=\"built_in\">pop_front</span>();      <span class=\"comment\">// 删除头部：dq = [3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 随机访问示例</span></span><br><span class=\"line\">dq[<span class=\"number\">0</span>] = <span class=\"number\">5</span>;          <span class=\"comment\">// 修改第一个元素</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"综合对比\">综合对比</h5>\n<table>\n<thead>\n<tr>\n<th>特性\\容器</th>\n<th>vector</th>\n<th>deque</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>头插效率</td>\n<td>O(n)</td>\n<td>O(1)</td>\n</tr>\n<tr>\n<td>尾插效率</td>\n<td>均摊O(1)</td>\n<td>O(1)</td>\n</tr>\n<tr>\n<td>中间插入</td>\n<td>O(n)</td>\n<td>O(n)</td>\n</tr>\n<tr>\n<td>内存布局</td>\n<td>单块连续内存</td>\n<td>多块连续内存</td>\n</tr>\n<tr>\n<td>迭代器失效</td>\n<td>容易失效</td>\n<td>部分操作不失效</td>\n</tr>\n<tr>\n<td>缓存友好性</td>\n<td>高</td>\n<td>较低</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"关联式容器\">关联式容器</h3>\n<ul>\n<li><strong>集合</strong>(<code>set</code>) 用以有序地存储 <strong>互异</strong> 元素的容器，其实现是由节点组成的红黑树。</li>\n<li><strong>多重集合</strong>(<code>multiset</code>) 用以有序地存储元素的容器。允许存在相等的元素。</li>\n</ul>\n<p>​\t头文件set，主要包括set和multiset两个容器，分别是“有序集合”和“有序多重集合”，即前者的元素不能重复，而后者可以包含若干个相等的元素。set和multiset的内部实现是一棵红黑树，它们支持的函数基本相同。</p>\n<h4 id=\"set\"><code>set</code></h4>\n<p><code>set</code> 是关联容器，含有键值类型对象的已排序集，搜索、移除和插入拥有对数复杂度。<code>set</code> 内部通常采用 <a href=\"https://oi-wiki.org/ds/rbtree/\">红黑树</a> 实现。<a href=\"https://oi-wiki.org/ds/bst/\">平衡二叉树</a> 的特性使得 <code>set</code> 非常适合处理需要同时兼顾查找、插入与删除的情况。</p>\n<h5 id=\"set定义\">set定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;set&gt;</span></span></span><br><span class=\"line\">set&lt;<span class=\"keyword\">typename</span>&gt; name;    <span class=\"comment\">//set数组的定义和vector相同</span></span><br><span class=\"line\">set&lt;<span class=\"keyword\">typename</span>&gt; Arrayname[arraySize];</span><br></pre></td></tr></table></figure>\n<h5 id=\"set容器内元素的访问\">set容器内元素的访问</h5>\n<p><code>set只能通过迭代器访问</code></p>\n<p>set和multiset的迭代器称为“双向访问迭代器”，不支持“随机访问”，支持星号(*)解除引用，仅支持”++”和–“两个与算术相关的操作。</p>\n<p>若把it++，则it会指向“下一个”元素。这里的“下一个”元素是指在元素从小到大排序的结果中，排在it下一名的元素。同理，若把it–，则it将会指向排在“上一个”的元素。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set&lt;<span class=\"keyword\">typename</span>&gt;::iterator it;   <span class=\"comment\">//这样就得到了迭代器，可以通过*it来访问set</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;set&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    set&lt;<span class=\"type\">int</span>&gt; st;</span><br><span class=\"line\">    st.<span class=\"built_in\">insert</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">    st.<span class=\"built_in\">insert</span>(<span class=\"number\">5</span>);</span><br><span class=\"line\">    st.<span class=\"built_in\">insert</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\">    st.<span class=\"built_in\">insert</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(set&lt;<span class=\"type\">int</span>&gt;::iterator it = st.<span class=\"built_in\">begin</span>();it != st.<span class=\"built_in\">end</span>();it++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d&quot;</span>,*it);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//输出结果：1 3 5</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"set常用函数\">set常用函数</h5>\n<ol>\n<li>\n<p><code>insert(x)</code> 当容器中没有等价元素的时候，将元素 x 插入到 <code>set</code> 中。</p>\n</li>\n<li>\n<p><code>find(x)</code> 在 <code>set</code> 内存在键为 x 的元素时会返回该元素的迭代器，否则返回 <code>end()</code>。</p>\n</li>\n<li>\n<p><code>erase(x)</code> 删除值为 x 的 <strong>所有</strong> 元素，返回删除元素的个数。</p>\n</li>\n</ol>\n<p>​      <code>erase(pos)</code> 删除迭代器为 pos 的元素，要求迭代器必须合法。</p>\n<p>​      <code>erase(first,last)</code> 删除迭代器在 [first,last) 范围内的所有元素。</p>\n<ol start=\"4\">\n<li>\n<p><code>clear()</code> 清空 <code>set</code>。</p>\n</li>\n<li>\n<p><code>count(x)</code> 返回 <code>set</code> 内键为 x 的元素数量。</p>\n</li>\n<li>\n<p><code>lower_bound(x)</code> 返回指向首个不小于给定键的元素的迭代器。如果不存在这样的元素，返回 <code>end()</code>。</p>\n</li>\n<li>\n<p><code>upper_bound(x)</code> 返回指向首个大于给定键的元素的迭代器。如果不存在这样的元素，返回 <code>end()</code>。</p>\n</li>\n<li>\n<p><code>empty()</code> 返回容器是否为空。</p>\n</li>\n<li>\n<p><code>size()</code> 返回容器内元素个数。</p>\n</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 现存可用的元素</span></span><br><span class=\"line\">set&lt;<span class=\"type\">int</span>&gt; available;</span><br><span class=\"line\"><span class=\"comment\">// 需要大于等于的值</span></span><br><span class=\"line\"><span class=\"type\">int</span> x;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 查找最小的大于等于x的元素</span></span><br><span class=\"line\">set&lt;<span class=\"type\">int</span>&gt;::iterator it = available.<span class=\"built_in\">lower_bound</span>(x);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (it == available.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 不存在这样的元素，则进行相应操作……</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 找到了这样的元素，将其从现存可用元素中移除</span></span><br><span class=\"line\">  available.<span class=\"built_in\">erase</span>(it);</span><br><span class=\"line\">  <span class=\"comment\">// 进行相应操作……</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><strong>映射</strong>(<code>map</code>) 由 {键，值} 对组成的集合，以某种比较键大小关系的谓词进行排列。</li>\n<li><strong>多重映射</strong>(<code>multimap</code>) 由 {键，值} 对组成的多重集合，亦即允许键有相等情况的映射。</li>\n</ul>\n<h4 id=\"map\"><code>map</code></h4>\n<p><code>map</code> 是有序键值对容器，它的元素的键是唯一的。搜索、移除和插入操作拥有对数复杂度。<code>map</code> 通常实现为 <a href=\"https://oi-wiki.org/ds/rbtree/\">红黑树</a>。</p>\n<h5 id=\"map定义\">map定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map&lt;key,value&gt; mp;</span><br><span class=\"line\"><span class=\"comment\">//字符串映射到整型，必须使用string而不能用char数组</span></span><br><span class=\"line\">map&lt;string,<span class=\"type\">int</span>&gt; mp;</span><br><span class=\"line\"><span class=\"comment\">//将set容器映射到字符串</span></span><br><span class=\"line\">map&lt;set&lt;<span class=\"type\">int</span>&gt;, string&gt; mp;</span><br></pre></td></tr></table></figure>\n<h5 id=\"map容器内元素的访问\">map容器内元素的访问</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.通过下标访问</span></span><br><span class=\"line\">map&lt;<span class=\"type\">char</span>,<span class=\"type\">int</span>&gt; mp;</span><br><span class=\"line\"><span class=\"comment\">//直接使用mp[&#x27;c&#x27;]来访问对应的整数，map中的键是唯一的。</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;map&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    map&lt;<span class=\"type\">char</span>,<span class=\"type\">int</span>&gt; mp;</span><br><span class=\"line\">    mp[<span class=\"string\">&#x27;c&#x27;</span>]=<span class=\"number\">20</span>;</span><br><span class=\"line\">    mp[<span class=\"string\">&#x27;c&#x27;</span>]=<span class=\"number\">30</span>;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d\\n&quot;</span>,mp[<span class=\"string\">&#x27;c&#x27;</span>]);  <span class=\"comment\">//输出30</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.通过迭代器访问</span></span><br><span class=\"line\">map&lt;key,value&gt;::iterator it;</span><br><span class=\"line\"><span class=\"comment\">//map可以使用it-&gt;first来访问键，使用it-&gt;second来访问值。</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;map&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    map&lt;<span class=\"type\">char</span>,<span class=\"type\">int</span>&gt; mp;</span><br><span class=\"line\">    mp[<span class=\"string\">&#x27;m&#x27;</span>]=<span class=\"number\">20</span>;</span><br><span class=\"line\">    mp[<span class=\"string\">&#x27;r&#x27;</span>]=<span class=\"number\">30</span>;</span><br><span class=\"line\">    mp[<span class=\"string\">&#x27;a&#x27;</span>]=<span class=\"number\">40</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(map&lt;<span class=\"type\">char</span>,<span class=\"type\">int</span>&gt;::iterator it = mp.<span class=\"built_in\">begin</span>();it!=mp.<span class=\"built_in\">end</span>();it++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%c %d\\n&quot;</span>,it-&gt;first,it-&gt;second);</span><br><span class=\"line\">    &#125;        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 输出：map会以键从小到大的顺序自动排序</span></span><br><span class=\"line\"><span class=\"comment\">// a 40</span></span><br><span class=\"line\"><span class=\"comment\">// m 20</span></span><br><span class=\"line\"><span class=\"comment\">// r 30</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"map常用函数\">map常用函数</h5>\n<ol>\n<li>\n<p>通过向 <code>map</code> 中插入一个类型为 <code>pair&lt;Key, T&gt;</code> 的值可以达到插入元素的目的，例如 <code>mp.insert(pair&lt;string,int&gt;(&quot;Alan&quot;,100));</code>；</p>\n</li>\n<li>\n<p><code>find(x)</code>: 若容器内存在键为 x 的元素，会返回该元素的迭代器；否则返回 <code>end()</code>。</p>\n</li>\n<li>\n<p><code>erase(key)</code> 函数会删除键为 <code>key</code> 的 <strong>所有</strong> 元素。返回值为删除元素的数量。</p>\n</li>\n</ol>\n<p>​       <code>erase(pos)</code>: 删除迭代器为 pos 的元素，要求迭代器必须合法。</p>\n<p>​       <code>erase(first,last)</code>: 删除迭代器在 [first,last) 范围内的所有元素。</p>\n<ol start=\"4\">\n<li>\n<p><code>clear()</code> 函数会清空整个容器。</p>\n</li>\n<li>\n<p><code>count(x)</code>: 返回容器内键为 x 的元素数量。复杂度为 <img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" alt=\"O(og(size)+ans)\">（关于容器大小对数复杂度，加上匹配个数)。</p>\n</li>\n<li>\n<p><code>lower_bound(x)</code>: 返回指向首个不小于给定键的元素的迭代器。</p>\n</li>\n<li>\n<p><code>upper_bound(x)</code>: 返回指向首个大于给定键的元素的迭代器。若容器内所有元素均小于或等于给定键，返回 <code>end()</code>。</p>\n</li>\n<li>\n<p><code>empty()</code>: 返回容器是否为空。</p>\n</li>\n<li>\n<p><code>size()</code>: 返回容器内元素个数。</p>\n</li>\n</ol>\n<h3 id=\"无序（关联式）容器\">无序（关联式）容器</h3>\n<ul>\n<li>\n<p><strong>无序（多重）集合</strong>(<code>unordered_set</code>/<code>unordered_multiset</code>)<strong>C++11</strong>，与 <code>set</code>/<code>multiset</code> 的区别在于元素无序，只关心「元素是否存在」，使用哈希实现。</p>\n</li>\n<li>\n<p><strong>无序（多重）映射</strong>(<code>unordered_map</code>/<code>unordered_multimap</code>)<strong>C++11</strong>，与 <code>map</code>/<code>multimap</code> 的区别在于键 (key) 无序，只关心 “键与值的对应关系”，使用哈希实现。</p>\n</li>\n</ul>\n<h3 id=\"容器适配器\">容器适配器</h3>\n<p>容器适配器其实并不是容器。它们不具有容器的某些特点（如：有迭代器、有 <code>clear()</code> 函数……）。</p>\n<blockquote>\n<p>「适配器是使一种事物的行为类似于另外一种事物行为的一种机制」，适配器对容器进行包装，使其表现出另外一种行为。</p>\n</blockquote>\n<ul>\n<li><strong>栈</strong>(<code>stack</code>) 后进先出 (LIFO) 的容器，默认是对双端队列（<code>deque</code>）的包装。</li>\n<li><strong>队列</strong>(<code>queue</code>) 先进先出 (FIFO) 的容器，默认是对双端队列（<code>deque</code>）的包装。</li>\n<li><strong>优先队列</strong>(<code>priority_queue</code>) 元素的次序是由作用于所存储的值对上的某种谓词决定的的一种队列，默认是对向量（<code>vector</code>）的包装。</li>\n</ul>\n<h4 id=\"stack（栈）\">stack（栈）</h4>\n<p>STL <a href=\"https://oi-wiki.org/ds/stack/\">栈</a>(<code>std::stack</code>) 是一种后进先出 (Last In, First Out) 的容器适配器，仅支持查询或删除最后一个加入的元素（栈顶元素），不支持随机访问，且为了保证数据的严格有序性，不支持迭代器。用来模拟实现一些递归。</p>\n<h5 id=\"stack定义\">stack定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;stack&gt;</span></span></span><br><span class=\"line\">std::stack&lt;TypeName&gt; name;  <span class=\"comment\">// 使用默认底层容器 deque，数据类型为 TypeName</span></span><br><span class=\"line\">std::stack&lt;TypeName, Container&gt; name;  <span class=\"comment\">// 使用 Container 作为底层容器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">std::stack&lt;TypeName&gt; <span class=\"title\">s2</span><span class=\"params\">(s1)</span></span>;        <span class=\"comment\">// 将 s1 复制一份用于构造 s2</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"stack容器内元素的访问\">stack容器内元素的访问</h5>\n<p>由于栈本身就是一种后进先出的数据结构，在STL的stack中只能通过top()来访问栈顶元素。</p>\n<h5 id=\"stack常用函数\">stack常用函数</h5>\n<ol>\n<li>\n<p><code>top()</code> 访问栈顶元素（如果栈为空，此处会出错）</p>\n</li>\n<li>\n<p><code>push(x)</code> 向栈中插入元素 x</p>\n</li>\n<li>\n<p><code>pop()</code> 删除栈顶元素</p>\n</li>\n<li>\n<p><code>size()</code> 查询容器中的元素数量</p>\n</li>\n<li>\n<p><code>empty()</code> 询问容器是否为空</p>\n</li>\n</ol>\n<h4 id=\"queue（队列）\">queue（队列）</h4>\n<p>STL <a href=\"https://oi-wiki.org/ds/queue/\">队列</a>(<code>std::queue</code>) 是一种先进先出 (First In, First Out) 的容器适配器，仅支持查询或删除第一个加入的元素（队首元素），不支持随机访问，且为了保证数据的严格有序性，不支持迭代器。</p>\n<h5 id=\"queue定义\">queue定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;queue&gt;</span></span></span><br><span class=\"line\">std::queue&lt;TypeName&gt; name;  <span class=\"comment\">// 使用默认底层容器 deque，数据类型为 TypeName</span></span><br><span class=\"line\">std::queue&lt;TypeName, Container&gt; name;  <span class=\"comment\">// 使用 Container 作为底层容器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">std::queue&lt;TypeName&gt; <span class=\"title\">q2</span><span class=\"params\">(q1)</span></span>;  <span class=\"comment\">// 将 s1 复制一份用于构造 q2</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"queue容器内元素的访问\">queue容器内元素的访问</h5>\n<p>由于队列本身就是一种先进先出的数据结构，在STL的queue中只能通过front()来访问队首元素，通过back()访问队尾元素。</p>\n<h5 id=\"queue常用函数\">queue常用函数</h5>\n<ol>\n<li>\n<p><code>front()</code> 访问队首元素（如果队列为空，此处会出错）</p>\n</li>\n<li>\n<p><code>back()</code> 访问队尾元素</p>\n</li>\n<li>\n<p><code>push(x)</code> 向队列中插入元素 x</p>\n</li>\n<li>\n<p><code>pop()</code> 删除队首元素</p>\n</li>\n<li>\n<p><code>size()</code> 查询容器中的元素数量</p>\n</li>\n<li>\n<p><code>empty()</code> 询问容器是否为空</p>\n</li>\n</ol>\n<h4 id=\"priority-queue（优先队列）\">priority_queue（优先队列）</h4>\n<p>优先队列 <code>std::priority_queue</code> 是一种 <a href=\"https://oi-wiki.org/ds/heap/\">堆</a>，一般为 <a href=\"https://oi-wiki.org/ds/binary-heap/\">二叉堆</a>。队首元素一定是当前队列中优先级最高的那一个。</p>\n<h5 id=\"priority-queue定义\">priority_queue定义</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;queue&gt;</span></span></span><br><span class=\"line\">priority_queue&lt;TypeName&gt; name;             <span class=\"comment\">// 数据类型为 TypeName</span></span><br><span class=\"line\">priority_queue&lt;TypeName, Container&gt; name;  <span class=\"comment\">// 使用 Container 作为底层容器</span></span><br><span class=\"line\">priority_queue&lt;TypeName, Container, Compare&gt; name;</span><br><span class=\"line\"><span class=\"comment\">// 使用 Container 作为底层容器，使用 Compare 作为比较类型</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"priority-queue容器内元素的访问\">priority_queue容器内元素的访问</h5>\n<p>和队列不一样的是，优先队列没有front()和back()，只能通过top()访问队首元素(堆顶元素)。</p>\n<h5 id=\"priority-queue常用函数\">priority_queue常用函数</h5>\n<ol>\n<li>\n<p><code>top()</code> 访问堆顶元素（此时优先队列不能为空）</p>\n</li>\n<li>\n<p><code>pop()</code> 删除堆顶元素（此时优先队列不能为空）</p>\n</li>\n<li>\n<p><code>push(x)</code> 插入元素，并对底层容器排序</p>\n</li>\n<li>\n<p><code>size()</code> 查询容器中的元素数量</p>\n</li>\n<li>\n<p><code>empty()</code> 询问容器是否为空</p>\n</li>\n</ol>\n<h2 id=\"STL算法\">STL算法</h2>\n<p>STL 提供了大约 100 个实现算法的模版函数，基本都包含在 <code>&lt;algorithm&gt;</code> 之中，还有一部分包含在 <code>&lt;numeric&gt;</code> 和 <code>&lt;functional&gt;</code>。</p>\n<h3 id=\"algorithm\">algorithm</h3>\n<p><code>&lt;algorithm&gt;</code> 头文件提供了大量通用算法，适用于多种容器。所有算法均通过迭代器操作，不对容器进行直接修改（除非明确说明）。</p>\n<h4 id=\"常用算法列表\">常用算法列表</h4>\n<table>\n<thead>\n<tr>\n<th>算法</th>\n<th>功能说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>sort(beg, end, cmp)</code></td>\n<td>对区间[beg,end)排序，cmp为可选比较函数（默认升序）</td>\n</tr>\n<tr>\n<td><code>reverse(beg, end)</code></td>\n<td>反转指定区间的元素顺序</td>\n</tr>\n<tr>\n<td><code>max(a, b)</code> / <code>min(a, b)</code></td>\n<td>返回两个值的较大/较小值（C++11支持初始化列表：<code>max(&#123;1,2,3&#125;)</code>）</td>\n</tr>\n<tr>\n<td><code>swap(a, b)</code></td>\n<td>交换两个变量的值</td>\n</tr>\n<tr>\n<td><code>find(beg, end, val)</code></td>\n<td>在区间内查找值，返回首个匹配的迭代器，未找到返回end</td>\n</tr>\n<tr>\n<td><code>count(beg, end, val)</code></td>\n<td>统计区间内指定值出现的次数</td>\n</tr>\n<tr>\n<td><code>fill(beg, end, val)</code></td>\n<td>用指定值填充区间</td>\n</tr>\n<tr>\n<td><code>copy(src_beg, src_end, dest_beg)</code></td>\n<td>复制源区间到目标位置</td>\n</tr>\n<tr>\n<td><code>unique(beg, end)</code></td>\n<td>去除相邻重复元素，返回去重后的新结尾迭代器（通常先排序后使用）</td>\n</tr>\n<tr>\n<td><code>lower_bound(beg, end, val)</code></td>\n<td>在有序区间中找第一个不小于val的元素位置</td>\n</tr>\n<tr>\n<td><code>upper_bound(beg, end, val)</code></td>\n<td>在有序区间中找第一个大于val的元素位置</td>\n</tr>\n<tr>\n<td><code>binary_search(beg, end, val)</code></td>\n<td>检查有序区间中是否存在指定值</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"典型使用示例\">典型使用示例</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 自定义排序</span></span><br><span class=\"line\">std::vector&lt;<span class=\"type\">int</span>&gt; vec = &#123;<span class=\"number\">3</span>,<span class=\"number\">1</span>,<span class=\"number\">4</span>,<span class=\"number\">2</span>&#125;;</span><br><span class=\"line\">std::<span class=\"built_in\">sort</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>(), [](<span class=\"type\">int</span> a, <span class=\"type\">int</span> b)&#123; <span class=\"keyword\">return</span> a &gt; b; &#125;); <span class=\"comment\">// 降序排列</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 去重操作</span></span><br><span class=\"line\">std::<span class=\"built_in\">sort</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>());</span><br><span class=\"line\"><span class=\"keyword\">auto</span> last = std::<span class=\"built_in\">unique</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">vec.<span class=\"built_in\">erase</span>(last, vec.<span class=\"built_in\">end</span>());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 查找元素</span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> it = std::<span class=\"built_in\">find</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>(), <span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (it != vec.<span class=\"built_in\">end</span>()) std::cout &lt;&lt; <span class=\"string\">&quot;Found: &quot;</span> &lt;&lt; *it;</span><br></pre></td></tr></table></figure>\n<h2 id=\"pair\">pair</h2>\n<p><code>std::pair</code> 是一个模板类，用于将两个值组合成一个单元。常用于需要返回两个值的场景，或作为<code>map</code>容器的元素类型。通过灵活使用 <code>pair</code>，可以轻松应对 <strong>需要将关联数据捆绑存储、处理</strong> 的场景。</p>\n<h3 id=\"pair定义\">pair定义</h3>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;utility&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\">//可以在定义时直接完成 pair 的初始化。</span></span><br><span class=\"line\"><span class=\"function\">pair&lt;<span class=\"type\">int</span>, <span class=\"type\">double</span>&gt; <span class=\"title\">p0</span><span class=\"params\">(<span class=\"number\">1</span>, <span class=\"number\">2.0</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">//也可以使用先定义，后赋值的方法完成 pair 的初始化。</span></span><br><span class=\"line\">pair&lt;<span class=\"type\">int</span>, <span class=\"type\">double</span>&gt; p1;   <span class=\"comment\">// 默认构造：int=0, double=0.0</span></span><br><span class=\"line\">p<span class=\"number\">1.f</span>irst = <span class=\"number\">1</span>;</span><br><span class=\"line\">p<span class=\"number\">1.</span>second = <span class=\"number\">2.0</span>;</span><br><span class=\"line\"><span class=\"comment\">//还可以使用 std::make_pair 函数。该函数接受两个变量，并返回由这两个变量组成的 pair。</span></span><br><span class=\"line\">pair&lt;<span class=\"type\">int</span>, <span class=\"type\">double</span>&gt; p2 = <span class=\"built_in\">make_pair</span>(<span class=\"number\">1</span>, <span class=\"number\">2.0</span>);</span><br><span class=\"line\"><span class=\"comment\">//在 C++11 以及之后的版本中，make_pair 可以配合 auto 使用，以避免显式声明数据类型。</span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> p3 = <span class=\"built_in\">make_pair</span>(<span class=\"number\">3.14</span>, <span class=\"string\">&quot;PI&quot;</span>);          <span class=\"comment\">// 自动推导类型（C++11）</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"pair元素访问\">pair元素访问</h3>\n<table>\n<thead>\n<tr>\n<th>成员变量</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>first</code></td>\n<td>访问第一个元素</td>\n</tr>\n<tr>\n<td><code>second</code></td>\n<td>访问第二个元素</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"常用操作\">常用操作</h3>\n<table>\n<thead>\n<tr>\n<th>操作</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>比较运算符（==, !=, &lt;等）</td>\n<td>按字典序比较：先比较first，相等时再比较second</td>\n</tr>\n<tr>\n<td><code>swap</code></td>\n<td>使用 <code>swap</code> 函数交换 <code>pair</code> 的值。</td>\n</tr>\n<tr>\n<td>赋值</td>\n<td>将 <code>pair</code> 的值赋给另一个类型一致的 <code>pair</code>。p0 = p1;</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"string\">string</h2>\n<p><code>std::string</code> 是 C++ 标准库提供的字符串类，用于存储和操作字符序列。它在内存中以连续块存储字符，支持高效的随机访问和动态调整大小。</p>\n<h3 id=\"string定义\">string定义</h3>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;string&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">std::string str1;                <span class=\"comment\">// 空字符串</span></span><br><span class=\"line\">std::string str2 = <span class=\"string\">&quot;Hello&quot;</span>;      <span class=\"comment\">// 用C风格字符串初始化</span></span><br><span class=\"line\"><span class=\"function\">std::string <span class=\"title\">str3</span><span class=\"params\">(<span class=\"number\">5</span>, <span class=\"string\">&#x27;A&#x27;</span>)</span></span>;        <span class=\"comment\">// 创建含5个&#x27;A&#x27;的字符串，输出&quot;AAAAA&quot;</span></span><br><span class=\"line\"><span class=\"function\">std::string <span class=\"title\">str4</span><span class=\"params\">(str2, <span class=\"number\">1</span>, <span class=\"number\">3</span>)</span></span>;    <span class=\"comment\">// 从str2下标1开始取3个字符，输出&quot;ell&quot;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"string容器内元素的访问\">string容器内元素的访问</h3>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1. 通过下标访问</span></span><br><span class=\"line\">str[index]</span><br><span class=\"line\"><span class=\"comment\">//2. 通过迭代器访问</span></span><br><span class=\"line\">string::iterator it;</span><br><span class=\"line\"><span class=\"comment\">//可以通过*it访问string里的每一位</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(string::iterator it= str.<span class=\"built_in\">begin</span>();it!=str.<span class=\"built_in\">end</span>();it++)&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%c&quot;</span>,*it);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//string和vector一样，支持直接对迭代器进行加减某个字，str.begin()+3</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"string常用函数\">string常用函数</h3>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th style=\"text-align:center\">功能说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>append(str)</code></td>\n<td style=\"text-align:center\">在字符串末尾追加内容</td>\n</tr>\n<tr>\n<td><code>push_back(c)</code></td>\n<td style=\"text-align:center\">追加单个字符</td>\n</tr>\n<tr>\n<td><code>pop_back()</code></td>\n<td style=\"text-align:center\">删除最后一个字符（C++11）</td>\n</tr>\n<tr>\n<td><code>insert(pos, str)</code></td>\n<td style=\"text-align:center\">在指定位置插入字符串</td>\n</tr>\n<tr>\n<td><code>erase(pos, len)</code></td>\n<td style=\"text-align:center\">从pos开始删除len个字符</td>\n</tr>\n<tr>\n<td><code>replace(pos, len, str)</code></td>\n<td style=\"text-align:center\">替换从pos开始的len个字符为str</td>\n</tr>\n<tr>\n<td><code>find(str, pos)</code></td>\n<td style=\"text-align:center\">从pos开始查找子串，返回首次出现的位置，未找到返回<code>string::npos</code></td>\n</tr>\n<tr>\n<td><code>compare(str)</code></td>\n<td style=\"text-align:center\">比较字符串（返回0表示相等，负数表示小于，正数表示大于）</td>\n</tr>\n<tr>\n<td><code>c_str()</code></td>\n<td style=\"text-align:center\">返回C风格字符串（const char*）</td>\n</tr>\n<tr>\n<td><code>clear()</code></td>\n<td style=\"text-align:center\">清空字符串内容</td>\n</tr>\n<tr>\n<td><code>resize(n, c)</code></td>\n<td style=\"text-align:center\">调整字符串长度为n，多出部分用字符c填充</td>\n</tr>\n<tr>\n<td><code>capacity()</code></td>\n<td style=\"text-align:center\">返回当前分配的存储容量</td>\n</tr>\n<tr>\n<td><code>reserve(n)</code></td>\n<td style=\"text-align:center\">预分配至少能存储n个字符的内存空间</td>\n</tr>\n</tbody>\n</table>\n"},{"title":"MoE","date":"2025-04-27T12:37:24.000Z","updated":"2025-05-06T09:08:03.684Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502161913940.png","_content":"\n# Mixtures of Experts \n\n## 《Adaptive Mixture of Local Experts》\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501100302213.png\" style=\"zoom:50%;\" />\n\n1991年，由 Hinton和 Jordan提出，这是最早的MoE架构。\n\n核心思想：通过多个独立专家网络处理输入数据不同子集，并由门控网络动态选择专家。**每个专家接受相同的输入数据**，但通过门控网络的动态分配，专家会专注于处理输入空间的特定区域。\n\n### 基础架构\n\n如图，一个由专家网络和门控网络组成的系统。每个专家是一个前馈网络，所有专家接收相同的输入，并具有相同数量的输出。门控网络也是一个前馈网络，通常接收与专家网络相同的输入。它的输出是归一化的 $$ p_j = \\exp(r_j) / \\sum_i \\exp(r_i) $$，其中 $ r_j $是门控网络输出单元 $j$ 接收的总加权输入。选择器（selector）类似于一个多输入单输出的随机开关；开关选择来自专家 $ j $ 的输出的概率为 $p_j$ 。每个专家通常只会被分配到可能输入向量空间的一个小区域内。\n\n系统由多个专家网络和一个门控网络组成。每个专家是一个前馈网络，处理特定子任务；门控网络根据输入决定每个专家的混合比例（概率）。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501113347385.png\" style=\"zoom:50%;\" />\n\n通过重新定义误差函数，鼓励专家竞争而非协作，确保每个专家专注于特定子任务。传统误差函数（如均方误差）会导致专家协作，增加耦合；论文提出优比损失（基于高斯混合模型的负对数概率），使专家独立学习，减少干扰。改进后的误差函数使门控网络倾向于选择最适合的专家，加快收敛。\n\n### 性能比较\n\n元音辨别：区分多说话者元音区分（识别元音 [i], [I], [a], [A]）。\n\n**数据集**：来自 75 个说话者的共振峰数据（Peterson 和 Barney, 1952），前 50 个用于训练，后 25 个用于测试。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501110027054.png\" style=\"zoom:60%;\" />\n\n模型能自动分解任务，专注于不同类别对（如 [i]/[I] 和 [a]/[A]），仅 2-3 个专家在最终混合中活跃。\n\n混合专家模型达到误差标准明显快于反向传播网络，平均只需要大约一半的周期数。混合模型的学习时间也随着专家数量的增加而很好地扩展。混合专家模型具有较小但统计上显著的平均周期数优势。\n\n### 总结\n\n这篇论文针对的问题是在不同场合执行不同任务会产生干扰，导致训练速度慢和泛化性能差。MoE 的核心思想是让专家专注于适合的子任务。这意味着某些专家的利用率较低（论文中提到最终只有 2-3 个专家活跃），后续的论文大多都是在解决这个问题。\n\n论文展示了 MoE 模型的任务分解过程：初始阶段，门控网络给所有专家分配相等的混合比例，导致每个专家处理的案例数量大致相等，决策线趋向于处理所有案例的平均最优解。随着训练进行，竞争机制使专家分化，专注于特定子任务，从而形成更符合数据分布的最优决策面。这种机制显著减少了干扰，训练速度比反向传播网络快约 50%，体现了 MoE 架构在训练时间上的优势。\n\n\n\n## 《Outrageously Large Neural Networks: The Sparsely-Gated Mixture-of-Experts Layer》\n\n超大型神经网络：稀疏门控混合专家层\n\n2017年，合作作者中还有Hinton和 Jordan，在LSTM层之间应用MoE卷积。仅以微小的计算效率损失就取得了超过 1000 倍的模型容量提升，并在公共语言建模和翻译数据集上显著提升了最先进的结果。\n\n上一篇强调的是减小时间成本，这一篇是减小计算成本。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501141207768.png\" style=\"zoom:40%;\" />\n\n### 基础架构\n\n#### 稀疏门控专家混合层（MoE）\n\nMoE 由很多专家组成，每个专家相当于一个前馈神经网络。以及一个可训练的门控网络，该网络选择专家的稀疏组合来处理每个输入。网络的所有部分都通过反向传播进行联合训练。\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501165106468.png\" style=\"zoom:30%;\" />\n\n设 $ G(x) $和 $ E_i(x) $ 分别为给定输入 $ x $ 的门控网络输出和第 $ i $ 个专家网络的输出。MoE 模块的输出 $ y $ 可表示为：\n$$\ny = \\sum_{i=1}^{n} G(x)_i E_i(x)\n$$\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501192052114.webp\" style=\"zoom:38%;\" />\n\n\n\n### 均衡负载\n\n门控网络总是倾向于收敛到一种状态，在这种状态下，它总是对同一批专家产生较大的权重，使得被偏好的专家训练得更快，更容易被门控网络选中。希望在训练和推理过程中，专家的重要性相等，称之为**负载平衡** 。某种程度上，这是为了防止对同一个专家过度拟合。\n\n#### Keep Top-K\n\n**Noisy Top-K Gating**\n\n添加了两个组件：**稀疏性和噪音**。在应用 Softmax 函数之前，添加可调的高斯噪声，然后仅保留前 $ k $ 个值，将其余值设为 $-\\infty$（这会导致对应的门控值为 0）。每部分的噪声量由可训练权重矩阵 $ W_{\\text{noise}} $ 控制。通过简单的反向传播训练门控网络。**稀疏性用于节省计算，噪声项有助于负载均衡。**\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501192435690.webp\" style=\"zoom:33%;\" />\n\n##### Noise\n\n使用Noisy Top-K Gating方法改进MoE层，引入可训练的 Gaussian 噪声防止总是选择相同的专家。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502135639110.webp\" style=\"zoom:50%;\" />\n$$\nH(x)_i = (x \\cdot W_g)_i + \\text{StandardNormal}() \\cdot \\text{Softplus}((x \\cdot W_{\\text{noise}})_i)\n$$\n\n##### Sparse\n\n除了想要激活的前 k 名专家之外，其他所有专家的权重都将设置为 $-\\infty$ 。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140128737.png\" style=\"zoom:50%;\" />\n$$\n\\text{KeepTopK}(v, k)_i =\n\\begin{cases}\nv_i & \\text{if } v_i \\text{ is in the top } k \\text{ elements of } v, \\\\\\\n-\\infty & \\text{otherwise}.\n\\end{cases}\n$$\n通过将这些权重设置为 $-\\infty$ ，SoftMax 在这些权重上的输出将产生概率 **0** ：\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140429369.webp\" style=\"zoom:50%;\" />\n$$\nG(x) = \\text{Softmax}(\\text{KeepTopK}(H(x), k))\n$$\n\nKeepTopK 策略将每个 token 路由给几个选定的专家。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140803358.webp\" style=\"zoom:50%;\" />\n\n#### Auxiliary Loss\n\n为了在训练过程中获得更均匀的专家分布，辅助损失（也称为*负载平衡损失* ）被添加到网络的常规损失中。它增加了一个约束，迫使专家具有同等重要性。\n\n该辅助损失的第一个组成部分是将整个批次中每个专家的门控值相加。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502133715717.png\" style=\"zoom:50%;\" />\n$$\n\\text{Importance}(X) = \\sum_{x \\in X} G(x) \n$$\n这为我们提供了每个专家的重要性分数 ，该分数表示无论输入如何，选择特定专家的可能性。可以用它来计算*变异系数* （ **CV** ），它告诉我们专家之间重要性得分的差异有多大。利用这个 **CV** 分数，我们可以在训练期间更新**辅助损失** ，以尽可能降低 **CV** 分数（ 从而给予每个专家同等的重要性 ）。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134023343.webp\" style=\"zoom:50%;\" />\n\n如果重要性分数存在很大差异，则 **CV** 会很高，相反，如果所有专家的重要性得分都相似，那么 **CV** 就会较低\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134637067.webp\" style=\"zoom:50%;\" />\n$$\nL_{\\text{importance}}(X) = w_{\\text{importance}} \\cdot CV(\\text{Importance}(X))^2\n$$\n最后，将辅助损失作为单独的损失添加，以便在训练期间进行优化。\n\n虽然这种损失函数可以确保平衡的重要性，但专家仍然可能收到数量非常不同的样本。为了解决这一问题，论文引入了 $ L_{\\text{load}} $ 损失，专门用于平衡专家接收的样本数量（即负载均衡），与 $ L_{\\text{importance}} $ 损失（平衡门控权重总和）配合使用。\n\n#### Load-Balancing Loss\n\n专家接收的样本数量是一个离散值，无法用于反向传播。所以这里定义了一个平滑估计器 $Load(X)$，用于估计每个专家在输入批次 $X$ 中分配到的示例数量，通过概率计算来近似样本分配。平滑性使得可以通过估计器反向传播梯度。这是门控函数中噪声项的目的。\n\n对于一个输入批次 $ X $，第 $ i $ 个专家的负载定义为：\n$$\n\\operatorname{Load}(X)_i = \\sum_{x \\in X} P(x, i)\n$$\n其中 $ P(x, i) $ 是给定输入 $ x $ 时第 $ i $ 个专家被选中的概率，它描述了第 $ i$ 个专家的“带噪声得分”大于某个阈值的概率。论文通过噪声 Top-K 门控的特性计算 $ P(x, i) $：\n$$\nP(x, i) = \\Pr\\left( (x \\cdot W_g)_i + \\text{StandardNormal}() \\cdot \\text{Softplus}((x \\cdot W_{\\text{noise}})_i) > k\\text{th\\_excluding}(H(x), k, i) \\right)\n$$\n**$ (x \\cdot W_g)_i $**：\n\n- $x $ 是输入向量（例如来自上一层的 LSTM 输出）。\n- $ W_g $ 是门控网络的可训练权重矩阵。\n- $ (x \\cdot W_g)_i $ 是第 $ i $ 个专家的原始得分（未添加噪声），表示门控网络对第 $ i $ 个专家的“偏好”。\n\n**$ StandardNormal()⋅Softplus((x⋅Wnoise)i) $**：\n\n- **$ \\text{StandardNormal}() $**：表示从均值为 0、标准差为 1 的标准正态分布中采样一个随机数。\n- **$ (x \\cdot W_{\\text{noise}})_i $**：通过另一个可训练权重矩阵$ W_{\\text{noise}} $ 计算的噪声控制项。\n- **$ \\text{Softplus}((x \\cdot W_{\\text{noise}})_i) $**：这部分计算噪声的标准差。它通过将输入 $x$ 与另一个可训练的权重矩阵 $W_{noise}$ 相乘，然后应用 Softplus 函数 $ \\text{Softplus}(z) = \\log(1 + e^z) $ 来确保标准差为正值。这个标准差是可调节的，并且依赖于输入 $x$ 。\n- 这部分是加到原始得分上的高斯噪声，表示一个高斯噪声项，均值为 0，方差由 $ \\text{Softplus}((x \\cdot W_{\\text{noise}})_i) $决定。噪声的引入有助于负载均衡，避免门控网络总是选择固定的专家。\n\n$$\nH(x)_ i = (x \\cdot W_g)_i + \\text{StandardNormal}() \\cdot \\text{Softplus}((x \\cdot W_{\\text{noise}})_i\n$$\n\n$H(x)_i$代表了第$ i $个专家的最终“带噪声得分”。\n\n**$k\\text{th\\_excluding}(H(x), k, i)$**: 这是决定专家 i 是否被选中的阈值。它的含义是：在向量 $H(x)$（包含了所有专家的带噪声得分）中，排除掉第 i 个专家自身的分数后，找到剩下 n−1 个分数中第 k 大的分数 。\n\n$Pr(⋯>…): $ 公式计算  $ H(x)_ i $（重新采样噪声后）大于  $k\\text{th\\_excluding}(H(x), k, i)$ 的概率。在噪声 Top-K 门控中，第 $𝑖$ 个专家被选中当且仅当 $ H(x)_ i$ 是 $𝐻 ( 𝑥 )$ 中前 $𝑘$ 大的值。\n$$\nP(x, i) = \\Phi\\left( \\frac{(x \\cdot W_g)_i - k\\text{th\\_excluding}(H(x), k, i)}{\\text{Softplus}((x \\cdot W_{\\text{noise}})_i)} \\right)\n$$\nΦ 表示标准正态分布的累积分布函数（CDF）。利用正态分布的 CDF 给出了计算这个概率的具体数学表达式，方便进行计算和反向传播（因为 Φ 是可微的）。这整个机制是为了在选择专家时引入随机性（有助于负载均衡 ）并估算每个专家被选中的概率，进而定义$L_{load}$损失。\n$$\nL_{\\text{load}}(X) = w_{\\text{load}} \\cdot CV(\\text{Load}(X))^2\n$$\n初始负载不平衡：为了避免内存溢出错误，需要在近似相等的专家负载状态下初始化网络（因为软约束需要一些时间才能发挥作用）。为了实现这一点，将矩阵 $W_g$ 和 $W_{noise}$ 初始化为全零，这样就不会产生信号，而只有一些噪声。\n\n#### Hierarchical Mixture-of-Experts\n\n层次 MoE 是一种分层结构的 MoE，如果专家数量非常庞大，可以使用两层分层MoE来降低分支因子。在一个分层MoE中，一个主门控网络选择一个稀疏加权组合的“专家”，每个“专家”本身就是一个具有自己门控网络的二级混合专家。\n\n**第一级（主门控网络）**：主门控网络 $ G_{\\text{primary}} $ 负责选择一组“专家组”（groups of experts）。\n\n**第二级（次级门控网络）**：每个专家组内有一个次级门控网络 $G_i $，负责在该组内选择具体的专家。\n\n**专家网络**：最终的专家网络 $E_{i,j} $，其中 $ i $ 表示组索引，$j $ 表示组内的专家索引。\n$$\ny_H = \\sum_{i=1}^{a} \\sum_{j=1}^{b} G_{\\text{primary}}(x)_i \\cdot G_i(x)_j \\cdot E_{i,j}(x)\n$$\n$Gprimary(x)i$：主门控网络对第 $ i $ 个组的权重。\n\n$G_i(x)_j $：第 $ i $ 个组的次级门控网络对组内第 $j $ 个专家的权重。\n\n$ E_{i,j}(x) $：第 $ i $ 个组中第 $j $ 个专家的输出。\n\n对专家利用率的衡量指标将更改为以下内容：\n$$\n\\text{Importance}_H(X)_{i,j} = \\sum_{x \\in X} G_{\\text{primary}}(x)_i \\cdot G_i(x)_j\n$$\n\n$$\n\\text{Load}_H(X)_{i,j} = \\frac{\\text{Load}_{\\text{primary}}(X)_i \\cdot \\text{Load}_i(X^{(i)})_j}{|X^{(i)}|}\n$$\n\n$\\text{Load}_{\\text{primary}}$   和 $Load_i$ 分别表示主门控网络和 $i^{th}$ 次级门控网络的加载函数。 $ X^{(i)} $表示 X 中满足 $ G_{\\text{primary}}(x)_i > 0 $ 的子集。\n\n\n\n## 《GShard: Scaling Giant Models with Conditional Computation and Automatic Sharding》\n\n基于条件计算和自动分片的巨型模型扩展。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502231628278.png\" style=\"zoom:30%;\" />\n\n### 创新点\n\n#### Expert Capacity\n\n专家容量\n\n不平衡不仅存在于所选专家中，还存在于发送给专家的token分配中。如果输入 token 不成比例地发送给一个专家而不是另一个专家，那么也可能导致训练不足。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134823180.webp\" style=\"zoom:50%;\" />\n\n解决这个问题的一个方法是限制每个专家可以处理的 token 数量，即专家容量 。当专家达到容量上限时，产生的 token 将被发送给下一个专家：\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134935242.webp\" style=\"zoom:50%;\" />\n\n\n\n如果两个专家都已达到其容量上限，则 token 将不会被任何专家处理，而是被发送到下一层。这称为 token 溢出 。这些token的表示通过残差连接传递到下一层。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502135022720.webp\" style=\"zoom:50%;\" />\n\n#### Auxiliary loss\n\n门控函数不应总是选择相同的一小部分专家，因为这会导致一小部分专家容量溢出，而其余专家则被闲置。定义了一个辅助损失项 ℓaux 来强制执行此约束。 它被添加到模型的总损失函数中 L = ℓnll + k ∗ ℓaux，其中 k 是一个常数乘数。\n\n\n\n#### Random routing\n\n随机路由机制\n\n在 top-2 设计中，始终选择表现最优的专家，但第二选择的专家则根据其权重以一定概率被选中。\n\n\n\n## 《Switch Transformers: Scaling to Trillion Parameter Models with Simple and Eﬃcient Sparsity》\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250505161645576.png\" style=\"zoom:35%;\" />\n\n简化了MoE路由算法，并设计了直观的改进模型，从而降低了通信和计算成本。提出的训练技术减轻了不稳定性，并且证明了可以使用较低精度（bfloat16）格式首次训练大型稀疏模型。将 Switch 层添加到 Transformer 的自注意力层中。\n\n### Switch Routing\n\n（1）仅将token路由到单个专家，因此减少了路由器计算。\n\n（2）由于每个token仅被路由到单个专家，因此每个专家的批次大小（专家容量）可以至少减半。\n\n（3）路由实现得到简化，并且通信成本降低。\n\n\n\n## 《DeepSeekMoE: Towards Ultimate Expert Specialization in Mixture-of-Experts Language Models》\n\n### 现有MoE架构问题\n\n（1）知识混合性：现有的MoE实践通常采用数量有限的专家（例如，8个或16个），因此分配给特定专家的token可能涵盖各种知识。因此，指定的专家将倾向于在其参数中组合截然不同的知识类型，而这些知识很难同时利用。\n\n（2）知识冗余：分配给不同专家的token可能需要共同的知识。因此，多个专家可能会收敛于在其各自的参数中获取共享知识，从而导致专家参数的冗余。\n\n这些问题共同阻碍了现有MoE实践中的专家专业化，使其无法达到MoE模型的理论性能上限。\n\n我个人感觉第一个问题和第一篇论文提出的目的应该是一致的，一个模型在不同场合执行不同任务会产生干扰，然后这里的专家又出现了这个问题，使得专家的专业化程度较低。\n\n### 解决问题的主要策略\n\n（1）细粒度专家分割：在保持参数数量不变的同时，我们通过分割 FFN 中间隐藏维度将专家分割成更细的粒度。相应地，在保持恒定计算成本的同时，我们也激活更多细粒度的专家，以实现激活专家的更灵活和适应性更强的组合。细粒度的专家分割使得不同的知识能够被更精细地分解，并被更精确地学习到不同的专家中，其中每个专家将保持更高的专业化水平。此外，激活专家组合的灵活性增加也有助于更准确和有针对性的知识获取。\n\n（2）共享专家隔离：我们隔离某些专家作为始终激活的共享专家，旨在捕获和巩固不同上下文中的通用知识。通过将通用知识压缩到这些共享专家中，其他路由专家之间的冗余将被减轻。这可以提高参数效率，并确保每个路由专家通过专注于独特的方面来保持专业性。\n\nDeepSeekMoE 中的这些架构创新为训练参数高效的 MoE 语言模型提供了机会，其中每个专家都高度专业化。\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502145719363.png\" style=\"zoom:40%;\" />\n\n\n\nDeepSeekMoE 的示意图。子图 (a) 展示了具有传统 top-2 路由策略的 MoE 层。子图 (b) 说明了细粒度专家分割策略。子图 (c) 展示了共享专家隔离策略的集成，构成了完整的 DeepSeekMoE 架构。值得注意的是，在这三种架构中，专家参数的数量和计算成本保持不变。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502161913940.png\" style=\"zoom:40%;\" />\n\n### DeepSeekMoE 架构\n\n#### 细粒度专家分割\n\n通过将FFN中间隐藏维度降低到原始大小的𝑚分之一，将每个专家FFN分割成𝑚个更小的专家。由于每个专家变得更小，作为回应，还将激活专家的数量增加到𝑚倍，以保持相同的计算成本。通过细粒度的专家分割，MoE层的输出可以表示为：\n$$\n\\mathbf{h}_t^l = \\sum_{i=1}^{mN} (g_{i,t} \\cdot \\text{FFN}_i(\\mathbf{u}_t^l)) + \\mathbf{u}_t^l\n$$\n\n$$\ng_{i,t} = \\begin{cases} \ns_{i,t}, & s_{i,t} \\in \\text{Topk}(\\{s_{j,t}\\} \\mid 1 \\leq j \\leq mN), mK), \\\\\\\n0, & \\text{otherwise}\n\\end{cases}\n$$\n\n$$\ns_{i,t} = \\text{Softmax}_i(\\mathbf{u}_t^{l^T} \\mathbf{e}_i^l)\n$$\n\n其中，专家参数的总数等于 𝑁 乘以标准 FFN 中的参数数量，mN 表示细粒度专家的总数。采用细粒度专家分割策略后，非零门控的数量也将增加到 mK。\n\n组合灵活性的激增增强了实现更准确和更有针对性的知识获取的潜力。\n\n\n\n#### 共享专家隔离\n\n采用传统的路由策略，分配给不同专家的令牌可能需要一些共同的知识或信息。因此，多个专家可能会趋同于在其各自的参数中获取共享知识，从而导致专家参数的冗余。然而，如果存在专门用于捕获和整合不同上下文中的共同知识的共享专家，则可以减轻其他路由专家之间的参数冗余。这种冗余的减轻将有助于构建一个参数效率更高、专家更专业的模型。\n\n隔离𝐾𝑠个专家作为共享专家。无论路由器模块如何，每个token都将被确定性地分配给这些共享专家。为了保持恒定的计算成本，其他路由专家中激活的专家数量将减少𝐾𝑠。通过集成共享专家隔离策略，完整DeepSeekMoE架构中的MoE层可以表述如下：\n$$\n\\mathbf{h}_t^l = \\sum_{i=1}^{K_s} \\text{FFN}_i(\\mathbf{u}_t^l) + \\sum_{i=K_s+1}^{mN} (g_{i,t} \\cdot \\text{FFN}_i(\\mathbf{u}_t^l)) + \\mathbf{u}_t^l\n$$\n\n$$\ng_{i,t} = \\begin{cases} \ns_{i,t}, & s_{i,t} \\in \\text{Topk}(\\{s_{j,t} \\mid K_s + 1 \\leq j \\leq mN \\}), mK - K_s), \\\\\\\n0, & \\text{otherwise}\n\\end{cases}\n$$\n\n$$\ns_{i,t} = \\text{Softmax}_i(\\mathbf{u}_t^{l^T} \\mathbf{e}_i)\n$$\n\n最后，在 DeepSeekMoE 中，共享专家的数量为 𝐾𝑠，路由专家的总数为 𝑚𝑁 − 𝐾𝑠，非零门的数量为 𝑚𝐾 − 𝐾𝑠。\n\n\n\n#### 负载均衡问题\n\n自动学习的路由策略可能会遇到负载不均衡的问题，这表现出两个显著的缺陷。首先，存在路由崩溃的风险，即模型总是只选择少数几个专家，导致其他专家无法得到充分的训练。其次，如果专家分布在多个设备上，负载不均衡会加剧计算瓶颈。\n\n##### Expert-Level Balance Loss\n\n专家级平衡损失。为了降低路由崩溃的风险，平衡损失的计算如下：\n$$\n\\mathcal{L}_{\\text{ExpBal}} = \\alpha_1 \\sum_{i=1}^{N'} f_i p_i\n$$\n\n$$\nf_i = \\frac{N'}{K' T} \\sum_{t=1}^{T} \\mathbb{1}(\\text{Token } t \\text{ selects Expert } i)\n$$\n\n$$\np_i = \\frac{1}{T} \\sum_{t=1}^{T} s_{i,t}\n$$\n\n其中𝛼1是一个被称为专家级别平衡因子的超参数，为了简洁起见，𝑁′等于(𝑚𝑁 − 𝐾𝑠)，𝐾′等于(𝑚𝐾 − 𝐾𝑠)。1(·)表示指示函数。\n\n##### Device-Level Balance Loss\n\n将所有路由的专家划分为 𝐷 组 {E1, E2, . . ., E𝐷}，并将每组部署在单个设备上，则设备级别平衡损失的计算方式如下：\n$$\n\\mathcal{L}_{\\text{DevBal}} = \\alpha_2 \\sum_{i=1}^{D} f'_i p'_i\n$$\n\n$$\nf'_i = \\frac{1}{|\\mathcal{E}_i|} \\sum_{j \\in \\mathcal{E}_i} f_j\n$$\n\n$$\np'_i = \\sum_{j \\in \\mathcal{E}_i} p_j\n$$\n\n其中𝛼2是一个被称为设备级别平衡因子的超参数。设置一个较小的专家级别平衡因子以降低路由崩溃的风险，同时设置一个较大的设备级别平衡因子以促进设备间的均衡计算。\n\n\n\n\n\n","source":"_posts/MOE.md","raw":"---\ntitle: MoE\ndate: 2025-04-27 20:37:24\ntags: [对比学习,论文精读]\ncategories: [学习,论文精读,MOE]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502161913940.png\n---\n\n# Mixtures of Experts \n\n## 《Adaptive Mixture of Local Experts》\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501100302213.png\" style=\"zoom:50%;\" />\n\n1991年，由 Hinton和 Jordan提出，这是最早的MoE架构。\n\n核心思想：通过多个独立专家网络处理输入数据不同子集，并由门控网络动态选择专家。**每个专家接受相同的输入数据**，但通过门控网络的动态分配，专家会专注于处理输入空间的特定区域。\n\n### 基础架构\n\n如图，一个由专家网络和门控网络组成的系统。每个专家是一个前馈网络，所有专家接收相同的输入，并具有相同数量的输出。门控网络也是一个前馈网络，通常接收与专家网络相同的输入。它的输出是归一化的 $$ p_j = \\exp(r_j) / \\sum_i \\exp(r_i) $$，其中 $ r_j $是门控网络输出单元 $j$ 接收的总加权输入。选择器（selector）类似于一个多输入单输出的随机开关；开关选择来自专家 $ j $ 的输出的概率为 $p_j$ 。每个专家通常只会被分配到可能输入向量空间的一个小区域内。\n\n系统由多个专家网络和一个门控网络组成。每个专家是一个前馈网络，处理特定子任务；门控网络根据输入决定每个专家的混合比例（概率）。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501113347385.png\" style=\"zoom:50%;\" />\n\n通过重新定义误差函数，鼓励专家竞争而非协作，确保每个专家专注于特定子任务。传统误差函数（如均方误差）会导致专家协作，增加耦合；论文提出优比损失（基于高斯混合模型的负对数概率），使专家独立学习，减少干扰。改进后的误差函数使门控网络倾向于选择最适合的专家，加快收敛。\n\n### 性能比较\n\n元音辨别：区分多说话者元音区分（识别元音 [i], [I], [a], [A]）。\n\n**数据集**：来自 75 个说话者的共振峰数据（Peterson 和 Barney, 1952），前 50 个用于训练，后 25 个用于测试。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501110027054.png\" style=\"zoom:60%;\" />\n\n模型能自动分解任务，专注于不同类别对（如 [i]/[I] 和 [a]/[A]），仅 2-3 个专家在最终混合中活跃。\n\n混合专家模型达到误差标准明显快于反向传播网络，平均只需要大约一半的周期数。混合模型的学习时间也随着专家数量的增加而很好地扩展。混合专家模型具有较小但统计上显著的平均周期数优势。\n\n### 总结\n\n这篇论文针对的问题是在不同场合执行不同任务会产生干扰，导致训练速度慢和泛化性能差。MoE 的核心思想是让专家专注于适合的子任务。这意味着某些专家的利用率较低（论文中提到最终只有 2-3 个专家活跃），后续的论文大多都是在解决这个问题。\n\n论文展示了 MoE 模型的任务分解过程：初始阶段，门控网络给所有专家分配相等的混合比例，导致每个专家处理的案例数量大致相等，决策线趋向于处理所有案例的平均最优解。随着训练进行，竞争机制使专家分化，专注于特定子任务，从而形成更符合数据分布的最优决策面。这种机制显著减少了干扰，训练速度比反向传播网络快约 50%，体现了 MoE 架构在训练时间上的优势。\n\n\n\n## 《Outrageously Large Neural Networks: The Sparsely-Gated Mixture-of-Experts Layer》\n\n超大型神经网络：稀疏门控混合专家层\n\n2017年，合作作者中还有Hinton和 Jordan，在LSTM层之间应用MoE卷积。仅以微小的计算效率损失就取得了超过 1000 倍的模型容量提升，并在公共语言建模和翻译数据集上显著提升了最先进的结果。\n\n上一篇强调的是减小时间成本，这一篇是减小计算成本。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501141207768.png\" style=\"zoom:40%;\" />\n\n### 基础架构\n\n#### 稀疏门控专家混合层（MoE）\n\nMoE 由很多专家组成，每个专家相当于一个前馈神经网络。以及一个可训练的门控网络，该网络选择专家的稀疏组合来处理每个输入。网络的所有部分都通过反向传播进行联合训练。\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501165106468.png\" style=\"zoom:30%;\" />\n\n设 $ G(x) $和 $ E_i(x) $ 分别为给定输入 $ x $ 的门控网络输出和第 $ i $ 个专家网络的输出。MoE 模块的输出 $ y $ 可表示为：\n$$\ny = \\sum_{i=1}^{n} G(x)_i E_i(x)\n$$\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501192052114.webp\" style=\"zoom:38%;\" />\n\n\n\n### 均衡负载\n\n门控网络总是倾向于收敛到一种状态，在这种状态下，它总是对同一批专家产生较大的权重，使得被偏好的专家训练得更快，更容易被门控网络选中。希望在训练和推理过程中，专家的重要性相等，称之为**负载平衡** 。某种程度上，这是为了防止对同一个专家过度拟合。\n\n#### Keep Top-K\n\n**Noisy Top-K Gating**\n\n添加了两个组件：**稀疏性和噪音**。在应用 Softmax 函数之前，添加可调的高斯噪声，然后仅保留前 $ k $ 个值，将其余值设为 $-\\infty$（这会导致对应的门控值为 0）。每部分的噪声量由可训练权重矩阵 $ W_{\\text{noise}} $ 控制。通过简单的反向传播训练门控网络。**稀疏性用于节省计算，噪声项有助于负载均衡。**\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501192435690.webp\" style=\"zoom:33%;\" />\n\n##### Noise\n\n使用Noisy Top-K Gating方法改进MoE层，引入可训练的 Gaussian 噪声防止总是选择相同的专家。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502135639110.webp\" style=\"zoom:50%;\" />\n$$\nH(x)_i = (x \\cdot W_g)_i + \\text{StandardNormal}() \\cdot \\text{Softplus}((x \\cdot W_{\\text{noise}})_i)\n$$\n\n##### Sparse\n\n除了想要激活的前 k 名专家之外，其他所有专家的权重都将设置为 $-\\infty$ 。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140128737.png\" style=\"zoom:50%;\" />\n$$\n\\text{KeepTopK}(v, k)_i =\n\\begin{cases}\nv_i & \\text{if } v_i \\text{ is in the top } k \\text{ elements of } v, \\\\\\\n-\\infty & \\text{otherwise}.\n\\end{cases}\n$$\n通过将这些权重设置为 $-\\infty$ ，SoftMax 在这些权重上的输出将产生概率 **0** ：\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140429369.webp\" style=\"zoom:50%;\" />\n$$\nG(x) = \\text{Softmax}(\\text{KeepTopK}(H(x), k))\n$$\n\nKeepTopK 策略将每个 token 路由给几个选定的专家。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140803358.webp\" style=\"zoom:50%;\" />\n\n#### Auxiliary Loss\n\n为了在训练过程中获得更均匀的专家分布，辅助损失（也称为*负载平衡损失* ）被添加到网络的常规损失中。它增加了一个约束，迫使专家具有同等重要性。\n\n该辅助损失的第一个组成部分是将整个批次中每个专家的门控值相加。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502133715717.png\" style=\"zoom:50%;\" />\n$$\n\\text{Importance}(X) = \\sum_{x \\in X} G(x) \n$$\n这为我们提供了每个专家的重要性分数 ，该分数表示无论输入如何，选择特定专家的可能性。可以用它来计算*变异系数* （ **CV** ），它告诉我们专家之间重要性得分的差异有多大。利用这个 **CV** 分数，我们可以在训练期间更新**辅助损失** ，以尽可能降低 **CV** 分数（ 从而给予每个专家同等的重要性 ）。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134023343.webp\" style=\"zoom:50%;\" />\n\n如果重要性分数存在很大差异，则 **CV** 会很高，相反，如果所有专家的重要性得分都相似，那么 **CV** 就会较低\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134637067.webp\" style=\"zoom:50%;\" />\n$$\nL_{\\text{importance}}(X) = w_{\\text{importance}} \\cdot CV(\\text{Importance}(X))^2\n$$\n最后，将辅助损失作为单独的损失添加，以便在训练期间进行优化。\n\n虽然这种损失函数可以确保平衡的重要性，但专家仍然可能收到数量非常不同的样本。为了解决这一问题，论文引入了 $ L_{\\text{load}} $ 损失，专门用于平衡专家接收的样本数量（即负载均衡），与 $ L_{\\text{importance}} $ 损失（平衡门控权重总和）配合使用。\n\n#### Load-Balancing Loss\n\n专家接收的样本数量是一个离散值，无法用于反向传播。所以这里定义了一个平滑估计器 $Load(X)$，用于估计每个专家在输入批次 $X$ 中分配到的示例数量，通过概率计算来近似样本分配。平滑性使得可以通过估计器反向传播梯度。这是门控函数中噪声项的目的。\n\n对于一个输入批次 $ X $，第 $ i $ 个专家的负载定义为：\n$$\n\\operatorname{Load}(X)_i = \\sum_{x \\in X} P(x, i)\n$$\n其中 $ P(x, i) $ 是给定输入 $ x $ 时第 $ i $ 个专家被选中的概率，它描述了第 $ i$ 个专家的“带噪声得分”大于某个阈值的概率。论文通过噪声 Top-K 门控的特性计算 $ P(x, i) $：\n$$\nP(x, i) = \\Pr\\left( (x \\cdot W_g)_i + \\text{StandardNormal}() \\cdot \\text{Softplus}((x \\cdot W_{\\text{noise}})_i) > k\\text{th\\_excluding}(H(x), k, i) \\right)\n$$\n**$ (x \\cdot W_g)_i $**：\n\n- $x $ 是输入向量（例如来自上一层的 LSTM 输出）。\n- $ W_g $ 是门控网络的可训练权重矩阵。\n- $ (x \\cdot W_g)_i $ 是第 $ i $ 个专家的原始得分（未添加噪声），表示门控网络对第 $ i $ 个专家的“偏好”。\n\n**$ StandardNormal()⋅Softplus((x⋅Wnoise)i) $**：\n\n- **$ \\text{StandardNormal}() $**：表示从均值为 0、标准差为 1 的标准正态分布中采样一个随机数。\n- **$ (x \\cdot W_{\\text{noise}})_i $**：通过另一个可训练权重矩阵$ W_{\\text{noise}} $ 计算的噪声控制项。\n- **$ \\text{Softplus}((x \\cdot W_{\\text{noise}})_i) $**：这部分计算噪声的标准差。它通过将输入 $x$ 与另一个可训练的权重矩阵 $W_{noise}$ 相乘，然后应用 Softplus 函数 $ \\text{Softplus}(z) = \\log(1 + e^z) $ 来确保标准差为正值。这个标准差是可调节的，并且依赖于输入 $x$ 。\n- 这部分是加到原始得分上的高斯噪声，表示一个高斯噪声项，均值为 0，方差由 $ \\text{Softplus}((x \\cdot W_{\\text{noise}})_i) $决定。噪声的引入有助于负载均衡，避免门控网络总是选择固定的专家。\n\n$$\nH(x)_ i = (x \\cdot W_g)_i + \\text{StandardNormal}() \\cdot \\text{Softplus}((x \\cdot W_{\\text{noise}})_i\n$$\n\n$H(x)_i$代表了第$ i $个专家的最终“带噪声得分”。\n\n**$k\\text{th\\_excluding}(H(x), k, i)$**: 这是决定专家 i 是否被选中的阈值。它的含义是：在向量 $H(x)$（包含了所有专家的带噪声得分）中，排除掉第 i 个专家自身的分数后，找到剩下 n−1 个分数中第 k 大的分数 。\n\n$Pr(⋯>…): $ 公式计算  $ H(x)_ i $（重新采样噪声后）大于  $k\\text{th\\_excluding}(H(x), k, i)$ 的概率。在噪声 Top-K 门控中，第 $𝑖$ 个专家被选中当且仅当 $ H(x)_ i$ 是 $𝐻 ( 𝑥 )$ 中前 $𝑘$ 大的值。\n$$\nP(x, i) = \\Phi\\left( \\frac{(x \\cdot W_g)_i - k\\text{th\\_excluding}(H(x), k, i)}{\\text{Softplus}((x \\cdot W_{\\text{noise}})_i)} \\right)\n$$\nΦ 表示标准正态分布的累积分布函数（CDF）。利用正态分布的 CDF 给出了计算这个概率的具体数学表达式，方便进行计算和反向传播（因为 Φ 是可微的）。这整个机制是为了在选择专家时引入随机性（有助于负载均衡 ）并估算每个专家被选中的概率，进而定义$L_{load}$损失。\n$$\nL_{\\text{load}}(X) = w_{\\text{load}} \\cdot CV(\\text{Load}(X))^2\n$$\n初始负载不平衡：为了避免内存溢出错误，需要在近似相等的专家负载状态下初始化网络（因为软约束需要一些时间才能发挥作用）。为了实现这一点，将矩阵 $W_g$ 和 $W_{noise}$ 初始化为全零，这样就不会产生信号，而只有一些噪声。\n\n#### Hierarchical Mixture-of-Experts\n\n层次 MoE 是一种分层结构的 MoE，如果专家数量非常庞大，可以使用两层分层MoE来降低分支因子。在一个分层MoE中，一个主门控网络选择一个稀疏加权组合的“专家”，每个“专家”本身就是一个具有自己门控网络的二级混合专家。\n\n**第一级（主门控网络）**：主门控网络 $ G_{\\text{primary}} $ 负责选择一组“专家组”（groups of experts）。\n\n**第二级（次级门控网络）**：每个专家组内有一个次级门控网络 $G_i $，负责在该组内选择具体的专家。\n\n**专家网络**：最终的专家网络 $E_{i,j} $，其中 $ i $ 表示组索引，$j $ 表示组内的专家索引。\n$$\ny_H = \\sum_{i=1}^{a} \\sum_{j=1}^{b} G_{\\text{primary}}(x)_i \\cdot G_i(x)_j \\cdot E_{i,j}(x)\n$$\n$Gprimary(x)i$：主门控网络对第 $ i $ 个组的权重。\n\n$G_i(x)_j $：第 $ i $ 个组的次级门控网络对组内第 $j $ 个专家的权重。\n\n$ E_{i,j}(x) $：第 $ i $ 个组中第 $j $ 个专家的输出。\n\n对专家利用率的衡量指标将更改为以下内容：\n$$\n\\text{Importance}_H(X)_{i,j} = \\sum_{x \\in X} G_{\\text{primary}}(x)_i \\cdot G_i(x)_j\n$$\n\n$$\n\\text{Load}_H(X)_{i,j} = \\frac{\\text{Load}_{\\text{primary}}(X)_i \\cdot \\text{Load}_i(X^{(i)})_j}{|X^{(i)}|}\n$$\n\n$\\text{Load}_{\\text{primary}}$   和 $Load_i$ 分别表示主门控网络和 $i^{th}$ 次级门控网络的加载函数。 $ X^{(i)} $表示 X 中满足 $ G_{\\text{primary}}(x)_i > 0 $ 的子集。\n\n\n\n## 《GShard: Scaling Giant Models with Conditional Computation and Automatic Sharding》\n\n基于条件计算和自动分片的巨型模型扩展。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502231628278.png\" style=\"zoom:30%;\" />\n\n### 创新点\n\n#### Expert Capacity\n\n专家容量\n\n不平衡不仅存在于所选专家中，还存在于发送给专家的token分配中。如果输入 token 不成比例地发送给一个专家而不是另一个专家，那么也可能导致训练不足。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134823180.webp\" style=\"zoom:50%;\" />\n\n解决这个问题的一个方法是限制每个专家可以处理的 token 数量，即专家容量 。当专家达到容量上限时，产生的 token 将被发送给下一个专家：\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134935242.webp\" style=\"zoom:50%;\" />\n\n\n\n如果两个专家都已达到其容量上限，则 token 将不会被任何专家处理，而是被发送到下一层。这称为 token 溢出 。这些token的表示通过残差连接传递到下一层。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502135022720.webp\" style=\"zoom:50%;\" />\n\n#### Auxiliary loss\n\n门控函数不应总是选择相同的一小部分专家，因为这会导致一小部分专家容量溢出，而其余专家则被闲置。定义了一个辅助损失项 ℓaux 来强制执行此约束。 它被添加到模型的总损失函数中 L = ℓnll + k ∗ ℓaux，其中 k 是一个常数乘数。\n\n\n\n#### Random routing\n\n随机路由机制\n\n在 top-2 设计中，始终选择表现最优的专家，但第二选择的专家则根据其权重以一定概率被选中。\n\n\n\n## 《Switch Transformers: Scaling to Trillion Parameter Models with Simple and Eﬃcient Sparsity》\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250505161645576.png\" style=\"zoom:35%;\" />\n\n简化了MoE路由算法，并设计了直观的改进模型，从而降低了通信和计算成本。提出的训练技术减轻了不稳定性，并且证明了可以使用较低精度（bfloat16）格式首次训练大型稀疏模型。将 Switch 层添加到 Transformer 的自注意力层中。\n\n### Switch Routing\n\n（1）仅将token路由到单个专家，因此减少了路由器计算。\n\n（2）由于每个token仅被路由到单个专家，因此每个专家的批次大小（专家容量）可以至少减半。\n\n（3）路由实现得到简化，并且通信成本降低。\n\n\n\n## 《DeepSeekMoE: Towards Ultimate Expert Specialization in Mixture-of-Experts Language Models》\n\n### 现有MoE架构问题\n\n（1）知识混合性：现有的MoE实践通常采用数量有限的专家（例如，8个或16个），因此分配给特定专家的token可能涵盖各种知识。因此，指定的专家将倾向于在其参数中组合截然不同的知识类型，而这些知识很难同时利用。\n\n（2）知识冗余：分配给不同专家的token可能需要共同的知识。因此，多个专家可能会收敛于在其各自的参数中获取共享知识，从而导致专家参数的冗余。\n\n这些问题共同阻碍了现有MoE实践中的专家专业化，使其无法达到MoE模型的理论性能上限。\n\n我个人感觉第一个问题和第一篇论文提出的目的应该是一致的，一个模型在不同场合执行不同任务会产生干扰，然后这里的专家又出现了这个问题，使得专家的专业化程度较低。\n\n### 解决问题的主要策略\n\n（1）细粒度专家分割：在保持参数数量不变的同时，我们通过分割 FFN 中间隐藏维度将专家分割成更细的粒度。相应地，在保持恒定计算成本的同时，我们也激活更多细粒度的专家，以实现激活专家的更灵活和适应性更强的组合。细粒度的专家分割使得不同的知识能够被更精细地分解，并被更精确地学习到不同的专家中，其中每个专家将保持更高的专业化水平。此外，激活专家组合的灵活性增加也有助于更准确和有针对性的知识获取。\n\n（2）共享专家隔离：我们隔离某些专家作为始终激活的共享专家，旨在捕获和巩固不同上下文中的通用知识。通过将通用知识压缩到这些共享专家中，其他路由专家之间的冗余将被减轻。这可以提高参数效率，并确保每个路由专家通过专注于独特的方面来保持专业性。\n\nDeepSeekMoE 中的这些架构创新为训练参数高效的 MoE 语言模型提供了机会，其中每个专家都高度专业化。\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502145719363.png\" style=\"zoom:40%;\" />\n\n\n\nDeepSeekMoE 的示意图。子图 (a) 展示了具有传统 top-2 路由策略的 MoE 层。子图 (b) 说明了细粒度专家分割策略。子图 (c) 展示了共享专家隔离策略的集成，构成了完整的 DeepSeekMoE 架构。值得注意的是，在这三种架构中，专家参数的数量和计算成本保持不变。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502161913940.png\" style=\"zoom:40%;\" />\n\n### DeepSeekMoE 架构\n\n#### 细粒度专家分割\n\n通过将FFN中间隐藏维度降低到原始大小的𝑚分之一，将每个专家FFN分割成𝑚个更小的专家。由于每个专家变得更小，作为回应，还将激活专家的数量增加到𝑚倍，以保持相同的计算成本。通过细粒度的专家分割，MoE层的输出可以表示为：\n$$\n\\mathbf{h}_t^l = \\sum_{i=1}^{mN} (g_{i,t} \\cdot \\text{FFN}_i(\\mathbf{u}_t^l)) + \\mathbf{u}_t^l\n$$\n\n$$\ng_{i,t} = \\begin{cases} \ns_{i,t}, & s_{i,t} \\in \\text{Topk}(\\{s_{j,t}\\} \\mid 1 \\leq j \\leq mN), mK), \\\\\\\n0, & \\text{otherwise}\n\\end{cases}\n$$\n\n$$\ns_{i,t} = \\text{Softmax}_i(\\mathbf{u}_t^{l^T} \\mathbf{e}_i^l)\n$$\n\n其中，专家参数的总数等于 𝑁 乘以标准 FFN 中的参数数量，mN 表示细粒度专家的总数。采用细粒度专家分割策略后，非零门控的数量也将增加到 mK。\n\n组合灵活性的激增增强了实现更准确和更有针对性的知识获取的潜力。\n\n\n\n#### 共享专家隔离\n\n采用传统的路由策略，分配给不同专家的令牌可能需要一些共同的知识或信息。因此，多个专家可能会趋同于在其各自的参数中获取共享知识，从而导致专家参数的冗余。然而，如果存在专门用于捕获和整合不同上下文中的共同知识的共享专家，则可以减轻其他路由专家之间的参数冗余。这种冗余的减轻将有助于构建一个参数效率更高、专家更专业的模型。\n\n隔离𝐾𝑠个专家作为共享专家。无论路由器模块如何，每个token都将被确定性地分配给这些共享专家。为了保持恒定的计算成本，其他路由专家中激活的专家数量将减少𝐾𝑠。通过集成共享专家隔离策略，完整DeepSeekMoE架构中的MoE层可以表述如下：\n$$\n\\mathbf{h}_t^l = \\sum_{i=1}^{K_s} \\text{FFN}_i(\\mathbf{u}_t^l) + \\sum_{i=K_s+1}^{mN} (g_{i,t} \\cdot \\text{FFN}_i(\\mathbf{u}_t^l)) + \\mathbf{u}_t^l\n$$\n\n$$\ng_{i,t} = \\begin{cases} \ns_{i,t}, & s_{i,t} \\in \\text{Topk}(\\{s_{j,t} \\mid K_s + 1 \\leq j \\leq mN \\}), mK - K_s), \\\\\\\n0, & \\text{otherwise}\n\\end{cases}\n$$\n\n$$\ns_{i,t} = \\text{Softmax}_i(\\mathbf{u}_t^{l^T} \\mathbf{e}_i)\n$$\n\n最后，在 DeepSeekMoE 中，共享专家的数量为 𝐾𝑠，路由专家的总数为 𝑚𝑁 − 𝐾𝑠，非零门的数量为 𝑚𝐾 − 𝐾𝑠。\n\n\n\n#### 负载均衡问题\n\n自动学习的路由策略可能会遇到负载不均衡的问题，这表现出两个显著的缺陷。首先，存在路由崩溃的风险，即模型总是只选择少数几个专家，导致其他专家无法得到充分的训练。其次，如果专家分布在多个设备上，负载不均衡会加剧计算瓶颈。\n\n##### Expert-Level Balance Loss\n\n专家级平衡损失。为了降低路由崩溃的风险，平衡损失的计算如下：\n$$\n\\mathcal{L}_{\\text{ExpBal}} = \\alpha_1 \\sum_{i=1}^{N'} f_i p_i\n$$\n\n$$\nf_i = \\frac{N'}{K' T} \\sum_{t=1}^{T} \\mathbb{1}(\\text{Token } t \\text{ selects Expert } i)\n$$\n\n$$\np_i = \\frac{1}{T} \\sum_{t=1}^{T} s_{i,t}\n$$\n\n其中𝛼1是一个被称为专家级别平衡因子的超参数，为了简洁起见，𝑁′等于(𝑚𝑁 − 𝐾𝑠)，𝐾′等于(𝑚𝐾 − 𝐾𝑠)。1(·)表示指示函数。\n\n##### Device-Level Balance Loss\n\n将所有路由的专家划分为 𝐷 组 {E1, E2, . . ., E𝐷}，并将每组部署在单个设备上，则设备级别平衡损失的计算方式如下：\n$$\n\\mathcal{L}_{\\text{DevBal}} = \\alpha_2 \\sum_{i=1}^{D} f'_i p'_i\n$$\n\n$$\nf'_i = \\frac{1}{|\\mathcal{E}_i|} \\sum_{j \\in \\mathcal{E}_i} f_j\n$$\n\n$$\np'_i = \\sum_{j \\in \\mathcal{E}_i} p_j\n$$\n\n其中𝛼2是一个被称为设备级别平衡因子的超参数。设置一个较小的专家级别平衡因子以降低路由崩溃的风险，同时设置一个较大的设备级别平衡因子以促进设备间的均衡计算。\n\n\n\n\n\n","slug":"MOE","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamis002r1swmct1nh2m0","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h1>Mixtures of Experts</h1>\n<h2 id=\"《Adaptive-Mixture-of-Local-Experts》\">《Adaptive Mixture of Local Experts》</h2>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501100302213.png\" style=\"zoom:50%;\" />\n<p>1991年，由 Hinton和 Jordan提出，这是最早的MoE架构。</p>\n<p>核心思想：通过多个独立专家网络处理输入数据不同子集，并由门控网络动态选择专家。<strong>每个专家接受相同的输入数据</strong>，但通过门控网络的动态分配，专家会专注于处理输入空间的特定区域。</p>\n<h3 id=\"基础架构\">基础架构</h3>\n<p>如图，一个由专家网络和门控网络组成的系统。每个专家是一个前馈网络，所有专家接收相同的输入，并具有相同数量的输出。门控网络也是一个前馈网络，通常接收与专家网络相同的输入。它的输出是归一化的 $$ p_j = \\exp(r_j) / \\sum_i \\exp(r_i) $$，其中 $ r_j $是门控网络输出单元 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.462ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"0.932ex\" height=\"1.957ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -661 412 865\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>j</mi></math></mjx-assistive-mml></mjx-container> 接收的总加权输入。选择器（selector）类似于一个多输入单输出的随机开关；开关选择来自专家 $ j $ 的输出的概率为 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.666ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.985ex\" height=\"1.666ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -442 877.3 736.2\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>p</mi><mi>j</mi></msub></math></mjx-assistive-mml></mjx-container> 。每个专家通常只会被分配到可能输入向量空间的一个小区域内。</p>\n<p>系统由多个专家网络和一个门控网络组成。每个专家是一个前馈网络，处理特定子任务；门控网络根据输入决定每个专家的混合比例（概率）。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501113347385.png\" style=\"zoom:50%;\" />\n<p>通过重新定义误差函数，鼓励专家竞争而非协作，确保每个专家专注于特定子任务。传统误差函数（如均方误差）会导致专家协作，增加耦合；论文提出优比损失（基于高斯混合模型的负对数概率），使专家独立学习，减少干扰。改进后的误差函数使门控网络倾向于选择最适合的专家，加快收敛。</p>\n<h3 id=\"性能比较\">性能比较</h3>\n<p>元音辨别：区分多说话者元音区分（识别元音 [i], [I], [a], [A]）。</p>\n<p><strong>数据集</strong>：来自 75 个说话者的共振峰数据（Peterson 和 Barney, 1952），前 50 个用于训练，后 25 个用于测试。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501110027054.png\" style=\"zoom:60%;\" />\n<p>模型能自动分解任务，专注于不同类别对（如 [i]/[I] 和 [a]/[A]），仅 2-3 个专家在最终混合中活跃。</p>\n<p>混合专家模型达到误差标准明显快于反向传播网络，平均只需要大约一半的周期数。混合模型的学习时间也随着专家数量的增加而很好地扩展。混合专家模型具有较小但统计上显著的平均周期数优势。</p>\n<h3 id=\"总结\">总结</h3>\n<p>这篇论文针对的问题是在不同场合执行不同任务会产生干扰，导致训练速度慢和泛化性能差。MoE 的核心思想是让专家专注于适合的子任务。这意味着某些专家的利用率较低（论文中提到最终只有 2-3 个专家活跃），后续的论文大多都是在解决这个问题。</p>\n<p>论文展示了 MoE 模型的任务分解过程：初始阶段，门控网络给所有专家分配相等的混合比例，导致每个专家处理的案例数量大致相等，决策线趋向于处理所有案例的平均最优解。随着训练进行，竞争机制使专家分化，专注于特定子任务，从而形成更符合数据分布的最优决策面。这种机制显著减少了干扰，训练速度比反向传播网络快约 50%，体现了 MoE 架构在训练时间上的优势。</p>\n<h2 id=\"《Outrageously-Large-Neural-Networks-The-Sparsely-Gated-Mixture-of-Experts-Layer》\">《Outrageously Large Neural Networks: The Sparsely-Gated Mixture-of-Experts Layer》</h2>\n<p>超大型神经网络：稀疏门控混合专家层</p>\n<p>2017年，合作作者中还有Hinton和 Jordan，在LSTM层之间应用MoE卷积。仅以微小的计算效率损失就取得了超过 1000 倍的模型容量提升，并在公共语言建模和翻译数据集上显著提升了最先进的结果。</p>\n<p>上一篇强调的是减小时间成本，这一篇是减小计算成本。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501141207768.png\" style=\"zoom:40%;\" />\n<h3 id=\"基础架构-2\">基础架构</h3>\n<h4 id=\"稀疏门控专家混合层（MoE）\">稀疏门控专家混合层（MoE）</h4>\n<p>MoE 由很多专家组成，每个专家相当于一个前馈神经网络。以及一个可训练的门控网络，该网络选择专家的稀疏组合来处理每个输入。网络的所有部分都通过反向传播进行联合训练。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501165106468.png\" style=\"zoom:30%;\" />\n<p>设 $ G(x) $和 $ E_i(x) $ 分别为给定输入 $ x $ 的门控网络输出和第 $ i $ 个专家网络的输出。MoE 模块的输出 $ y $ 可表示为：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18.806ex\" height=\"6.354ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1562.5 8312.1 2808.5\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(767.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(1823.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(509.9,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(3434.2,0)\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4220.2,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4609.2,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5181.2,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(5897.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D438\" d=\"M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(771,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6962.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7351.1,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7923.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>y</mi><mo>=</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>n</mi></mrow></munderover><mi>G</mi><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><msub><mi>E</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501192052114.webp\" style=\"zoom:38%;\" />\n<h3 id=\"均衡负载\">均衡负载</h3>\n<p>门控网络总是倾向于收敛到一种状态，在这种状态下，它总是对同一批专家产生较大的权重，使得被偏好的专家训练得更快，更容易被门控网络选中。希望在训练和推理过程中，专家的重要性相等，称之为<strong>负载平衡</strong> 。某种程度上，这是为了防止对同一个专家过度拟合。</p>\n<h4 id=\"Keep-Top-K\">Keep Top-K</h4>\n<p><strong>Noisy Top-K Gating</strong></p>\n<p>添加了两个组件：<strong>稀疏性和噪音</strong>。在应用 Softmax 函数之前，添加可调的高斯噪声，然后仅保留前 $ k $ 个值，将其余值设为 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.186ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.023ex\" height=\"1.505ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -583 1778 665\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mo\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(778,0)\"><path data-c=\"221E\" d=\"M55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo>−</mo><mi mathvariant=\"normal\">∞</mi></math></mjx-assistive-mml></mjx-container>（这会导致对应的门控值为 0）。每部分的噪声量由可训练权重矩阵 $ W_{\\text{noise}} $ 控制。通过简单的反向传播训练门控网络。<strong>稀疏性用于节省计算，噪声项有助于负载均衡。</strong></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501192435690.webp\" style=\"zoom:33%;\" />\n<h5 id=\"Noise\">Noise</h5>\n<p>使用Noisy Top-K Gating方法改进MoE层，引入可训练的 Gaussian 噪声防止总是选择相同的专家。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502135639110.webp\" style=\"zoom:50%;\" />\n$$\nH(x)_i = (x \\cdot W_g)_i + \\text{StandardNormal}() \\cdot \\text{Softplus}((x \\cdot W_{\\text{noise}})_i)\n$$\n<h5 id=\"Sparse\">Sparse</h5>\n<p>除了想要激活的前 k 名专家之外，其他所有专家的权重都将设置为 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.186ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.023ex\" height=\"1.505ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -583 1778 665\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mo\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(778,0)\"><path data-c=\"221E\" d=\"M55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo>−</mo><mi mathvariant=\"normal\">∞</mi></math></mjx-assistive-mml></mjx-container> 。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140128737.png\" style=\"zoom:50%;\" />\n$$\n\\text{KeepTopK}(v, k)_i =\n\\begin{cases}\nv_i & \\text{if } v_i \\text{ is in the top } k \\text{ elements of } v, \\\\\\\n-\\infty & \\text{otherwise}.\n\\end{cases}\n$$\n通过将这些权重设置为 $-\\infty$ ，SoftMax 在这些权重上的输出将产生概率 **0** ：\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140429369.webp\" style=\"zoom:50%;\" />\n$$\nG(x) = \\text{Softmax}(\\text{KeepTopK}(H(x), k))\n$$\n<p>KeepTopK 策略将每个 token 路由给几个选定的专家。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140803358.webp\" style=\"zoom:50%;\" />\n<h4 id=\"Auxiliary-Loss\">Auxiliary Loss</h4>\n<p>为了在训练过程中获得更均匀的专家分布，辅助损失（也称为<em>负载平衡损失</em> ）被添加到网络的常规损失中。它增加了一个约束，迫使专家具有同等重要性。</p>\n<p>该辅助损失的第一个组成部分是将整个批次中每个专家的门控值相加。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502133715717.png\" style=\"zoom:50%;\" />\n$$\n\\text{Importance}(X) = \\sum_{x \\in X} G(x) \n$$\n这为我们提供了每个专家的重要性分数 ，该分数表示无论输入如何，选择特定专家的可能性。可以用它来计算*变异系数* （ **CV** ），它告诉我们专家之间重要性得分的差异有多大。利用这个 **CV** 分数，我们可以在训练期间更新**辅助损失** ，以尽可能降低 **CV** 分数（ 从而给予每个专家同等的重要性 ）。\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134023343.webp\" style=\"zoom:50%;\" />\n<p>如果重要性分数存在很大差异，则 <strong>CV</strong> 会很高，相反，如果所有专家的重要性得分都相似，那么 <strong>CV</strong> 就会较低</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134637067.webp\" style=\"zoom:50%;\" />\n$$\nL_{\\text{importance}}(X) = w_{\\text{importance}} \\cdot CV(\\text{Importance}(X))^2\n$$\n最后，将辅助损失作为单独的损失添加，以便在训练期间进行优化。\n<p>虽然这种损失函数可以确保平衡的重要性，但专家仍然可能收到数量非常不同的样本。为了解决这一问题，论文引入了 $ L_{\\text{load}} $ 损失，专门用于平衡专家接收的样本数量（即负载均衡），与 $ L_{\\text{importance}} $ 损失（平衡门控权重总和）配合使用。</p>\n<h4 id=\"Load-Balancing-Loss\">Load-Balancing Loss</h4>\n<p>专家接收的样本数量是一个离散值，无法用于反向传播。所以这里定义了一个平滑估计器 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"8.699ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 3845 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(681,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1166,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1695,0)\"><path data-c=\"1D451\" d=\"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2215,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2604,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3456,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>L</mi><mi>o</mi><mi>a</mi><mi>d</mi><mo stretchy=\"false\">(</mo><mi>X</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container>，用于估计每个专家在输入批次 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: 0;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.928ex\" height=\"1.545ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 852 683\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>X</mi></math></mjx-assistive-mml></mjx-container> 中分配到的示例数量，通过概率计算来近似样本分配。平滑性使得可以通过估计器反向传播梯度。这是门控函数中噪声项的目的。</p>\n<p>对于一个输入批次 $ X $，第 $ i $ 个专家的负载定义为：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.779ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"22.641ex\" height=\"4.928ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -950 10007.4 2178.2\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2181,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2570,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3422,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(4415.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munder\" transform=\"translate(5471.5,0)\"><g data-mml-node=\"mo\" transform=\"translate(17.3,0)\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(0,-1100) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(572,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1239,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(7116.7,0)\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7867.7,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(8256.7,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8828.7,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(9273.4,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9618.4,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>Load</mi><mo stretchy=\"false\">(</mo><mi>X</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>=</mo><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></munder><mi>P</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><p>其中 $ P(x, i) $ 是给定输入 $ x $ 时第 $ i $ 个专家被选中的概率，它描述了第 $ i$ 个专家的“带噪声得分”大于某个阈值的概率。论文通过噪声 Top-K 门控的特性计算 $ P(x, i) $：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"93.829ex\" height=\"2.364ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 41472.6 1045\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(751,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1140,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1712,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2156.7,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2501.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3168.4,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4224.2,0)\"><path data-c=\"50\" d=\"M130 622Q123 629 119 631T103 634T60 637H27V683H214Q237 683 276 683T331 684Q419 684 471 671T567 616Q624 563 624 489Q624 421 573 372T451 307Q429 302 328 301H234V181Q234 62 237 58Q245 47 304 46H337V0H326Q305 3 182 3Q47 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM507 488Q507 514 506 528T500 564T483 597T450 620T397 635Q385 637 307 637H286Q237 637 234 628Q231 624 231 483V342H302H339Q390 342 423 349T481 382Q507 411 507 488Z\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(681,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(5463.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(389,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(778,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1572.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(2072.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(977,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(3436.7,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(4374.9,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(5375.1,0)\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(2001,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2557,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(3057,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3449,0)\" style=\"stroke-width: 3;\"/><path data-c=\"4E\" d=\"M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z\" transform=\"translate(4005,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(4755,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(5255,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(5647,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(6480,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(6980,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(12633.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13022.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13633.4,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(14133.6,0)\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(1362,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1751,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2307,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(2585,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(3141,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(17668.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18057.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(18446.6,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(19240.8,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(19741,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(977,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(1334,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1728,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(22303.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(23019.8,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(23686.6,0)\"><path data-c=\"3E\" d=\"M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(24742.4,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(25263.4,0)\"><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(389,0)\" style=\"stroke-width: 3;\"/><path data-c=\"5F\" d=\"M0 -62V-25H499V-62H0Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(2417,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2861,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(3139,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3695,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(4251,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(4529,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(5085,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(30848.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(31237.4,0)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(32125.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(32514.4,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(33086.4,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(33475.4,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(33920,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(34441,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(34885.7,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(35230.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(35619.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>P</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo data-mjx-texclass=\"OP\" movablelimits=\"true\">Pr</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">(</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mi>g</mi></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>+</mo><mtext>StandardNormal</mtext><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">)</mo><mo>⋅</mo><mtext>Softplus</mtext><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mtext>noise</mtext></mrow></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>&gt;</mo><mi>k</mi><mtext>th_excluding</mtext><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo><mo data-mjx-texclass=\"CLOSE\">)</mo></mrow></math></mjx-assistive-mml></mjx-container><p><strong>$ (x \\cdot W_g)_i $</strong>：</p>\n<ul>\n<li>$x $ 是输入向量（例如来自上一层的 LSTM 输出）。</li>\n<li>$ W_g $ 是门控网络的可训练权重矩阵。</li>\n<li>$ (x \\cdot W_g)_i $ 是第 $ i $ 个专家的原始得分（未添加噪声），表示门控网络对第 $ i $ 个专家的“偏好”。</li>\n</ul>\n<p><strong>$ StandardNormal()⋅Softplus((x⋅Wnoise)i) $</strong>：</p>\n<ul>\n<li><strong>$ \\text{StandardNormal}() $</strong>：表示从均值为 0、标准差为 1 的标准正态分布中采样一个随机数。</li>\n<li>**$ (x \\cdot W_{\\text{noise}})<em>i <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.452ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32.68ex\" height=\"2.149ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 14444.4 950\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mo\"><path data-c=\"2217\" d=\"M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(722.2,0)\"><path data-c=\"2217\" d=\"M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1444.4,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">：</text></g><g data-mml-node=\"mi\" transform=\"translate(2444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">通</text></g><g data-mml-node=\"mi\" transform=\"translate(3444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">过</text></g><g data-mml-node=\"mi\" transform=\"translate(4444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">另</text></g><g data-mml-node=\"mi\" transform=\"translate(5444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">一</text></g><g data-mml-node=\"mi\" transform=\"translate(6444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">个</text></g><g data-mml-node=\"mi\" transform=\"translate(7444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">可</text></g><g data-mml-node=\"mi\" transform=\"translate(8444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">训</text></g><g data-mml-node=\"mi\" transform=\"translate(9444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">练</text></g><g data-mml-node=\"mi\" transform=\"translate(10444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">权</text></g><g data-mml-node=\"mi\" transform=\"translate(11444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">重</text></g><g data-mml-node=\"mi\" transform=\"translate(12444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">矩</text></g><g data-mml-node=\"mi\" transform=\"translate(13444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">阵</text></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo>∗</mo><mo>∗</mo><mi>：</mi><mi mathvariant=\"normal\">通</mi><mi mathvariant=\"normal\">过</mi><mi mathvariant=\"normal\">另</mi><mi mathvariant=\"normal\">一</mi><mi mathvariant=\"normal\">个</mi><mi mathvariant=\"normal\">可</mi><mi mathvariant=\"normal\">训</mi><mi mathvariant=\"normal\">练</mi><mi mathvariant=\"normal\">权</mi><mi mathvariant=\"normal\">重</mi><mi mathvariant=\"normal\">矩</mi><mi mathvariant=\"normal\">阵</mi></math></mjx-assistive-mml></mjx-container> W</em>{\\text{noise}} $ 计算的噪声控制项。</li>\n<li><strong>$ \\text{Softplus}((x \\cdot W_{\\text{noise}})_i) $</strong>：这部分计算噪声的标准差。它通过将输入 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.294ex\" height=\"1.025ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -442 572 453\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></mjx-assistive-mml></mjx-container> 与另一个可训练的权重矩阵 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"6.107ex\" height=\"1.902ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 2699.3 840.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(977,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1085,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1430,0)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1899,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>e</mi></mrow></msub></math></mjx-assistive-mml></mjx-container> 相乘，然后应用 Softplus 函数 $ \\text{Softplus}(z) = \\log(1 + e^z) $ 来确保标准差为正值。这个标准差是可调节的，并且依赖于输入 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.294ex\" height=\"1.025ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -442 572 453\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></mjx-assistive-mml></mjx-container> 。</li>\n<li>这部分是加到原始得分上的高斯噪声，表示一个高斯噪声项，均值为 0，方差由 $ \\text{Softplus}((x \\cdot W_{\\text{noise}})_i) $决定。噪声的引入有助于负载均衡，避免门控网络总是选择固定的专家。</li>\n</ul>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"60.021ex\" height=\"2.364ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 26529.3 1045\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(888,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1277,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1849,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2842.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3898.5,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4287.5,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5081.7,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5582,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(977,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(6946.2,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(7884.4,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(8884.6,0)\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(2001,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2557,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(3057,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3449,0)\" style=\"stroke-width: 3;\"/><path data-c=\"4E\" d=\"M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z\" transform=\"translate(4005,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(4755,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(5255,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(5647,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(6480,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(6980,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16142.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16531.6,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(17142.9,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(17643.1,0)\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(1362,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1751,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2307,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(2585,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(3141,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(21178.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(21567.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(21956.1,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(22750.3,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(23250.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(977,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(1334,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1728,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(25813.4,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>=</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mi>g</mi></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>+</mo><mtext>StandardNormal</mtext><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">)</mo><mo>⋅</mo><mtext>Softplus</mtext><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mtext>noise</mtext></mrow></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub></math></mjx-assistive-mml></mjx-container><p><mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"5.803ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 2565 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(888,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1277,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1849,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub></math></mjx-assistive-mml></mjx-container>代表了第$ i $个专家的最终“带噪声得分”。</p>\n<p><strong><mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24.609ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 10877.3 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(521,0)\"><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(389,0)\" style=\"stroke-width: 3;\"/><path data-c=\"5F\" d=\"M0 -62V-25H499V-62H0Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(2417,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2861,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(3139,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3695,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(4251,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(4529,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(5085,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6106,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6495,0)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7383,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7772,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8344,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8733,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(9177.7,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9698.7,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10143.3,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10488.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>k</mi><mtext>th_excluding</mtext><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container></strong>: 这是决定专家 i 是否被选中的阈值。它的含义是：在向量 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"5.063ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 2238 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(888,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1277,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1849,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container>（包含了所有专家的带噪声得分）中，排除掉第 i 个专家自身的分数后，找到剩下 n−1 个分数中第 k 大的分数 。</p>\n<p>$Pr(⋯&gt;…): $ 公式计算  $ H(x)_ i $（重新采样噪声后）大于  <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24.609ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 10877.3 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(521,0)\"><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(389,0)\" style=\"stroke-width: 3;\"/><path data-c=\"5F\" d=\"M0 -62V-25H499V-62H0Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(2417,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2861,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(3139,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3695,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(4251,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(4529,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(5085,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6106,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6495,0)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7383,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7772,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8344,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8733,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(9177.7,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9698.7,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10143.3,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10488.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>k</mi><mtext>th_excluding</mtext><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container> 的概率。在噪声 Top-K 门控中，第 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"0.781ex\" height=\"1.52ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -661 345 672\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>𝑖</mi></math></mjx-assistive-mml></mjx-container> 个专家被选中当且仅当 $ H(x)_ i$ 是 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"5.063ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 2238 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(888,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1277,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1849,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>𝐻</mi><mo stretchy=\"false\">(</mo><mi>𝑥</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container> 中前 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.179ex\" height=\"1.595ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -694 521 705\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>𝑘</mi></math></mjx-assistive-mml></mjx-container> 大的值。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.172ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"51.784ex\" height=\"5.577ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1505 22888.4 2465\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(751,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1140,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1712,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2156.7,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2501.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3168.4,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4224.2,0)\"><path data-c=\"3A6\" d=\"M312 622Q310 623 307 625T303 629T297 631T286 634T270 635T246 636T211 637H184V683H196Q220 680 361 680T526 683H538V637H511Q468 637 447 635T422 631T411 622V533L425 531Q525 519 595 466T665 342Q665 301 642 267T583 209T506 172T425 152L411 150V61Q417 55 421 53T447 48T511 46H538V0H526Q502 3 361 3T196 0H184V46H211Q231 46 245 46T270 47T286 48T297 51T303 54T307 57T312 61V150H310Q309 151 289 153T232 166T160 195Q149 201 136 210T103 238T69 284T56 342Q56 414 128 467T294 530Q309 532 310 533H312V622ZM170 342Q170 207 307 188H312V495H309Q301 495 282 491T231 469T186 423Q170 389 170 342ZM415 188Q487 199 519 236T551 342Q551 384 539 414T507 459T470 481T434 491T415 495H410V188H415Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(5112.9,0)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"28\" d=\"M701 -940Q701 -943 695 -949H664Q662 -947 636 -922T591 -879T537 -818T475 -737T412 -636T350 -511T295 -362T250 -186T221 17T209 251Q209 962 573 1361Q596 1386 616 1405T649 1437T664 1450H695Q701 1444 701 1441Q701 1436 681 1415T629 1356T557 1261T476 1118T400 927T340 675T308 359Q306 321 306 250Q306 -139 400 -430T690 -924Q701 -936 701 -940Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(736,0)\"><g data-mml-node=\"mrow\" transform=\"translate(220,755)\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(389,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1183.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1683.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(977,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(3047.7,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(3985.9,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4986.1,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(5507.1,0)\"><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(389,0)\" style=\"stroke-width: 3;\"/><path data-c=\"5F\" d=\"M0 -62V-25H499V-62H0Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(2417,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2861,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(3139,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3695,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(4251,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(4529,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(5085,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(11092.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(11481.1,0)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(12369.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12758.1,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13330.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13719.1,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(14163.8,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(14684.8,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(15129.5,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(15474.5,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mrow\" transform=\"translate(3514.1,-710)\"><g data-mml-node=\"mtext\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(1362,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1751,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2307,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(2585,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(3141,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3535,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3924,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4313,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5107.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5607.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(977,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(1334,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1728,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(8170.3,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8886.2,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"16063.5\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(17039.5,0) translate(0 -0.5)\"><path data-c=\"29\" d=\"M34 1438Q34 1446 37 1448T50 1450H56H71Q73 1448 99 1423T144 1380T198 1319T260 1238T323 1137T385 1013T440 864T485 688T514 485T526 251Q526 134 519 53Q472 -519 162 -860Q139 -885 119 -904T86 -936T71 -949H56Q43 -949 39 -947T34 -937Q88 -883 140 -813Q428 -430 428 251Q428 453 402 628T338 922T245 1146T145 1309T46 1425Q44 1427 42 1429T39 1433T36 1436L34 1438Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>P</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"normal\">Φ</mi><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">(</mo><mfrac><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mi>g</mi></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>−</mo><mi>k</mi><mtext>th_excluding</mtext><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mtext>Softplus</mtext><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mtext>noise</mtext></mrow></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mfrac><mo data-mjx-texclass=\"CLOSE\">)</mo></mrow></math></mjx-assistive-mml></mjx-container><p>Φ 表示标准正态分布的累积分布函数（CDF）。利用正态分布的 CDF 给出了计算这个概率的具体数学表达式，方便进行计算和反向传播（因为 Φ 是可微的）。这整个机制是为了在选择专家时引入随机性（有助于负载均衡 ）并估算每个专家被选中的概率，进而定义<mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.659ex\" height=\"1.902ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 2059.4 840.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(714,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(298,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(783,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1312,0)\"><path data-c=\"1D451\" d=\"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>L</mi><mrow data-mjx-texclass=\"ORD\"><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi></mrow></msub></math></mjx-assistive-mml></mjx-container>损失。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32.573ex\" height=\"2.565ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -883.9 14397.2 1133.9\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(714,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1278,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2060.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2449.8,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3301.8,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3968.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5024.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D464\" d=\"M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(749,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1278,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(7342.4,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7842.7,0)\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(8602.7,0)\"><path data-c=\"1D449\" d=\"M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9371.7,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(9760.7,0)\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(11941.7,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12330.7,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13182.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msup\" transform=\"translate(13571.7,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(422,413) scale(0.707)\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>L</mi><mrow data-mjx-texclass=\"ORD\"><mtext>load</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>X</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mi>w</mi><mrow data-mjx-texclass=\"ORD\"><mtext>load</mtext></mrow></msub><mo>⋅</mo><mi>C</mi><mi>V</mi><mo stretchy=\"false\">(</mo><mtext>Load</mtext><mo stretchy=\"false\">(</mo><mi>X</mi><mo stretchy=\"false\">)</mo><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></math></mjx-assistive-mml></mjx-container><p>初始负载不平衡：为了避免内存溢出错误，需要在近似相等的专家负载状态下初始化网络（因为软约束需要一些时间才能发挥作用）。为了实现这一点，将矩阵 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"3.087ex\" height=\"2.213ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 1364.3 978\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(977,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>W</mi><mi>g</mi></msub></math></mjx-assistive-mml></mjx-container> 和 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"6.107ex\" height=\"1.902ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 2699.3 840.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(977,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1085,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1430,0)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1899,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>e</mi></mrow></msub></math></mjx-assistive-mml></mjx-container> 初始化为全零，这样就不会产生信号，而只有一些噪声。</p>\n<h4 id=\"Hierarchical-Mixture-of-Experts\">Hierarchical Mixture-of-Experts</h4>\n<p>层次 MoE 是一种分层结构的 MoE，如果专家数量非常庞大，可以使用两层分层MoE来降低分支因子。在一个分层MoE中，一个主门控网络选择一个稀疏加权组合的“专家”，每个“专家”本身就是一个具有自己门控网络的二级混合专家。</p>\n<p><strong>第一级（主门控网络）</strong>：主门控网络 $ G_{\\text{primary}} $ 负责选择一组“专家组”（groups of experts）。</p>\n<p><strong>第二级（次级门控网络）</strong>：每个专家组内有一个次级门控网络 $G_i $，负责在该组内选择具体的专家。</p>\n<p><strong>专家网络</strong>：最终的专家网络 $E_{i,j} $，其中 $ i $ 表示组索引，$j $ 表示组内的专家索引。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -3.014ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"40.604ex\" height=\"6.952ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1740.7 17946.8 3072.9\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1478.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(2534.5,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(535,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"munderover\" transform=\"translate(4145.1,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(124.5,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(412,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1190,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(570.3,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(5755.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(819,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(948,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1226,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2059,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(2559,0)\" style=\"stroke-width: 3;\"/><path data-c=\"79\" d=\"M69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66Z\" transform=\"translate(2951,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9084.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(9473.8,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(10045.8,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(10984,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(11484.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(819,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(12597.2,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12986.2,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(13558.2,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(14543.7,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(15043.9,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D438\" d=\"M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(771,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(16596.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(16985.8,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(17557.8,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>y</mi><mi>H</mi></msub><mo>=</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>a</mi></mrow></munderover><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>b</mi></mrow></munderover><msub><mi>G</mi><mrow data-mjx-texclass=\"ORD\"><mtext>primary</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>⋅</mo><msub><mi>G</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>j</mi></msub><mo>⋅</mo><msub><mi>E</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><p><mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"13.864ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 6128 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(786,0)\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1289,0)\"><path data-c=\"1D45F\" d=\"M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1740,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2085,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2963,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3492,0)\"><path data-c=\"1D45F\" d=\"M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3943,0)\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4433,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4822,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5394,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(5783,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>G</mi><mi>p</mi><mi>r</mi><mi>i</mi><mi>m</mi><mi>a</mi><mi>r</mi><mi>y</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mi>i</mi></math></mjx-assistive-mml></mjx-container>：主门控网络对第 $ i $ 个组的权重。</p>\n<p>$G_i(x)_j $：第 $ i $ 个组的次级门控网络对组内第 $j $ 个专家的权重。</p>\n<p>$ E_{i,j}(x) $：第 $ i $ 个组中第 $j $ 个专家的输出。</p>\n<p>对专家利用率的衡量指标将更改为以下内容：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.779ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"44.514ex\" height=\"4.928ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -950 19675.2 2178.2\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mtext\"><path data-c=\"49\" d=\"M328 0Q307 3 180 3T32 0H21V46H43Q92 46 106 49T126 60Q128 63 128 342Q128 620 126 623Q122 628 118 630T96 635T43 637H21V683H32Q53 680 180 680T328 683H339V637H317Q268 637 254 634T234 623Q232 620 232 342Q232 63 234 60Q238 55 242 53T264 48T317 46H339V0H328Z\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(361,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1194,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(1750,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(2250,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(2642,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(3031,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(3531,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(4087,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(4531,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(5008,-229.4) scale(0.707)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5685.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6074.9,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6926.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(422,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(8408.5,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munder\" transform=\"translate(9464.3,0)\"><g data-mml-node=\"mo\" transform=\"translate(17.3,0)\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(0,-1100) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(572,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1239,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(11109.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(819,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(948,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1226,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2059,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(2559,0)\" style=\"stroke-width: 3;\"/><path data-c=\"79\" d=\"M69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66Z\" transform=\"translate(2951,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(14438.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(14827.6,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(15399.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(16337.7,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(16838,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(819,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(17950.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(18339.9,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(18911.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mtext>Importance</mtext><mi>H</mi></msub><mo stretchy=\"false\">(</mo><mi>X</mi><msub><mo stretchy=\"false\">)</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>=</mo><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></munder><msub><mi>G</mi><mrow data-mjx-texclass=\"ORD\"><mtext>primary</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>⋅</mo><msub><mi>G</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>j</mi></msub></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.328ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"45.145ex\" height=\"6.055ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1647.6 19954.3 2676.4\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mtext\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2214,-150) scale(0.707)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2891.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3280.9,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4132.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(422,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(5614.5,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(6670.3,0)\"><g data-mml-node=\"mrow\" transform=\"translate(220,754.2)\"><g data-mml-node=\"msub\"><g data-mml-node=\"mtext\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(2214,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(948,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1226,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2059,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(2559,0)\" style=\"stroke-width: 3;\"/><path data-c=\"79\" d=\"M69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66Z\" transform=\"translate(2951,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(4724,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(5113,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5965,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6903.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7403.4,0)\"><g data-mml-node=\"mtext\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2214,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9911.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msup\" transform=\"translate(10300.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(936.2,363) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(389,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(734,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(12080.7,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mrow\" transform=\"translate(5473.9,-779.3)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"7C\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msup\" transform=\"translate(278,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(936.2,289) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(389,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(734,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2058.3,0) translate(0 -0.5)\"><path data-c=\"7C\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"13044\" height=\"60\" x=\"120\" y=\"220\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mtext>Load</mtext><mi>H</mi></msub><mo stretchy=\"false\">(</mo><mi>X</mi><msub><mo stretchy=\"false\">)</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><msub><mtext>Load</mtext><mrow data-mjx-texclass=\"ORD\"><mtext>primary</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>X</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>⋅</mo><msub><mtext>Load</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msup><mi>X</mi><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msup><msub><mo stretchy=\"false\">)</mo><mi>j</mi></msub></mrow><mrow><mo data-mjx-texclass=\"ORD\" stretchy=\"false\">|</mo><msup><mi>X</mi><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msup><mo data-mjx-texclass=\"ORD\" stretchy=\"false\">|</mo></mrow></mfrac></math></mjx-assistive-mml></mjx-container><p><mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.666ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"10.688ex\" height=\"2.236ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -694 4724 988.2\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mtext\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(2214,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(948,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1226,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2059,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(2559,0)\" style=\"stroke-width: 3;\"/><path data-c=\"79\" d=\"M69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66Z\" transform=\"translate(2951,0)\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mtext>Load</mtext><mrow data-mjx-texclass=\"ORD\"><mtext>primary</mtext></mrow></msub></math></mjx-assistive-mml></mjx-container>   和 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"5.751ex\" height=\"1.927ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -694 2542 851.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(681,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1166,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1695,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D451\" d=\"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(553,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>L</mi><mi>o</mi><mi>a</mi><msub><mi>d</mi><mi>i</mi></msub></math></mjx-assistive-mml></mjx-container> 分别表示主门控网络和 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.467ex\" height=\"1.956ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -853.7 1090.6 864.7\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msup\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(378,363) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(361,0)\"><path data-c=\"210E\" d=\"M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msup><mi>i</mi><mrow data-mjx-texclass=\"ORD\"><mi>t</mi><mi>h</mi></mrow></msup></math></mjx-assistive-mml></mjx-container> 次级门控网络的加载函数。 $ X^{(i)} $表示 X 中满足 $ G_{\\text{primary}}(x)_i &gt; 0 $ 的子集。</p>\n<h2 id=\"《GShard-Scaling-Giant-Models-with-Conditional-Computation-and-Automatic-Sharding》\">《GShard: Scaling Giant Models with Conditional Computation and Automatic Sharding》</h2>\n<p>基于条件计算和自动分片的巨型模型扩展。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502231628278.png\" style=\"zoom:30%;\" />\n<h3 id=\"创新点\">创新点</h3>\n<h4 id=\"Expert-Capacity\">Expert Capacity</h4>\n<p>专家容量</p>\n<p>不平衡不仅存在于所选专家中，还存在于发送给专家的token分配中。如果输入 token 不成比例地发送给一个专家而不是另一个专家，那么也可能导致训练不足。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134823180.webp\" style=\"zoom:50%;\" />\n<p>解决这个问题的一个方法是限制每个专家可以处理的 token 数量，即专家容量 。当专家达到容量上限时，产生的 token 将被发送给下一个专家：</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134935242.webp\" style=\"zoom:50%;\" />\n<p>如果两个专家都已达到其容量上限，则 token 将不会被任何专家处理，而是被发送到下一层。这称为 token 溢出 。这些token的表示通过残差连接传递到下一层。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502135022720.webp\" style=\"zoom:50%;\" />\n<h4 id=\"Auxiliary-loss\">Auxiliary loss</h4>\n<p>门控函数不应总是选择相同的一小部分专家，因为这会导致一小部分专家容量溢出，而其余专家则被闲置。定义了一个辅助损失项 ℓaux 来强制执行此约束。 它被添加到模型的总损失函数中 L = ℓnll + k ∗ ℓaux，其中 k 是一个常数乘数。</p>\n<h4 id=\"Random-routing\">Random routing</h4>\n<p>随机路由机制</p>\n<p>在 top-2 设计中，始终选择表现最优的专家，但第二选择的专家则根据其权重以一定概率被选中。</p>\n<h2 id=\"《Switch-Transformers-Scaling-to-Trillion-Parameter-Models-with-Simple-and-Eﬃcient-Sparsity》\">《Switch Transformers: Scaling to Trillion Parameter Models with Simple and Eﬃcient Sparsity》</h2>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250505161645576.png\" style=\"zoom:35%;\" />\n<p>简化了MoE路由算法，并设计了直观的改进模型，从而降低了通信和计算成本。提出的训练技术减轻了不稳定性，并且证明了可以使用较低精度（bfloat16）格式首次训练大型稀疏模型。将 Switch 层添加到 Transformer 的自注意力层中。</p>\n<h3 id=\"Switch-Routing\">Switch Routing</h3>\n<p>（1）仅将token路由到单个专家，因此减少了路由器计算。</p>\n<p>（2）由于每个token仅被路由到单个专家，因此每个专家的批次大小（专家容量）可以至少减半。</p>\n<p>（3）路由实现得到简化，并且通信成本降低。</p>\n<h2 id=\"《DeepSeekMoE-Towards-Ultimate-Expert-Specialization-in-Mixture-of-Experts-Language-Models》\">《DeepSeekMoE: Towards Ultimate Expert Specialization in Mixture-of-Experts Language Models》</h2>\n<h3 id=\"现有MoE架构问题\">现有MoE架构问题</h3>\n<p>（1）知识混合性：现有的MoE实践通常采用数量有限的专家（例如，8个或16个），因此分配给特定专家的token可能涵盖各种知识。因此，指定的专家将倾向于在其参数中组合截然不同的知识类型，而这些知识很难同时利用。</p>\n<p>（2）知识冗余：分配给不同专家的token可能需要共同的知识。因此，多个专家可能会收敛于在其各自的参数中获取共享知识，从而导致专家参数的冗余。</p>\n<p>这些问题共同阻碍了现有MoE实践中的专家专业化，使其无法达到MoE模型的理论性能上限。</p>\n<p>我个人感觉第一个问题和第一篇论文提出的目的应该是一致的，一个模型在不同场合执行不同任务会产生干扰，然后这里的专家又出现了这个问题，使得专家的专业化程度较低。</p>\n<h3 id=\"解决问题的主要策略\">解决问题的主要策略</h3>\n<p>（1）细粒度专家分割：在保持参数数量不变的同时，我们通过分割 FFN 中间隐藏维度将专家分割成更细的粒度。相应地，在保持恒定计算成本的同时，我们也激活更多细粒度的专家，以实现激活专家的更灵活和适应性更强的组合。细粒度的专家分割使得不同的知识能够被更精细地分解，并被更精确地学习到不同的专家中，其中每个专家将保持更高的专业化水平。此外，激活专家组合的灵活性增加也有助于更准确和有针对性的知识获取。</p>\n<p>（2）共享专家隔离：我们隔离某些专家作为始终激活的共享专家，旨在捕获和巩固不同上下文中的通用知识。通过将通用知识压缩到这些共享专家中，其他路由专家之间的冗余将被减轻。这可以提高参数效率，并确保每个路由专家通过专注于独特的方面来保持专业性。</p>\n<p>DeepSeekMoE 中的这些架构创新为训练参数高效的 MoE 语言模型提供了机会，其中每个专家都高度专业化。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502145719363.png\" style=\"zoom:40%;\" />\n<p>DeepSeekMoE 的示意图。子图 (a) 展示了具有传统 top-2 路由策略的 MoE 层。子图 (b) 说明了细粒度专家分割策略。子图 © 展示了共享专家隔离策略的集成，构成了完整的 DeepSeekMoE 架构。值得注意的是，在这三种架构中，专家参数的数量和计算成本保持不变。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502161913940.png\" style=\"zoom:40%;\" />\n<h3 id=\"DeepSeekMoE-架构\">DeepSeekMoE 架构</h3>\n<h4 id=\"细粒度专家分割\">细粒度专家分割</h4>\n<p>通过将FFN中间隐藏维度降低到原始大小的𝑚分之一，将每个专家FFN分割成𝑚个更小的专家。由于每个专家变得更小，作为回应，还将激活专家的数量增加到𝑚倍，以保持相同的计算成本。通过细粒度的专家分割，MoE层的输出可以表示为：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"29.07ex\" height=\"6.74ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1733 12849 2978.9\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msubsup\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D421\" d=\"M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1255,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(2310.8,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(97.6,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(878,0)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(3754.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4143.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(510,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(5621.8,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6122.1,0)\"><g data-mml-node=\"mtext\"><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" style=\"stroke-width: 3;\"/><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" transform=\"translate(653,0)\" style=\"stroke-width: 3;\"/><path data-c=\"4E\" d=\"M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z\" transform=\"translate(1306,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2089,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8505,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(8894,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9871.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10260.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10871.5,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(11871.7,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">h</mi></mrow><mi>t</mi><mi>l</mi></msubsup><mo>=</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>m</mi><mi>N</mi></mrow></munderover><mo stretchy=\"false\">(</mo><msub><mi>g</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>⋅</mo><msub><mtext>FFN</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mi>l</mi></msubsup><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>+</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mi>l</mi></msubsup></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.148ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"51.52ex\" height=\"5.428ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1449.5 22772 2399\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(510,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1533.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(2589.3,0)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"7B\" d=\"M618 -943L612 -949H582L568 -943Q472 -903 411 -841T332 -703Q327 -682 327 -653T325 -350Q324 -28 323 -18Q317 24 301 61T264 124T221 171T179 205T147 225T132 234Q130 238 130 250Q130 255 130 258T131 264T132 267T134 269T139 272T144 275Q207 308 256 367Q310 436 323 519Q324 529 325 851Q326 1124 326 1154T332 1205Q369 1358 566 1443L582 1450H612L618 1444V1429Q618 1413 616 1411L608 1406Q599 1402 585 1393T552 1372T515 1343T479 1305T449 1257T429 1200Q425 1180 425 1152T423 851Q422 579 422 549T416 498Q407 459 388 424T346 364T297 318T250 284T214 264T197 254L188 251L205 242Q290 200 345 138T416 3Q421 -18 421 -48T423 -349Q423 -397 423 -472Q424 -677 428 -694Q429 -697 429 -699Q434 -722 443 -743T465 -782T491 -816T519 -845T548 -868T574 -886T595 -899T610 -908L616 -910Q618 -912 618 -928V-943Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtable\" transform=\"translate(750,0)\"><g data-mml-node=\"mtr\" transform=\"translate(0,622.1)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1247.8,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mtd\" transform=\"translate(2525.8,0)\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1525.6,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(2470.3,0)\"><path data-c=\"54\" d=\"M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(722,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1222,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6B\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124T98 167T98 217T98 272T98 329Q98 366 98 407T98 482T98 542T97 586T97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V463L180 233L240 287Q300 341 304 347Q310 356 310 364Q310 383 289 385H284V431H293Q308 428 412 428Q475 428 484 431H489V385H476Q407 380 360 341Q286 278 286 274Q286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3Q322 3 307 0H299V46H306Q330 48 330 65Q330 72 326 79Q323 84 276 153T228 222L176 176V120V84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z\" transform=\"translate(1778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4776.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5165.3,0)\"><path data-c=\"7B\" d=\"M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5665.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(412,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(690,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(6960.5,0)\"><path data-c=\"7D\" d=\"M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7738.3,0)\"><path data-c=\"2223\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(8294.1,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9071.9,0)\"><path data-c=\"2264\" d=\"M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10127.6,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10817.4,0)\"><path data-c=\"2264\" d=\"M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(11873.2,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12751.2,0)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13639.2,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(14028.2,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(14472.9,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(15350.9,0)\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16239.9,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16628.9,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mtr\" transform=\"translate(0,-622.1)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"mtext\"><path data-c=\"A0\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(250,0)\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(750,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mtd\" transform=\"translate(2525.8,0)\"><g data-mml-node=\"mtext\"><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(500,0)\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"77\" d=\"M90 368Q84 378 76 380T40 385H18V431H24L43 430Q62 430 84 429T116 428Q206 428 221 431H229V385H215Q177 383 177 368Q177 367 221 239L265 113L339 328L333 345Q323 374 316 379Q308 384 278 385H258V431H264Q270 428 348 428Q439 428 454 431H461V385H452Q404 385 404 369Q404 366 418 324T449 234T481 143L496 100L537 219Q579 341 579 347Q579 363 564 373T530 385H522V431H529Q541 428 624 428Q692 428 698 431H703V385H697Q696 385 691 385T682 384Q635 377 619 334L559 161Q546 124 528 71Q508 12 503 1T487 -11H479Q460 -11 456 -4Q455 -3 407 133L361 267Q359 263 266 -4Q261 -11 243 -11H238Q225 -11 220 -3L90 368Z\" transform=\"translate(2281,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(3003,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(3281,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(3675,0)\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(20182.6,0) translate(0 250)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>g</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">{</mo><mtable columnalign=\"left left\" columnspacing=\"1em\" rowspacing=\".2em\"><mtr><mtd><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>,</mo></mtd><mtd><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>∈</mo><mtext>Topk</mtext><mo stretchy=\"false\">(</mo><mo fence=\"false\" stretchy=\"false\">{</mo><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>j</mi><mo>,</mo><mi>t</mi></mrow></msub><mo fence=\"false\" stretchy=\"false\">}</mo><mo>∣</mo><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mi>m</mi><mi>N</mi><mo stretchy=\"false\">)</mo><mo>,</mo><mi>m</mi><mi>K</mi><mo stretchy=\"false\">)</mo><mo>,</mo></mtd></mtr><mtr><mtd><mtext> </mtext><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo data-mjx-texclass=\"CLOSE\" fence=\"true\" stretchy=\"true\" symmetric=\"true\"/></mrow></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.65ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"21.483ex\" height=\"2.931ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1008.2 9495.7 1295.4\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1525.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(2581.3,0)\"><g data-mml-node=\"mtext\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(1362,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1751,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2584,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(3084,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3645,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6520.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(6909.3,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(672,413) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msup\"><g data-mml-node=\"mi\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(331,363) scale(0.707)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msubsup\" transform=\"translate(8252.7,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D41E\" d=\"M32 225Q32 332 102 392T272 452H283Q382 452 436 401Q494 343 494 243Q494 226 486 222T440 217Q431 217 394 217T327 218H175V209Q175 177 179 154T196 107T236 69T306 50Q312 49 323 49Q376 49 410 85Q421 99 427 111T434 127T442 133T463 135H468Q494 135 494 117Q494 110 489 97T468 66T431 32T373 5T292 -6Q181 -6 107 55T32 225ZM383 276Q377 346 348 374T280 402Q253 402 230 390T195 357Q179 331 176 279V266H383V276Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(560,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(560,-247) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9106.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><msub><mtext>Softmax</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mrow data-mjx-texclass=\"ORD\"><msup><mi>l</mi><mi>T</mi></msup></mrow></msubsup><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">e</mi></mrow><mi>i</mi><mi>l</mi></msubsup><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><p>其中，专家参数的总数等于 𝑁 乘以标准 FFN 中的参数数量，mN 表示细粒度专家的总数。采用细粒度专家分割策略后，非零门控的数量也将增加到 mK。</p>\n<p>组合灵活性的激增增强了实现更准确和更有针对性的知识获取的潜力。</p>\n<h4 id=\"共享专家隔离\">共享专家隔离</h4>\n<p>采用传统的路由策略，分配给不同专家的令牌可能需要一些共同的知识或信息。因此，多个专家可能会趋同于在其各自的参数中获取共享知识，从而导致专家参数的冗余。然而，如果存在专门用于捕获和整合不同上下文中的共同知识的共享专家，则可以减轻其他路由专家之间的参数冗余。这种冗余的减轻将有助于构建一个参数效率更高、专家更专业的模型。</p>\n<p>隔离𝐾𝑠个专家作为共享专家。无论路由器模块如何，每个token都将被确定性地分配给这些共享专家。为了保持恒定的计算成本，其他路由专家中激活的专家数量将减少𝐾𝑠。通过集成共享专家隔离策略，完整DeepSeekMoE架构中的MoE层可以表述如下：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.966ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"47.438ex\" height=\"6.937ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1755 20967.6 3066\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msubsup\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D421\" d=\"M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1255,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(2310.8,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(275.2,1172.1) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(882,-150) scale(0.707)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"msub\" transform=\"translate(3921.5,0)\"><g data-mml-node=\"mtext\"><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" style=\"stroke-width: 3;\"/><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" transform=\"translate(653,0)\" style=\"stroke-width: 3;\"/><path data-c=\"4E\" d=\"M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z\" transform=\"translate(1306,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2089,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6304.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(6693.4,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(7670.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8281.9,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(9282.1,0)\"><g data-mml-node=\"mo\" transform=\"translate(573.6,0)\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(0,-1100) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1123,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(882,-150) scale(0.707)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2386.6,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(3164.6,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(671.3,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(878,0)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(11873.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(12262.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(510,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(13740.5,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(14240.7,0)\"><g data-mml-node=\"mtext\"><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" style=\"stroke-width: 3;\"/><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" transform=\"translate(653,0)\" style=\"stroke-width: 3;\"/><path data-c=\"4E\" d=\"M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z\" transform=\"translate(1306,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2089,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(16623.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(17012.6,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(17989.9,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18378.9,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18990.1,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(19990.3,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">h</mi></mrow><mi>t</mi><mi>l</mi></msubsup><mo>=</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><msub><mi>K</mi><mi>s</mi></msub></mrow></munderover><msub><mtext>FFN</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mi>l</mi></msubsup><mo stretchy=\"false\">)</mo><mo>+</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><msub><mi>K</mi><mi>s</mi></msub><mo>+</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>m</mi><mi>N</mi></mrow></munderover><mo stretchy=\"false\">(</mo><msub><mi>g</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>⋅</mo><msub><mtext>FFN</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mi>l</mi></msubsup><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>+</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mi>l</mi></msubsup></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.148ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"62.77ex\" height=\"5.428ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1449.5 27744.1 2399\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(510,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1533.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(2589.3,0)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"7B\" d=\"M618 -943L612 -949H582L568 -943Q472 -903 411 -841T332 -703Q327 -682 327 -653T325 -350Q324 -28 323 -18Q317 24 301 61T264 124T221 171T179 205T147 225T132 234Q130 238 130 250Q130 255 130 258T131 264T132 267T134 269T139 272T144 275Q207 308 256 367Q310 436 323 519Q324 529 325 851Q326 1124 326 1154T332 1205Q369 1358 566 1443L582 1450H612L618 1444V1429Q618 1413 616 1411L608 1406Q599 1402 585 1393T552 1372T515 1343T479 1305T449 1257T429 1200Q425 1180 425 1152T423 851Q422 579 422 549T416 498Q407 459 388 424T346 364T297 318T250 284T214 264T197 254L188 251L205 242Q290 200 345 138T416 3Q421 -18 421 -48T423 -349Q423 -397 423 -472Q424 -677 428 -694Q429 -697 429 -699Q434 -722 443 -743T465 -782T491 -816T519 -845T548 -868T574 -886T595 -899T610 -908L616 -910Q618 -912 618 -928V-943Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtable\" transform=\"translate(750,0)\"><g data-mml-node=\"mtr\" transform=\"translate(0,622.1)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1247.8,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mtd\" transform=\"translate(2525.8,0)\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1525.6,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(2470.3,0)\"><path data-c=\"54\" d=\"M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(722,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1222,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6B\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124T98 167T98 217T98 272T98 329Q98 366 98 407T98 482T98 542T97 586T97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V463L180 233L240 287Q300 341 304 347Q310 356 310 364Q310 383 289 385H284V431H293Q308 428 412 428Q475 428 484 431H489V385H476Q407 380 360 341Q286 278 286 274Q286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3Q322 3 307 0H299V46H306Q330 48 330 65Q330 72 326 79Q323 84 276 153T228 222L176 176V120V84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z\" transform=\"translate(1778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4776.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5165.3,0)\"><path data-c=\"7B\" d=\"M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5665.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(412,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(690,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(7238.3,0)\"><path data-c=\"2223\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7794.1,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(882,-150) scale(0.707)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9279.9,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(10280.2,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(11057.9,0)\"><path data-c=\"2264\" d=\"M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12113.7,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(12803.5,0)\"><path data-c=\"2264\" d=\"M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(13859.3,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(14737.3,0)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(15625.3,0)\"><path data-c=\"7D\" d=\"M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16125.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16514.3,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(16958.9,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(17836.9,0)\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18948.2,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(19948.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(882,-150) scale(0.707)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(21212,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(21601,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mtr\" transform=\"translate(0,-622.1)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"mtext\"><path data-c=\"A0\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(250,0)\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(750,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mtd\" transform=\"translate(2525.8,0)\"><g data-mml-node=\"mtext\"><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(500,0)\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"77\" d=\"M90 368Q84 378 76 380T40 385H18V431H24L43 430Q62 430 84 429T116 428Q206 428 221 431H229V385H215Q177 383 177 368Q177 367 221 239L265 113L339 328L333 345Q323 374 316 379Q308 384 278 385H258V431H264Q270 428 348 428Q439 428 454 431H461V385H452Q404 385 404 369Q404 366 418 324T449 234T481 143L496 100L537 219Q579 341 579 347Q579 363 564 373T530 385H522V431H529Q541 428 624 428Q692 428 698 431H703V385H697Q696 385 691 385T682 384Q635 377 619 334L559 161Q546 124 528 71Q508 12 503 1T487 -11H479Q460 -11 456 -4Q455 -3 407 133L361 267Q359 263 266 -4Q261 -11 243 -11H238Q225 -11 220 -3L90 368Z\" transform=\"translate(2281,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(3003,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(3281,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(3675,0)\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(25154.8,0) translate(0 250)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>g</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">{</mo><mtable columnalign=\"left left\" columnspacing=\"1em\" rowspacing=\".2em\"><mtr><mtd><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>,</mo></mtd><mtd><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>∈</mo><mtext>Topk</mtext><mo stretchy=\"false\">(</mo><mo fence=\"false\" stretchy=\"false\">{</mo><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>j</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>∣</mo><msub><mi>K</mi><mi>s</mi></msub><mo>+</mo><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mi>m</mi><mi>N</mi><mo fence=\"false\" stretchy=\"false\">}</mo><mo stretchy=\"false\">)</mo><mo>,</mo><mi>m</mi><mi>K</mi><mo>−</mo><msub><mi>K</mi><mi>s</mi></msub><mo stretchy=\"false\">)</mo><mo>,</mo></mtd></mtr><mtr><mtd><mtext> </mtext><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo data-mjx-texclass=\"CLOSE\" fence=\"true\" stretchy=\"true\" symmetric=\"true\"/></mrow></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.65ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"21.483ex\" height=\"2.931ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1008.2 9495.7 1295.4\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1525.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(2581.3,0)\"><g data-mml-node=\"mtext\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(1362,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1751,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2584,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(3084,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3645,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6520.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(6909.3,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(672,413) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msup\"><g data-mml-node=\"mi\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(331,363) scale(0.707)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(8252.7,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D41E\" d=\"M32 225Q32 332 102 392T272 452H283Q382 452 436 401Q494 343 494 243Q494 226 486 222T440 217Q431 217 394 217T327 218H175V209Q175 177 179 154T196 107T236 69T306 50Q312 49 323 49Q376 49 410 85Q421 99 427 111T434 127T442 133T463 135H468Q494 135 494 117Q494 110 489 97T468 66T431 32T373 5T292 -6Q181 -6 107 55T32 225ZM383 276Q377 346 348 374T280 402Q253 402 230 390T195 357Q179 331 176 279V266H383V276Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(560,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9106.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><msub><mtext>Softmax</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mrow data-mjx-texclass=\"ORD\"><msup><mi>l</mi><mi>T</mi></msup></mrow></msubsup><msub><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">e</mi></mrow><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><p>最后，在 DeepSeekMoE 中，共享专家的数量为 𝐾𝑠，路由专家的总数为 𝑚𝑁 − 𝐾𝑠，非零门的数量为 𝑚𝐾 − 𝐾𝑠。</p>\n<h4 id=\"负载均衡问题\">负载均衡问题</h4>\n<p>自动学习的路由策略可能会遇到负载不均衡的问题，这表现出两个显著的缺陷。首先，存在路由崩溃的风险，即模型总是只选择少数几个专家，导致其他专家无法得到充分的训练。其次，如果专家分布在多个设备上，负载不均衡会加剧计算瓶颈。</p>\n<h5 id=\"Expert-Level-Balance-Loss\">Expert-Level Balance Loss</h5>\n<p>专家级平衡损失。为了降低路由崩溃的风险，平衡损失的计算如下：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20.15ex\" height=\"6.861ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1786.7 8906.2 3032.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"45\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H597V676Q599 670 611 560T625 444V440H585V444Q584 447 582 465Q578 500 570 526T553 571T528 601T498 619T457 629T411 633T353 634Q266 634 251 633T233 622Q233 622 233 621Q232 619 232 497V376H286Q359 378 377 385Q413 401 416 469Q416 471 416 473V493H456V213H416V233Q415 268 408 288T383 317T349 328T297 330Q290 330 286 330H232V196V114Q232 57 237 52Q243 47 289 47H340H391Q428 47 452 50T505 62T552 92T584 146Q594 172 599 200T607 247T612 270V273H652V270Q651 267 632 137T610 3V0H25V46H58Q100 47 109 49T128 61V619Z\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(681,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1209,0)\" style=\"stroke-width: 3;\"/><path data-c=\"42\" d=\"M131 622Q124 629 120 631T104 634T61 637H28V683H229H267H346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636T333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375L406 377Q410 378 417 380T442 393T474 417T499 456T511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200V116Q229 57 234 52Q240 47 334 47H383Q425 47 443 53Q486 67 511 104T537 188Z\" transform=\"translate(1765,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2473,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2973,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(3349.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4405.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"munderover\" transform=\"translate(5648.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(290.8,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msup\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(975.3,363) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"msub\" transform=\"translate(7259.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(8076.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mtext>ExpBal</mtext></mrow></msub><mo>=</mo><msub><mi>α</mi><mn>1</mn></msub><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><msup><mi>N</mi><mo data-mjx-alternate=\"1\">′</mo></msup></mrow></munderover><msub><mi>f</mi><mi>i</mi></msub><msub><mi>p</mi><mi>i</mi></msub></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"40.501ex\" height=\"6.73ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1728.7 17901.3 2974.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1094.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(2150.5,0)\"><g data-mml-node=\"msup\" transform=\"translate(571.4,676)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(975.3,363) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mrow\" transform=\"translate(220,-686)\"><g data-mml-node=\"msup\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(974,289) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(1218.5,0)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"2122.5\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"munderover\" transform=\"translate(4679.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(142.5,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(361,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1139,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(473.1,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(6290.3,0)\"><g data-mml-node=\"mn\"><text data-variant=\"double-struck\" transform=\"scale(1,-1)\" font-size=\"884px\">𝟙</text></g></g><g data-mml-node=\"mo\" transform=\"translate(6890.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(7279.3,0)\"><path data-c=\"54\" d=\"M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(722,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6B\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124T98 167T98 217T98 272T98 329Q98 366 98 407T98 482T98 542T97 586T97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V463L180 233L240 287Q300 341 304 347Q310 356 310 364Q310 383 289 385H284V431H293Q308 428 412 428Q475 428 484 431H489V385H476Q407 380 360 341Q286 278 286 274Q286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3Q322 3 307 0H299V46H306Q330 48 330 65Q330 72 326 79Q323 84 276 153T228 222L176 176V120V84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z\" transform=\"translate(1222,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1750,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(2194,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(2750,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10279.3,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(10640.3,0)\"><path data-c=\"A0\" d=\"\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(250,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(644,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(1088,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1366,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(1810,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(2254,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(2643,0)\" style=\"stroke-width: 3;\"/><path data-c=\"20\" d=\"\" transform=\"translate(3037,0)\" style=\"stroke-width: 3;\"/><path data-c=\"45\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H597V676Q599 670 611 560T625 444V440H585V444Q584 447 582 465Q578 500 570 526T553 571T528 601T498 619T457 629T411 633T353 634Q266 634 251 633T233 622Q233 622 233 621Q232 619 232 497V376H286Q359 378 377 385Q413 401 416 469Q416 471 416 473V493H456V213H416V233Q415 268 408 288T383 317T349 328T297 330Q290 330 286 330H232V196V114Q232 57 237 52Q243 47 289 47H340H391Q428 47 452 50T505 62T552 92T584 146Q594 172 599 200T607 247T612 270V273H652V270Q651 267 632 137T610 3V0H25V46H58Q100 47 109 49T128 61V619Z\" transform=\"translate(3287,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(3968,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(4496,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(5052,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(5496,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(5888,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(6277,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(17167.3,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(17512.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mfrac><msup><mi>N</mi><mo data-mjx-alternate=\"1\">′</mo></msup><mrow><msup><mi>K</mi><mo data-mjx-alternate=\"1\">′</mo></msup><mi>T</mi></mrow></mfrac><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>T</mi></mrow></munderover><mrow data-mjx-texclass=\"ORD\"><mn mathvariant=\"double-struck\">1</mn></mrow><mo stretchy=\"false\">(</mo><mtext>Token </mtext><mi>t</mi><mtext> selects Expert </mtext><mi>i</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"14.327ex\" height=\"6.73ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1728.7 6332.6 2974.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1107.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(2163.5,0)\"><g data-mml-node=\"mn\" transform=\"translate(322,676)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(220,-686)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g><rect width=\"904\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"munderover\" transform=\"translate(3474.2,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(142.5,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(361,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1139,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(473.1,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(5084.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>p</mi><mi>i</mi></msub><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>T</mi></mrow></munderover><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><p>其中𝛼1是一个被称为专家级别平衡因子的超参数，为了简洁起见，𝑁′等于(𝑚𝑁 − 𝐾𝑠)，𝐾′等于(𝑚𝐾 − 𝐾𝑠)。1(·)表示指示函数。</p>\n<h5 id=\"Device-Level-Balance-Loss\">Device-Level Balance Loss</h5>\n<p>将所有路由的专家划分为 𝐷 组 {E1, E2, . . ., E𝐷}，并将每组部署在单个设备上，则设备级别平衡损失的计算方式如下：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20.247ex\" height=\"6.74ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1733 8949.1 2978.9\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"44\" d=\"M130 622Q123 629 119 631T103 634T60 637H27V683H228Q399 682 419 682T461 676Q504 667 546 641T626 573T685 470T708 336Q708 210 634 116T442 3Q429 1 228 0H27V46H60Q102 47 111 49T130 61V622ZM593 338Q593 439 571 501T493 602Q439 637 355 637H322H294Q238 637 234 628Q231 624 231 344Q231 62 232 59Q233 49 248 48T339 46H350Q456 46 515 95Q561 133 577 191T593 338Z\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(764,0)\" style=\"stroke-width: 3;\"/><path data-c=\"76\" d=\"M338 431Q344 429 422 429Q479 429 503 431H508V385H497Q439 381 423 345Q421 341 356 172T288 -2Q283 -11 263 -11Q244 -11 239 -2Q99 359 98 364Q93 378 82 381T43 385H19V431H25L33 430Q41 430 53 430T79 430T104 429T122 428Q217 428 232 431H240V385H226Q187 384 184 370Q184 366 235 234L286 102L377 341V349Q377 363 367 372T349 383T335 385H331V431H338Z\" transform=\"translate(1208,0)\" style=\"stroke-width: 3;\"/><path data-c=\"42\" d=\"M131 622Q124 629 120 631T104 634T61 637H28V683H229H267H346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636T333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375L406 377Q410 378 417 380T442 393T474 417T499 456T511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200V116Q229 57 234 52Q240 47 334 47H383Q425 47 443 53Q486 67 511 104T537 188Z\" transform=\"translate(1736,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2444,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2944,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(3329.1,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4384.9,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"munderover\" transform=\"translate(5628.1,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(429.3,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D437\" d=\"M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msubsup\" transform=\"translate(7238.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(636,413) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-247) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msubsup\" transform=\"translate(8119.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(536,413) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-247) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mtext>DevBal</mtext></mrow></msub><mo>=</mo><msub><mi>α</mi><mn>2</mn></msub><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>D</mi></mrow></munderover><msubsup><mi>f</mi><mi>i</mi><mo data-mjx-alternate=\"1\">′</mo></msubsup><msubsup><mi>p</mi><mi>i</mi><mo data-mjx-alternate=\"1\">′</mo></msubsup></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -3.076ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"15.173ex\" height=\"6.113ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1342 6706.6 2701.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msubsup\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(636,413) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-247) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1158.2,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(2214,0)\"><g data-mml-node=\"mn\" transform=\"translate(675.5,676)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(220,-709.5)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"7C\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(278,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"45\" d=\"M144 470Q144 556 240 630T451 705Q564 705 564 637Q564 611 540 573Q529 559 505 547T464 534Q448 534 448 545Q448 552 455 562Q463 577 463 591Q463 600 462 604T456 616T436 627T400 635Q396 635 390 635T380 636Q291 636 258 568Q245 544 245 516Q245 463 290 438T391 410Q415 410 415 398Q415 392 407 380T376 356T326 341Q288 340 260 327Q218 311 187 276T143 208T130 151Q130 113 156 88T211 55T268 47Q349 47 403 125Q415 144 439 157T483 171Q499 171 499 160Q499 148 475 120T413 59T315 3T197 -22Q124 -22 77 14T30 105Q30 126 39 154T66 216T122 288T209 354L223 362Q144 400 144 470Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(561,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1133,0) translate(0 -0.5)\"><path data-c=\"7C\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"1611\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"munder\" transform=\"translate(4231.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(38.2,-1115.5) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(412,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1079,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"45\" d=\"M144 470Q144 556 240 630T451 705Q564 705 564 637Q564 611 540 573Q529 559 505 547T464 534Q448 534 448 545Q448 552 455 562Q463 577 463 591Q463 600 462 604T456 616T436 627T400 635Q396 635 390 635T380 636Q291 636 258 568Q245 544 245 516Q245 463 290 438T391 410Q415 410 415 398Q415 392 407 380T376 356T326 341Q288 340 260 327Q218 311 187 276T143 208T130 151Q130 113 156 88T211 55T268 47Q349 47 403 125Q415 144 439 157T483 171Q499 171 499 160Q499 148 475 120T413 59T315 3T197 -22Q124 -22 77 14T30 105Q30 126 39 154T66 216T122 288T209 354L223 362Q144 400 144 470Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(561,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"msub\" transform=\"translate(5842.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msubsup><mi>f</mi><mi>i</mi><mo data-mjx-alternate=\"1\">′</mo></msubsup><mo>=</mo><mfrac><mn>1</mn><mrow><mo data-mjx-texclass=\"ORD\" stretchy=\"false\">|</mo><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">E</mi></mrow><mi>i</mi></msub><mo data-mjx-texclass=\"ORD\" stretchy=\"false\">|</mo></mrow></mfrac><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>j</mi><mo>∈</mo><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">E</mi></mrow><mi>i</mi></msub></mrow></munder><msub><mi>f</mi><mi>j</mi></msub></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -3.076ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"10.524ex\" height=\"5.226ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -950 4651.5 2309.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msubsup\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(536,413) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-247) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1107.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munder\" transform=\"translate(2163.5,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(38.2,-1115.5) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(412,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1079,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"45\" d=\"M144 470Q144 556 240 630T451 705Q564 705 564 637Q564 611 540 573Q529 559 505 547T464 534Q448 534 448 545Q448 552 455 562Q463 577 463 591Q463 600 462 604T456 616T436 627T400 635Q396 635 390 635T380 636Q291 636 258 568Q245 544 245 516Q245 463 290 438T391 410Q415 410 415 398Q415 392 407 380T376 356T326 341Q288 340 260 327Q218 311 187 276T143 208T130 151Q130 113 156 88T211 55T268 47Q349 47 403 125Q415 144 439 157T483 171Q499 171 499 160Q499 148 475 120T413 59T315 3T197 -22Q124 -22 77 14T30 105Q30 126 39 154T66 216T122 288T209 354L223 362Q144 400 144 470Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(561,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"msub\" transform=\"translate(3774.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msubsup><mi>p</mi><mi>i</mi><mo data-mjx-alternate=\"1\">′</mo></msubsup><mo>=</mo><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>j</mi><mo>∈</mo><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">E</mi></mrow><mi>i</mi></msub></mrow></munder><msub><mi>p</mi><mi>j</mi></msub></math></mjx-assistive-mml></mjx-container><p>其中𝛼2是一个被称为设备级别平衡因子的超参数。设置一个较小的专家级别平衡因子以降低路由崩溃的风险，同时设置一个较大的设备级别平衡因子以促进设备间的均衡计算。</p>\n</div>","excerpt":"","more":"<h1>Mixtures of Experts</h1>\n<h2 id=\"《Adaptive-Mixture-of-Local-Experts》\">《Adaptive Mixture of Local Experts》</h2>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501100302213.png\" style=\"zoom:50%;\" />\n<p>1991年，由 Hinton和 Jordan提出，这是最早的MoE架构。</p>\n<p>核心思想：通过多个独立专家网络处理输入数据不同子集，并由门控网络动态选择专家。<strong>每个专家接受相同的输入数据</strong>，但通过门控网络的动态分配，专家会专注于处理输入空间的特定区域。</p>\n<h3 id=\"基础架构\">基础架构</h3>\n<p>如图，一个由专家网络和门控网络组成的系统。每个专家是一个前馈网络，所有专家接收相同的输入，并具有相同数量的输出。门控网络也是一个前馈网络，通常接收与专家网络相同的输入。它的输出是归一化的 $$ p_j = \\exp(r_j) / \\sum_i \\exp(r_i) $$，其中 $ r_j $是门控网络输出单元 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.462ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"0.932ex\" height=\"1.957ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -661 412 865\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>j</mi></math></mjx-assistive-mml></mjx-container> 接收的总加权输入。选择器（selector）类似于一个多输入单输出的随机开关；开关选择来自专家 $ j $ 的输出的概率为 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.666ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.985ex\" height=\"1.666ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -442 877.3 736.2\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>p</mi><mi>j</mi></msub></math></mjx-assistive-mml></mjx-container> 。每个专家通常只会被分配到可能输入向量空间的一个小区域内。</p>\n<p>系统由多个专家网络和一个门控网络组成。每个专家是一个前馈网络，处理特定子任务；门控网络根据输入决定每个专家的混合比例（概率）。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501113347385.png\" style=\"zoom:50%;\" />\n<p>通过重新定义误差函数，鼓励专家竞争而非协作，确保每个专家专注于特定子任务。传统误差函数（如均方误差）会导致专家协作，增加耦合；论文提出优比损失（基于高斯混合模型的负对数概率），使专家独立学习，减少干扰。改进后的误差函数使门控网络倾向于选择最适合的专家，加快收敛。</p>\n<h3 id=\"性能比较\">性能比较</h3>\n<p>元音辨别：区分多说话者元音区分（识别元音 [i], [I], [a], [A]）。</p>\n<p><strong>数据集</strong>：来自 75 个说话者的共振峰数据（Peterson 和 Barney, 1952），前 50 个用于训练，后 25 个用于测试。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501110027054.png\" style=\"zoom:60%;\" />\n<p>模型能自动分解任务，专注于不同类别对（如 [i]/[I] 和 [a]/[A]），仅 2-3 个专家在最终混合中活跃。</p>\n<p>混合专家模型达到误差标准明显快于反向传播网络，平均只需要大约一半的周期数。混合模型的学习时间也随着专家数量的增加而很好地扩展。混合专家模型具有较小但统计上显著的平均周期数优势。</p>\n<h3 id=\"总结\">总结</h3>\n<p>这篇论文针对的问题是在不同场合执行不同任务会产生干扰，导致训练速度慢和泛化性能差。MoE 的核心思想是让专家专注于适合的子任务。这意味着某些专家的利用率较低（论文中提到最终只有 2-3 个专家活跃），后续的论文大多都是在解决这个问题。</p>\n<p>论文展示了 MoE 模型的任务分解过程：初始阶段，门控网络给所有专家分配相等的混合比例，导致每个专家处理的案例数量大致相等，决策线趋向于处理所有案例的平均最优解。随着训练进行，竞争机制使专家分化，专注于特定子任务，从而形成更符合数据分布的最优决策面。这种机制显著减少了干扰，训练速度比反向传播网络快约 50%，体现了 MoE 架构在训练时间上的优势。</p>\n<h2 id=\"《Outrageously-Large-Neural-Networks-The-Sparsely-Gated-Mixture-of-Experts-Layer》\">《Outrageously Large Neural Networks: The Sparsely-Gated Mixture-of-Experts Layer》</h2>\n<p>超大型神经网络：稀疏门控混合专家层</p>\n<p>2017年，合作作者中还有Hinton和 Jordan，在LSTM层之间应用MoE卷积。仅以微小的计算效率损失就取得了超过 1000 倍的模型容量提升，并在公共语言建模和翻译数据集上显著提升了最先进的结果。</p>\n<p>上一篇强调的是减小时间成本，这一篇是减小计算成本。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501141207768.png\" style=\"zoom:40%;\" />\n<h3 id=\"基础架构-2\">基础架构</h3>\n<h4 id=\"稀疏门控专家混合层（MoE）\">稀疏门控专家混合层（MoE）</h4>\n<p>MoE 由很多专家组成，每个专家相当于一个前馈神经网络。以及一个可训练的门控网络，该网络选择专家的稀疏组合来处理每个输入。网络的所有部分都通过反向传播进行联合训练。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501165106468.png\" style=\"zoom:30%;\" />\n<p>设 $ G(x) $和 $ E_i(x) $ 分别为给定输入 $ x $ 的门控网络输出和第 $ i $ 个专家网络的输出。MoE 模块的输出 $ y $ 可表示为：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18.806ex\" height=\"6.354ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1562.5 8312.1 2808.5\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(767.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(1823.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(509.9,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(3434.2,0)\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4220.2,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4609.2,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5181.2,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(5897.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D438\" d=\"M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(771,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6962.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7351.1,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7923.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>y</mi><mo>=</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>n</mi></mrow></munderover><mi>G</mi><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><msub><mi>E</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501192052114.webp\" style=\"zoom:38%;\" />\n<h3 id=\"均衡负载\">均衡负载</h3>\n<p>门控网络总是倾向于收敛到一种状态，在这种状态下，它总是对同一批专家产生较大的权重，使得被偏好的专家训练得更快，更容易被门控网络选中。希望在训练和推理过程中，专家的重要性相等，称之为<strong>负载平衡</strong> 。某种程度上，这是为了防止对同一个专家过度拟合。</p>\n<h4 id=\"Keep-Top-K\">Keep Top-K</h4>\n<p><strong>Noisy Top-K Gating</strong></p>\n<p>添加了两个组件：<strong>稀疏性和噪音</strong>。在应用 Softmax 函数之前，添加可调的高斯噪声，然后仅保留前 $ k $ 个值，将其余值设为 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.186ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.023ex\" height=\"1.505ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -583 1778 665\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mo\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(778,0)\"><path data-c=\"221E\" d=\"M55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo>−</mo><mi mathvariant=\"normal\">∞</mi></math></mjx-assistive-mml></mjx-container>（这会导致对应的门控值为 0）。每部分的噪声量由可训练权重矩阵 $ W_{\\text{noise}} $ 控制。通过简单的反向传播训练门控网络。<strong>稀疏性用于节省计算，噪声项有助于负载均衡。</strong></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250501192435690.webp\" style=\"zoom:33%;\" />\n<h5 id=\"Noise\">Noise</h5>\n<p>使用Noisy Top-K Gating方法改进MoE层，引入可训练的 Gaussian 噪声防止总是选择相同的专家。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502135639110.webp\" style=\"zoom:50%;\" />\n$$\nH(x)_i = (x \\cdot W_g)_i + \\text{StandardNormal}() \\cdot \\text{Softplus}((x \\cdot W_{\\text{noise}})_i)\n$$\n<h5 id=\"Sparse\">Sparse</h5>\n<p>除了想要激活的前 k 名专家之外，其他所有专家的权重都将设置为 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.186ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.023ex\" height=\"1.505ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -583 1778 665\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mo\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(778,0)\"><path data-c=\"221E\" d=\"M55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo>−</mo><mi mathvariant=\"normal\">∞</mi></math></mjx-assistive-mml></mjx-container> 。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140128737.png\" style=\"zoom:50%;\" />\n$$\n\\text{KeepTopK}(v, k)_i =\n\\begin{cases}\nv_i & \\text{if } v_i \\text{ is in the top } k \\text{ elements of } v, \\\\\\\n-\\infty & \\text{otherwise}.\n\\end{cases}\n$$\n通过将这些权重设置为 $-\\infty$ ，SoftMax 在这些权重上的输出将产生概率 **0** ：\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140429369.webp\" style=\"zoom:50%;\" />\n$$\nG(x) = \\text{Softmax}(\\text{KeepTopK}(H(x), k))\n$$\n<p>KeepTopK 策略将每个 token 路由给几个选定的专家。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502140803358.webp\" style=\"zoom:50%;\" />\n<h4 id=\"Auxiliary-Loss\">Auxiliary Loss</h4>\n<p>为了在训练过程中获得更均匀的专家分布，辅助损失（也称为<em>负载平衡损失</em> ）被添加到网络的常规损失中。它增加了一个约束，迫使专家具有同等重要性。</p>\n<p>该辅助损失的第一个组成部分是将整个批次中每个专家的门控值相加。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502133715717.png\" style=\"zoom:50%;\" />\n$$\n\\text{Importance}(X) = \\sum_{x \\in X} G(x) \n$$\n这为我们提供了每个专家的重要性分数 ，该分数表示无论输入如何，选择特定专家的可能性。可以用它来计算*变异系数* （ **CV** ），它告诉我们专家之间重要性得分的差异有多大。利用这个 **CV** 分数，我们可以在训练期间更新**辅助损失** ，以尽可能降低 **CV** 分数（ 从而给予每个专家同等的重要性 ）。\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134023343.webp\" style=\"zoom:50%;\" />\n<p>如果重要性分数存在很大差异，则 <strong>CV</strong> 会很高，相反，如果所有专家的重要性得分都相似，那么 <strong>CV</strong> 就会较低</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134637067.webp\" style=\"zoom:50%;\" />\n$$\nL_{\\text{importance}}(X) = w_{\\text{importance}} \\cdot CV(\\text{Importance}(X))^2\n$$\n最后，将辅助损失作为单独的损失添加，以便在训练期间进行优化。\n<p>虽然这种损失函数可以确保平衡的重要性，但专家仍然可能收到数量非常不同的样本。为了解决这一问题，论文引入了 $ L_{\\text{load}} $ 损失，专门用于平衡专家接收的样本数量（即负载均衡），与 $ L_{\\text{importance}} $ 损失（平衡门控权重总和）配合使用。</p>\n<h4 id=\"Load-Balancing-Loss\">Load-Balancing Loss</h4>\n<p>专家接收的样本数量是一个离散值，无法用于反向传播。所以这里定义了一个平滑估计器 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"8.699ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 3845 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(681,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1166,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1695,0)\"><path data-c=\"1D451\" d=\"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2215,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2604,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3456,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>L</mi><mi>o</mi><mi>a</mi><mi>d</mi><mo stretchy=\"false\">(</mo><mi>X</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container>，用于估计每个专家在输入批次 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: 0;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.928ex\" height=\"1.545ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 852 683\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>X</mi></math></mjx-assistive-mml></mjx-container> 中分配到的示例数量，通过概率计算来近似样本分配。平滑性使得可以通过估计器反向传播梯度。这是门控函数中噪声项的目的。</p>\n<p>对于一个输入批次 $ X $，第 $ i $ 个专家的负载定义为：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.779ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"22.641ex\" height=\"4.928ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -950 10007.4 2178.2\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2181,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2570,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3422,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(4415.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munder\" transform=\"translate(5471.5,0)\"><g data-mml-node=\"mo\" transform=\"translate(17.3,0)\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(0,-1100) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(572,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1239,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(7116.7,0)\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7867.7,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(8256.7,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8828.7,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(9273.4,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9618.4,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>Load</mi><mo stretchy=\"false\">(</mo><mi>X</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>=</mo><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></munder><mi>P</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><p>其中 $ P(x, i) $ 是给定输入 $ x $ 时第 $ i $ 个专家被选中的概率，它描述了第 $ i$ 个专家的“带噪声得分”大于某个阈值的概率。论文通过噪声 Top-K 门控的特性计算 $ P(x, i) $：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"93.829ex\" height=\"2.364ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 41472.6 1045\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(751,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1140,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1712,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2156.7,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2501.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3168.4,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4224.2,0)\"><path data-c=\"50\" d=\"M130 622Q123 629 119 631T103 634T60 637H27V683H214Q237 683 276 683T331 684Q419 684 471 671T567 616Q624 563 624 489Q624 421 573 372T451 307Q429 302 328 301H234V181Q234 62 237 58Q245 47 304 46H337V0H326Q305 3 182 3Q47 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM507 488Q507 514 506 528T500 564T483 597T450 620T397 635Q385 637 307 637H286Q237 637 234 628Q231 624 231 483V342H302H339Q390 342 423 349T481 382Q507 411 507 488Z\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(681,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(5463.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(389,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(778,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1572.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(2072.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(977,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(3436.7,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(4374.9,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(5375.1,0)\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(2001,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2557,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(3057,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3449,0)\" style=\"stroke-width: 3;\"/><path data-c=\"4E\" d=\"M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z\" transform=\"translate(4005,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(4755,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(5255,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(5647,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(6480,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(6980,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(12633.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13022.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13633.4,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(14133.6,0)\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(1362,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1751,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2307,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(2585,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(3141,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(17668.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18057.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(18446.6,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(19240.8,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(19741,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(977,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(1334,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1728,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(22303.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(23019.8,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(23686.6,0)\"><path data-c=\"3E\" d=\"M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(24742.4,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(25263.4,0)\"><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(389,0)\" style=\"stroke-width: 3;\"/><path data-c=\"5F\" d=\"M0 -62V-25H499V-62H0Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(2417,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2861,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(3139,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3695,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(4251,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(4529,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(5085,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(30848.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(31237.4,0)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(32125.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(32514.4,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(33086.4,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(33475.4,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(33920,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(34441,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(34885.7,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(35230.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(35619.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>P</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo data-mjx-texclass=\"OP\" movablelimits=\"true\">Pr</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">(</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mi>g</mi></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>+</mo><mtext>StandardNormal</mtext><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">)</mo><mo>⋅</mo><mtext>Softplus</mtext><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mtext>noise</mtext></mrow></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>&gt;</mo><mi>k</mi><mtext>th_excluding</mtext><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo><mo data-mjx-texclass=\"CLOSE\">)</mo></mrow></math></mjx-assistive-mml></mjx-container><p><strong>$ (x \\cdot W_g)_i $</strong>：</p>\n<ul>\n<li>$x $ 是输入向量（例如来自上一层的 LSTM 输出）。</li>\n<li>$ W_g $ 是门控网络的可训练权重矩阵。</li>\n<li>$ (x \\cdot W_g)_i $ 是第 $ i $ 个专家的原始得分（未添加噪声），表示门控网络对第 $ i $ 个专家的“偏好”。</li>\n</ul>\n<p><strong>$ StandardNormal()⋅Softplus((x⋅Wnoise)i) $</strong>：</p>\n<ul>\n<li><strong>$ \\text{StandardNormal}() $</strong>：表示从均值为 0、标准差为 1 的标准正态分布中采样一个随机数。</li>\n<li>**$ (x \\cdot W_{\\text{noise}})<em>i <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.452ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32.68ex\" height=\"2.149ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 14444.4 950\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mo\"><path data-c=\"2217\" d=\"M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(722.2,0)\"><path data-c=\"2217\" d=\"M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1444.4,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">：</text></g><g data-mml-node=\"mi\" transform=\"translate(2444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">通</text></g><g data-mml-node=\"mi\" transform=\"translate(3444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">过</text></g><g data-mml-node=\"mi\" transform=\"translate(4444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">另</text></g><g data-mml-node=\"mi\" transform=\"translate(5444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">一</text></g><g data-mml-node=\"mi\" transform=\"translate(6444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">个</text></g><g data-mml-node=\"mi\" transform=\"translate(7444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">可</text></g><g data-mml-node=\"mi\" transform=\"translate(8444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">训</text></g><g data-mml-node=\"mi\" transform=\"translate(9444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">练</text></g><g data-mml-node=\"mi\" transform=\"translate(10444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">权</text></g><g data-mml-node=\"mi\" transform=\"translate(11444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">重</text></g><g data-mml-node=\"mi\" transform=\"translate(12444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">矩</text></g><g data-mml-node=\"mi\" transform=\"translate(13444.4,0)\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">阵</text></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo>∗</mo><mo>∗</mo><mi>：</mi><mi mathvariant=\"normal\">通</mi><mi mathvariant=\"normal\">过</mi><mi mathvariant=\"normal\">另</mi><mi mathvariant=\"normal\">一</mi><mi mathvariant=\"normal\">个</mi><mi mathvariant=\"normal\">可</mi><mi mathvariant=\"normal\">训</mi><mi mathvariant=\"normal\">练</mi><mi mathvariant=\"normal\">权</mi><mi mathvariant=\"normal\">重</mi><mi mathvariant=\"normal\">矩</mi><mi mathvariant=\"normal\">阵</mi></math></mjx-assistive-mml></mjx-container> W</em>{\\text{noise}} $ 计算的噪声控制项。</li>\n<li><strong>$ \\text{Softplus}((x \\cdot W_{\\text{noise}})_i) $</strong>：这部分计算噪声的标准差。它通过将输入 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.294ex\" height=\"1.025ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -442 572 453\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></mjx-assistive-mml></mjx-container> 与另一个可训练的权重矩阵 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"6.107ex\" height=\"1.902ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 2699.3 840.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(977,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1085,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1430,0)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1899,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>e</mi></mrow></msub></math></mjx-assistive-mml></mjx-container> 相乘，然后应用 Softplus 函数 $ \\text{Softplus}(z) = \\log(1 + e^z) $ 来确保标准差为正值。这个标准差是可调节的，并且依赖于输入 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.294ex\" height=\"1.025ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -442 572 453\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></mjx-assistive-mml></mjx-container> 。</li>\n<li>这部分是加到原始得分上的高斯噪声，表示一个高斯噪声项，均值为 0，方差由 $ \\text{Softplus}((x \\cdot W_{\\text{noise}})_i) $决定。噪声的引入有助于负载均衡，避免门控网络总是选择固定的专家。</li>\n</ul>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"60.021ex\" height=\"2.364ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 26529.3 1045\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(888,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1277,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1849,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2842.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3898.5,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4287.5,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5081.7,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5582,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(977,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(6946.2,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(7884.4,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(8884.6,0)\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(2001,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2557,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(3057,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3449,0)\" style=\"stroke-width: 3;\"/><path data-c=\"4E\" d=\"M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z\" transform=\"translate(4005,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(4755,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(5255,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(5647,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(6480,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(6980,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16142.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16531.6,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(17142.9,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(17643.1,0)\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(1362,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1751,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2307,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(2585,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(3141,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(21178.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(21567.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(21956.1,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(22750.3,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(23250.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(977,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(1334,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1728,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(25813.4,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>=</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mi>g</mi></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>+</mo><mtext>StandardNormal</mtext><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">)</mo><mo>⋅</mo><mtext>Softplus</mtext><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mtext>noise</mtext></mrow></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub></math></mjx-assistive-mml></mjx-container><p><mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"5.803ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 2565 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(888,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1277,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1849,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub></math></mjx-assistive-mml></mjx-container>代表了第$ i $个专家的最终“带噪声得分”。</p>\n<p><strong><mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24.609ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 10877.3 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(521,0)\"><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(389,0)\" style=\"stroke-width: 3;\"/><path data-c=\"5F\" d=\"M0 -62V-25H499V-62H0Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(2417,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2861,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(3139,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3695,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(4251,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(4529,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(5085,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6106,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6495,0)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7383,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7772,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8344,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8733,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(9177.7,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9698.7,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10143.3,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10488.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>k</mi><mtext>th_excluding</mtext><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container></strong>: 这是决定专家 i 是否被选中的阈值。它的含义是：在向量 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"5.063ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 2238 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(888,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1277,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1849,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container>（包含了所有专家的带噪声得分）中，排除掉第 i 个专家自身的分数后，找到剩下 n−1 个分数中第 k 大的分数 。</p>\n<p>$Pr(⋯&gt;…): $ 公式计算  $ H(x)_ i $（重新采样噪声后）大于  <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24.609ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 10877.3 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(521,0)\"><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(389,0)\" style=\"stroke-width: 3;\"/><path data-c=\"5F\" d=\"M0 -62V-25H499V-62H0Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(2417,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2861,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(3139,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3695,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(4251,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(4529,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(5085,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6106,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6495,0)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7383,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7772,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8344,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8733,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(9177.7,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9698.7,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10143.3,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10488.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>k</mi><mtext>th_excluding</mtext><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container> 的概率。在噪声 Top-K 门控中，第 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"0.781ex\" height=\"1.52ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -661 345 672\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>𝑖</mi></math></mjx-assistive-mml></mjx-container> 个专家被选中当且仅当 $ H(x)_ i$ 是 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"5.063ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 2238 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(888,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1277,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1849,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>𝐻</mi><mo stretchy=\"false\">(</mo><mi>𝑥</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container> 中前 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.179ex\" height=\"1.595ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -694 521 705\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>𝑘</mi></math></mjx-assistive-mml></mjx-container> 大的值。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.172ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"51.784ex\" height=\"5.577ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1505 22888.4 2465\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(751,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1140,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1712,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2156.7,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2501.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3168.4,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4224.2,0)\"><path data-c=\"3A6\" d=\"M312 622Q310 623 307 625T303 629T297 631T286 634T270 635T246 636T211 637H184V683H196Q220 680 361 680T526 683H538V637H511Q468 637 447 635T422 631T411 622V533L425 531Q525 519 595 466T665 342Q665 301 642 267T583 209T506 172T425 152L411 150V61Q417 55 421 53T447 48T511 46H538V0H526Q502 3 361 3T196 0H184V46H211Q231 46 245 46T270 47T286 48T297 51T303 54T307 57T312 61V150H310Q309 151 289 153T232 166T160 195Q149 201 136 210T103 238T69 284T56 342Q56 414 128 467T294 530Q309 532 310 533H312V622ZM170 342Q170 207 307 188H312V495H309Q301 495 282 491T231 469T186 423Q170 389 170 342ZM415 188Q487 199 519 236T551 342Q551 384 539 414T507 459T470 481T434 491T415 495H410V188H415Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(5112.9,0)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"28\" d=\"M701 -940Q701 -943 695 -949H664Q662 -947 636 -922T591 -879T537 -818T475 -737T412 -636T350 -511T295 -362T250 -186T221 17T209 251Q209 962 573 1361Q596 1386 616 1405T649 1437T664 1450H695Q701 1444 701 1441Q701 1436 681 1415T629 1356T557 1261T476 1118T400 927T340 675T308 359Q306 321 306 250Q306 -139 400 -430T690 -924Q701 -936 701 -940Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(736,0)\"><g data-mml-node=\"mrow\" transform=\"translate(220,755)\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(389,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1183.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1683.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(977,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(3047.7,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(3985.9,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4986.1,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(5507.1,0)\"><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(389,0)\" style=\"stroke-width: 3;\"/><path data-c=\"5F\" d=\"M0 -62V-25H499V-62H0Z\" transform=\"translate(945,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(2417,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2861,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(3139,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(3695,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(4251,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(4529,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(5085,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(11092.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(11481.1,0)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(12369.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12758.1,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13330.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13719.1,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(14163.8,0)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(14684.8,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(15129.5,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(15474.5,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mrow\" transform=\"translate(3514.1,-710)\"><g data-mml-node=\"mtext\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(1362,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1751,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2307,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(2585,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(3141,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3535,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3924,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4313,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5107.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5607.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(977,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(1334,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1728,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(8170.3,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8886.2,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"16063.5\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(17039.5,0) translate(0 -0.5)\"><path data-c=\"29\" d=\"M34 1438Q34 1446 37 1448T50 1450H56H71Q73 1448 99 1423T144 1380T198 1319T260 1238T323 1137T385 1013T440 864T485 688T514 485T526 251Q526 134 519 53Q472 -519 162 -860Q139 -885 119 -904T86 -936T71 -949H56Q43 -949 39 -947T34 -937Q88 -883 140 -813Q428 -430 428 251Q428 453 402 628T338 922T245 1146T145 1309T46 1425Q44 1427 42 1429T39 1433T36 1436L34 1438Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>P</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"normal\">Φ</mi><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">(</mo><mfrac><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mi>g</mi></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>−</mo><mi>k</mi><mtext>th_excluding</mtext><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mtext>Softplus</mtext><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo>⋅</mo><msub><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mtext>noise</mtext></mrow></msub><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mfrac><mo data-mjx-texclass=\"CLOSE\">)</mo></mrow></math></mjx-assistive-mml></mjx-container><p>Φ 表示标准正态分布的累积分布函数（CDF）。利用正态分布的 CDF 给出了计算这个概率的具体数学表达式，方便进行计算和反向传播（因为 Φ 是可微的）。这整个机制是为了在选择专家时引入随机性（有助于负载均衡 ）并估算每个专家被选中的概率，进而定义<mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.659ex\" height=\"1.902ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 2059.4 840.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(714,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(298,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(783,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1312,0)\"><path data-c=\"1D451\" d=\"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>L</mi><mrow data-mjx-texclass=\"ORD\"><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi></mrow></msub></math></mjx-assistive-mml></mjx-container>损失。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32.573ex\" height=\"2.565ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -883.9 14397.2 1133.9\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(714,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1278,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2060.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2449.8,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3301.8,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3968.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5024.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D464\" d=\"M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(749,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1278,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(7342.4,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7842.7,0)\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(8602.7,0)\"><path data-c=\"1D449\" d=\"M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9371.7,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(9760.7,0)\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(11941.7,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12330.7,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13182.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msup\" transform=\"translate(13571.7,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(422,413) scale(0.707)\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>L</mi><mrow data-mjx-texclass=\"ORD\"><mtext>load</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>X</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mi>w</mi><mrow data-mjx-texclass=\"ORD\"><mtext>load</mtext></mrow></msub><mo>⋅</mo><mi>C</mi><mi>V</mi><mo stretchy=\"false\">(</mo><mtext>Load</mtext><mo stretchy=\"false\">(</mo><mi>X</mi><mo stretchy=\"false\">)</mo><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></math></mjx-assistive-mml></mjx-container><p>初始负载不平衡：为了避免内存溢出错误，需要在近似相等的专家负载状态下初始化网络（因为软约束需要一些时间才能发挥作用）。为了实现这一点，将矩阵 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"3.087ex\" height=\"2.213ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 1364.3 978\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(977,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>W</mi><mi>g</mi></msub></math></mjx-assistive-mml></mjx-container> 和 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"6.107ex\" height=\"1.902ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 2699.3 840.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(977,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1085,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1430,0)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1899,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>e</mi></mrow></msub></math></mjx-assistive-mml></mjx-container> 初始化为全零，这样就不会产生信号，而只有一些噪声。</p>\n<h4 id=\"Hierarchical-Mixture-of-Experts\">Hierarchical Mixture-of-Experts</h4>\n<p>层次 MoE 是一种分层结构的 MoE，如果专家数量非常庞大，可以使用两层分层MoE来降低分支因子。在一个分层MoE中，一个主门控网络选择一个稀疏加权组合的“专家”，每个“专家”本身就是一个具有自己门控网络的二级混合专家。</p>\n<p><strong>第一级（主门控网络）</strong>：主门控网络 $ G_{\\text{primary}} $ 负责选择一组“专家组”（groups of experts）。</p>\n<p><strong>第二级（次级门控网络）</strong>：每个专家组内有一个次级门控网络 $G_i $，负责在该组内选择具体的专家。</p>\n<p><strong>专家网络</strong>：最终的专家网络 $E_{i,j} $，其中 $ i $ 表示组索引，$j $ 表示组内的专家索引。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -3.014ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"40.604ex\" height=\"6.952ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1740.7 17946.8 3072.9\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1478.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(2534.5,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(535,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"munderover\" transform=\"translate(4145.1,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(124.5,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(412,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1190,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(570.3,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(5755.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(819,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(948,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1226,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2059,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(2559,0)\" style=\"stroke-width: 3;\"/><path data-c=\"79\" d=\"M69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66Z\" transform=\"translate(2951,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9084.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(9473.8,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(10045.8,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(10984,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(11484.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(819,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(12597.2,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12986.2,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(13558.2,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(14543.7,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(15043.9,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D438\" d=\"M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(771,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(16596.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(16985.8,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(17557.8,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>y</mi><mi>H</mi></msub><mo>=</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>a</mi></mrow></munderover><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>b</mi></mrow></munderover><msub><mi>G</mi><mrow data-mjx-texclass=\"ORD\"><mtext>primary</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>⋅</mo><msub><mi>G</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>j</mi></msub><mo>⋅</mo><msub><mi>E</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><p><mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"13.864ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 6128 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(786,0)\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1289,0)\"><path data-c=\"1D45F\" d=\"M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1740,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2085,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2963,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3492,0)\"><path data-c=\"1D45F\" d=\"M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3943,0)\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4433,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(4822,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5394,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(5783,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>G</mi><mi>p</mi><mi>r</mi><mi>i</mi><mi>m</mi><mi>a</mi><mi>r</mi><mi>y</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mi>i</mi></math></mjx-assistive-mml></mjx-container>：主门控网络对第 $ i $ 个组的权重。</p>\n<p>$G_i(x)_j $：第 $ i $ 个组的次级门控网络对组内第 $j $ 个专家的权重。</p>\n<p>$ E_{i,j}(x) $：第 $ i $ 个组中第 $j $ 个专家的输出。</p>\n<p>对专家利用率的衡量指标将更改为以下内容：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.779ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"44.514ex\" height=\"4.928ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -950 19675.2 2178.2\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mtext\"><path data-c=\"49\" d=\"M328 0Q307 3 180 3T32 0H21V46H43Q92 46 106 49T126 60Q128 63 128 342Q128 620 126 623Q122 628 118 630T96 635T43 637H21V683H32Q53 680 180 680T328 683H339V637H317Q268 637 254 634T234 623Q232 620 232 342Q232 63 234 60Q238 55 242 53T264 48T317 46H339V0H328Z\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(361,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1194,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(1750,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(2250,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(2642,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(3031,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(3531,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(4087,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(4531,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(5008,-229.4) scale(0.707)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5685.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6074.9,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6926.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(422,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(8408.5,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munder\" transform=\"translate(9464.3,0)\"><g data-mml-node=\"mo\" transform=\"translate(17.3,0)\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(0,-1100) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(572,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1239,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(11109.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(819,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(948,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1226,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2059,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(2559,0)\" style=\"stroke-width: 3;\"/><path data-c=\"79\" d=\"M69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66Z\" transform=\"translate(2951,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(14438.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(14827.6,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(15399.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(16337.7,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(16838,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(819,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(17950.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(18339.9,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(18911.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mtext>Importance</mtext><mi>H</mi></msub><mo stretchy=\"false\">(</mo><mi>X</mi><msub><mo stretchy=\"false\">)</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>=</mo><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></munder><msub><mi>G</mi><mrow data-mjx-texclass=\"ORD\"><mtext>primary</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>⋅</mo><msub><mi>G</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>x</mi><msub><mo stretchy=\"false\">)</mo><mi>j</mi></msub></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.328ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"45.145ex\" height=\"6.055ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1647.6 19954.3 2676.4\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mtext\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2214,-150) scale(0.707)\"><path data-c=\"1D43B\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2891.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3280.9,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4132.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(422,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(5614.5,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(6670.3,0)\"><g data-mml-node=\"mrow\" transform=\"translate(220,754.2)\"><g data-mml-node=\"msub\"><g data-mml-node=\"mtext\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(2214,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(948,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1226,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2059,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(2559,0)\" style=\"stroke-width: 3;\"/><path data-c=\"79\" d=\"M69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66Z\" transform=\"translate(2951,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(4724,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(5113,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5965,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6903.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7403.4,0)\"><g data-mml-node=\"mtext\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2214,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9911.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msup\" transform=\"translate(10300.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(936.2,363) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(389,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(734,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(12080.7,0)\"><g data-mml-node=\"mo\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(422,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mrow\" transform=\"translate(5473.9,-779.3)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"7C\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msup\" transform=\"translate(278,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(936.2,289) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(389,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(734,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2058.3,0) translate(0 -0.5)\"><path data-c=\"7C\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"13044\" height=\"60\" x=\"120\" y=\"220\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mtext>Load</mtext><mi>H</mi></msub><mo stretchy=\"false\">(</mo><mi>X</mi><msub><mo stretchy=\"false\">)</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><msub><mtext>Load</mtext><mrow data-mjx-texclass=\"ORD\"><mtext>primary</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>X</mi><msub><mo stretchy=\"false\">)</mo><mi>i</mi></msub><mo>⋅</mo><msub><mtext>Load</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msup><mi>X</mi><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msup><msub><mo stretchy=\"false\">)</mo><mi>j</mi></msub></mrow><mrow><mo data-mjx-texclass=\"ORD\" stretchy=\"false\">|</mo><msup><mi>X</mi><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msup><mo data-mjx-texclass=\"ORD\" stretchy=\"false\">|</mo></mrow></mfrac></math></mjx-assistive-mml></mjx-container><p><mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.666ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"10.688ex\" height=\"2.236ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -694 4724 988.2\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mtext\"><path data-c=\"4C\" d=\"M128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(625,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(1125,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1625,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(2214,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(948,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1226,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2059,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(2559,0)\" style=\"stroke-width: 3;\"/><path data-c=\"79\" d=\"M69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66Z\" transform=\"translate(2951,0)\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mtext>Load</mtext><mrow data-mjx-texclass=\"ORD\"><mtext>primary</mtext></mrow></msub></math></mjx-assistive-mml></mjx-container>   和 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"5.751ex\" height=\"1.927ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -694 2542 851.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(681,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1166,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1695,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D451\" d=\"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(553,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>L</mi><mi>o</mi><mi>a</mi><msub><mi>d</mi><mi>i</mi></msub></math></mjx-assistive-mml></mjx-container> 分别表示主门控网络和 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.467ex\" height=\"1.956ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -853.7 1090.6 864.7\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msup\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(378,363) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(361,0)\"><path data-c=\"210E\" d=\"M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msup><mi>i</mi><mrow data-mjx-texclass=\"ORD\"><mi>t</mi><mi>h</mi></mrow></msup></math></mjx-assistive-mml></mjx-container> 次级门控网络的加载函数。 $ X^{(i)} $表示 X 中满足 $ G_{\\text{primary}}(x)_i &gt; 0 $ 的子集。</p>\n<h2 id=\"《GShard-Scaling-Giant-Models-with-Conditional-Computation-and-Automatic-Sharding》\">《GShard: Scaling Giant Models with Conditional Computation and Automatic Sharding》</h2>\n<p>基于条件计算和自动分片的巨型模型扩展。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502231628278.png\" style=\"zoom:30%;\" />\n<h3 id=\"创新点\">创新点</h3>\n<h4 id=\"Expert-Capacity\">Expert Capacity</h4>\n<p>专家容量</p>\n<p>不平衡不仅存在于所选专家中，还存在于发送给专家的token分配中。如果输入 token 不成比例地发送给一个专家而不是另一个专家，那么也可能导致训练不足。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134823180.webp\" style=\"zoom:50%;\" />\n<p>解决这个问题的一个方法是限制每个专家可以处理的 token 数量，即专家容量 。当专家达到容量上限时，产生的 token 将被发送给下一个专家：</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502134935242.webp\" style=\"zoom:50%;\" />\n<p>如果两个专家都已达到其容量上限，则 token 将不会被任何专家处理，而是被发送到下一层。这称为 token 溢出 。这些token的表示通过残差连接传递到下一层。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502135022720.webp\" style=\"zoom:50%;\" />\n<h4 id=\"Auxiliary-loss\">Auxiliary loss</h4>\n<p>门控函数不应总是选择相同的一小部分专家，因为这会导致一小部分专家容量溢出，而其余专家则被闲置。定义了一个辅助损失项 ℓaux 来强制执行此约束。 它被添加到模型的总损失函数中 L = ℓnll + k ∗ ℓaux，其中 k 是一个常数乘数。</p>\n<h4 id=\"Random-routing\">Random routing</h4>\n<p>随机路由机制</p>\n<p>在 top-2 设计中，始终选择表现最优的专家，但第二选择的专家则根据其权重以一定概率被选中。</p>\n<h2 id=\"《Switch-Transformers-Scaling-to-Trillion-Parameter-Models-with-Simple-and-Eﬃcient-Sparsity》\">《Switch Transformers: Scaling to Trillion Parameter Models with Simple and Eﬃcient Sparsity》</h2>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250505161645576.png\" style=\"zoom:35%;\" />\n<p>简化了MoE路由算法，并设计了直观的改进模型，从而降低了通信和计算成本。提出的训练技术减轻了不稳定性，并且证明了可以使用较低精度（bfloat16）格式首次训练大型稀疏模型。将 Switch 层添加到 Transformer 的自注意力层中。</p>\n<h3 id=\"Switch-Routing\">Switch Routing</h3>\n<p>（1）仅将token路由到单个专家，因此减少了路由器计算。</p>\n<p>（2）由于每个token仅被路由到单个专家，因此每个专家的批次大小（专家容量）可以至少减半。</p>\n<p>（3）路由实现得到简化，并且通信成本降低。</p>\n<h2 id=\"《DeepSeekMoE-Towards-Ultimate-Expert-Specialization-in-Mixture-of-Experts-Language-Models》\">《DeepSeekMoE: Towards Ultimate Expert Specialization in Mixture-of-Experts Language Models》</h2>\n<h3 id=\"现有MoE架构问题\">现有MoE架构问题</h3>\n<p>（1）知识混合性：现有的MoE实践通常采用数量有限的专家（例如，8个或16个），因此分配给特定专家的token可能涵盖各种知识。因此，指定的专家将倾向于在其参数中组合截然不同的知识类型，而这些知识很难同时利用。</p>\n<p>（2）知识冗余：分配给不同专家的token可能需要共同的知识。因此，多个专家可能会收敛于在其各自的参数中获取共享知识，从而导致专家参数的冗余。</p>\n<p>这些问题共同阻碍了现有MoE实践中的专家专业化，使其无法达到MoE模型的理论性能上限。</p>\n<p>我个人感觉第一个问题和第一篇论文提出的目的应该是一致的，一个模型在不同场合执行不同任务会产生干扰，然后这里的专家又出现了这个问题，使得专家的专业化程度较低。</p>\n<h3 id=\"解决问题的主要策略\">解决问题的主要策略</h3>\n<p>（1）细粒度专家分割：在保持参数数量不变的同时，我们通过分割 FFN 中间隐藏维度将专家分割成更细的粒度。相应地，在保持恒定计算成本的同时，我们也激活更多细粒度的专家，以实现激活专家的更灵活和适应性更强的组合。细粒度的专家分割使得不同的知识能够被更精细地分解，并被更精确地学习到不同的专家中，其中每个专家将保持更高的专业化水平。此外，激活专家组合的灵活性增加也有助于更准确和有针对性的知识获取。</p>\n<p>（2）共享专家隔离：我们隔离某些专家作为始终激活的共享专家，旨在捕获和巩固不同上下文中的通用知识。通过将通用知识压缩到这些共享专家中，其他路由专家之间的冗余将被减轻。这可以提高参数效率，并确保每个路由专家通过专注于独特的方面来保持专业性。</p>\n<p>DeepSeekMoE 中的这些架构创新为训练参数高效的 MoE 语言模型提供了机会，其中每个专家都高度专业化。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502145719363.png\" style=\"zoom:40%;\" />\n<p>DeepSeekMoE 的示意图。子图 (a) 展示了具有传统 top-2 路由策略的 MoE 层。子图 (b) 说明了细粒度专家分割策略。子图 © 展示了共享专家隔离策略的集成，构成了完整的 DeepSeekMoE 架构。值得注意的是，在这三种架构中，专家参数的数量和计算成本保持不变。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250502161913940.png\" style=\"zoom:40%;\" />\n<h3 id=\"DeepSeekMoE-架构\">DeepSeekMoE 架构</h3>\n<h4 id=\"细粒度专家分割\">细粒度专家分割</h4>\n<p>通过将FFN中间隐藏维度降低到原始大小的𝑚分之一，将每个专家FFN分割成𝑚个更小的专家。由于每个专家变得更小，作为回应，还将激活专家的数量增加到𝑚倍，以保持相同的计算成本。通过细粒度的专家分割，MoE层的输出可以表示为：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"29.07ex\" height=\"6.74ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1733 12849 2978.9\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msubsup\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D421\" d=\"M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1255,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(2310.8,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(97.6,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(878,0)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(3754.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4143.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(510,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(5621.8,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6122.1,0)\"><g data-mml-node=\"mtext\"><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" style=\"stroke-width: 3;\"/><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" transform=\"translate(653,0)\" style=\"stroke-width: 3;\"/><path data-c=\"4E\" d=\"M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z\" transform=\"translate(1306,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2089,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8505,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(8894,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9871.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10260.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10871.5,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(11871.7,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">h</mi></mrow><mi>t</mi><mi>l</mi></msubsup><mo>=</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>m</mi><mi>N</mi></mrow></munderover><mo stretchy=\"false\">(</mo><msub><mi>g</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>⋅</mo><msub><mtext>FFN</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mi>l</mi></msubsup><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>+</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mi>l</mi></msubsup></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.148ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"51.52ex\" height=\"5.428ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1449.5 22772 2399\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(510,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1533.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(2589.3,0)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"7B\" d=\"M618 -943L612 -949H582L568 -943Q472 -903 411 -841T332 -703Q327 -682 327 -653T325 -350Q324 -28 323 -18Q317 24 301 61T264 124T221 171T179 205T147 225T132 234Q130 238 130 250Q130 255 130 258T131 264T132 267T134 269T139 272T144 275Q207 308 256 367Q310 436 323 519Q324 529 325 851Q326 1124 326 1154T332 1205Q369 1358 566 1443L582 1450H612L618 1444V1429Q618 1413 616 1411L608 1406Q599 1402 585 1393T552 1372T515 1343T479 1305T449 1257T429 1200Q425 1180 425 1152T423 851Q422 579 422 549T416 498Q407 459 388 424T346 364T297 318T250 284T214 264T197 254L188 251L205 242Q290 200 345 138T416 3Q421 -18 421 -48T423 -349Q423 -397 423 -472Q424 -677 428 -694Q429 -697 429 -699Q434 -722 443 -743T465 -782T491 -816T519 -845T548 -868T574 -886T595 -899T610 -908L616 -910Q618 -912 618 -928V-943Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtable\" transform=\"translate(750,0)\"><g data-mml-node=\"mtr\" transform=\"translate(0,622.1)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1247.8,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mtd\" transform=\"translate(2525.8,0)\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1525.6,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(2470.3,0)\"><path data-c=\"54\" d=\"M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(722,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1222,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6B\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124T98 167T98 217T98 272T98 329Q98 366 98 407T98 482T98 542T97 586T97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V463L180 233L240 287Q300 341 304 347Q310 356 310 364Q310 383 289 385H284V431H293Q308 428 412 428Q475 428 484 431H489V385H476Q407 380 360 341Q286 278 286 274Q286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3Q322 3 307 0H299V46H306Q330 48 330 65Q330 72 326 79Q323 84 276 153T228 222L176 176V120V84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z\" transform=\"translate(1778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4776.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5165.3,0)\"><path data-c=\"7B\" d=\"M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5665.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(412,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(690,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(6960.5,0)\"><path data-c=\"7D\" d=\"M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7738.3,0)\"><path data-c=\"2223\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(8294.1,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9071.9,0)\"><path data-c=\"2264\" d=\"M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10127.6,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10817.4,0)\"><path data-c=\"2264\" d=\"M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(11873.2,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12751.2,0)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13639.2,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(14028.2,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(14472.9,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(15350.9,0)\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16239.9,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16628.9,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mtr\" transform=\"translate(0,-622.1)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"mtext\"><path data-c=\"A0\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(250,0)\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(750,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mtd\" transform=\"translate(2525.8,0)\"><g data-mml-node=\"mtext\"><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(500,0)\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"77\" d=\"M90 368Q84 378 76 380T40 385H18V431H24L43 430Q62 430 84 429T116 428Q206 428 221 431H229V385H215Q177 383 177 368Q177 367 221 239L265 113L339 328L333 345Q323 374 316 379Q308 384 278 385H258V431H264Q270 428 348 428Q439 428 454 431H461V385H452Q404 385 404 369Q404 366 418 324T449 234T481 143L496 100L537 219Q579 341 579 347Q579 363 564 373T530 385H522V431H529Q541 428 624 428Q692 428 698 431H703V385H697Q696 385 691 385T682 384Q635 377 619 334L559 161Q546 124 528 71Q508 12 503 1T487 -11H479Q460 -11 456 -4Q455 -3 407 133L361 267Q359 263 266 -4Q261 -11 243 -11H238Q225 -11 220 -3L90 368Z\" transform=\"translate(2281,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(3003,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(3281,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(3675,0)\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(20182.6,0) translate(0 250)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>g</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">{</mo><mtable columnalign=\"left left\" columnspacing=\"1em\" rowspacing=\".2em\"><mtr><mtd><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>,</mo></mtd><mtd><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>∈</mo><mtext>Topk</mtext><mo stretchy=\"false\">(</mo><mo fence=\"false\" stretchy=\"false\">{</mo><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>j</mi><mo>,</mo><mi>t</mi></mrow></msub><mo fence=\"false\" stretchy=\"false\">}</mo><mo>∣</mo><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mi>m</mi><mi>N</mi><mo stretchy=\"false\">)</mo><mo>,</mo><mi>m</mi><mi>K</mi><mo stretchy=\"false\">)</mo><mo>,</mo></mtd></mtr><mtr><mtd><mtext> </mtext><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo data-mjx-texclass=\"CLOSE\" fence=\"true\" stretchy=\"true\" symmetric=\"true\"/></mrow></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.65ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"21.483ex\" height=\"2.931ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1008.2 9495.7 1295.4\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1525.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(2581.3,0)\"><g data-mml-node=\"mtext\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(1362,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1751,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2584,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(3084,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3645,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6520.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(6909.3,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(672,413) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msup\"><g data-mml-node=\"mi\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(331,363) scale(0.707)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msubsup\" transform=\"translate(8252.7,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D41E\" d=\"M32 225Q32 332 102 392T272 452H283Q382 452 436 401Q494 343 494 243Q494 226 486 222T440 217Q431 217 394 217T327 218H175V209Q175 177 179 154T196 107T236 69T306 50Q312 49 323 49Q376 49 410 85Q421 99 427 111T434 127T442 133T463 135H468Q494 135 494 117Q494 110 489 97T468 66T431 32T373 5T292 -6Q181 -6 107 55T32 225ZM383 276Q377 346 348 374T280 402Q253 402 230 390T195 357Q179 331 176 279V266H383V276Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(560,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(560,-247) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9106.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><msub><mtext>Softmax</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mrow data-mjx-texclass=\"ORD\"><msup><mi>l</mi><mi>T</mi></msup></mrow></msubsup><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">e</mi></mrow><mi>i</mi><mi>l</mi></msubsup><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><p>其中，专家参数的总数等于 𝑁 乘以标准 FFN 中的参数数量，mN 表示细粒度专家的总数。采用细粒度专家分割策略后，非零门控的数量也将增加到 mK。</p>\n<p>组合灵活性的激增增强了实现更准确和更有针对性的知识获取的潜力。</p>\n<h4 id=\"共享专家隔离\">共享专家隔离</h4>\n<p>采用传统的路由策略，分配给不同专家的令牌可能需要一些共同的知识或信息。因此，多个专家可能会趋同于在其各自的参数中获取共享知识，从而导致专家参数的冗余。然而，如果存在专门用于捕获和整合不同上下文中的共同知识的共享专家，则可以减轻其他路由专家之间的参数冗余。这种冗余的减轻将有助于构建一个参数效率更高、专家更专业的模型。</p>\n<p>隔离𝐾𝑠个专家作为共享专家。无论路由器模块如何，每个token都将被确定性地分配给这些共享专家。为了保持恒定的计算成本，其他路由专家中激活的专家数量将减少𝐾𝑠。通过集成共享专家隔离策略，完整DeepSeekMoE架构中的MoE层可以表述如下：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.966ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"47.438ex\" height=\"6.937ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1755 20967.6 3066\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msubsup\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D421\" d=\"M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1255,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(2310.8,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(275.2,1172.1) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(882,-150) scale(0.707)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"msub\" transform=\"translate(3921.5,0)\"><g data-mml-node=\"mtext\"><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" style=\"stroke-width: 3;\"/><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" transform=\"translate(653,0)\" style=\"stroke-width: 3;\"/><path data-c=\"4E\" d=\"M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z\" transform=\"translate(1306,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2089,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6304.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(6693.4,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(7670.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8281.9,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(9282.1,0)\"><g data-mml-node=\"mo\" transform=\"translate(573.6,0)\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(0,-1100) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1123,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(882,-150) scale(0.707)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2386.6,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(3164.6,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(671.3,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(878,0)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(11873.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(12262.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(510,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(13740.5,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(14240.7,0)\"><g data-mml-node=\"mtext\"><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" style=\"stroke-width: 3;\"/><path data-c=\"46\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619Z\" transform=\"translate(653,0)\" style=\"stroke-width: 3;\"/><path data-c=\"4E\" d=\"M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z\" transform=\"translate(1306,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2089,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(16623.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(17012.6,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(17989.9,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18378.9,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18990.1,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(19990.3,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(672,413) scale(0.707)\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">h</mi></mrow><mi>t</mi><mi>l</mi></msubsup><mo>=</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><msub><mi>K</mi><mi>s</mi></msub></mrow></munderover><msub><mtext>FFN</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mi>l</mi></msubsup><mo stretchy=\"false\">)</mo><mo>+</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><msub><mi>K</mi><mi>s</mi></msub><mo>+</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>m</mi><mi>N</mi></mrow></munderover><mo stretchy=\"false\">(</mo><msub><mi>g</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>⋅</mo><msub><mtext>FFN</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mi>l</mi></msubsup><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>+</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mi>l</mi></msubsup></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.148ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"62.77ex\" height=\"5.428ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1449.5 27744.1 2399\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(510,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1533.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(2589.3,0)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"7B\" d=\"M618 -943L612 -949H582L568 -943Q472 -903 411 -841T332 -703Q327 -682 327 -653T325 -350Q324 -28 323 -18Q317 24 301 61T264 124T221 171T179 205T147 225T132 234Q130 238 130 250Q130 255 130 258T131 264T132 267T134 269T139 272T144 275Q207 308 256 367Q310 436 323 519Q324 529 325 851Q326 1124 326 1154T332 1205Q369 1358 566 1443L582 1450H612L618 1444V1429Q618 1413 616 1411L608 1406Q599 1402 585 1393T552 1372T515 1343T479 1305T449 1257T429 1200Q425 1180 425 1152T423 851Q422 579 422 549T416 498Q407 459 388 424T346 364T297 318T250 284T214 264T197 254L188 251L205 242Q290 200 345 138T416 3Q421 -18 421 -48T423 -349Q423 -397 423 -472Q424 -677 428 -694Q429 -697 429 -699Q434 -722 443 -743T465 -782T491 -816T519 -845T548 -868T574 -886T595 -899T610 -908L616 -910Q618 -912 618 -928V-943Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtable\" transform=\"translate(750,0)\"><g data-mml-node=\"mtr\" transform=\"translate(0,622.1)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1247.8,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mtd\" transform=\"translate(2525.8,0)\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1525.6,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(2470.3,0)\"><path data-c=\"54\" d=\"M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(722,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1222,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6B\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124T98 167T98 217T98 272T98 329Q98 366 98 407T98 482T98 542T97 586T97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V463L180 233L240 287Q300 341 304 347Q310 356 310 364Q310 383 289 385H284V431H293Q308 428 412 428Q475 428 484 431H489V385H476Q407 380 360 341Q286 278 286 274Q286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3Q322 3 307 0H299V46H306Q330 48 330 65Q330 72 326 79Q323 84 276 153T228 222L176 176V120V84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z\" transform=\"translate(1778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4776.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5165.3,0)\"><path data-c=\"7B\" d=\"M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5665.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(412,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(690,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(7238.3,0)\"><path data-c=\"2223\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7794.1,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(882,-150) scale(0.707)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9279.9,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(10280.2,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(11057.9,0)\"><path data-c=\"2264\" d=\"M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12113.7,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(12803.5,0)\"><path data-c=\"2264\" d=\"M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(13859.3,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(14737.3,0)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(15625.3,0)\"><path data-c=\"7D\" d=\"M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16125.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16514.3,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(16958.9,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(17836.9,0)\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18948.2,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(19948.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(882,-150) scale(0.707)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(21212,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(21601,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mtr\" transform=\"translate(0,-622.1)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"mtext\"><path data-c=\"A0\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(250,0)\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(750,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mtd\" transform=\"translate(2525.8,0)\"><g data-mml-node=\"mtext\"><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(500,0)\" style=\"stroke-width: 3;\"/><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1445,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(1889,0)\" style=\"stroke-width: 3;\"/><path data-c=\"77\" d=\"M90 368Q84 378 76 380T40 385H18V431H24L43 430Q62 430 84 429T116 428Q206 428 221 431H229V385H215Q177 383 177 368Q177 367 221 239L265 113L339 328L333 345Q323 374 316 379Q308 384 278 385H258V431H264Q270 428 348 428Q439 428 454 431H461V385H452Q404 385 404 369Q404 366 418 324T449 234T481 143L496 100L537 219Q579 341 579 347Q579 363 564 373T530 385H522V431H529Q541 428 624 428Q692 428 698 431H703V385H697Q696 385 691 385T682 384Q635 377 619 334L559 161Q546 124 528 71Q508 12 503 1T487 -11H479Q460 -11 456 -4Q455 -3 407 133L361 267Q359 263 266 -4Q261 -11 243 -11H238Q225 -11 220 -3L90 368Z\" transform=\"translate(2281,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(3003,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(3281,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(3675,0)\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(25154.8,0) translate(0 250)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>g</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">{</mo><mtable columnalign=\"left left\" columnspacing=\"1em\" rowspacing=\".2em\"><mtr><mtd><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>,</mo></mtd><mtd><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>∈</mo><mtext>Topk</mtext><mo stretchy=\"false\">(</mo><mo fence=\"false\" stretchy=\"false\">{</mo><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>j</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>∣</mo><msub><mi>K</mi><mi>s</mi></msub><mo>+</mo><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mi>m</mi><mi>N</mi><mo fence=\"false\" stretchy=\"false\">}</mo><mo stretchy=\"false\">)</mo><mo>,</mo><mi>m</mi><mi>K</mi><mo>−</mo><msub><mi>K</mi><mi>s</mi></msub><mo stretchy=\"false\">)</mo><mo>,</mo></mtd></mtr><mtr><mtd><mtext> </mtext><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo data-mjx-texclass=\"CLOSE\" fence=\"true\" stretchy=\"true\" symmetric=\"true\"/></mrow></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.65ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"21.483ex\" height=\"2.931ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1008.2 9495.7 1295.4\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1525.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(2581.3,0)\"><g data-mml-node=\"mtext\"><path data-c=\"53\" d=\"M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(1362,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(1751,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2584,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(3084,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3645,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6520.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(6909.3,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D42E\" d=\"M40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(672,413) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msup\"><g data-mml-node=\"mi\"><path data-c=\"1D459\" d=\"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(331,363) scale(0.707)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(672,-247) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(8252.7,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D41E\" d=\"M32 225Q32 332 102 392T272 452H283Q382 452 436 401Q494 343 494 243Q494 226 486 222T440 217Q431 217 394 217T327 218H175V209Q175 177 179 154T196 107T236 69T306 50Q312 49 323 49Q376 49 410 85Q421 99 427 111T434 127T442 133T463 135H468Q494 135 494 117Q494 110 489 97T468 66T431 32T373 5T292 -6Q181 -6 107 55T32 225ZM383 276Q377 346 348 374T280 402Q253 402 230 390T195 357Q179 331 176 279V266H383V276Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(560,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9106.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><msub><mtext>Softmax</mtext><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">u</mi></mrow><mi>t</mi><mrow data-mjx-texclass=\"ORD\"><msup><mi>l</mi><mi>T</mi></msup></mrow></msubsup><msub><mrow data-mjx-texclass=\"ORD\"><mi mathvariant=\"bold\">e</mi></mrow><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><p>最后，在 DeepSeekMoE 中，共享专家的数量为 𝐾𝑠，路由专家的总数为 𝑚𝑁 − 𝐾𝑠，非零门的数量为 𝑚𝐾 − 𝐾𝑠。</p>\n<h4 id=\"负载均衡问题\">负载均衡问题</h4>\n<p>自动学习的路由策略可能会遇到负载不均衡的问题，这表现出两个显著的缺陷。首先，存在路由崩溃的风险，即模型总是只选择少数几个专家，导致其他专家无法得到充分的训练。其次，如果专家分布在多个设备上，负载不均衡会加剧计算瓶颈。</p>\n<h5 id=\"Expert-Level-Balance-Loss\">Expert-Level Balance Loss</h5>\n<p>专家级平衡损失。为了降低路由崩溃的风险，平衡损失的计算如下：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20.15ex\" height=\"6.861ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1786.7 8906.2 3032.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"45\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H597V676Q599 670 611 560T625 444V440H585V444Q584 447 582 465Q578 500 570 526T553 571T528 601T498 619T457 629T411 633T353 634Q266 634 251 633T233 622Q233 622 233 621Q232 619 232 497V376H286Q359 378 377 385Q413 401 416 469Q416 471 416 473V493H456V213H416V233Q415 268 408 288T383 317T349 328T297 330Q290 330 286 330H232V196V114Q232 57 237 52Q243 47 289 47H340H391Q428 47 452 50T505 62T552 92T584 146Q594 172 599 200T607 247T612 270V273H652V270Q651 267 632 137T610 3V0H25V46H58Q100 47 109 49T128 61V619Z\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(681,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(1209,0)\" style=\"stroke-width: 3;\"/><path data-c=\"42\" d=\"M131 622Q124 629 120 631T104 634T61 637H28V683H229H267H346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636T333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375L406 377Q410 378 417 380T442 393T474 417T499 456T511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200V116Q229 57 234 52Q240 47 334 47H383Q425 47 443 53Q486 67 511 104T537 188Z\" transform=\"translate(1765,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2473,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2973,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(3349.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4405.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"munderover\" transform=\"translate(5648.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(290.8,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msup\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(975.3,363) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"msub\" transform=\"translate(7259.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(8076.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mtext>ExpBal</mtext></mrow></msub><mo>=</mo><msub><mi>α</mi><mn>1</mn></msub><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><msup><mi>N</mi><mo data-mjx-alternate=\"1\">′</mo></msup></mrow></munderover><msub><mi>f</mi><mi>i</mi></msub><msub><mi>p</mi><mi>i</mi></msub></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"40.501ex\" height=\"6.73ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1728.7 17901.3 2974.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1094.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(2150.5,0)\"><g data-mml-node=\"msup\" transform=\"translate(571.4,676)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(975.3,363) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mrow\" transform=\"translate(220,-686)\"><g data-mml-node=\"msup\"><g data-mml-node=\"mi\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(974,289) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(1218.5,0)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"2122.5\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"munderover\" transform=\"translate(4679.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(142.5,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(361,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1139,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(473.1,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(6290.3,0)\"><g data-mml-node=\"mn\"><text data-variant=\"double-struck\" transform=\"scale(1,-1)\" font-size=\"884px\">𝟙</text></g></g><g data-mml-node=\"mo\" transform=\"translate(6890.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(7279.3,0)\"><path data-c=\"54\" d=\"M36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(722,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6B\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124T98 167T98 217T98 272T98 329Q98 366 98 407T98 482T98 542T97 586T97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V463L180 233L240 287Q300 341 304 347Q310 356 310 364Q310 383 289 385H284V431H293Q308 428 412 428Q475 428 484 431H489V385H476Q407 380 360 341Q286 278 286 274Q286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3Q322 3 307 0H299V46H306Q330 48 330 65Q330 72 326 79Q323 84 276 153T228 222L176 176V120V84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z\" transform=\"translate(1222,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1750,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(2194,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(2750,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10279.3,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mtext\" transform=\"translate(10640.3,0)\"><path data-c=\"A0\" d=\"\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(250,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(644,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(1088,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(1366,0)\" style=\"stroke-width: 3;\"/><path data-c=\"63\" d=\"M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z\" transform=\"translate(1810,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(2254,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(2643,0)\" style=\"stroke-width: 3;\"/><path data-c=\"20\" d=\"\" transform=\"translate(3037,0)\" style=\"stroke-width: 3;\"/><path data-c=\"45\" d=\"M128 619Q121 626 117 628T101 631T58 634H25V680H597V676Q599 670 611 560T625 444V440H585V444Q584 447 582 465Q578 500 570 526T553 571T528 601T498 619T457 629T411 633T353 634Q266 634 251 633T233 622Q233 622 233 621Q232 619 232 497V376H286Q359 378 377 385Q413 401 416 469Q416 471 416 473V493H456V213H416V233Q415 268 408 288T383 317T349 328T297 330Q290 330 286 330H232V196V114Q232 57 237 52Q243 47 289 47H340H391Q428 47 452 50T505 62T552 92T584 146Q594 172 599 200T607 247T612 270V273H652V270Q651 267 632 137T610 3V0H25V46H58Q100 47 109 49T128 61V619Z\" transform=\"translate(3287,0)\" style=\"stroke-width: 3;\"/><path data-c=\"78\" d=\"M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z\" transform=\"translate(3968,0)\" style=\"stroke-width: 3;\"/><path data-c=\"70\" d=\"M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z\" transform=\"translate(4496,0)\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(5052,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(5496,0)\" style=\"stroke-width: 3;\"/><path data-c=\"74\" d=\"M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z\" transform=\"translate(5888,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(6277,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(17167.3,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(17512.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mfrac><msup><mi>N</mi><mo data-mjx-alternate=\"1\">′</mo></msup><mrow><msup><mi>K</mi><mo data-mjx-alternate=\"1\">′</mo></msup><mi>T</mi></mrow></mfrac><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>T</mi></mrow></munderover><mrow data-mjx-texclass=\"ORD\"><mn mathvariant=\"double-struck\">1</mn></mrow><mo stretchy=\"false\">(</mo><mtext>Token </mtext><mi>t</mi><mtext> selects Expert </mtext><mi>i</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"14.327ex\" height=\"6.73ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1728.7 6332.6 2974.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1107.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(2163.5,0)\"><g data-mml-node=\"mn\" transform=\"translate(322,676)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(220,-686)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g><rect width=\"904\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"munderover\" transform=\"translate(3474.2,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(142.5,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(361,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1139,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(473.1,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(5084.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(502,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>p</mi><mi>i</mi></msub><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>T</mi></mrow></munderover><msub><mi>s</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><p>其中𝛼1是一个被称为专家级别平衡因子的超参数，为了简洁起见，𝑁′等于(𝑚𝑁 − 𝐾𝑠)，𝐾′等于(𝑚𝐾 − 𝐾𝑠)。1(·)表示指示函数。</p>\n<h5 id=\"Device-Level-Balance-Loss\">Device-Level Balance Loss</h5>\n<p>将所有路由的专家划分为 𝐷 组 {E1, E2, . . ., E𝐷}，并将每组部署在单个设备上，则设备级别平衡损失的计算方式如下：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20.247ex\" height=\"6.74ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1733 8949.1 2978.9\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"44\" d=\"M130 622Q123 629 119 631T103 634T60 637H27V683H228Q399 682 419 682T461 676Q504 667 546 641T626 573T685 470T708 336Q708 210 634 116T442 3Q429 1 228 0H27V46H60Q102 47 111 49T130 61V622ZM593 338Q593 439 571 501T493 602Q439 637 355 637H322H294Q238 637 234 628Q231 624 231 344Q231 62 232 59Q233 49 248 48T339 46H350Q456 46 515 95Q561 133 577 191T593 338Z\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(764,0)\" style=\"stroke-width: 3;\"/><path data-c=\"76\" d=\"M338 431Q344 429 422 429Q479 429 503 431H508V385H497Q439 381 423 345Q421 341 356 172T288 -2Q283 -11 263 -11Q244 -11 239 -2Q99 359 98 364Q93 378 82 381T43 385H19V431H25L33 430Q41 430 53 430T79 430T104 429T122 428Q217 428 232 431H240V385H226Q187 384 184 370Q184 366 235 234L286 102L377 341V349Q377 363 367 372T349 383T335 385H331V431H338Z\" transform=\"translate(1208,0)\" style=\"stroke-width: 3;\"/><path data-c=\"42\" d=\"M131 622Q124 629 120 631T104 634T61 637H28V683H229H267H346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636T333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375L406 377Q410 378 417 380T442 393T474 417T499 456T511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200V116Q229 57 234 52Q240 47 334 47H383Q425 47 443 53Q486 67 511 104T537 188Z\" transform=\"translate(1736,0)\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(2444,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" transform=\"translate(2944,0)\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(3329.1,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4384.9,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"munderover\" transform=\"translate(5628.1,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(429.3,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D437\" d=\"M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msubsup\" transform=\"translate(7238.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(636,413) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-247) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msubsup\" transform=\"translate(8119.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(536,413) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-247) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mtext>DevBal</mtext></mrow></msub><mo>=</mo><msub><mi>α</mi><mn>2</mn></msub><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>D</mi></mrow></munderover><msubsup><mi>f</mi><mi>i</mi><mo data-mjx-alternate=\"1\">′</mo></msubsup><msubsup><mi>p</mi><mi>i</mi><mo data-mjx-alternate=\"1\">′</mo></msubsup></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -3.076ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"15.173ex\" height=\"6.113ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1342 6706.6 2701.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msubsup\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(636,413) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-247) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1158.2,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(2214,0)\"><g data-mml-node=\"mn\" transform=\"translate(675.5,676)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(220,-709.5)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"7C\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(278,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"45\" d=\"M144 470Q144 556 240 630T451 705Q564 705 564 637Q564 611 540 573Q529 559 505 547T464 534Q448 534 448 545Q448 552 455 562Q463 577 463 591Q463 600 462 604T456 616T436 627T400 635Q396 635 390 635T380 636Q291 636 258 568Q245 544 245 516Q245 463 290 438T391 410Q415 410 415 398Q415 392 407 380T376 356T326 341Q288 340 260 327Q218 311 187 276T143 208T130 151Q130 113 156 88T211 55T268 47Q349 47 403 125Q415 144 439 157T483 171Q499 171 499 160Q499 148 475 120T413 59T315 3T197 -22Q124 -22 77 14T30 105Q30 126 39 154T66 216T122 288T209 354L223 362Q144 400 144 470Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(561,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1133,0) translate(0 -0.5)\"><path data-c=\"7C\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"1611\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"munder\" transform=\"translate(4231.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(38.2,-1115.5) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(412,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1079,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"45\" d=\"M144 470Q144 556 240 630T451 705Q564 705 564 637Q564 611 540 573Q529 559 505 547T464 534Q448 534 448 545Q448 552 455 562Q463 577 463 591Q463 600 462 604T456 616T436 627T400 635Q396 635 390 635T380 636Q291 636 258 568Q245 544 245 516Q245 463 290 438T391 410Q415 410 415 398Q415 392 407 380T376 356T326 341Q288 340 260 327Q218 311 187 276T143 208T130 151Q130 113 156 88T211 55T268 47Q349 47 403 125Q415 144 439 157T483 171Q499 171 499 160Q499 148 475 120T413 59T315 3T197 -22Q124 -22 77 14T30 105Q30 126 39 154T66 216T122 288T209 354L223 362Q144 400 144 470Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(561,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"msub\" transform=\"translate(5842.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msubsup><mi>f</mi><mi>i</mi><mo data-mjx-alternate=\"1\">′</mo></msubsup><mo>=</mo><mfrac><mn>1</mn><mrow><mo data-mjx-texclass=\"ORD\" stretchy=\"false\">|</mo><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">E</mi></mrow><mi>i</mi></msub><mo data-mjx-texclass=\"ORD\" stretchy=\"false\">|</mo></mrow></mfrac><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>j</mi><mo>∈</mo><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">E</mi></mrow><mi>i</mi></msub></mrow></munder><msub><mi>f</mi><mi>j</mi></msub></math></mjx-assistive-mml></mjx-container><mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -3.076ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"10.524ex\" height=\"5.226ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -950 4651.5 2309.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msubsup\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(536,413) scale(0.707)\"><path data-c=\"2032\" d=\"M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-247) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1107.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munder\" transform=\"translate(2163.5,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(38.2,-1115.5) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(412,0)\"><path data-c=\"2208\" d=\"M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1079,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"45\" d=\"M144 470Q144 556 240 630T451 705Q564 705 564 637Q564 611 540 573Q529 559 505 547T464 534Q448 534 448 545Q448 552 455 562Q463 577 463 591Q463 600 462 604T456 616T436 627T400 635Q396 635 390 635T380 636Q291 636 258 568Q245 544 245 516Q245 463 290 438T391 410Q415 410 415 398Q415 392 407 380T376 356T326 341Q288 340 260 327Q218 311 187 276T143 208T130 151Q130 113 156 88T211 55T268 47Q349 47 403 125Q415 144 439 157T483 171Q499 171 499 160Q499 148 475 120T413 59T315 3T197 -22Q124 -22 77 14T30 105Q30 126 39 154T66 216T122 288T209 354L223 362Q144 400 144 470Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(561,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"msub\" transform=\"translate(3774.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(536,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msubsup><mi>p</mi><mi>i</mi><mo data-mjx-alternate=\"1\">′</mo></msubsup><mo>=</mo><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>j</mi><mo>∈</mo><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">E</mi></mrow><mi>i</mi></msub></mrow></munder><msub><mi>p</mi><mi>j</mi></msub></math></mjx-assistive-mml></mjx-container><p>其中𝛼2是一个被称为设备级别平衡因子的超参数。设置一个较小的专家级别平衡因子以降低路由崩溃的风险，同时设置一个较大的设备级别平衡因子以促进设备间的均衡计算。</p>\n"},{"title":"代码随想录--栈·队列","date":"2025-02-06T16:10:23.000Z","description":"代码随想录--栈·队列","_content":"\n## 栈·队列\n\n​                                     ![栈：先进后出](https://oi-wiki.org/ds/images/stack.svg)                                               ![队列：先进先出](https://oi-wiki.org/ds/images/queue.svg)\n\n### stack\n\nSTL 中的 `stack` 容器提供了一众成员函数以供调用，其中较为常用的有：\n\n- 元素访问\n  - `st.top()` 返回栈顶\n- 修改\n  - `st.push()` 插入传入的参数到栈顶\n  - `st.pop()` 弹出栈顶\n- 容量\n  - `st.empty()` 返回是否为空\n  - `st.size()` 返回元素数量\n\n### queue \n\nSTL 中的 `queue` 容器提供了一众成员函数以供调用。其中较为常用的有：\n\n- 元素访问\n  - `q.front()` 返回队首元素\n  - `q.back()` 返回队尾元素\n- 修改\n  - `q.push()` 在队尾插入元素\n  - `q.pop()` 弹出队首元素\n- 容量\n  - `q.empty()` 队列是否为空\n  - `q.size()` 返回队列中元素的数量\n\n### deque\n\nSTL 中的 `deque` 容器提供了一众成员函数以供调用。其中较为常用的有：\n\n- 元素访问\n  - `q.front()` 返回队首元素\n  - `q.back()` 返回队尾元素\n- 修改\n  - `q.push_back()` 在队尾插入元素\n  - `q.pop_back()` 弹出队尾元素\n  - `q.push_front()` 在队首插入元素\n  - `q.pop_front()` 弹出队首元素\n  - `q.insert()` 在指定位置前插入元素（传入迭代器和元素）\n  - `q.erase()` 删除指定位置的元素（传入迭代器）\n- 容量\n  - `q.empty()` 队列是否为空\n  - `q.size()` 返回队列中元素的数量\n\n此外，`deque` 还提供了一些运算符。其中较为常用的有：\n\n- 使用赋值运算符 `=` 为 `deque` 赋值，类似 `queue`。\n\n- 使用 `[]` 访问元素，类似 `vector`。\n\n  \n\n### 用栈实现队列\n\n题目链接：[232. 用栈实现队列](https://leetcode.cn/problems/implement-queue-using-stacks/)\n\n```c++\nclass MyQueue {\nprivate:\n    // 如果 B 栈为空，将 A 栈中的元素倒入 B 栈\n    void moveToB() {\n        if (B.empty()) {\n            while (!A.empty()) {\n                B.push(A.top());\n                A.pop();\n            }\n        }\n    }\npublic:\n    stack<int> A, B;\n    MyQueue() {\n    }\n    void push(int x) {\n        A.push(x);\n    }\n    int pop() {\n        moveToB(); // 移动元素到 B 栈\n        int val = B.top();\n        B.pop();\n        return val;\n    }\n    int peek() {\n        moveToB(); // 移动元素到 B 栈\n        return B.top();\n    }\n    bool empty() {\n        return A.empty() && B.empty();\n    }\n};\n\n```\n\n\n\n### 用队列实现栈\n\n题目链接：[225. 用队列实现栈](https://leetcode.cn/problems/implement-stack-using-queues/)\n\n#### 方法一：使用 **一个队列**\n\n1. **push(x)**：\n   - 首先，将元素 `x` 入队到队列末尾。\n   - 然后，将队列中前面已有的元素依次出队，再重新入队到队列末尾。\n     这样，队列的前端就始终是最新压入的元素，相当于实现了栈的“后进先出（LIFO）”顺序。\n2. **pop()**：\n   - 直接将队首元素出队即可。因为在上一步的处理里，队首元素就是栈顶。\n3. **top()**：\n   - 返回队首元素（不弹出）。\n4. **empty()**：\n   - 判断队列是否为空。\n\n```c++\nclass MyStack {\npublic:\n    queue<int> q;\n\n    MyStack() {\n    }\n    \n    // 每次 push 后，把前面的 (size - 1) 个元素依次出队并重新入队，确保新元素在队首\n    void push(int x) {\n        // 1. 新元素先入队\n        q.push(x);\n        // 2. 将前面的元素依次移到末尾\n        int n = q.size();\n        // 只需要将前面的 (n - 1) 个元素移动到末尾\n        for(int i = 0; i < n - 1; i++) {\n            q.push(q.front());\n            q.pop();\n        }\n    }\n    \n    int pop() {\n        int val = q.front();  // 由于 push 中的旋转操作，队首就是栈顶\n        q.pop();\n        return val;\n    }\n    \n    int top() {\n        return q.front();     // 队首即为栈顶\n    }\n    \n    bool empty() {\n        return q.empty();\n    }\n};\n```\n\n\n\n#### 方法二：使用 **两个队列**\n\n1. **队列 A** 和 **队列 B** 协同工作，保证其中一个队列始终存放当前所有元素，另一个队列用来做辅助操作。\n2. push(x)：\n   - 把新元素直接入队到**空**队列中（或者你可以总是把它放到 A，然后把 A 里旧的元素转移到 B，具体实现略有差异）。\n3. pop()：\n   - 在 `pop()` 之前，我们需要把除最后一个元素外的所有元素，从一个队列（有数据的队列）依次出队并入队到另一个空队列，让最后一个元素留在原队列，然后弹出这个元素，这相当于栈顶元素。\n4. top()：\n   - 类似 `pop()`，只是查看最后一个元素而不把它真正弹出。\n5. empty()：\n   - 两个队列都为空即为真。\n\n```c++\n#include <queue>\nusing namespace std;\n\nclass MyStack {\npublic:\n    queue<int> q1, q2;  // 两个队列\n\n    MyStack() {\n    }\n    \n    void push(int x) {\n        // 1. 新元素先入空的队列 q2\n        q2.push(x);\n\n        // 2. 把 q1 中所有元素依次移到 q2 中\n        while (!q1.empty()) {\n            q2.push(q1.front());\n            q1.pop();\n        }\n\n        // 3. 交换 q1 和 q2，保证所有元素又回到 q1，q2 变空\n        swap(q1, q2);\n    }\n    \n    int pop() {\n        // 队首就是栈顶\n        int val = q1.front();\n        q1.pop();\n        return val;\n    }\n    \n    int top() {\n        return q1.front();\n    }\n    \n    bool empty() {\n        return q1.empty() && q2.empty();\n    }\n};\n\n```\n\n\n\n### 有效的括号\n\n题目链接：[20. 有效的括号](https://leetcode.cn/problems/valid-parentheses/)\n\n题目思路：先判断一下s的长度是否为偶数，如果不是就返回false，再将全部的左符号压入栈中，然后开始判断剩余的符号是否可以匹配，如果不能就返回false，将s循环结束，如果全部匹配成功，最后应该栈是空的，如果不是返回false。\n\n```c++\nclass Solution {\npublic:\n    bool isValid(string s) {\n        int n=s.size();\n        if(n%2!=0) return false;\n        stack<char> t;\n        for(int i=0;i<n;i++)\n        {\n            if(s[i]=='(') t.push(')');\n            else if(s[i]=='{') t.push('}');\n            else if(s[i]=='[') t.push(']');\n            else if(t.empty() || t.top()!=s[i]) return false;\n            else t.pop();\n        }\n        return t.empty();\n    }\n};\n```\n\n\n\n### 删除字符串中的所有相邻重复项\n\n题目链接：[1047. 删除字符串中的所有相邻重复项](https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string/)\n\n建栈的写法，性能太差了。\n\n```c++\nclass Solution {\npublic:\n    string removeDuplicates(string s) {\n        stack<char> t;\n        int n=s.size();\n        for(int i=0;i<n;i++)\n        {\n            if(!t.empty() && s[i]==t.top()) t.pop();\n            else t.push(s[i]); \n        } \n        string result;\n        while(!t.empty())\n        {\n            result=t.top()+result;\n            t.pop();\n        }\n        return result;\n    }\n};\n```\n\nstring自己就可以做栈，string有pop和push接口，性能很高。\n\n```c++\nclass Solution {\npublic:\n    string removeDuplicates(string s) {\n        string stk;\n        for (char ch : s) {\n            if (!stk.empty() && stk.back() == ch) {\n                stk.pop_back();\n            } else {\n                stk.push_back(ch);\n            }\n        }\n        return stk;\n    }\n};\n```\n\n\n\n### 逆波兰表达式求值\n\n题目链接：[150. 逆波兰表达式求值](https://leetcode.cn/problems/evaluate-reverse-polish-notation/)\n\n题目挺简单的，就是一个点需要注意：\n\n**`stoi()`**：\n\n- `stoi` 是一个将 `std::string` 类型转换为 `int` 的函数。如果 `tokens[i]` 是一个有效的整数表示，`stoi(tokens[i])` 将返回对应的整数值。\n\n```c++\nclass Solution {\npublic:\n    int evalRPN(vector<string>& tokens) {\n        stack<int> t;\n        int n=tokens.size(),re;\n        for(int i=0;i<n;i++)\n        {\n            if(tokens[i]==\"+\") \n            {\n                int a=t.top();t.pop();\n                int b=t.top();t.pop();\n                re=a+b;\n                t.push(re);\n            }\n            else if(tokens[i]==\"-\")\n            {\n                int a=t.top();t.pop();\n                int b=t.top();t.pop();\n                re=b-a;\n                t.push(re);\n            }\n            else if(tokens[i]==\"*\")\n            {\n                int a=t.top();t.pop();\n                int b=t.top();t.pop();\n                re=b*a;\n                t.push(re);\n            }\n            else if(tokens[i]==\"/\")\n            {\n                int a=t.top();t.pop();\n                int b=t.top();t.pop();\n                re=b/a;\n                t.push(re);\n            }\n            else t.push(stoi(tokens[i]));\n        }\n        return t.top();\n    }\n};\n```\n\n\n\n### 滑动窗口最大值\n\n题目链接：[239. 滑动窗口最大值](https://leetcode.cn/problems/sliding-window-maximum/)\n\n双端队列：队列中元素个数大于k，就删除队首元素，若入队元素大于队列中的元素，则把队列中的元素弹出。\n\n```c++\nclass Solution {\npublic:\n    vector<int> maxSlidingWindow(vector<int>& nums, int k) {\n        vector<int> ans;\n        deque<int> q; // 双端队列\n        for (int i = 0; i < nums.size(); i++) {\n            // 1. 入\n            while (!q.empty() && nums[q.back()] <= nums[i]) {\n                q.pop_back(); // 维护 q 的单调性\n            }\n            q.push_back(i); // 入队\n            // 2. 出\n            if (i - q.front() >= k) { // 队首已经离开窗口了\n                q.pop_front();\n            }\n            // 3. 记录答案\n            if (i >= k - 1) {\n                // 由于队首到队尾单调递减，所以窗口最大值就是队首\n                ans.push_back(nums[q.front()]);\n            }\n        }\n        return ans;\n    }\n};\n```\n\n\n\n### 前 K 个高频元素\n\n题目链接：[347. 前 K 个高频元素](https://leetcode.cn/problems/top-k-frequent-elements/)\n\n堆是一棵完全二叉树，树中每个结点的值都不小于（或不大于）其左右孩子的值。 如果父亲结点是大于等于左右孩子就是大顶堆，小于等于左右孩子就是小顶堆。**小顶堆每次将最小的元素弹出，最后小顶堆里积累的才是前k个最大元素。**\n\n<img src=\"https://code-thinking.cdn.bcebos.com/pics/347.%E5%89%8DK%E4%B8%AA%E9%AB%98%E9%A2%91%E5%85%83%E7%B4%A0.jpg\" style=\"zoom: 50%;\" />\n\n```c++\nclass Solution {\npublic:\n    // 小顶堆\n    class mycomparison {\n    public:\n        bool operator()(const pair<int, int>& lhs, const pair<int, int>& rhs) {\n            return lhs.second > rhs.second;\n        }\n    };\n    vector<int> topKFrequent(vector<int>& nums, int k) {\n        // 要统计元素出现频率\n        unordered_map<int, int> map; // map<nums[i],对应出现的次数>\n        for (int i = 0; i < nums.size(); i++) {\n            map[nums[i]]++;\n        }\n\n        // 对频率排序\n        // 定义一个小顶堆，大小为k\n        priority_queue<pair<int, int>, vector<pair<int, int>>, mycomparison> pri_que;\n\n        // 用固定大小为k的小顶堆，扫面所有频率的数值\n        for (unordered_map<int, int>::iterator it = map.begin(); it != map.end(); it++) {\n            pri_que.push(*it);\n            if (pri_que.size() > k) { // 如果堆的大小大于了K，则队列弹出，保证堆的大小一直为k\n                pri_que.pop();\n            }\n        }\n\n        // 找出前K个高频元素，因为小顶堆先弹出的是最小的，所以倒序来输出到数组\n        vector<int> result(k);\n        for (int i = k - 1; i >= 0; i--) {\n            result[i] = pri_que.top().first;\n            pri_que.pop();\n        }\n        return result;\n\n    }\n};\n```\n\n","source":"_posts/8day.md","raw":"---\ntitle: 代码随想录--栈·队列\ndate: 2025-02-07 00:10:23\ntags: [数据结构与算法,栈,队列,双端队列,堆,queue,stack,deque]\ncategories: [学习,数据结构与算法,代码随想录]\ndescription: 代码随想录--栈·队列\n---\n\n## 栈·队列\n\n​                                     ![栈：先进后出](https://oi-wiki.org/ds/images/stack.svg)                                               ![队列：先进先出](https://oi-wiki.org/ds/images/queue.svg)\n\n### stack\n\nSTL 中的 `stack` 容器提供了一众成员函数以供调用，其中较为常用的有：\n\n- 元素访问\n  - `st.top()` 返回栈顶\n- 修改\n  - `st.push()` 插入传入的参数到栈顶\n  - `st.pop()` 弹出栈顶\n- 容量\n  - `st.empty()` 返回是否为空\n  - `st.size()` 返回元素数量\n\n### queue \n\nSTL 中的 `queue` 容器提供了一众成员函数以供调用。其中较为常用的有：\n\n- 元素访问\n  - `q.front()` 返回队首元素\n  - `q.back()` 返回队尾元素\n- 修改\n  - `q.push()` 在队尾插入元素\n  - `q.pop()` 弹出队首元素\n- 容量\n  - `q.empty()` 队列是否为空\n  - `q.size()` 返回队列中元素的数量\n\n### deque\n\nSTL 中的 `deque` 容器提供了一众成员函数以供调用。其中较为常用的有：\n\n- 元素访问\n  - `q.front()` 返回队首元素\n  - `q.back()` 返回队尾元素\n- 修改\n  - `q.push_back()` 在队尾插入元素\n  - `q.pop_back()` 弹出队尾元素\n  - `q.push_front()` 在队首插入元素\n  - `q.pop_front()` 弹出队首元素\n  - `q.insert()` 在指定位置前插入元素（传入迭代器和元素）\n  - `q.erase()` 删除指定位置的元素（传入迭代器）\n- 容量\n  - `q.empty()` 队列是否为空\n  - `q.size()` 返回队列中元素的数量\n\n此外，`deque` 还提供了一些运算符。其中较为常用的有：\n\n- 使用赋值运算符 `=` 为 `deque` 赋值，类似 `queue`。\n\n- 使用 `[]` 访问元素，类似 `vector`。\n\n  \n\n### 用栈实现队列\n\n题目链接：[232. 用栈实现队列](https://leetcode.cn/problems/implement-queue-using-stacks/)\n\n```c++\nclass MyQueue {\nprivate:\n    // 如果 B 栈为空，将 A 栈中的元素倒入 B 栈\n    void moveToB() {\n        if (B.empty()) {\n            while (!A.empty()) {\n                B.push(A.top());\n                A.pop();\n            }\n        }\n    }\npublic:\n    stack<int> A, B;\n    MyQueue() {\n    }\n    void push(int x) {\n        A.push(x);\n    }\n    int pop() {\n        moveToB(); // 移动元素到 B 栈\n        int val = B.top();\n        B.pop();\n        return val;\n    }\n    int peek() {\n        moveToB(); // 移动元素到 B 栈\n        return B.top();\n    }\n    bool empty() {\n        return A.empty() && B.empty();\n    }\n};\n\n```\n\n\n\n### 用队列实现栈\n\n题目链接：[225. 用队列实现栈](https://leetcode.cn/problems/implement-stack-using-queues/)\n\n#### 方法一：使用 **一个队列**\n\n1. **push(x)**：\n   - 首先，将元素 `x` 入队到队列末尾。\n   - 然后，将队列中前面已有的元素依次出队，再重新入队到队列末尾。\n     这样，队列的前端就始终是最新压入的元素，相当于实现了栈的“后进先出（LIFO）”顺序。\n2. **pop()**：\n   - 直接将队首元素出队即可。因为在上一步的处理里，队首元素就是栈顶。\n3. **top()**：\n   - 返回队首元素（不弹出）。\n4. **empty()**：\n   - 判断队列是否为空。\n\n```c++\nclass MyStack {\npublic:\n    queue<int> q;\n\n    MyStack() {\n    }\n    \n    // 每次 push 后，把前面的 (size - 1) 个元素依次出队并重新入队，确保新元素在队首\n    void push(int x) {\n        // 1. 新元素先入队\n        q.push(x);\n        // 2. 将前面的元素依次移到末尾\n        int n = q.size();\n        // 只需要将前面的 (n - 1) 个元素移动到末尾\n        for(int i = 0; i < n - 1; i++) {\n            q.push(q.front());\n            q.pop();\n        }\n    }\n    \n    int pop() {\n        int val = q.front();  // 由于 push 中的旋转操作，队首就是栈顶\n        q.pop();\n        return val;\n    }\n    \n    int top() {\n        return q.front();     // 队首即为栈顶\n    }\n    \n    bool empty() {\n        return q.empty();\n    }\n};\n```\n\n\n\n#### 方法二：使用 **两个队列**\n\n1. **队列 A** 和 **队列 B** 协同工作，保证其中一个队列始终存放当前所有元素，另一个队列用来做辅助操作。\n2. push(x)：\n   - 把新元素直接入队到**空**队列中（或者你可以总是把它放到 A，然后把 A 里旧的元素转移到 B，具体实现略有差异）。\n3. pop()：\n   - 在 `pop()` 之前，我们需要把除最后一个元素外的所有元素，从一个队列（有数据的队列）依次出队并入队到另一个空队列，让最后一个元素留在原队列，然后弹出这个元素，这相当于栈顶元素。\n4. top()：\n   - 类似 `pop()`，只是查看最后一个元素而不把它真正弹出。\n5. empty()：\n   - 两个队列都为空即为真。\n\n```c++\n#include <queue>\nusing namespace std;\n\nclass MyStack {\npublic:\n    queue<int> q1, q2;  // 两个队列\n\n    MyStack() {\n    }\n    \n    void push(int x) {\n        // 1. 新元素先入空的队列 q2\n        q2.push(x);\n\n        // 2. 把 q1 中所有元素依次移到 q2 中\n        while (!q1.empty()) {\n            q2.push(q1.front());\n            q1.pop();\n        }\n\n        // 3. 交换 q1 和 q2，保证所有元素又回到 q1，q2 变空\n        swap(q1, q2);\n    }\n    \n    int pop() {\n        // 队首就是栈顶\n        int val = q1.front();\n        q1.pop();\n        return val;\n    }\n    \n    int top() {\n        return q1.front();\n    }\n    \n    bool empty() {\n        return q1.empty() && q2.empty();\n    }\n};\n\n```\n\n\n\n### 有效的括号\n\n题目链接：[20. 有效的括号](https://leetcode.cn/problems/valid-parentheses/)\n\n题目思路：先判断一下s的长度是否为偶数，如果不是就返回false，再将全部的左符号压入栈中，然后开始判断剩余的符号是否可以匹配，如果不能就返回false，将s循环结束，如果全部匹配成功，最后应该栈是空的，如果不是返回false。\n\n```c++\nclass Solution {\npublic:\n    bool isValid(string s) {\n        int n=s.size();\n        if(n%2!=0) return false;\n        stack<char> t;\n        for(int i=0;i<n;i++)\n        {\n            if(s[i]=='(') t.push(')');\n            else if(s[i]=='{') t.push('}');\n            else if(s[i]=='[') t.push(']');\n            else if(t.empty() || t.top()!=s[i]) return false;\n            else t.pop();\n        }\n        return t.empty();\n    }\n};\n```\n\n\n\n### 删除字符串中的所有相邻重复项\n\n题目链接：[1047. 删除字符串中的所有相邻重复项](https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string/)\n\n建栈的写法，性能太差了。\n\n```c++\nclass Solution {\npublic:\n    string removeDuplicates(string s) {\n        stack<char> t;\n        int n=s.size();\n        for(int i=0;i<n;i++)\n        {\n            if(!t.empty() && s[i]==t.top()) t.pop();\n            else t.push(s[i]); \n        } \n        string result;\n        while(!t.empty())\n        {\n            result=t.top()+result;\n            t.pop();\n        }\n        return result;\n    }\n};\n```\n\nstring自己就可以做栈，string有pop和push接口，性能很高。\n\n```c++\nclass Solution {\npublic:\n    string removeDuplicates(string s) {\n        string stk;\n        for (char ch : s) {\n            if (!stk.empty() && stk.back() == ch) {\n                stk.pop_back();\n            } else {\n                stk.push_back(ch);\n            }\n        }\n        return stk;\n    }\n};\n```\n\n\n\n### 逆波兰表达式求值\n\n题目链接：[150. 逆波兰表达式求值](https://leetcode.cn/problems/evaluate-reverse-polish-notation/)\n\n题目挺简单的，就是一个点需要注意：\n\n**`stoi()`**：\n\n- `stoi` 是一个将 `std::string` 类型转换为 `int` 的函数。如果 `tokens[i]` 是一个有效的整数表示，`stoi(tokens[i])` 将返回对应的整数值。\n\n```c++\nclass Solution {\npublic:\n    int evalRPN(vector<string>& tokens) {\n        stack<int> t;\n        int n=tokens.size(),re;\n        for(int i=0;i<n;i++)\n        {\n            if(tokens[i]==\"+\") \n            {\n                int a=t.top();t.pop();\n                int b=t.top();t.pop();\n                re=a+b;\n                t.push(re);\n            }\n            else if(tokens[i]==\"-\")\n            {\n                int a=t.top();t.pop();\n                int b=t.top();t.pop();\n                re=b-a;\n                t.push(re);\n            }\n            else if(tokens[i]==\"*\")\n            {\n                int a=t.top();t.pop();\n                int b=t.top();t.pop();\n                re=b*a;\n                t.push(re);\n            }\n            else if(tokens[i]==\"/\")\n            {\n                int a=t.top();t.pop();\n                int b=t.top();t.pop();\n                re=b/a;\n                t.push(re);\n            }\n            else t.push(stoi(tokens[i]));\n        }\n        return t.top();\n    }\n};\n```\n\n\n\n### 滑动窗口最大值\n\n题目链接：[239. 滑动窗口最大值](https://leetcode.cn/problems/sliding-window-maximum/)\n\n双端队列：队列中元素个数大于k，就删除队首元素，若入队元素大于队列中的元素，则把队列中的元素弹出。\n\n```c++\nclass Solution {\npublic:\n    vector<int> maxSlidingWindow(vector<int>& nums, int k) {\n        vector<int> ans;\n        deque<int> q; // 双端队列\n        for (int i = 0; i < nums.size(); i++) {\n            // 1. 入\n            while (!q.empty() && nums[q.back()] <= nums[i]) {\n                q.pop_back(); // 维护 q 的单调性\n            }\n            q.push_back(i); // 入队\n            // 2. 出\n            if (i - q.front() >= k) { // 队首已经离开窗口了\n                q.pop_front();\n            }\n            // 3. 记录答案\n            if (i >= k - 1) {\n                // 由于队首到队尾单调递减，所以窗口最大值就是队首\n                ans.push_back(nums[q.front()]);\n            }\n        }\n        return ans;\n    }\n};\n```\n\n\n\n### 前 K 个高频元素\n\n题目链接：[347. 前 K 个高频元素](https://leetcode.cn/problems/top-k-frequent-elements/)\n\n堆是一棵完全二叉树，树中每个结点的值都不小于（或不大于）其左右孩子的值。 如果父亲结点是大于等于左右孩子就是大顶堆，小于等于左右孩子就是小顶堆。**小顶堆每次将最小的元素弹出，最后小顶堆里积累的才是前k个最大元素。**\n\n<img src=\"https://code-thinking.cdn.bcebos.com/pics/347.%E5%89%8DK%E4%B8%AA%E9%AB%98%E9%A2%91%E5%85%83%E7%B4%A0.jpg\" style=\"zoom: 50%;\" />\n\n```c++\nclass Solution {\npublic:\n    // 小顶堆\n    class mycomparison {\n    public:\n        bool operator()(const pair<int, int>& lhs, const pair<int, int>& rhs) {\n            return lhs.second > rhs.second;\n        }\n    };\n    vector<int> topKFrequent(vector<int>& nums, int k) {\n        // 要统计元素出现频率\n        unordered_map<int, int> map; // map<nums[i],对应出现的次数>\n        for (int i = 0; i < nums.size(); i++) {\n            map[nums[i]]++;\n        }\n\n        // 对频率排序\n        // 定义一个小顶堆，大小为k\n        priority_queue<pair<int, int>, vector<pair<int, int>>, mycomparison> pri_que;\n\n        // 用固定大小为k的小顶堆，扫面所有频率的数值\n        for (unordered_map<int, int>::iterator it = map.begin(); it != map.end(); it++) {\n            pri_que.push(*it);\n            if (pri_que.size() > k) { // 如果堆的大小大于了K，则队列弹出，保证堆的大小一直为k\n                pri_que.pop();\n            }\n        }\n\n        // 找出前K个高频元素，因为小顶堆先弹出的是最小的，所以倒序来输出到数组\n        vector<int> result(k);\n        for (int i = k - 1; i >= 0; i--) {\n            result[i] = pri_que.top().first;\n            pri_que.pop();\n        }\n        return result;\n\n    }\n};\n```\n\n","slug":"8day","published":1,"updated":"2025-04-27T13:43:29.240Z","comments":1,"layout":"post","photos":[],"_id":"cmacbamit002w1swm8ehhd1ud","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"栈·队列\">栈·队列</h2>\n<p>​                                     <img src=\"https://oi-wiki.org/ds/images/stack.svg\" alt=\"栈：先进后出\">                                               <img src=\"https://oi-wiki.org/ds/images/queue.svg\" alt=\"队列：先进先出\"></p>\n<h3 id=\"stack\">stack</h3>\n<p>STL 中的 <code>stack</code> 容器提供了一众成员函数以供调用，其中较为常用的有：</p>\n<ul>\n<li>元素访问\n<ul>\n<li><code>st.top()</code> 返回栈顶</li>\n</ul>\n</li>\n<li>修改\n<ul>\n<li><code>st.push()</code> 插入传入的参数到栈顶</li>\n<li><code>st.pop()</code> 弹出栈顶</li>\n</ul>\n</li>\n<li>容量\n<ul>\n<li><code>st.empty()</code> 返回是否为空</li>\n<li><code>st.size()</code> 返回元素数量</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"queue\">queue</h3>\n<p>STL 中的 <code>queue</code> 容器提供了一众成员函数以供调用。其中较为常用的有：</p>\n<ul>\n<li>元素访问\n<ul>\n<li><code>q.front()</code> 返回队首元素</li>\n<li><code>q.back()</code> 返回队尾元素</li>\n</ul>\n</li>\n<li>修改\n<ul>\n<li><code>q.push()</code> 在队尾插入元素</li>\n<li><code>q.pop()</code> 弹出队首元素</li>\n</ul>\n</li>\n<li>容量\n<ul>\n<li><code>q.empty()</code> 队列是否为空</li>\n<li><code>q.size()</code> 返回队列中元素的数量</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"deque\">deque</h3>\n<p>STL 中的 <code>deque</code> 容器提供了一众成员函数以供调用。其中较为常用的有：</p>\n<ul>\n<li>元素访问\n<ul>\n<li><code>q.front()</code> 返回队首元素</li>\n<li><code>q.back()</code> 返回队尾元素</li>\n</ul>\n</li>\n<li>修改\n<ul>\n<li><code>q.push_back()</code> 在队尾插入元素</li>\n<li><code>q.pop_back()</code> 弹出队尾元素</li>\n<li><code>q.push_front()</code> 在队首插入元素</li>\n<li><code>q.pop_front()</code> 弹出队首元素</li>\n<li><code>q.insert()</code> 在指定位置前插入元素（传入迭代器和元素）</li>\n<li><code>q.erase()</code> 删除指定位置的元素（传入迭代器）</li>\n</ul>\n</li>\n<li>容量\n<ul>\n<li><code>q.empty()</code> 队列是否为空</li>\n<li><code>q.size()</code> 返回队列中元素的数量</li>\n</ul>\n</li>\n</ul>\n<p>此外，<code>deque</code> 还提供了一些运算符。其中较为常用的有：</p>\n<ul>\n<li>\n<p>使用赋值运算符 <code>=</code> 为 <code>deque</code> 赋值，类似 <code>queue</code>。</p>\n</li>\n<li>\n<p>使用 <code>[]</code> 访问元素，类似 <code>vector</code>。</p>\n</li>\n</ul>\n<h3 id=\"用栈实现队列\">用栈实现队列</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/implement-queue-using-stacks/\">232. 用栈实现队列</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyQueue</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"comment\">// 如果 B 栈为空，将 A 栈中的元素倒入 B 栈</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">moveToB</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (B.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (!A.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">                B.<span class=\"built_in\">push</span>(A.<span class=\"built_in\">top</span>());</span><br><span class=\"line\">                A.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    stack&lt;<span class=\"type\">int</span>&gt; A, B;</span><br><span class=\"line\">    <span class=\"built_in\">MyQueue</span>() &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        A.<span class=\"built_in\">push</span>(x);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">pop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">moveToB</span>(); <span class=\"comment\">// 移动元素到 B 栈</span></span><br><span class=\"line\">        <span class=\"type\">int</span> val = B.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">        B.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">peek</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">moveToB</span>(); <span class=\"comment\">// 移动元素到 B 栈</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> B.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">empty</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> A.<span class=\"built_in\">empty</span>() &amp;&amp; B.<span class=\"built_in\">empty</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"用队列实现栈\">用队列实现栈</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/implement-stack-using-queues/\">225. 用队列实现栈</a></p>\n<h4 id=\"方法一：使用-一个队列\">方法一：使用 <strong>一个队列</strong></h4>\n<ol>\n<li><strong>push(x)</strong>：\n<ul>\n<li>首先，将元素 <code>x</code> 入队到队列末尾。</li>\n<li>然后，将队列中前面已有的元素依次出队，再重新入队到队列末尾。<br>\n这样，队列的前端就始终是最新压入的元素，相当于实现了栈的“后进先出（LIFO）”顺序。</li>\n</ul>\n</li>\n<li><strong>pop()</strong>：\n<ul>\n<li>直接将队首元素出队即可。因为在上一步的处理里，队首元素就是栈顶。</li>\n</ul>\n</li>\n<li><strong>top()</strong>：\n<ul>\n<li>返回队首元素（不弹出）。</li>\n</ul>\n</li>\n<li><strong>empty()</strong>：\n<ul>\n<li>判断队列是否为空。</li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyStack</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    queue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">MyStack</span>() &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 每次 push 后，把前面的 (size - 1) 个元素依次出队并重新入队，确保新元素在队首</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 1. 新元素先入队</span></span><br><span class=\"line\">        q.<span class=\"built_in\">push</span>(x);</span><br><span class=\"line\">        <span class=\"comment\">// 2. 将前面的元素依次移到末尾</span></span><br><span class=\"line\">        <span class=\"type\">int</span> n = q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 只需要将前面的 (n - 1) 个元素移动到末尾</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">            q.<span class=\"built_in\">push</span>(q.<span class=\"built_in\">front</span>());</span><br><span class=\"line\">            q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">pop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> val = q.<span class=\"built_in\">front</span>();  <span class=\"comment\">// 由于 push 中的旋转操作，队首就是栈顶</span></span><br><span class=\"line\">        q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">top</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q.<span class=\"built_in\">front</span>();     <span class=\"comment\">// 队首即为栈顶</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">empty</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q.<span class=\"built_in\">empty</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"方法二：使用-两个队列\">方法二：使用 <strong>两个队列</strong></h4>\n<ol>\n<li><strong>队列 A</strong> 和 <strong>队列 B</strong> 协同工作，保证其中一个队列始终存放当前所有元素，另一个队列用来做辅助操作。</li>\n<li>push(x)：\n<ul>\n<li>把新元素直接入队到<strong>空</strong>队列中（或者你可以总是把它放到 A，然后把 A 里旧的元素转移到 B，具体实现略有差异）。</li>\n</ul>\n</li>\n<li>pop()：\n<ul>\n<li>在 <code>pop()</code> 之前，我们需要把除最后一个元素外的所有元素，从一个队列（有数据的队列）依次出队并入队到另一个空队列，让最后一个元素留在原队列，然后弹出这个元素，这相当于栈顶元素。</li>\n</ul>\n</li>\n<li>top()：\n<ul>\n<li>类似 <code>pop()</code>，只是查看最后一个元素而不把它真正弹出。</li>\n</ul>\n</li>\n<li>empty()：\n<ul>\n<li>两个队列都为空即为真。</li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;queue&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyStack</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    queue&lt;<span class=\"type\">int</span>&gt; q1, q2;  <span class=\"comment\">// 两个队列</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">MyStack</span>() &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 1. 新元素先入空的队列 q2</span></span><br><span class=\"line\">        q<span class=\"number\">2.</span><span class=\"built_in\">push</span>(x);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 2. 把 q1 中所有元素依次移到 q2 中</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!q<span class=\"number\">1.</span><span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            q<span class=\"number\">2.</span><span class=\"built_in\">push</span>(q<span class=\"number\">1.f</span>ront());</span><br><span class=\"line\">            q<span class=\"number\">1.</span><span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 3. 交换 q1 和 q2，保证所有元素又回到 q1，q2 变空</span></span><br><span class=\"line\">        <span class=\"built_in\">swap</span>(q1, q2);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">pop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 队首就是栈顶</span></span><br><span class=\"line\">        <span class=\"type\">int</span> val = q<span class=\"number\">1.f</span>ront();</span><br><span class=\"line\">        q<span class=\"number\">1.</span><span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">top</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q<span class=\"number\">1.f</span>ront();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">empty</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q<span class=\"number\">1.</span><span class=\"built_in\">empty</span>() &amp;&amp; q<span class=\"number\">2.</span><span class=\"built_in\">empty</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"有效的括号\">有效的括号</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/valid-parentheses/\">20. 有效的括号</a></p>\n<p>题目思路：先判断一下s的长度是否为偶数，如果不是就返回false，再将全部的左符号压入栈中，然后开始判断剩余的符号是否可以匹配，如果不能就返回false，将s循环结束，如果全部匹配成功，最后应该栈是空的，如果不是返回false。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isValid</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n%<span class=\"number\">2</span>!=<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        stack&lt;<span class=\"type\">char</span>&gt; t;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(s[i]==<span class=\"string\">&#x27;(&#x27;</span>) t.<span class=\"built_in\">push</span>(<span class=\"string\">&#x27;)&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s[i]==<span class=\"string\">&#x27;&#123;&#x27;</span>) t.<span class=\"built_in\">push</span>(<span class=\"string\">&#x27;&#125;&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s[i]==<span class=\"string\">&#x27;[&#x27;</span>) t.<span class=\"built_in\">push</span>(<span class=\"string\">&#x27;]&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(t.<span class=\"built_in\">empty</span>() || t.<span class=\"built_in\">top</span>()!=s[i]) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> t.<span class=\"built_in\">empty</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除字符串中的所有相邻重复项\">删除字符串中的所有相邻重复项</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string/\">1047. 删除字符串中的所有相邻重复项</a></p>\n<p>建栈的写法，性能太差了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">removeDuplicates</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;<span class=\"type\">char</span>&gt; t;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!t.<span class=\"built_in\">empty</span>() &amp;&amp; s[i]==t.<span class=\"built_in\">top</span>()) t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">else</span> t.<span class=\"built_in\">push</span>(s[i]); </span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        string result;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!t.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result=t.<span class=\"built_in\">top</span>()+result;</span><br><span class=\"line\">            t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>string自己就可以做栈，string有pop和push接口，性能很高。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">removeDuplicates</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        string stk;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">char</span> ch : s) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!stk.<span class=\"built_in\">empty</span>() &amp;&amp; stk.<span class=\"built_in\">back</span>() == ch) &#123;</span><br><span class=\"line\">                stk.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                stk.<span class=\"built_in\">push_back</span>(ch);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> stk;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"逆波兰表达式求值\">逆波兰表达式求值</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/evaluate-reverse-polish-notation/\">150. 逆波兰表达式求值</a></p>\n<p>题目挺简单的，就是一个点需要注意：</p>\n<p><strong><code>stoi()</code></strong>：</p>\n<ul>\n<li><code>stoi</code> 是一个将 <code>std::string</code> 类型转换为 <code>int</code> 的函数。如果 <code>tokens[i]</code> 是一个有效的整数表示，<code>stoi(tokens[i])</code> 将返回对应的整数值。</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">evalRPN</span><span class=\"params\">(vector&lt;string&gt;&amp; tokens)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;<span class=\"type\">int</span>&gt; t;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=tokens.<span class=\"built_in\">size</span>(),re;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(tokens[i]==<span class=\"string\">&quot;+&quot;</span>) </span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> a=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"type\">int</span> b=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re=a+b;</span><br><span class=\"line\">                t.<span class=\"built_in\">push</span>(re);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(tokens[i]==<span class=\"string\">&quot;-&quot;</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> a=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"type\">int</span> b=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re=b-a;</span><br><span class=\"line\">                t.<span class=\"built_in\">push</span>(re);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(tokens[i]==<span class=\"string\">&quot;*&quot;</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> a=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"type\">int</span> b=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re=b*a;</span><br><span class=\"line\">                t.<span class=\"built_in\">push</span>(re);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(tokens[i]==<span class=\"string\">&quot;/&quot;</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> a=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"type\">int</span> b=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re=b/a;</span><br><span class=\"line\">                t.<span class=\"built_in\">push</span>(re);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> t.<span class=\"built_in\">push</span>(<span class=\"built_in\">stoi</span>(tokens[i]));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> t.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"滑动窗口最大值\">滑动窗口最大值</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/sliding-window-maximum/\">239. 滑动窗口最大值</a></p>\n<p>双端队列：队列中元素个数大于k，就删除队首元素，若入队元素大于队列中的元素，则把队列中的元素弹出。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">maxSlidingWindow</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; ans;</span><br><span class=\"line\">        deque&lt;<span class=\"type\">int</span>&gt; q; <span class=\"comment\">// 双端队列</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nums.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 1. 入</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (!q.<span class=\"built_in\">empty</span>() &amp;&amp; nums[q.<span class=\"built_in\">back</span>()] &lt;= nums[i]) &#123;</span><br><span class=\"line\">                q.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 维护 q 的单调性</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            q.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 入队</span></span><br><span class=\"line\">            <span class=\"comment\">// 2. 出</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i - q.<span class=\"built_in\">front</span>() &gt;= k) &#123; <span class=\"comment\">// 队首已经离开窗口了</span></span><br><span class=\"line\">                q.<span class=\"built_in\">pop_front</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 3. 记录答案</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt;= k - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 由于队首到队尾单调递减，所以窗口最大值就是队首</span></span><br><span class=\"line\">                ans.<span class=\"built_in\">push_back</span>(nums[q.<span class=\"built_in\">front</span>()]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"前-K-个高频元素\">前 K 个高频元素</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/top-k-frequent-elements/\">347. 前 K 个高频元素</a></p>\n<p>堆是一棵完全二叉树，树中每个结点的值都不小于（或不大于）其左右孩子的值。 如果父亲结点是大于等于左右孩子就是大顶堆，小于等于左右孩子就是小顶堆。<strong>小顶堆每次将最小的元素弹出，最后小顶堆里积累的才是前k个最大元素。</strong></p>\n<img src=\"https://code-thinking.cdn.bcebos.com/pics/347.%E5%89%8DK%E4%B8%AA%E9%AB%98%E9%A2%91%E5%85%83%E7%B4%A0.jpg\" style=\"zoom: 50%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">// 小顶堆</span></span><br><span class=\"line\">    <span class=\"keyword\">class</span> <span class=\"title class_\">mycomparison</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span>:</span><br><span class=\"line\">        <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">operator</span><span class=\"params\">()</span><span class=\"params\">(<span class=\"type\">const</span> pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&amp; lhs, <span class=\"type\">const</span> pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&amp; rhs)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> lhs.second &gt; rhs.second;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">topKFrequent</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 要统计元素出现频率</span></span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt; map; <span class=\"comment\">// map&lt;nums[i],对应出现的次数&gt;</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nums.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">            map[nums[i]]++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 对频率排序</span></span><br><span class=\"line\">        <span class=\"comment\">// 定义一个小顶堆，大小为k</span></span><br><span class=\"line\">        priority_queue&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;, vector&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&gt;, mycomparison&gt; pri_que;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 用固定大小为k的小顶堆，扫面所有频率的数值</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (unordered_map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;::iterator it = map.<span class=\"built_in\">begin</span>(); it != map.<span class=\"built_in\">end</span>(); it++) &#123;</span><br><span class=\"line\">            pri_que.<span class=\"built_in\">push</span>(*it);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (pri_que.<span class=\"built_in\">size</span>() &gt; k) &#123; <span class=\"comment\">// 如果堆的大小大于了K，则队列弹出，保证堆的大小一直为k</span></span><br><span class=\"line\">                pri_que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 找出前K个高频元素，因为小顶堆先弹出的是最小的，所以倒序来输出到数组</span></span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">result</span><span class=\"params\">(k)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = k - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">            result[i] = pri_que.<span class=\"built_in\">top</span>().first;</span><br><span class=\"line\">            pri_que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"栈·队列\">栈·队列</h2>\n<p>​                                     <img src=\"https://oi-wiki.org/ds/images/stack.svg\" alt=\"栈：先进后出\">                                               <img src=\"https://oi-wiki.org/ds/images/queue.svg\" alt=\"队列：先进先出\"></p>\n<h3 id=\"stack\">stack</h3>\n<p>STL 中的 <code>stack</code> 容器提供了一众成员函数以供调用，其中较为常用的有：</p>\n<ul>\n<li>元素访问\n<ul>\n<li><code>st.top()</code> 返回栈顶</li>\n</ul>\n</li>\n<li>修改\n<ul>\n<li><code>st.push()</code> 插入传入的参数到栈顶</li>\n<li><code>st.pop()</code> 弹出栈顶</li>\n</ul>\n</li>\n<li>容量\n<ul>\n<li><code>st.empty()</code> 返回是否为空</li>\n<li><code>st.size()</code> 返回元素数量</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"queue\">queue</h3>\n<p>STL 中的 <code>queue</code> 容器提供了一众成员函数以供调用。其中较为常用的有：</p>\n<ul>\n<li>元素访问\n<ul>\n<li><code>q.front()</code> 返回队首元素</li>\n<li><code>q.back()</code> 返回队尾元素</li>\n</ul>\n</li>\n<li>修改\n<ul>\n<li><code>q.push()</code> 在队尾插入元素</li>\n<li><code>q.pop()</code> 弹出队首元素</li>\n</ul>\n</li>\n<li>容量\n<ul>\n<li><code>q.empty()</code> 队列是否为空</li>\n<li><code>q.size()</code> 返回队列中元素的数量</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"deque\">deque</h3>\n<p>STL 中的 <code>deque</code> 容器提供了一众成员函数以供调用。其中较为常用的有：</p>\n<ul>\n<li>元素访问\n<ul>\n<li><code>q.front()</code> 返回队首元素</li>\n<li><code>q.back()</code> 返回队尾元素</li>\n</ul>\n</li>\n<li>修改\n<ul>\n<li><code>q.push_back()</code> 在队尾插入元素</li>\n<li><code>q.pop_back()</code> 弹出队尾元素</li>\n<li><code>q.push_front()</code> 在队首插入元素</li>\n<li><code>q.pop_front()</code> 弹出队首元素</li>\n<li><code>q.insert()</code> 在指定位置前插入元素（传入迭代器和元素）</li>\n<li><code>q.erase()</code> 删除指定位置的元素（传入迭代器）</li>\n</ul>\n</li>\n<li>容量\n<ul>\n<li><code>q.empty()</code> 队列是否为空</li>\n<li><code>q.size()</code> 返回队列中元素的数量</li>\n</ul>\n</li>\n</ul>\n<p>此外，<code>deque</code> 还提供了一些运算符。其中较为常用的有：</p>\n<ul>\n<li>\n<p>使用赋值运算符 <code>=</code> 为 <code>deque</code> 赋值，类似 <code>queue</code>。</p>\n</li>\n<li>\n<p>使用 <code>[]</code> 访问元素，类似 <code>vector</code>。</p>\n</li>\n</ul>\n<h3 id=\"用栈实现队列\">用栈实现队列</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/implement-queue-using-stacks/\">232. 用栈实现队列</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyQueue</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"comment\">// 如果 B 栈为空，将 A 栈中的元素倒入 B 栈</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">moveToB</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (B.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (!A.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">                B.<span class=\"built_in\">push</span>(A.<span class=\"built_in\">top</span>());</span><br><span class=\"line\">                A.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    stack&lt;<span class=\"type\">int</span>&gt; A, B;</span><br><span class=\"line\">    <span class=\"built_in\">MyQueue</span>() &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        A.<span class=\"built_in\">push</span>(x);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">pop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">moveToB</span>(); <span class=\"comment\">// 移动元素到 B 栈</span></span><br><span class=\"line\">        <span class=\"type\">int</span> val = B.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">        B.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">peek</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">moveToB</span>(); <span class=\"comment\">// 移动元素到 B 栈</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> B.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">empty</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> A.<span class=\"built_in\">empty</span>() &amp;&amp; B.<span class=\"built_in\">empty</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"用队列实现栈\">用队列实现栈</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/implement-stack-using-queues/\">225. 用队列实现栈</a></p>\n<h4 id=\"方法一：使用-一个队列\">方法一：使用 <strong>一个队列</strong></h4>\n<ol>\n<li><strong>push(x)</strong>：\n<ul>\n<li>首先，将元素 <code>x</code> 入队到队列末尾。</li>\n<li>然后，将队列中前面已有的元素依次出队，再重新入队到队列末尾。<br>\n这样，队列的前端就始终是最新压入的元素，相当于实现了栈的“后进先出（LIFO）”顺序。</li>\n</ul>\n</li>\n<li><strong>pop()</strong>：\n<ul>\n<li>直接将队首元素出队即可。因为在上一步的处理里，队首元素就是栈顶。</li>\n</ul>\n</li>\n<li><strong>top()</strong>：\n<ul>\n<li>返回队首元素（不弹出）。</li>\n</ul>\n</li>\n<li><strong>empty()</strong>：\n<ul>\n<li>判断队列是否为空。</li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyStack</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    queue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">MyStack</span>() &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 每次 push 后，把前面的 (size - 1) 个元素依次出队并重新入队，确保新元素在队首</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 1. 新元素先入队</span></span><br><span class=\"line\">        q.<span class=\"built_in\">push</span>(x);</span><br><span class=\"line\">        <span class=\"comment\">// 2. 将前面的元素依次移到末尾</span></span><br><span class=\"line\">        <span class=\"type\">int</span> n = q.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 只需要将前面的 (n - 1) 个元素移动到末尾</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">            q.<span class=\"built_in\">push</span>(q.<span class=\"built_in\">front</span>());</span><br><span class=\"line\">            q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">pop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> val = q.<span class=\"built_in\">front</span>();  <span class=\"comment\">// 由于 push 中的旋转操作，队首就是栈顶</span></span><br><span class=\"line\">        q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">top</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q.<span class=\"built_in\">front</span>();     <span class=\"comment\">// 队首即为栈顶</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">empty</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q.<span class=\"built_in\">empty</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"方法二：使用-两个队列\">方法二：使用 <strong>两个队列</strong></h4>\n<ol>\n<li><strong>队列 A</strong> 和 <strong>队列 B</strong> 协同工作，保证其中一个队列始终存放当前所有元素，另一个队列用来做辅助操作。</li>\n<li>push(x)：\n<ul>\n<li>把新元素直接入队到<strong>空</strong>队列中（或者你可以总是把它放到 A，然后把 A 里旧的元素转移到 B，具体实现略有差异）。</li>\n</ul>\n</li>\n<li>pop()：\n<ul>\n<li>在 <code>pop()</code> 之前，我们需要把除最后一个元素外的所有元素，从一个队列（有数据的队列）依次出队并入队到另一个空队列，让最后一个元素留在原队列，然后弹出这个元素，这相当于栈顶元素。</li>\n</ul>\n</li>\n<li>top()：\n<ul>\n<li>类似 <code>pop()</code>，只是查看最后一个元素而不把它真正弹出。</li>\n</ul>\n</li>\n<li>empty()：\n<ul>\n<li>两个队列都为空即为真。</li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;queue&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyStack</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    queue&lt;<span class=\"type\">int</span>&gt; q1, q2;  <span class=\"comment\">// 两个队列</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">MyStack</span>() &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 1. 新元素先入空的队列 q2</span></span><br><span class=\"line\">        q<span class=\"number\">2.</span><span class=\"built_in\">push</span>(x);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 2. 把 q1 中所有元素依次移到 q2 中</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!q<span class=\"number\">1.</span><span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            q<span class=\"number\">2.</span><span class=\"built_in\">push</span>(q<span class=\"number\">1.f</span>ront());</span><br><span class=\"line\">            q<span class=\"number\">1.</span><span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 3. 交换 q1 和 q2，保证所有元素又回到 q1，q2 变空</span></span><br><span class=\"line\">        <span class=\"built_in\">swap</span>(q1, q2);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">pop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 队首就是栈顶</span></span><br><span class=\"line\">        <span class=\"type\">int</span> val = q<span class=\"number\">1.f</span>ront();</span><br><span class=\"line\">        q<span class=\"number\">1.</span><span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">top</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q<span class=\"number\">1.f</span>ront();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">empty</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q<span class=\"number\">1.</span><span class=\"built_in\">empty</span>() &amp;&amp; q<span class=\"number\">2.</span><span class=\"built_in\">empty</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"有效的括号\">有效的括号</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/valid-parentheses/\">20. 有效的括号</a></p>\n<p>题目思路：先判断一下s的长度是否为偶数，如果不是就返回false，再将全部的左符号压入栈中，然后开始判断剩余的符号是否可以匹配，如果不能就返回false，将s循环结束，如果全部匹配成功，最后应该栈是空的，如果不是返回false。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isValid</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(n%<span class=\"number\">2</span>!=<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        stack&lt;<span class=\"type\">char</span>&gt; t;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(s[i]==<span class=\"string\">&#x27;(&#x27;</span>) t.<span class=\"built_in\">push</span>(<span class=\"string\">&#x27;)&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s[i]==<span class=\"string\">&#x27;&#123;&#x27;</span>) t.<span class=\"built_in\">push</span>(<span class=\"string\">&#x27;&#125;&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s[i]==<span class=\"string\">&#x27;[&#x27;</span>) t.<span class=\"built_in\">push</span>(<span class=\"string\">&#x27;]&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(t.<span class=\"built_in\">empty</span>() || t.<span class=\"built_in\">top</span>()!=s[i]) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> t.<span class=\"built_in\">empty</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除字符串中的所有相邻重复项\">删除字符串中的所有相邻重复项</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string/\">1047. 删除字符串中的所有相邻重复项</a></p>\n<p>建栈的写法，性能太差了。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">removeDuplicates</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;<span class=\"type\">char</span>&gt; t;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(!t.<span class=\"built_in\">empty</span>() &amp;&amp; s[i]==t.<span class=\"built_in\">top</span>()) t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">else</span> t.<span class=\"built_in\">push</span>(s[i]); </span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        string result;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!t.<span class=\"built_in\">empty</span>())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result=t.<span class=\"built_in\">top</span>()+result;</span><br><span class=\"line\">            t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>string自己就可以做栈，string有pop和push接口，性能很高。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">removeDuplicates</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        string stk;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">char</span> ch : s) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!stk.<span class=\"built_in\">empty</span>() &amp;&amp; stk.<span class=\"built_in\">back</span>() == ch) &#123;</span><br><span class=\"line\">                stk.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                stk.<span class=\"built_in\">push_back</span>(ch);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> stk;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"逆波兰表达式求值\">逆波兰表达式求值</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/evaluate-reverse-polish-notation/\">150. 逆波兰表达式求值</a></p>\n<p>题目挺简单的，就是一个点需要注意：</p>\n<p><strong><code>stoi()</code></strong>：</p>\n<ul>\n<li><code>stoi</code> 是一个将 <code>std::string</code> 类型转换为 <code>int</code> 的函数。如果 <code>tokens[i]</code> 是一个有效的整数表示，<code>stoi(tokens[i])</code> 将返回对应的整数值。</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">evalRPN</span><span class=\"params\">(vector&lt;string&gt;&amp; tokens)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;<span class=\"type\">int</span>&gt; t;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=tokens.<span class=\"built_in\">size</span>(),re;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(tokens[i]==<span class=\"string\">&quot;+&quot;</span>) </span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> a=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"type\">int</span> b=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re=a+b;</span><br><span class=\"line\">                t.<span class=\"built_in\">push</span>(re);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(tokens[i]==<span class=\"string\">&quot;-&quot;</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> a=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"type\">int</span> b=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re=b-a;</span><br><span class=\"line\">                t.<span class=\"built_in\">push</span>(re);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(tokens[i]==<span class=\"string\">&quot;*&quot;</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> a=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"type\">int</span> b=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re=b*a;</span><br><span class=\"line\">                t.<span class=\"built_in\">push</span>(re);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(tokens[i]==<span class=\"string\">&quot;/&quot;</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> a=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"type\">int</span> b=t.<span class=\"built_in\">top</span>();t.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                re=b/a;</span><br><span class=\"line\">                t.<span class=\"built_in\">push</span>(re);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> t.<span class=\"built_in\">push</span>(<span class=\"built_in\">stoi</span>(tokens[i]));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> t.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"滑动窗口最大值\">滑动窗口最大值</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/sliding-window-maximum/\">239. 滑动窗口最大值</a></p>\n<p>双端队列：队列中元素个数大于k，就删除队首元素，若入队元素大于队列中的元素，则把队列中的元素弹出。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">maxSlidingWindow</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; ans;</span><br><span class=\"line\">        deque&lt;<span class=\"type\">int</span>&gt; q; <span class=\"comment\">// 双端队列</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nums.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 1. 入</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (!q.<span class=\"built_in\">empty</span>() &amp;&amp; nums[q.<span class=\"built_in\">back</span>()] &lt;= nums[i]) &#123;</span><br><span class=\"line\">                q.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">// 维护 q 的单调性</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            q.<span class=\"built_in\">push_back</span>(i); <span class=\"comment\">// 入队</span></span><br><span class=\"line\">            <span class=\"comment\">// 2. 出</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i - q.<span class=\"built_in\">front</span>() &gt;= k) &#123; <span class=\"comment\">// 队首已经离开窗口了</span></span><br><span class=\"line\">                q.<span class=\"built_in\">pop_front</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 3. 记录答案</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &gt;= k - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 由于队首到队尾单调递减，所以窗口最大值就是队首</span></span><br><span class=\"line\">                ans.<span class=\"built_in\">push_back</span>(nums[q.<span class=\"built_in\">front</span>()]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"前-K-个高频元素\">前 K 个高频元素</h3>\n<p>题目链接：<a href=\"https://leetcode.cn/problems/top-k-frequent-elements/\">347. 前 K 个高频元素</a></p>\n<p>堆是一棵完全二叉树，树中每个结点的值都不小于（或不大于）其左右孩子的值。 如果父亲结点是大于等于左右孩子就是大顶堆，小于等于左右孩子就是小顶堆。<strong>小顶堆每次将最小的元素弹出，最后小顶堆里积累的才是前k个最大元素。</strong></p>\n<img src=\"https://code-thinking.cdn.bcebos.com/pics/347.%E5%89%8DK%E4%B8%AA%E9%AB%98%E9%A2%91%E5%85%83%E7%B4%A0.jpg\" style=\"zoom: 50%;\" />\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">// 小顶堆</span></span><br><span class=\"line\">    <span class=\"keyword\">class</span> <span class=\"title class_\">mycomparison</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span>:</span><br><span class=\"line\">        <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">operator</span><span class=\"params\">()</span><span class=\"params\">(<span class=\"type\">const</span> pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&amp; lhs, <span class=\"type\">const</span> pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&amp; rhs)</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> lhs.second &gt; rhs.second;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">topKFrequent</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 要统计元素出现频率</span></span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt; map; <span class=\"comment\">// map&lt;nums[i],对应出现的次数&gt;</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; nums.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">            map[nums[i]]++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 对频率排序</span></span><br><span class=\"line\">        <span class=\"comment\">// 定义一个小顶堆，大小为k</span></span><br><span class=\"line\">        priority_queue&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;, vector&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&gt;, mycomparison&gt; pri_que;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 用固定大小为k的小顶堆，扫面所有频率的数值</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (unordered_map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;::iterator it = map.<span class=\"built_in\">begin</span>(); it != map.<span class=\"built_in\">end</span>(); it++) &#123;</span><br><span class=\"line\">            pri_que.<span class=\"built_in\">push</span>(*it);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (pri_que.<span class=\"built_in\">size</span>() &gt; k) &#123; <span class=\"comment\">// 如果堆的大小大于了K，则队列弹出，保证堆的大小一直为k</span></span><br><span class=\"line\">                pri_que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 找出前K个高频元素，因为小顶堆先弹出的是最小的，所以倒序来输出到数组</span></span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">result</span><span class=\"params\">(k)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = k - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">            result[i] = pri_que.<span class=\"built_in\">top</span>().first;</span><br><span class=\"line\">            pri_que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"CSRMS","date":"2025-04-18T14:28:59.000Z","updated":"2025-05-02T05:16:06.445Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250418223753935.png","_content":"\n# CSRMS\n\n用于视觉表征学习的类级结构化关系建模与平滑 (MM2023)\n\n论文地址：https://ercdm.sdu.edu.cn/__local/7/AC/70/7E4948C4761839F62E3958CE772_043AE854_2B459A.pdf\n\n代码地址：https://github.com/czt117/CSRMS\n\n个人理解这个像是一个知识总结的过程。首先通过特征提取获得特征图，这个过程可以类比我从书本上学习知识的过程，提取出有用的知识，然后通过聚类算法对特征图进行分簇，就相当于把学到的知识进行总结的过程，但是总会有一些比较相近的知识容易被搞混，这个就是类间相似性和类内多样性，再着重对这一块进行处理，使得对知识的掌握更加透彻。\n\n**名词解释：**\n\n**课程构建（Curriculum Construction）**：是一种**渐进式学习方法**，通过根据任务或样本的难度或复杂性来设计学习顺序，让模型从简单的内容逐步过渡到复杂的内容，从而更高效地掌握知识。它通过评估样本难度、调整学习权重并动态控制训练过程，帮助模型更高效地学习，最终提高收敛速度和泛化能力。\n\n**实例级别的图像（Instance-level images）**：指的是针对单个具体图像样本的研究和处理。每一张图像被视为一个独立的实例，拥有其独特的特征和属性，而不是仅仅代表某个类别或群体的共性。与**类别级别**（Class-level）的研究不同，实例级别更关注图像的个体差异和细节。\n\n**对比学习（Contrastive Learning）**：是一种机器学习技术，特别在无监督学习和自监督学习中应用广泛。它的核心思想是通过对比不同样本之间的相似性和差异性，让模型自动学习数据的特征表示\n\n\n\n## 研究目的\n\n缓解类内多样性和类间相似性问题\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250418224550763.png\" style=\"zoom:40%;\" />\n\n\n\n## 整体架构\n\nCSRMS 框架的三个核心模块：**类级关系建模**、**类感知图采样** 和 **关系图引导的表示学习**\n\n在离线学习阶段，根据表征视觉分布挖掘类级关系，构建数据集级关系图；在训练阶段，根据类级关系构建多样化类感知采样策略，结合课程构建，获得Batch级别关系子图；在类级关系的引导下，利用特征平滑、类原型对齐和类级约束显式正则化视觉表征，有效缓解视觉表征分布复杂性。\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250418225319281.png)\n\n### 离线学习阶段\n\n#### 类级关系建模\n\n##### 类级关系定义\n\n(a) **类内视觉模式的多样性（Intra-Class Diversity of Visual Patterns）**：同一类别的样本分布在不同主导簇，说明类内样本视觉差异大。\n$$\nR_{ID} = \\\\{ (I_a, I_b) \\mid y_a = y_b, P_{C_a} \\neq P_{C_b} \\\\}\n$$\n(b) **视觉模式的类间相似性 （Inter-Class Similarity of Visual Patterns）**：不同类别的样本分布在同一主导簇，说明类间样本视觉上相似。\n$$\nR_{IS} = \\\\{(I_a, I_b) \\mid y_a \\neq y_b, P_{C_a} = P_{C_b} \\\\}\n$$\n(c) **视觉模式的混类簇 (Mix-class Cluster of Visual Patterns)**：不同类别的样本分布在同一混类簇，说明聚类结果复杂，缺乏主导类别。\n$$\nR_{MC} = \\\\{(I_a, I_b) \\mid y_a \\neq y_b, M_{C_a} = M_{C_b} \\\\}\n$$\n\n**主导簇（Dominant Clusters）**：指聚类中主要由某个类别样本构成的簇，通常通过聚类算法基于特征分布确定。\n\n**混类簇（Mix-class Clusters）**：指聚类中没有明显主导类别的簇，包含多个类别的样本，增加了建模难度。\n\n##### ART聚类\n\n**自适应聚类算法 ART**：能够根据数据分布动态调整簇数量，适合处理视觉特征空间中的复杂分布。对视觉特征进行聚类，得到视觉模式。$ C=\\{c1,…,cJ\\}$  \n$$\n C = ART(M_v(I))\n$$\n得到三个级别：类级别、模式级别、实例级别。然后构建关系图 $G_t$ 。这是一个多层图结构，实例级别连接到模式级别（通过聚类），模式级别连接到类级别（通过标签），这种结构有助于捕捉样本间的复杂关系。\n\n### 训练阶段\n\n#### 类感知图采样\n\n##### 正样本采样\n\n使用主导模式采样器$ S_{dp} $，从类别 $ y_i $ 主导的最大簇 $c_j $ 中选择与 $ I_i $ 距离最大的前 $ n $个正样本。为每个批次样本选择正样本集合 $ \\Omega_{posi} $，以解决类内多样性。\n\n选择距离最远的正样本，增加类内样本的多样性，增强表征学习的鲁棒性。\n$$\n\\Omega_{posi} = S_{dp}(I_i, \\varphi(I_i, I_{i_j}), n)\n$$\n\n##### 负样本采样\n\n视觉相似模式采样器 $ S_{ap} $，从类别 $ y_i $ 主导的最大簇 $c_i $ 中选择与 $ I_i $ 距离最大的前 $m$个正样本。为每个批次样本选择负样本集合$\\Omega_{nega} $，以解决类间相似性和混类簇。\n\n选择视觉相似的负样本，增强类间区分度，缓解类间相似性问题。\n$$\n\\Omega_{nega} = S_{ap}(I_i, \\varphi(I_i, I_{i_j}), m)\n$$\n\n##### 课程学习\n\n基于易难估计，为批次样本分配难度级别。\n$$\nf(I_i) = \\begin{cases} \n\\Omega_{\\text{easy}} & \\text{if } \\frac{N_k^j}{N_k} > \\rho_1 \\\\\\\\ \n\\Omega_{\\text{medium}} & \\text{if } \\frac{N_k^j}{N_k} < \\rho_1 \\\\\\\\ \n\\Omega_{\\text{hard}} & \\text{if } \\frac{N_k^h}{N_k} > \\rho_1 \\text{ and } j \\neq h \n\\end{cases}\n$$\n\n##### 调整学习权重\n\n使用“衰减方法”，设置惩罚系数，并通过参数调节。\n$$\nα_i⋅λ_e+(1−α_i)⋅(α_f⋅λ_m+(1−α_f)⋅λ_h)=1\n$$\n初期：$\\alpha_i $、$ \\alpha_f $接近 1，优先学习简单样本。\n\n后期：当损失收敛（例如损失 < 0.01 且连续两轮损失差 < 0.0001）时，逐步减小 $ \\alpha_i $、$ \\alpha_f $，引入更多困难样本。\n\n##### 构建批次子图\n\n$G_b$ 是 $ G_t $的一个子图，针对每个训练批次（batch）生成，包含批次中的样本及其正负样本对，用于后续表征学习。过采样策略，从 $ G_t $中选择与批次样本相关的子图结构，保留类级别、模式级别和实例级别的关系，同时引入正样本和负样本以增强表征学习。\n\n#### 关系图引导的表示学习\n\n##### 簇感知表征平滑\n\n###### 图形平滑\n\n使用图卷积网络（GCN）$ \\mathcal{G}(\\cdot) $，基于子图 $ G_b $ 和正样本 $ \\Omega_{posi} $，聚合同一类别图像的信息。\n$$\nF_g=\\mathcal{G}(\\hat{A},I_i,Ω_{posi})=softmax(\\hat{A}⋅ReLU(\\hat{A}⋅X⋅W^{(1)})⋅W^{(0)})\n$$\n\n\n###### 簇级特征平滑\n\n将表征 $ F_g $ 与簇原型  $ w_{cu} $ 对齐，其中$w_{cu} $是类别 $ y_i $主导的最大簇 $c_j $的原型。\n$$\nF_u=α_u⊙F_g+β_u⊙w_{cu}\n$$\n\n##### 类级分布正则化\n\n###### 类级表征对齐\n\n表征 $ F_u$ 与类原型 $ p_{cu} $ 对齐，其中 $ p_{cu} $ 是类别 $ y_i $ 在所有主导簇中的表征聚合。\n$$\nF_a=α_a⊙F_u+β_a⊙p_{cu}\n$$\n\n###### 负样本约束\n\n构建负样本损失$\\mathcal L_{neg}$，推远不同类别表征：\n$$\n\\mathcal L_{neg} = \\sum_{i=1}^{N} -\\log \\left( \\mu_{i} \\frac{\\theta}{\\sum_{q=1}^{m}\\|M_v(I_i) - M_v(\\Omega_{nega}^q)\\|_2 + \\theta} \\right)\n$$\n\n###### 类间约束\n\n构建类间分散损失$\\mathcal L_{inter}$，进一步推远不同类别表征：\n$$\n\\mathcal L_{inter} = \\sum_{i,j} \\{ i = j \\} \\|0\\| + \\{ i \\ne j \\} -\\log \\left( \\mu\\frac{\\theta}{\\|F_v^i - F_v^j\\|_2 + \\theta} \\right)\n$$\n\n###### 分类器训练\n\n使用分类器 $ C(\\cdot) $预测类别：\n$$\nF_a →P\n$$\n使用交叉熵损失 $\\mathcal L_{ce}$优化：\n$$\n\\mathcal L_{ce} = \\frac{1}{N} \\sum_{i} \\mathcal L_i = -\\frac{1}{N} \\sum_{i}\\sum_{c=1}^{C} y_{ic} \\log(P_{ic})\n$$\n\n\n\n","source":"_posts/CSRMS.md","raw":"---\ntitle: CSRMS\ndate: 2025-04-18 22:28:59\ntags: [视觉表征,论文精读]\ncategories: [学习,论文精读,CSRMS]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/20250418223753935.png\n---\n\n# CSRMS\n\n用于视觉表征学习的类级结构化关系建模与平滑 (MM2023)\n\n论文地址：https://ercdm.sdu.edu.cn/__local/7/AC/70/7E4948C4761839F62E3958CE772_043AE854_2B459A.pdf\n\n代码地址：https://github.com/czt117/CSRMS\n\n个人理解这个像是一个知识总结的过程。首先通过特征提取获得特征图，这个过程可以类比我从书本上学习知识的过程，提取出有用的知识，然后通过聚类算法对特征图进行分簇，就相当于把学到的知识进行总结的过程，但是总会有一些比较相近的知识容易被搞混，这个就是类间相似性和类内多样性，再着重对这一块进行处理，使得对知识的掌握更加透彻。\n\n**名词解释：**\n\n**课程构建（Curriculum Construction）**：是一种**渐进式学习方法**，通过根据任务或样本的难度或复杂性来设计学习顺序，让模型从简单的内容逐步过渡到复杂的内容，从而更高效地掌握知识。它通过评估样本难度、调整学习权重并动态控制训练过程，帮助模型更高效地学习，最终提高收敛速度和泛化能力。\n\n**实例级别的图像（Instance-level images）**：指的是针对单个具体图像样本的研究和处理。每一张图像被视为一个独立的实例，拥有其独特的特征和属性，而不是仅仅代表某个类别或群体的共性。与**类别级别**（Class-level）的研究不同，实例级别更关注图像的个体差异和细节。\n\n**对比学习（Contrastive Learning）**：是一种机器学习技术，特别在无监督学习和自监督学习中应用广泛。它的核心思想是通过对比不同样本之间的相似性和差异性，让模型自动学习数据的特征表示\n\n\n\n## 研究目的\n\n缓解类内多样性和类间相似性问题\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250418224550763.png\" style=\"zoom:40%;\" />\n\n\n\n## 整体架构\n\nCSRMS 框架的三个核心模块：**类级关系建模**、**类感知图采样** 和 **关系图引导的表示学习**\n\n在离线学习阶段，根据表征视觉分布挖掘类级关系，构建数据集级关系图；在训练阶段，根据类级关系构建多样化类感知采样策略，结合课程构建，获得Batch级别关系子图；在类级关系的引导下，利用特征平滑、类原型对齐和类级约束显式正则化视觉表征，有效缓解视觉表征分布复杂性。\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250418225319281.png)\n\n### 离线学习阶段\n\n#### 类级关系建模\n\n##### 类级关系定义\n\n(a) **类内视觉模式的多样性（Intra-Class Diversity of Visual Patterns）**：同一类别的样本分布在不同主导簇，说明类内样本视觉差异大。\n$$\nR_{ID} = \\\\{ (I_a, I_b) \\mid y_a = y_b, P_{C_a} \\neq P_{C_b} \\\\}\n$$\n(b) **视觉模式的类间相似性 （Inter-Class Similarity of Visual Patterns）**：不同类别的样本分布在同一主导簇，说明类间样本视觉上相似。\n$$\nR_{IS} = \\\\{(I_a, I_b) \\mid y_a \\neq y_b, P_{C_a} = P_{C_b} \\\\}\n$$\n(c) **视觉模式的混类簇 (Mix-class Cluster of Visual Patterns)**：不同类别的样本分布在同一混类簇，说明聚类结果复杂，缺乏主导类别。\n$$\nR_{MC} = \\\\{(I_a, I_b) \\mid y_a \\neq y_b, M_{C_a} = M_{C_b} \\\\}\n$$\n\n**主导簇（Dominant Clusters）**：指聚类中主要由某个类别样本构成的簇，通常通过聚类算法基于特征分布确定。\n\n**混类簇（Mix-class Clusters）**：指聚类中没有明显主导类别的簇，包含多个类别的样本，增加了建模难度。\n\n##### ART聚类\n\n**自适应聚类算法 ART**：能够根据数据分布动态调整簇数量，适合处理视觉特征空间中的复杂分布。对视觉特征进行聚类，得到视觉模式。$ C=\\{c1,…,cJ\\}$  \n$$\n C = ART(M_v(I))\n$$\n得到三个级别：类级别、模式级别、实例级别。然后构建关系图 $G_t$ 。这是一个多层图结构，实例级别连接到模式级别（通过聚类），模式级别连接到类级别（通过标签），这种结构有助于捕捉样本间的复杂关系。\n\n### 训练阶段\n\n#### 类感知图采样\n\n##### 正样本采样\n\n使用主导模式采样器$ S_{dp} $，从类别 $ y_i $ 主导的最大簇 $c_j $ 中选择与 $ I_i $ 距离最大的前 $ n $个正样本。为每个批次样本选择正样本集合 $ \\Omega_{posi} $，以解决类内多样性。\n\n选择距离最远的正样本，增加类内样本的多样性，增强表征学习的鲁棒性。\n$$\n\\Omega_{posi} = S_{dp}(I_i, \\varphi(I_i, I_{i_j}), n)\n$$\n\n##### 负样本采样\n\n视觉相似模式采样器 $ S_{ap} $，从类别 $ y_i $ 主导的最大簇 $c_i $ 中选择与 $ I_i $ 距离最大的前 $m$个正样本。为每个批次样本选择负样本集合$\\Omega_{nega} $，以解决类间相似性和混类簇。\n\n选择视觉相似的负样本，增强类间区分度，缓解类间相似性问题。\n$$\n\\Omega_{nega} = S_{ap}(I_i, \\varphi(I_i, I_{i_j}), m)\n$$\n\n##### 课程学习\n\n基于易难估计，为批次样本分配难度级别。\n$$\nf(I_i) = \\begin{cases} \n\\Omega_{\\text{easy}} & \\text{if } \\frac{N_k^j}{N_k} > \\rho_1 \\\\\\\\ \n\\Omega_{\\text{medium}} & \\text{if } \\frac{N_k^j}{N_k} < \\rho_1 \\\\\\\\ \n\\Omega_{\\text{hard}} & \\text{if } \\frac{N_k^h}{N_k} > \\rho_1 \\text{ and } j \\neq h \n\\end{cases}\n$$\n\n##### 调整学习权重\n\n使用“衰减方法”，设置惩罚系数，并通过参数调节。\n$$\nα_i⋅λ_e+(1−α_i)⋅(α_f⋅λ_m+(1−α_f)⋅λ_h)=1\n$$\n初期：$\\alpha_i $、$ \\alpha_f $接近 1，优先学习简单样本。\n\n后期：当损失收敛（例如损失 < 0.01 且连续两轮损失差 < 0.0001）时，逐步减小 $ \\alpha_i $、$ \\alpha_f $，引入更多困难样本。\n\n##### 构建批次子图\n\n$G_b$ 是 $ G_t $的一个子图，针对每个训练批次（batch）生成，包含批次中的样本及其正负样本对，用于后续表征学习。过采样策略，从 $ G_t $中选择与批次样本相关的子图结构，保留类级别、模式级别和实例级别的关系，同时引入正样本和负样本以增强表征学习。\n\n#### 关系图引导的表示学习\n\n##### 簇感知表征平滑\n\n###### 图形平滑\n\n使用图卷积网络（GCN）$ \\mathcal{G}(\\cdot) $，基于子图 $ G_b $ 和正样本 $ \\Omega_{posi} $，聚合同一类别图像的信息。\n$$\nF_g=\\mathcal{G}(\\hat{A},I_i,Ω_{posi})=softmax(\\hat{A}⋅ReLU(\\hat{A}⋅X⋅W^{(1)})⋅W^{(0)})\n$$\n\n\n###### 簇级特征平滑\n\n将表征 $ F_g $ 与簇原型  $ w_{cu} $ 对齐，其中$w_{cu} $是类别 $ y_i $主导的最大簇 $c_j $的原型。\n$$\nF_u=α_u⊙F_g+β_u⊙w_{cu}\n$$\n\n##### 类级分布正则化\n\n###### 类级表征对齐\n\n表征 $ F_u$ 与类原型 $ p_{cu} $ 对齐，其中 $ p_{cu} $ 是类别 $ y_i $ 在所有主导簇中的表征聚合。\n$$\nF_a=α_a⊙F_u+β_a⊙p_{cu}\n$$\n\n###### 负样本约束\n\n构建负样本损失$\\mathcal L_{neg}$，推远不同类别表征：\n$$\n\\mathcal L_{neg} = \\sum_{i=1}^{N} -\\log \\left( \\mu_{i} \\frac{\\theta}{\\sum_{q=1}^{m}\\|M_v(I_i) - M_v(\\Omega_{nega}^q)\\|_2 + \\theta} \\right)\n$$\n\n###### 类间约束\n\n构建类间分散损失$\\mathcal L_{inter}$，进一步推远不同类别表征：\n$$\n\\mathcal L_{inter} = \\sum_{i,j} \\{ i = j \\} \\|0\\| + \\{ i \\ne j \\} -\\log \\left( \\mu\\frac{\\theta}{\\|F_v^i - F_v^j\\|_2 + \\theta} \\right)\n$$\n\n###### 分类器训练\n\n使用分类器 $ C(\\cdot) $预测类别：\n$$\nF_a →P\n$$\n使用交叉熵损失 $\\mathcal L_{ce}$优化：\n$$\n\\mathcal L_{ce} = \\frac{1}{N} \\sum_{i} \\mathcal L_i = -\\frac{1}{N} \\sum_{i}\\sum_{c=1}^{C} y_{ic} \\log(P_{ic})\n$$\n\n\n\n","slug":"CSRMS","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamiu002z1swm32dm0671","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h1>CSRMS</h1>\n<p>用于视觉表征学习的类级结构化关系建模与平滑 (MM2023)</p>\n<p>论文地址：<a href=\"https://ercdm.sdu.edu.cn/__local/7/AC/70/7E4948C4761839F62E3958CE772_043AE854_2B459A.pdf\">https://ercdm.sdu.edu.cn/__local/7/AC/70/7E4948C4761839F62E3958CE772_043AE854_2B459A.pdf</a></p>\n<p>代码地址：<a href=\"https://github.com/czt117/CSRMS\">https://github.com/czt117/CSRMS</a></p>\n<p>个人理解这个像是一个知识总结的过程。首先通过特征提取获得特征图，这个过程可以类比我从书本上学习知识的过程，提取出有用的知识，然后通过聚类算法对特征图进行分簇，就相当于把学到的知识进行总结的过程，但是总会有一些比较相近的知识容易被搞混，这个就是类间相似性和类内多样性，再着重对这一块进行处理，使得对知识的掌握更加透彻。</p>\n<p><strong>名词解释：</strong></p>\n<p><strong>课程构建（Curriculum Construction）</strong>：是一种<strong>渐进式学习方法</strong>，通过根据任务或样本的难度或复杂性来设计学习顺序，让模型从简单的内容逐步过渡到复杂的内容，从而更高效地掌握知识。它通过评估样本难度、调整学习权重并动态控制训练过程，帮助模型更高效地学习，最终提高收敛速度和泛化能力。</p>\n<p><strong>实例级别的图像（Instance-level images）</strong>：指的是针对单个具体图像样本的研究和处理。每一张图像被视为一个独立的实例，拥有其独特的特征和属性，而不是仅仅代表某个类别或群体的共性。与<strong>类别级别</strong>（Class-level）的研究不同，实例级别更关注图像的个体差异和细节。</p>\n<p><strong>对比学习（Contrastive Learning）</strong>：是一种机器学习技术，特别在无监督学习和自监督学习中应用广泛。它的核心思想是通过对比不同样本之间的相似性和差异性，让模型自动学习数据的特征表示</p>\n<h2 id=\"研究目的\">研究目的</h2>\n<p>缓解类内多样性和类间相似性问题</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250418224550763.png\" style=\"zoom:40%;\" />\n<h2 id=\"整体架构\">整体架构</h2>\n<p>CSRMS 框架的三个核心模块：<strong>类级关系建模</strong>、<strong>类感知图采样</strong> 和 <strong>关系图引导的表示学习</strong></p>\n<p>在离线学习阶段，根据表征视觉分布挖掘类级关系，构建数据集级关系图；在训练阶段，根据类级关系构建多样化类感知采样策略，结合课程构建，获得Batch级别关系子图；在类级关系的引导下，利用特征平滑、类原型对齐和类级约束显式正则化视觉表征，有效缓解视觉表征分布复杂性。</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250418225319281.png\" alt=\"\"></p>\n<h3 id=\"离线学习阶段\">离线学习阶段</h3>\n<h4 id=\"类级关系建模\">类级关系建模</h4>\n<h5 id=\"类级关系定义\">类级关系定义</h5>\n<p>(a) <strong>类内视觉模式的多样性（Intra-Class Diversity of Visual Patterns）</strong>：同一类别的样本分布在不同主导簇，说明类内样本视觉差异大。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.592ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"33.687ex\" height=\"2.289ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 14889.8 1011.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D445\" d=\"M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(792,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(504,0)\"><path data-c=\"1D437\" d=\"M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2061.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mspace\" transform=\"translate(2839.6,0)\"/><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(3117.4,0)\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(389,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1286.1,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1730.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2557.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3223.9,0)\"><path data-c=\"2223\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3779.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5004.5,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6060.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6936.6,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7381.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(675,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9212.8,0)\"><path data-c=\"2260\" d=\"M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(10268.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(675,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mspace\" transform=\"translate(11772.4,0)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>R</mi><mrow data-mjx-texclass=\"ORD\"><mi>I</mi><mi>D</mi></mrow></msub><mo>=</mo><mspace linebreak=\"newline\"/><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>a</mi></msub><mo>,</mo><msub><mi>I</mi><mi>b</mi></msub><mo stretchy=\"false\">)</mo><mo>∣</mo><msub><mi>y</mi><mi>a</mi></msub><mo>=</mo><msub><mi>y</mi><mi>b</mi></msub><mo>,</mo><msub><mi>P</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>a</mi></msub></mrow></msub><mo>≠</mo><msub><mi>P</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>b</mi></msub></mrow></msub><mspace linebreak=\"newline\"/></mrow></math></mjx-assistive-mml></mjx-container><p>(b) <strong>视觉模式的类间相似性 （Inter-Class Similarity of Visual Patterns）</strong>：不同类别的样本分布在同一主导簇，说明类间样本视觉上相似。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.592ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"33.395ex\" height=\"2.289ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 14760.4 1011.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D445\" d=\"M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(792,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(504,0)\"><path data-c=\"1D446\" d=\"M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1932.2,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mspace\" transform=\"translate(2710.2,0)\"/><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(2988,0)\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(389,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1286.1,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1730.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2557.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3223.9,0)\"><path data-c=\"2223\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3779.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5004.5,0)\"><path data-c=\"2260\" d=\"M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6060.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6936.6,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7381.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(675,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9212.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(10268.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(675,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mspace\" transform=\"translate(11772.4,0)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>R</mi><mrow data-mjx-texclass=\"ORD\"><mi>I</mi><mi>S</mi></mrow></msub><mo>=</mo><mspace linebreak=\"newline\"/><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>a</mi></msub><mo>,</mo><msub><mi>I</mi><mi>b</mi></msub><mo stretchy=\"false\">)</mo><mo>∣</mo><msub><mi>y</mi><mi>a</mi></msub><mo>≠</mo><msub><mi>y</mi><mi>b</mi></msub><mo>,</mo><msub><mi>P</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>a</mi></msub></mrow></msub><mo>=</mo><msub><mi>P</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>b</mi></msub></mrow></msub><mspace linebreak=\"newline\"/></mrow></math></mjx-assistive-mml></mjx-container><p>© <strong>视觉模式的混类簇 (Mix-class Cluster of Visual Patterns)</strong>：不同类别的样本分布在同一混类簇，说明聚类结果复杂，缺乏主导类别。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.592ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"35.938ex\" height=\"2.289ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 15884.5 1011.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D445\" d=\"M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(792,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1051,0)\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2400.3,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mspace\" transform=\"translate(3178.3,0)\"/><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(3456.1,0)\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(389,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1286.1,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1730.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2557.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3223.9,0)\"><path data-c=\"2223\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3779.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5004.5,0)\"><path data-c=\"2260\" d=\"M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6060.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6936.6,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7381.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1003,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9540.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(10596.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1003,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mspace\" transform=\"translate(12428.4,0)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>R</mi><mrow data-mjx-texclass=\"ORD\"><mi>M</mi><mi>C</mi></mrow></msub><mo>=</mo><mspace linebreak=\"newline\"/><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>a</mi></msub><mo>,</mo><msub><mi>I</mi><mi>b</mi></msub><mo stretchy=\"false\">)</mo><mo>∣</mo><msub><mi>y</mi><mi>a</mi></msub><mo>≠</mo><msub><mi>y</mi><mi>b</mi></msub><mo>,</mo><msub><mi>M</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>a</mi></msub></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>b</mi></msub></mrow></msub><mspace linebreak=\"newline\"/></mrow></math></mjx-assistive-mml></mjx-container><p><strong>主导簇（Dominant Clusters）</strong>：指聚类中主要由某个类别样本构成的簇，通常通过聚类算法基于特征分布确定。</p>\n<p><strong>混类簇（Mix-class Clusters）</strong>：指聚类中没有明显主导类别的簇，包含多个类别的样本，增加了建模难度。</p>\n<h5 id=\"ART聚类\">ART聚类</h5>\n<p><strong>自适应聚类算法 ART</strong>：能够根据数据分布动态调整簇数量，适合处理视觉特征空间中的复杂分布。对视觉特征进行聚类，得到视觉模式。$ C={c1,…,cJ}$</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"17.562ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 7762.5 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1037.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2093.6,0)\"><path data-c=\"1D434\" d=\"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2843.6,0)\"><path data-c=\"1D445\" d=\"M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3602.6,0)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4306.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4695.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1003,-150) scale(0.707)\"><path data-c=\"1D463\" d=\"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6091.5,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6480.5,0)\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6984.5,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7373.5,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>C</mi><mo>=</mo><mi>A</mi><mi>R</mi><mi>T</mi><mo stretchy=\"false\">(</mo><msub><mi>M</mi><mi>v</mi></msub><mo stretchy=\"false\">(</mo><mi>I</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><p>得到三个级别：类级别、模式级别、实例级别。然后构建关系图 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.544ex\" height=\"1.952ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 1124.3 862.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(819,-150) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>G</mi><mi>t</mi></msub></math></mjx-assistive-mml></mjx-container> 。这是一个多层图结构，实例级别连接到模式级别（通过聚类），模式级别连接到类级别（通过标签），这种结构有助于捕捉样本间的复杂关系。</p>\n<h3 id=\"训练阶段\">训练阶段</h3>\n<h4 id=\"类感知图采样\">类感知图采样</h4>\n<h5 id=\"正样本采样\">正样本采样</h5>\n<p>使用主导模式采样器$ S_{dp} $，从类别 $ y_i $ 主导的最大簇 $c_j $ 中选择与 $ I_i $ 距离最大的前 $ n $个正样本。为每个批次样本选择正样本集合 $ \\Omega_{posi} $，以解决类内多样性。</p>\n<p>选择距离最远的正样本，增加类内样本的多样性，增强表征学习的鲁棒性。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.81ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"26.112ex\" height=\"2.507ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 11541.7 1108.1\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(503,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(988,0)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1457,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2357,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3412.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D446\" d=\"M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(646,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D451\" d=\"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(520,0)\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(4832.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5221.1,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5988.1,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6432.8,0)\"><path data-c=\"1D711\" d=\"M92 210Q92 176 106 149T142 108T185 85T220 72L235 70L237 71L250 112Q268 170 283 211T322 299T370 375T429 423T502 442Q547 442 582 410T618 302Q618 224 575 152T457 35T299 -10Q273 -10 273 -12L266 -48Q260 -83 252 -125T241 -179Q236 -203 215 -212Q204 -218 190 -218Q159 -215 159 -185Q159 -175 214 -2L209 0Q204 2 195 5T173 14T147 28T120 46T94 71T71 103T56 142T50 190Q50 238 76 311T149 431H162Q183 431 183 423Q183 417 175 409Q134 361 114 300T92 210ZM574 278Q574 320 550 344T486 369Q437 369 394 329T323 218Q309 184 295 109L286 64Q304 62 306 62Q423 62 498 131T574 278Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7086.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7475.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8242.7,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(8687.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(473,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(378,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9719,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10108,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10552.7,0)\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(11152.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi></mrow></msub><mo>=</mo><msub><mi>S</mi><mrow data-mjx-texclass=\"ORD\"><mi>d</mi><mi>p</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><mi>φ</mi><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>I</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>i</mi><mi>j</mi></msub></mrow></msub><mo stretchy=\"false\">)</mo><mo>,</mo><mi>n</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><h5 id=\"负样本采样\">负样本采样</h5>\n<p>视觉相似模式采样器 $ S_{ap} $，从类别 $ y_i $ 主导的最大簇 $c_i $ 中选择与 $ I_i $ 距离最大的前 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.986ex\" height=\"1.025ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -442 878 453\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>m</mi></math></mjx-assistive-mml></mjx-container>个正样本。为每个批次样本选择负样本集合$\\Omega_{nega} $，以解决类间相似性和混类簇。</p>\n<p>选择视觉相似的负样本，增强类间区分度，缓解类间相似性问题。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.81ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"27.188ex\" height=\"2.507ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 12017 1108.1\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1066,0)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1543,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2547.9,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3603.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D446\" d=\"M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(646,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(529,0)\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(5029.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5418.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6185.4,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6630,0)\"><path data-c=\"1D711\" d=\"M92 210Q92 176 106 149T142 108T185 85T220 72L235 70L237 71L250 112Q268 170 283 211T322 299T370 375T429 423T502 442Q547 442 582 410T618 302Q618 224 575 152T457 35T299 -10Q273 -10 273 -12L266 -48Q260 -83 252 -125T241 -179Q236 -203 215 -212Q204 -218 190 -218Q159 -215 159 -185Q159 -175 214 -2L209 0Q204 2 195 5T173 14T147 28T120 46T94 71T71 103T56 142T50 190Q50 238 76 311T149 431H162Q183 431 183 423Q183 417 175 409Q134 361 114 300T92 210ZM574 278Q574 320 550 344T486 369Q437 369 394 329T323 218Q309 184 295 109L286 64Q304 62 306 62Q423 62 498 131T574 278Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7284,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7673,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8440,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(8884.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(473,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(378,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9916.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10305.3,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10750,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(11628,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>e</mi><mi>g</mi><mi>a</mi></mrow></msub><mo>=</mo><msub><mi>S</mi><mrow data-mjx-texclass=\"ORD\"><mi>a</mi><mi>p</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><mi>φ</mi><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>I</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>i</mi><mi>j</mi></msub></mrow></msub><mo stretchy=\"false\">)</mo><mo>,</mo><mi>m</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><h5 id=\"课程学习\">课程学习</h5>\n<p>基于易难估计，为批次样本分配难度级别。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -8.311ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"39.83ex\" height=\"17.752ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -4173.3 17605 7846.5\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(550,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(939,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1706,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2372.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(3428.5,0)\"><g data-mml-node=\"mo\"><path data-c=\"23A7\" d=\"M712 899L718 893V876V865Q718 854 704 846Q627 793 577 710T510 525Q510 524 509 521Q505 493 504 349Q504 345 504 334Q504 277 504 240Q504 -2 503 -4Q502 -8 494 -9T444 -10Q392 -10 390 -9Q387 -8 386 -5Q384 5 384 230Q384 262 384 312T383 382Q383 481 392 535T434 656Q510 806 664 892L677 899H712Z\" transform=\"translate(0,3274.3)\" style=\"stroke-width: 3;\"/><path data-c=\"23A9\" d=\"M718 -893L712 -899H677L666 -893Q542 -825 468 -714T385 -476Q384 -466 384 -282Q384 3 385 5L389 9Q392 10 444 10Q486 10 494 9T503 4Q504 2 504 -239V-310V-366Q504 -470 508 -513T530 -609Q546 -657 569 -698T617 -767T661 -812T699 -843T717 -856T718 -876V-893Z\" transform=\"translate(0,-2774.3)\" style=\"stroke-width: 3;\"/><path data-c=\"23A8\" d=\"M389 1159Q391 1160 455 1160Q496 1160 498 1159Q501 1158 502 1155Q504 1145 504 924Q504 691 503 682Q494 549 425 439T243 259L229 250L243 241Q349 175 421 66T503 -182Q504 -191 504 -424Q504 -600 504 -629T499 -659H498Q496 -660 444 -660T390 -659Q387 -658 386 -655Q384 -645 384 -425V-282Q384 -176 377 -116T342 10Q325 54 301 92T255 155T214 196T183 222T171 232Q170 233 170 250T171 268Q171 269 191 284T240 331T300 407T354 524T383 679Q384 691 384 925Q384 1152 385 1155L389 1159Z\" transform=\"translate(0,0)\" style=\"stroke-width: 3;\"/><svg width=\"889\" height=\"2304.3\" y=\"1060\" x=\"0\" viewBox=\"0 406.1 889 2304.3\"><path data-c=\"23AA\" d=\"M384 150V266Q384 304 389 309Q391 310 455 310Q496 310 498 309Q502 308 503 298Q504 283 504 150Q504 32 504 12T499 -9H498Q496 -10 444 -10T390 -9Q386 -8 385 2Q384 17 384 150Z\" transform=\"scale(1,11.332)\" style=\"stroke-width: 3;\"/></svg><svg width=\"889\" height=\"2304.3\" y=\"-2864.3\" x=\"0\" viewBox=\"0 406.1 889 2304.3\"><path data-c=\"23AA\" d=\"M384 150V266Q384 304 389 309Q391 310 455 310Q496 310 498 309Q502 308 503 298Q504 283 504 150Q504 32 504 12T499 -9H498Q496 -10 444 -10T390 -9Q386 -8 385 2Q384 17 384 150Z\" transform=\"scale(1,11.332)\" style=\"stroke-width: 3;\"/></svg></g><g data-mml-node=\"mtable\" transform=\"translate(889,0)\"><g data-mml-node=\"mtr\" transform=\"translate(0,2921)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(444,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(944,0)\" style=\"stroke-width: 3;\"/><path data-c=\"79\" d=\"M69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66Z\" transform=\"translate(1338,0)\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mtd\" transform=\"translate(4279.9,0)\"><g data-mml-node=\"mtext\"><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(584,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(834,0)\"><g data-mml-node=\"msubsup\" transform=\"translate(220,569.7) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(975.3,497.8) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-317.1) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(242,-345) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-150) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"1131\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(2482.7,0)\"><path data-c=\"3E\" d=\"M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3538.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D70C\" d=\"M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(550,-150) scale(0.707)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mtr\" transform=\"translate(0,1514.4)\"><g data-mml-node=\"mtd\"/></g><g data-mml-node=\"mtr\" transform=\"translate(0,-187.9)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(833,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1277,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(1833,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(2111,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(2667,0)\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mtd\" transform=\"translate(4279.9,0)\"><g data-mml-node=\"mtext\"><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(584,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(834,0)\"><g data-mml-node=\"msubsup\" transform=\"translate(220,569.7) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(975.3,497.8) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-317.1) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(242,-345) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-150) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"1131\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(2482.7,0)\"><path data-c=\"3C\" d=\"M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3538.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D70C\" d=\"M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(550,-150) scale(0.707)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mtr\" transform=\"translate(0,-1594.4)\"><g data-mml-node=\"mtd\"/></g><g data-mml-node=\"mtr\" transform=\"translate(0,-3216.7)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1448,0)\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mtd\" transform=\"translate(4279.9,0)\"><g data-mml-node=\"mtext\"><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(584,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(834,0)\"><g data-mml-node=\"msubsup\" transform=\"translate(220,568.6) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(975.3,363) scale(0.707)\"><path data-c=\"210E\" d=\"M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-315.5) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(283,-345) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-150) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"1213\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(2564.7,0)\"><path data-c=\"3E\" d=\"M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3620.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D70C\" d=\"M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(550,-150) scale(0.707)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mtext\" transform=\"translate(4574.1,0)\"><path data-c=\"A0\" d=\"\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(250,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(750,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1306,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(1862,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6686.1,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7375.8,0)\"><path data-c=\"2260\" d=\"M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(8431.6,0)\"><path data-c=\"210E\" d=\"M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(14176.5,0) translate(0 250)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>f</mi><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">{</mo><mtable columnalign=\"left left\" columnspacing=\"1em\" rowspacing=\".2em\"><mtr><mtd><msub><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mtext>easy</mtext></mrow></msub></mtd><mtd><mtext>if </mtext><mfrac><msubsup><mi>N</mi><mi>k</mi><mi>j</mi></msubsup><msub><mi>N</mi><mi>k</mi></msub></mfrac><mo>&gt;</mo><msub><mi>ρ</mi><mn>1</mn></msub></mtd></mtr><mtr><mtd/></mtr><mtr><mtd><msub><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mtext>medium</mtext></mrow></msub></mtd><mtd><mtext>if </mtext><mfrac><msubsup><mi>N</mi><mi>k</mi><mi>j</mi></msubsup><msub><mi>N</mi><mi>k</mi></msub></mfrac><mo>&lt;</mo><msub><mi>ρ</mi><mn>1</mn></msub></mtd></mtr><mtr><mtd/></mtr><mtr><mtd><msub><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mtext>hard</mtext></mrow></msub></mtd><mtd><mtext>if </mtext><mfrac><msubsup><mi>N</mi><mi>k</mi><mi>h</mi></msubsup><msub><mi>N</mi><mi>k</mi></msub></mfrac><mo>&gt;</mo><msub><mi>ρ</mi><mn>1</mn></msub><mtext> and </mtext><mi>j</mi><mo>≠</mo><mi>h</mi></mtd></mtr></mtable><mo data-mjx-texclass=\"CLOSE\" fence=\"true\" stretchy=\"true\" symmetric=\"true\"/></mrow></math></mjx-assistive-mml></mjx-container><h5 id=\"调整学习权重\">调整学习权重</h5>\n<p>使用“衰减方法”，设置惩罚系数，并通过参数调节。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"46.291ex\" height=\"2.364ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 20460.5 1045\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1189.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1689.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D706\" d=\"M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(616,-150) scale(0.707)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2907.1,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3907.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(4296.4,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5018.6,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6018.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6985.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7597,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8097.2,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(8486.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9820.3,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(10320.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D706\" d=\"M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(616,-150) scale(0.707)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(11829.6,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(12829.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(13218.8,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13941.1,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(14941.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(16053.2,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16664.4,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(17164.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D706\" d=\"M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(616,-150) scale(0.707)\"><path data-c=\"210E\" d=\"M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(18237.9,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18904.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(19960.5,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>α</mi><mi>i</mi></msub><mo>⋅</mo><msub><mi>λ</mi><mi>e</mi></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><msub><mi>α</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>⋅</mo><mo stretchy=\"false\">(</mo><msub><mi>α</mi><mi>f</mi></msub><mo>⋅</mo><msub><mi>λ</mi><mi>m</mi></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><msub><mi>α</mi><mi>f</mi></msub><mo stretchy=\"false\">)</mo><mo>⋅</mo><msub><mi>λ</mi><mi>h</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container><p>初期：$\\alpha_i <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.452ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.262ex\" height=\"2.149ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 1000 950\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">、</text></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow data-mjx-texclass=\"ORD\"><mo>、</mo></mrow></math></mjx-assistive-mml></mjx-container> \\alpha_f $接近 1，优先学习简单样本。</p>\n<p>后期：当损失收敛（例如损失 &lt; 0.01 且连续两轮损失差 &lt; 0.0001）时，逐步减小 $ \\alpha_i <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.452ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.262ex\" height=\"2.149ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 1000 950\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">、</text></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow data-mjx-texclass=\"ORD\"><mo>、</mo></mrow></math></mjx-assistive-mml></mjx-container> \\alpha_f $，引入更多困难样本。</p>\n<h5 id=\"构建批次子图\">构建批次子图</h5>\n<p><mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.652ex\" height=\"1.952ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 1172.3 862.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(819,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>G</mi><mi>b</mi></msub></math></mjx-assistive-mml></mjx-container> 是 $ G_t $的一个子图，针对每个训练批次（batch）生成，包含批次中的样本及其正负样本对，用于后续表征学习。过采样策略，从 $ G_t $中选择与批次样本相关的子图结构，保留类级别、模式级别和实例级别的关系，同时引入正样本和负样本以增强表征学习。</p>\n<h4 id=\"关系图引导的表示学习\">关系图引导的表示学习</h4>\n<h5 id=\"簇感知表征平滑\">簇感知表征平滑</h5>\n<h6 id=\"图形平滑\">图形平滑</h6>\n<p>使用图卷积网络（GCN）$ \\mathcal{G}(\\cdot) $，基于子图 $ G_b $ 和正样本 $ \\Omega_{posi} $，聚合同一类别图像的信息。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"61.388ex\" height=\"3.12ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1084 27133.4 1379\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1341.1,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(2396.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"47\" d=\"M216 68Q155 68 115 100T59 177T44 273Q44 299 50 333T73 421T133 533T239 632Q346 704 466 704Q508 704 515 703Q555 696 577 681T599 635Q599 605 570 560T523 496Q490 466 455 466Q440 466 440 475T469 526T499 589Q499 605 489 617Q460 636 403 636Q343 636 295 611T220 548T174 464T150 382T144 318Q144 241 180 189T287 137Q325 137 359 160Q428 205 466 322Q472 342 501 359T551 376Q557 376 560 373T564 368L565 365Q560 341 551 302T512 173T451 31Q359 -119 204 -119Q163 -118 127 -109T74 -91T53 -77Q52 -75 52 -71Q52 -54 79 -35T132 -14H140L151 -19Q210 -49 281 -49H289Q312 -49 329 -31Q351 -7 372 36T405 109T416 142L408 136Q401 131 392 125T369 111T338 96T303 82T261 72T216 68Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2991.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(3380.8,0)\"><g data-mml-node=\"mover\"><g data-mml-node=\"mi\"><path data-c=\"1D434\" d=\"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(514,290) translate(-250 0)\"><path data-c=\"5E\" d=\"M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(4130.8,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4575.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5342.5,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5787.1,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FA\" d=\"M125 84Q127 78 194 76H243V78Q243 122 208 215T165 350Q164 359 162 389Q162 522 272 610Q328 656 396 680T525 704Q628 704 698 661Q734 637 755 601T781 544T786 504Q786 439 747 374T635 226T537 109Q518 81 518 77Q537 76 557 76Q608 76 620 78T640 92Q646 100 656 119T673 155T683 172Q690 173 698 173Q718 173 718 162Q718 161 681 82T642 2Q639 0 550 0H461Q455 5 455 9T458 28Q472 78 510 149T584 276T648 402T677 525Q677 594 636 631T530 668Q476 668 423 641T335 568Q284 499 271 400Q270 388 270 348Q270 298 277 228T285 115Q285 82 280 49T271 6Q269 1 258 1T175 0H87Q83 3 80 7V18Q80 22 82 98Q84 156 85 163T91 172Q94 173 104 173T119 172Q124 169 124 126Q125 104 125 84Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(805,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(503,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(988,0)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1457,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(7916.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8583.1,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(9638.9,0)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10107.9,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10592.9,0)\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(11142.9,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(11503.9,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12381.9,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12910.9,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13482.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(13871.9,0)\"><g data-mml-node=\"mover\"><g data-mml-node=\"mi\"><path data-c=\"1D434\" d=\"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(514,290) translate(-250 0)\"><path data-c=\"5E\" d=\"M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(14844.1,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(15344.3,0)\"><path data-c=\"1D445\" d=\"M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(16103.3,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(16569.3,0)\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(17250.3,0)\"><path data-c=\"1D448\" d=\"M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18017.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(18406.3,0)\"><g data-mml-node=\"mover\"><g data-mml-node=\"mi\"><path data-c=\"1D434\" d=\"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(514,290) translate(-250 0)\"><path data-c=\"5E\" d=\"M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(19378.6,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(19878.8,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(20953,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msup\" transform=\"translate(21453.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1136.2,413) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(389,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(889,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(23543.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(24154.3,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msup\" transform=\"translate(24654.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1136.2,413) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(389,0)\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(889,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(26744.4,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mi>g</mi></msub><mo>=</mo><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">G</mi></mrow><mo stretchy=\"false\">(</mo><mrow data-mjx-texclass=\"ORD\"><mover><mi>A</mi><mo stretchy=\"false\">^</mo></mover></mrow><mo>,</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>Ω</mi><mrow data-mjx-texclass=\"ORD\"><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><mrow data-mjx-texclass=\"ORD\"><mover><mi>A</mi><mo stretchy=\"false\">^</mo></mover></mrow><mo>⋅</mo><mi>R</mi><mi>e</mi><mi>L</mi><mi>U</mi><mo stretchy=\"false\">(</mo><mrow data-mjx-texclass=\"ORD\"><mover><mi>A</mi><mo stretchy=\"false\">^</mo></mover></mrow><mo>⋅</mo><mi>X</mi><mo>⋅</mo><msup><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msup><mo stretchy=\"false\">)</mo><mo>⋅</mo><msup><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow></msup><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><h6 id=\"簇级特征平滑\">簇级特征平滑</h6>\n<p>将表征 $ F_g $ 与簇原型  $ w_{cu} $ 对齐，其中$w_{cu} $是类别 $ y_i $主导的最大簇 $c_j $的原型。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24.627ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 10885.2 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1408.2,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(2464,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(3813.7,0)\"><path data-c=\"2299\" d=\"M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4813.9,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6099.4,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7099.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FD\" d=\"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(599,-150) scale(0.707)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8375.4,0)\"><path data-c=\"2299\" d=\"M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(9375.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D464\" d=\"M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(749,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(433,0)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mi>u</mi></msub><mo>=</mo><msub><mi>α</mi><mi>u</mi></msub><mo>⊙</mo><msub><mi>F</mi><mi>g</mi></msub><mo>+</mo><msub><mi>β</mi><mi>u</mi></msub><mo>⊙</mo><msub><mi>w</mi><mrow data-mjx-texclass=\"ORD\"><mi>c</mi><mi>u</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><h5 id=\"类级分布正则化\">类级分布正则化</h5>\n<h6 id=\"类级表征对齐\">类级表征对齐</h6>\n<p>表征 $ F_u$ 与类原型 $ p_{cu} $ 对齐，其中 $ p_{cu} $ 是类别 $ y_i $ 在所有主导簇中的表征聚合。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.439ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24.091ex\" height=\"2.034ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 10648.2 899\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1377.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(2433.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(3752.9,0)\"><path data-c=\"2299\" d=\"M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4753.1,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6105.8,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7106,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FD\" d=\"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(599,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8351.3,0)\"><path data-c=\"2299\" d=\"M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(9351.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(536,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(433,0)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mi>a</mi></msub><mo>=</mo><msub><mi>α</mi><mi>a</mi></msub><mo>⊙</mo><msub><mi>F</mi><mi>u</mi></msub><mo>+</mo><msub><mi>β</mi><mi>a</mi></msub><mo>⊙</mo><msub><mi>p</mi><mrow data-mjx-texclass=\"ORD\"><mi>c</mi><mi>u</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><h6 id=\"负样本约束\">负样本约束</h6>\n<p>构建负样本损失<mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.217ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 1864.1 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1066,0)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>e</mi><mi>g</mi></mrow></msub></math></mjx-assistive-mml></mjx-container>，推远不同类别表征：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.827ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"55.252ex\" height=\"6.785ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1749.5 24421.6 2999\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1066,0)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2141.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(3197.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(408,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(4808.3,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(5753,0)\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7031,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(7197.6,0)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"28\" d=\"M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(792,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D707\" d=\"M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(636,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mfrac\" transform=\"translate(1722,0)\"><g data-mml-node=\"mi\" transform=\"translate(7120.5,676)\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(220,-763.3)\"><g data-mml-node=\"munderover\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1089,477.1) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1089,-285.4) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(460,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1238,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2534.6,0)\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3034.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1003,-150) scale(0.707)\"><path data-c=\"1D463\" d=\"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(4430.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4819.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5586.5,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6197.7,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7198,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1003,-150) scale(0.707)\"><path data-c=\"1D463\" d=\"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8593.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(8982.9,0)\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(755,490.8) scale(0.707)\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-138.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1066,0)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1543,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(11253,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(11642,0)\"><g data-mml-node=\"mo\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(533,-150) scale(0.707)\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(12800.8,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(13801,0)\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"14470\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(16432,0) translate(0 -0.5)\"><path data-c=\"29\" d=\"M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>e</mi><mi>g</mi></mrow></msub><mo>=</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>N</mi></mrow></munderover><mo>−</mo><mi>log</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">(</mo><msub><mi>μ</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi></mrow></msub><mfrac><mi>θ</mi><mrow><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>q</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>m</mi></mrow></munderover><mo data-mjx-texclass=\"ORD\">∥</mo><msub><mi>M</mi><mi>v</mi></msub><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>−</mo><msub><mi>M</mi><mi>v</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>e</mi><mi>g</mi><mi>a</mi></mrow><mi>q</mi></msubsup><mo stretchy=\"false\">)</mo><msub><mo data-mjx-texclass=\"ORD\">∥</mo><mn>2</mn></msub><mo>+</mo><mi>θ</mi></mrow></mfrac><mo data-mjx-texclass=\"CLOSE\">)</mo></mrow></math></mjx-assistive-mml></mjx-container><h6 id=\"类间约束\">类间约束</h6>\n<p>构建类间分散损失<mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"5.305ex\" height=\"1.952ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 2344.9 862.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(345,0)\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(945,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1306,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1772,0)\"><path data-c=\"1D45F\" d=\"M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub></math></mjx-assistive-mml></mjx-container>，进一步推远不同类别表征：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -3.006ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"58.779ex\" height=\"6.964ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1749.5 25980.4 3078.1\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(345,0)\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(945,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1306,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1772,0)\"><path data-c=\"1D45F\" d=\"M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2622.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munder\" transform=\"translate(3678.5,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(356.1,-1084.4) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(5122.5,0)\"><path data-c=\"7B\" d=\"M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(5622.5,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6245.2,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7301,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7713,0)\"><path data-c=\"7D\" d=\"M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8213,0)\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(8713,0)\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9213,0)\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9935.2,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10935.5,0)\"><path data-c=\"7B\" d=\"M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(11435.5,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(12058.2,0)\"><path data-c=\"2260\" d=\"M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(13114,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13526,0)\"><path data-c=\"7D\" d=\"M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(14248.2,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(15248.5,0)\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16526.5,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(16693.1,0)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"28\" d=\"M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(792,0)\"><path data-c=\"1D707\" d=\"M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(1395,0)\"><g data-mml-node=\"mi\" transform=\"translate(3315.7,676)\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(220,-925.2)\"><g data-mml-node=\"mo\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(500,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(837.3,289) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-247) scale(0.707)\"><path data-c=\"1D463\" d=\"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1853.5,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(2853.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(837.3,497.8) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-139.6) scale(0.707)\"><path data-c=\"1D463\" d=\"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(4032.3,0)\"><g data-mml-node=\"mo\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(533,-150) scale(0.707)\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5191.1,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6191.3,0)\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"6860.3\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(8495.3,0) translate(0 -0.5)\"><path data-c=\"29\" d=\"M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>=</mo><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>j</mi></mrow></munder><mo fence=\"false\" stretchy=\"false\">{</mo><mi>i</mi><mo>=</mo><mi>j</mi><mo fence=\"false\" stretchy=\"false\">}</mo><mo data-mjx-texclass=\"ORD\">∥</mo><mn>0</mn><mo data-mjx-texclass=\"ORD\">∥</mo><mo>+</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mi>i</mi><mo>≠</mo><mi>j</mi><mo fence=\"false\" stretchy=\"false\">}</mo><mo>−</mo><mi>log</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">(</mo><mi>μ</mi><mfrac><mi>θ</mi><mrow><mo data-mjx-texclass=\"ORD\">∥</mo><msubsup><mi>F</mi><mi>v</mi><mi>i</mi></msubsup><mo>−</mo><msubsup><mi>F</mi><mi>v</mi><mi>j</mi></msubsup><msub><mo data-mjx-texclass=\"ORD\">∥</mo><mn>2</mn></msub><mo>+</mo><mi>θ</mi></mrow></mfrac><mo data-mjx-texclass=\"CLOSE\">)</mo></mrow></math></mjx-assistive-mml></mjx-container><h6 id=\"分类器训练\">分类器训练</h6>\n<p>使用分类器 $ C(\\cdot) $预测类别：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.355ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"7.707ex\" height=\"1.901ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 3406.6 840.1\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1377.8,0)\"><path data-c=\"2192\" d=\"M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2655.6,0)\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mi>a</mi></msub><mo stretchy=\"false\">→</mo><mi>P</mi></math></mjx-assistive-mml></mjx-container><p>使用交叉熵损失 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"3.187ex\" height=\"1.952ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 1408.7 862.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(433,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>c</mi><mi>e</mi></mrow></msub></math></mjx-assistive-mml></mjx-container>优化：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"41.432ex\" height=\"6.775ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1748.5 18313 2994.4\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(433,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1686.5,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(2742.2,0)\"><g data-mml-node=\"mn\" transform=\"translate(414,676)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(220,-686)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><rect width=\"1088\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"munder\" transform=\"translate(4236.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(600,-1084.4) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(5847.6,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(723,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(7142.3,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8198.1,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(8976.1,0)\"><g data-mml-node=\"mn\" transform=\"translate(414,676)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(220,-686)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><rect width=\"1088\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"munder\" transform=\"translate(10470.8,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(600,-1084.4) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"munderover\" transform=\"translate(12081.4,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(117.1,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(433,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1211,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(453.3,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(13692.1,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(523,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(345,0)\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(14981.9,0)\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16259.9,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16259.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(16648.9,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(675,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(345,0)\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(17924,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>c</mi><mi>e</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi></mrow></munder><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mi>i</mi></msub><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi></mrow></munder><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>c</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>C</mi></mrow></munderover><msub><mi>y</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mi>c</mi></mrow></msub><mi>log</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mo stretchy=\"false\">(</mo><msub><mi>P</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mi>c</mi></mrow></msub><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container></div>","excerpt":"","more":"<h1>CSRMS</h1>\n<p>用于视觉表征学习的类级结构化关系建模与平滑 (MM2023)</p>\n<p>论文地址：<a href=\"https://ercdm.sdu.edu.cn/__local/7/AC/70/7E4948C4761839F62E3958CE772_043AE854_2B459A.pdf\">https://ercdm.sdu.edu.cn/__local/7/AC/70/7E4948C4761839F62E3958CE772_043AE854_2B459A.pdf</a></p>\n<p>代码地址：<a href=\"https://github.com/czt117/CSRMS\">https://github.com/czt117/CSRMS</a></p>\n<p>个人理解这个像是一个知识总结的过程。首先通过特征提取获得特征图，这个过程可以类比我从书本上学习知识的过程，提取出有用的知识，然后通过聚类算法对特征图进行分簇，就相当于把学到的知识进行总结的过程，但是总会有一些比较相近的知识容易被搞混，这个就是类间相似性和类内多样性，再着重对这一块进行处理，使得对知识的掌握更加透彻。</p>\n<p><strong>名词解释：</strong></p>\n<p><strong>课程构建（Curriculum Construction）</strong>：是一种<strong>渐进式学习方法</strong>，通过根据任务或样本的难度或复杂性来设计学习顺序，让模型从简单的内容逐步过渡到复杂的内容，从而更高效地掌握知识。它通过评估样本难度、调整学习权重并动态控制训练过程，帮助模型更高效地学习，最终提高收敛速度和泛化能力。</p>\n<p><strong>实例级别的图像（Instance-level images）</strong>：指的是针对单个具体图像样本的研究和处理。每一张图像被视为一个独立的实例，拥有其独特的特征和属性，而不是仅仅代表某个类别或群体的共性。与<strong>类别级别</strong>（Class-level）的研究不同，实例级别更关注图像的个体差异和细节。</p>\n<p><strong>对比学习（Contrastive Learning）</strong>：是一种机器学习技术，特别在无监督学习和自监督学习中应用广泛。它的核心思想是通过对比不同样本之间的相似性和差异性，让模型自动学习数据的特征表示</p>\n<h2 id=\"研究目的\">研究目的</h2>\n<p>缓解类内多样性和类间相似性问题</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250418224550763.png\" style=\"zoom:40%;\" />\n<h2 id=\"整体架构\">整体架构</h2>\n<p>CSRMS 框架的三个核心模块：<strong>类级关系建模</strong>、<strong>类感知图采样</strong> 和 <strong>关系图引导的表示学习</strong></p>\n<p>在离线学习阶段，根据表征视觉分布挖掘类级关系，构建数据集级关系图；在训练阶段，根据类级关系构建多样化类感知采样策略，结合课程构建，获得Batch级别关系子图；在类级关系的引导下，利用特征平滑、类原型对齐和类级约束显式正则化视觉表征，有效缓解视觉表征分布复杂性。</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250418225319281.png\" alt=\"\"></p>\n<h3 id=\"离线学习阶段\">离线学习阶段</h3>\n<h4 id=\"类级关系建模\">类级关系建模</h4>\n<h5 id=\"类级关系定义\">类级关系定义</h5>\n<p>(a) <strong>类内视觉模式的多样性（Intra-Class Diversity of Visual Patterns）</strong>：同一类别的样本分布在不同主导簇，说明类内样本视觉差异大。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.592ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"33.687ex\" height=\"2.289ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 14889.8 1011.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D445\" d=\"M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(792,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(504,0)\"><path data-c=\"1D437\" d=\"M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2061.6,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mspace\" transform=\"translate(2839.6,0)\"/><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(3117.4,0)\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(389,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1286.1,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1730.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2557.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3223.9,0)\"><path data-c=\"2223\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3779.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5004.5,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6060.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6936.6,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7381.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(675,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9212.8,0)\"><path data-c=\"2260\" d=\"M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(10268.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(675,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mspace\" transform=\"translate(11772.4,0)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>R</mi><mrow data-mjx-texclass=\"ORD\"><mi>I</mi><mi>D</mi></mrow></msub><mo>=</mo><mspace linebreak=\"newline\"/><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>a</mi></msub><mo>,</mo><msub><mi>I</mi><mi>b</mi></msub><mo stretchy=\"false\">)</mo><mo>∣</mo><msub><mi>y</mi><mi>a</mi></msub><mo>=</mo><msub><mi>y</mi><mi>b</mi></msub><mo>,</mo><msub><mi>P</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>a</mi></msub></mrow></msub><mo>≠</mo><msub><mi>P</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>b</mi></msub></mrow></msub><mspace linebreak=\"newline\"/></mrow></math></mjx-assistive-mml></mjx-container><p>(b) <strong>视觉模式的类间相似性 （Inter-Class Similarity of Visual Patterns）</strong>：不同类别的样本分布在同一主导簇，说明类间样本视觉上相似。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.592ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"33.395ex\" height=\"2.289ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 14760.4 1011.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D445\" d=\"M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(792,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(504,0)\"><path data-c=\"1D446\" d=\"M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1932.2,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mspace\" transform=\"translate(2710.2,0)\"/><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(2988,0)\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(389,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1286.1,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1730.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2557.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3223.9,0)\"><path data-c=\"2223\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3779.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5004.5,0)\"><path data-c=\"2260\" d=\"M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6060.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6936.6,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7381.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(675,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9212.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(10268.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(675,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mspace\" transform=\"translate(11772.4,0)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>R</mi><mrow data-mjx-texclass=\"ORD\"><mi>I</mi><mi>S</mi></mrow></msub><mo>=</mo><mspace linebreak=\"newline\"/><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>a</mi></msub><mo>,</mo><msub><mi>I</mi><mi>b</mi></msub><mo stretchy=\"false\">)</mo><mo>∣</mo><msub><mi>y</mi><mi>a</mi></msub><mo>≠</mo><msub><mi>y</mi><mi>b</mi></msub><mo>,</mo><msub><mi>P</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>a</mi></msub></mrow></msub><mo>=</mo><msub><mi>P</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>b</mi></msub></mrow></msub><mspace linebreak=\"newline\"/></mrow></math></mjx-assistive-mml></mjx-container><p>© <strong>视觉模式的混类簇 (Mix-class Cluster of Visual Patterns)</strong>：不同类别的样本分布在同一混类簇，说明聚类结果复杂，缺乏主导类别。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.592ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"35.938ex\" height=\"2.289ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 15884.5 1011.6\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D445\" d=\"M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(792,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1051,0)\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2400.3,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mspace\" transform=\"translate(3178.3,0)\"/><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(3456.1,0)\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(389,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1286.1,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1730.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2557.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3223.9,0)\"><path data-c=\"2223\" d=\"M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3779.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5004.5,0)\"><path data-c=\"2260\" d=\"M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6060.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(523,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6936.6,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7381.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1003,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9540.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(10596.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1003,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(748,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mspace\" transform=\"translate(12428.4,0)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>R</mi><mrow data-mjx-texclass=\"ORD\"><mi>M</mi><mi>C</mi></mrow></msub><mo>=</mo><mspace linebreak=\"newline\"/><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>a</mi></msub><mo>,</mo><msub><mi>I</mi><mi>b</mi></msub><mo stretchy=\"false\">)</mo><mo>∣</mo><msub><mi>y</mi><mi>a</mi></msub><mo>≠</mo><msub><mi>y</mi><mi>b</mi></msub><mo>,</mo><msub><mi>M</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>a</mi></msub></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>C</mi><mi>b</mi></msub></mrow></msub><mspace linebreak=\"newline\"/></mrow></math></mjx-assistive-mml></mjx-container><p><strong>主导簇（Dominant Clusters）</strong>：指聚类中主要由某个类别样本构成的簇，通常通过聚类算法基于特征分布确定。</p>\n<p><strong>混类簇（Mix-class Clusters）</strong>：指聚类中没有明显主导类别的簇，包含多个类别的样本，增加了建模难度。</p>\n<h5 id=\"ART聚类\">ART聚类</h5>\n<p><strong>自适应聚类算法 ART</strong>：能够根据数据分布动态调整簇数量，适合处理视觉特征空间中的复杂分布。对视觉特征进行聚类，得到视觉模式。$ C={c1,…,cJ}$</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.566ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"17.562ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 7762.5 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(1037.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2093.6,0)\"><path data-c=\"1D434\" d=\"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2843.6,0)\"><path data-c=\"1D445\" d=\"M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(3602.6,0)\"><path data-c=\"1D447\" d=\"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(4306.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4695.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1003,-150) scale(0.707)\"><path data-c=\"1D463\" d=\"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6091.5,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6480.5,0)\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6984.5,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7373.5,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>C</mi><mo>=</mo><mi>A</mi><mi>R</mi><mi>T</mi><mo stretchy=\"false\">(</mo><msub><mi>M</mi><mi>v</mi></msub><mo stretchy=\"false\">(</mo><mi>I</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><p>得到三个级别：类级别、模式级别、实例级别。然后构建关系图 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.544ex\" height=\"1.952ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 1124.3 862.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(819,-150) scale(0.707)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>G</mi><mi>t</mi></msub></math></mjx-assistive-mml></mjx-container> 。这是一个多层图结构，实例级别连接到模式级别（通过聚类），模式级别连接到类级别（通过标签），这种结构有助于捕捉样本间的复杂关系。</p>\n<h3 id=\"训练阶段\">训练阶段</h3>\n<h4 id=\"类感知图采样\">类感知图采样</h4>\n<h5 id=\"正样本采样\">正样本采样</h5>\n<p>使用主导模式采样器$ S_{dp} $，从类别 $ y_i $ 主导的最大簇 $c_j $ 中选择与 $ I_i $ 距离最大的前 $ n $个正样本。为每个批次样本选择正样本集合 $ \\Omega_{posi} $，以解决类内多样性。</p>\n<p>选择距离最远的正样本，增加类内样本的多样性，增强表征学习的鲁棒性。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.81ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"26.112ex\" height=\"2.507ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 11541.7 1108.1\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(503,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(988,0)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1457,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2357,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3412.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D446\" d=\"M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(646,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D451\" d=\"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(520,0)\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(4832.1,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5221.1,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5988.1,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6432.8,0)\"><path data-c=\"1D711\" d=\"M92 210Q92 176 106 149T142 108T185 85T220 72L235 70L237 71L250 112Q268 170 283 211T322 299T370 375T429 423T502 442Q547 442 582 410T618 302Q618 224 575 152T457 35T299 -10Q273 -10 273 -12L266 -48Q260 -83 252 -125T241 -179Q236 -203 215 -212Q204 -218 190 -218Q159 -215 159 -185Q159 -175 214 -2L209 0Q204 2 195 5T173 14T147 28T120 46T94 71T71 103T56 142T50 190Q50 238 76 311T149 431H162Q183 431 183 423Q183 417 175 409Q134 361 114 300T92 210ZM574 278Q574 320 550 344T486 369Q437 369 394 329T323 218Q309 184 295 109L286 64Q304 62 306 62Q423 62 498 131T574 278Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7086.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7475.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8242.7,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(8687.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(473,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(378,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9719,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10108,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10552.7,0)\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(11152.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi></mrow></msub><mo>=</mo><msub><mi>S</mi><mrow data-mjx-texclass=\"ORD\"><mi>d</mi><mi>p</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><mi>φ</mi><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>I</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>i</mi><mi>j</mi></msub></mrow></msub><mo stretchy=\"false\">)</mo><mo>,</mo><mi>n</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><h5 id=\"负样本采样\">负样本采样</h5>\n<p>视觉相似模式采样器 $ S_{ap} $，从类别 $ y_i $ 主导的最大簇 $c_i $ 中选择与 $ I_i $ 距离最大的前 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.025ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1.986ex\" height=\"1.025ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -442 878 453\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>m</mi></math></mjx-assistive-mml></mjx-container>个正样本。为每个批次样本选择负样本集合$\\Omega_{nega} $，以解决类间相似性和混类簇。</p>\n<p>选择视觉相似的负样本，增强类间区分度，缓解类间相似性问题。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.81ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"27.188ex\" height=\"2.507ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 12017 1108.1\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1066,0)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1543,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2547.9,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3603.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D446\" d=\"M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(646,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(529,0)\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(5029.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5418.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6185.4,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6630,0)\"><path data-c=\"1D711\" d=\"M92 210Q92 176 106 149T142 108T185 85T220 72L235 70L237 71L250 112Q268 170 283 211T322 299T370 375T429 423T502 442Q547 442 582 410T618 302Q618 224 575 152T457 35T299 -10Q273 -10 273 -12L266 -48Q260 -83 252 -125T241 -179Q236 -203 215 -212Q204 -218 190 -218Q159 -215 159 -185Q159 -175 214 -2L209 0Q204 2 195 5T173 14T147 28T120 46T94 71T71 103T56 142T50 190Q50 238 76 311T149 431H162Q183 431 183 423Q183 417 175 409Q134 361 114 300T92 210ZM574 278Q574 320 550 344T486 369Q437 369 394 329T323 218Q309 184 295 109L286 64Q304 62 306 62Q423 62 498 131T574 278Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7284,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7673,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8440,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(8884.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(473,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(378,-150) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(9916.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10305.3,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10750,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(11628,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>e</mi><mi>g</mi><mi>a</mi></mrow></msub><mo>=</mo><msub><mi>S</mi><mrow data-mjx-texclass=\"ORD\"><mi>a</mi><mi>p</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><mi>φ</mi><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>I</mi><mrow data-mjx-texclass=\"ORD\"><msub><mi>i</mi><mi>j</mi></msub></mrow></msub><mo stretchy=\"false\">)</mo><mo>,</mo><mi>m</mi><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><h5 id=\"课程学习\">课程学习</h5>\n<p>基于易难估计，为批次样本分配难度级别。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -8.311ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"39.83ex\" height=\"17.752ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -4173.3 17605 7846.5\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mi\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(550,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(939,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1706,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(2372.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(3428.5,0)\"><g data-mml-node=\"mo\"><path data-c=\"23A7\" d=\"M712 899L718 893V876V865Q718 854 704 846Q627 793 577 710T510 525Q510 524 509 521Q505 493 504 349Q504 345 504 334Q504 277 504 240Q504 -2 503 -4Q502 -8 494 -9T444 -10Q392 -10 390 -9Q387 -8 386 -5Q384 5 384 230Q384 262 384 312T383 382Q383 481 392 535T434 656Q510 806 664 892L677 899H712Z\" transform=\"translate(0,3274.3)\" style=\"stroke-width: 3;\"/><path data-c=\"23A9\" d=\"M718 -893L712 -899H677L666 -893Q542 -825 468 -714T385 -476Q384 -466 384 -282Q384 3 385 5L389 9Q392 10 444 10Q486 10 494 9T503 4Q504 2 504 -239V-310V-366Q504 -470 508 -513T530 -609Q546 -657 569 -698T617 -767T661 -812T699 -843T717 -856T718 -876V-893Z\" transform=\"translate(0,-2774.3)\" style=\"stroke-width: 3;\"/><path data-c=\"23A8\" d=\"M389 1159Q391 1160 455 1160Q496 1160 498 1159Q501 1158 502 1155Q504 1145 504 924Q504 691 503 682Q494 549 425 439T243 259L229 250L243 241Q349 175 421 66T503 -182Q504 -191 504 -424Q504 -600 504 -629T499 -659H498Q496 -660 444 -660T390 -659Q387 -658 386 -655Q384 -645 384 -425V-282Q384 -176 377 -116T342 10Q325 54 301 92T255 155T214 196T183 222T171 232Q170 233 170 250T171 268Q171 269 191 284T240 331T300 407T354 524T383 679Q384 691 384 925Q384 1152 385 1155L389 1159Z\" transform=\"translate(0,0)\" style=\"stroke-width: 3;\"/><svg width=\"889\" height=\"2304.3\" y=\"1060\" x=\"0\" viewBox=\"0 406.1 889 2304.3\"><path data-c=\"23AA\" d=\"M384 150V266Q384 304 389 309Q391 310 455 310Q496 310 498 309Q502 308 503 298Q504 283 504 150Q504 32 504 12T499 -9H498Q496 -10 444 -10T390 -9Q386 -8 385 2Q384 17 384 150Z\" transform=\"scale(1,11.332)\" style=\"stroke-width: 3;\"/></svg><svg width=\"889\" height=\"2304.3\" y=\"-2864.3\" x=\"0\" viewBox=\"0 406.1 889 2304.3\"><path data-c=\"23AA\" d=\"M384 150V266Q384 304 389 309Q391 310 455 310Q496 310 498 309Q502 308 503 298Q504 283 504 150Q504 32 504 12T499 -9H498Q496 -10 444 -10T390 -9Q386 -8 385 2Q384 17 384 150Z\" transform=\"scale(1,11.332)\" style=\"stroke-width: 3;\"/></svg></g><g data-mml-node=\"mtable\" transform=\"translate(889,0)\"><g data-mml-node=\"mtr\" transform=\"translate(0,2921)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(444,0)\" style=\"stroke-width: 3;\"/><path data-c=\"73\" d=\"M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z\" transform=\"translate(944,0)\" style=\"stroke-width: 3;\"/><path data-c=\"79\" d=\"M69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66Z\" transform=\"translate(1338,0)\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mtd\" transform=\"translate(4279.9,0)\"><g data-mml-node=\"mtext\"><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(584,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(834,0)\"><g data-mml-node=\"msubsup\" transform=\"translate(220,569.7) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(975.3,497.8) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-317.1) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(242,-345) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-150) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"1131\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(2482.7,0)\"><path data-c=\"3E\" d=\"M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3538.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D70C\" d=\"M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(550,-150) scale(0.707)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mtr\" transform=\"translate(0,1514.4)\"><g data-mml-node=\"mtd\"/></g><g data-mml-node=\"mtr\" transform=\"translate(0,-187.9)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" style=\"stroke-width: 3;\"/><path data-c=\"65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\" transform=\"translate(833,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1277,0)\" style=\"stroke-width: 3;\"/><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" transform=\"translate(1833,0)\" style=\"stroke-width: 3;\"/><path data-c=\"75\" d=\"M383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58Z\" transform=\"translate(2111,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6D\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(2667,0)\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mtd\" transform=\"translate(4279.9,0)\"><g data-mml-node=\"mtext\"><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(584,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(834,0)\"><g data-mml-node=\"msubsup\" transform=\"translate(220,569.7) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(975.3,497.8) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-317.1) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(242,-345) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-150) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"1131\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(2482.7,0)\"><path data-c=\"3C\" d=\"M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3538.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D70C\" d=\"M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(550,-150) scale(0.707)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mtr\" transform=\"translate(0,-1594.4)\"><g data-mml-node=\"mtd\"/></g><g data-mml-node=\"mtr\" transform=\"translate(0,-3216.7)\"><g data-mml-node=\"mtd\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mtext\"><path data-c=\"68\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(556,0)\" style=\"stroke-width: 3;\"/><path data-c=\"72\" d=\"M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z\" transform=\"translate(1056,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1448,0)\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mtd\" transform=\"translate(4279.9,0)\"><g data-mml-node=\"mtext\"><path data-c=\"69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\" style=\"stroke-width: 3;\"/><path data-c=\"66\" d=\"M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(584,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(834,0)\"><g data-mml-node=\"msubsup\" transform=\"translate(220,568.6) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(975.3,363) scale(0.707)\"><path data-c=\"210E\" d=\"M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-315.5) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(283,-345) scale(0.707)\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(836,-150) scale(0.707)\"><path data-c=\"1D458\" d=\"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"1213\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(2564.7,0)\"><path data-c=\"3E\" d=\"M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3620.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D70C\" d=\"M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(550,-150) scale(0.707)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mtext\" transform=\"translate(4574.1,0)\"><path data-c=\"A0\" d=\"\" style=\"stroke-width: 3;\"/><path data-c=\"61\" d=\"M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z\" transform=\"translate(250,0)\" style=\"stroke-width: 3;\"/><path data-c=\"6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\" transform=\"translate(750,0)\" style=\"stroke-width: 3;\"/><path data-c=\"64\" d=\"M376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342Z\" transform=\"translate(1306,0)\" style=\"stroke-width: 3;\"/><path data-c=\"A0\" d=\"\" transform=\"translate(1862,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6686.1,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7375.8,0)\"><path data-c=\"2260\" d=\"M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(8431.6,0)\"><path data-c=\"210E\" d=\"M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z\" style=\"stroke-width: 3;\"/></g></g></g></g><g data-mml-node=\"mo\" transform=\"translate(14176.5,0) translate(0 250)\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>f</mi><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">{</mo><mtable columnalign=\"left left\" columnspacing=\"1em\" rowspacing=\".2em\"><mtr><mtd><msub><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mtext>easy</mtext></mrow></msub></mtd><mtd><mtext>if </mtext><mfrac><msubsup><mi>N</mi><mi>k</mi><mi>j</mi></msubsup><msub><mi>N</mi><mi>k</mi></msub></mfrac><mo>&gt;</mo><msub><mi>ρ</mi><mn>1</mn></msub></mtd></mtr><mtr><mtd/></mtr><mtr><mtd><msub><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mtext>medium</mtext></mrow></msub></mtd><mtd><mtext>if </mtext><mfrac><msubsup><mi>N</mi><mi>k</mi><mi>j</mi></msubsup><msub><mi>N</mi><mi>k</mi></msub></mfrac><mo>&lt;</mo><msub><mi>ρ</mi><mn>1</mn></msub></mtd></mtr><mtr><mtd/></mtr><mtr><mtd><msub><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mtext>hard</mtext></mrow></msub></mtd><mtd><mtext>if </mtext><mfrac><msubsup><mi>N</mi><mi>k</mi><mi>h</mi></msubsup><msub><mi>N</mi><mi>k</mi></msub></mfrac><mo>&gt;</mo><msub><mi>ρ</mi><mn>1</mn></msub><mtext> and </mtext><mi>j</mi><mo>≠</mo><mi>h</mi></mtd></mtr></mtable><mo data-mjx-texclass=\"CLOSE\" fence=\"true\" stretchy=\"true\" symmetric=\"true\"/></mrow></math></mjx-assistive-mml></mjx-container><h5 id=\"调整学习权重\">调整学习权重</h5>\n<p>使用“衰减方法”，设置惩罚系数，并通过参数调节。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"46.291ex\" height=\"2.364ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 20460.5 1045\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1189.2,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(1689.4,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D706\" d=\"M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(616,-150) scale(0.707)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2907.1,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(3907.4,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(4296.4,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(5018.6,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(6018.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6985.7,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7597,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8097.2,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(8486.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(9820.3,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(10320.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D706\" d=\"M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(616,-150) scale(0.707)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(11829.6,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(12829.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(13218.8,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13941.1,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(14941.3,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(16053.2,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16664.4,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(17164.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D706\" d=\"M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(616,-150) scale(0.707)\"><path data-c=\"210E\" d=\"M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(18237.9,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18904.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(19960.5,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>α</mi><mi>i</mi></msub><mo>⋅</mo><msub><mi>λ</mi><mi>e</mi></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><msub><mi>α</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>⋅</mo><mo stretchy=\"false\">(</mo><msub><mi>α</mi><mi>f</mi></msub><mo>⋅</mo><msub><mi>λ</mi><mi>m</mi></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><msub><mi>α</mi><mi>f</mi></msub><mo stretchy=\"false\">)</mo><mo>⋅</mo><msub><mi>λ</mi><mi>h</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container><p>初期：$\\alpha_i <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.452ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.262ex\" height=\"2.149ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 1000 950\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">、</text></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow data-mjx-texclass=\"ORD\"><mo>、</mo></mrow></math></mjx-assistive-mml></mjx-container> \\alpha_f $接近 1，优先学习简单样本。</p>\n<p>后期：当损失收敛（例如损失 &lt; 0.01 且连续两轮损失差 &lt; 0.0001）时，逐步减小 $ \\alpha_i <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.452ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.262ex\" height=\"2.149ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 1000 950\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><text data-variant=\"normal\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\">、</text></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow data-mjx-texclass=\"ORD\"><mo>、</mo></mrow></math></mjx-assistive-mml></mjx-container> \\alpha_f $，引入更多困难样本。</p>\n<h5 id=\"构建批次子图\">构建批次子图</h5>\n<p><mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2.652ex\" height=\"1.952ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 1172.3 862.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D43A\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(819,-150) scale(0.707)\"><path data-c=\"1D44F\" d=\"M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>G</mi><mi>b</mi></msub></math></mjx-assistive-mml></mjx-container> 是 $ G_t $的一个子图，针对每个训练批次（batch）生成，包含批次中的样本及其正负样本对，用于后续表征学习。过采样策略，从 $ G_t $中选择与批次样本相关的子图结构，保留类级别、模式级别和实例级别的关系，同时引入正样本和负样本以增强表征学习。</p>\n<h4 id=\"关系图引导的表示学习\">关系图引导的表示学习</h4>\n<h5 id=\"簇感知表征平滑\">簇感知表征平滑</h5>\n<h6 id=\"图形平滑\">图形平滑</h6>\n<p>使用图卷积网络（GCN）$ \\mathcal{G}(\\cdot) $，基于子图 $ G_b $ 和正样本 $ \\Omega_{posi} $，聚合同一类别图像的信息。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"61.388ex\" height=\"3.12ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1084 27133.4 1379\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1341.1,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(2396.8,0)\"><g data-mml-node=\"mi\"><path data-c=\"47\" d=\"M216 68Q155 68 115 100T59 177T44 273Q44 299 50 333T73 421T133 533T239 632Q346 704 466 704Q508 704 515 703Q555 696 577 681T599 635Q599 605 570 560T523 496Q490 466 455 466Q440 466 440 475T469 526T499 589Q499 605 489 617Q460 636 403 636Q343 636 295 611T220 548T174 464T150 382T144 318Q144 241 180 189T287 137Q325 137 359 160Q428 205 466 322Q472 342 501 359T551 376Q557 376 560 373T564 368L565 365Q560 341 551 302T512 173T451 31Q359 -119 204 -119Q163 -118 127 -109T74 -91T53 -77Q52 -75 52 -71Q52 -54 79 -35T132 -14H140L151 -19Q210 -49 281 -49H289Q312 -49 329 -31Q351 -7 372 36T405 109T416 142L408 136Q401 131 392 125T369 111T338 96T303 82T261 72T216 68Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(2991.8,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(3380.8,0)\"><g data-mml-node=\"mover\"><g data-mml-node=\"mi\"><path data-c=\"1D434\" d=\"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(514,290) translate(-250 0)\"><path data-c=\"5E\" d=\"M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(4130.8,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4575.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5342.5,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(5787.1,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FA\" d=\"M125 84Q127 78 194 76H243V78Q243 122 208 215T165 350Q164 359 162 389Q162 522 272 610Q328 656 396 680T525 704Q628 704 698 661Q734 637 755 601T781 544T786 504Q786 439 747 374T635 226T537 109Q518 81 518 77Q537 76 557 76Q608 76 620 78T640 92Q646 100 656 119T673 155T683 172Q690 173 698 173Q718 173 718 162Q718 161 681 82T642 2Q639 0 550 0H461Q455 5 455 9T458 28Q472 78 510 149T584 276T648 402T677 525Q677 594 636 631T530 668Q476 668 423 641T335 568Q284 499 271 400Q270 388 270 348Q270 298 277 228T285 115Q285 82 280 49T271 6Q269 1 258 1T175 0H87Q83 3 80 7V18Q80 22 82 98Q84 156 85 163T91 172Q94 173 104 173T119 172Q124 169 124 126Q125 104 125 84Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(805,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(503,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(988,0)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1457,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(7916.3,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8583.1,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(9638.9,0)\"><path data-c=\"1D460\" d=\"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10107.9,0)\"><path data-c=\"1D45C\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(10592.9,0)\"><path data-c=\"1D453\" d=\"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(11142.9,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(11503.9,0)\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12381.9,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(12910.9,0)\"><path data-c=\"1D465\" d=\"M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13482.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(13871.9,0)\"><g data-mml-node=\"mover\"><g data-mml-node=\"mi\"><path data-c=\"1D434\" d=\"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(514,290) translate(-250 0)\"><path data-c=\"5E\" d=\"M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(14844.1,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(15344.3,0)\"><path data-c=\"1D445\" d=\"M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(16103.3,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(16569.3,0)\"><path data-c=\"1D43F\" d=\"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(17250.3,0)\"><path data-c=\"1D448\" d=\"M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(18017.3,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\" transform=\"translate(18406.3,0)\"><g data-mml-node=\"mover\"><g data-mml-node=\"mi\"><path data-c=\"1D434\" d=\"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(514,290) translate(-250 0)\"><path data-c=\"5E\" d=\"M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(19378.6,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(19878.8,0)\"><path data-c=\"1D44B\" d=\"M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(20953,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msup\" transform=\"translate(21453.2,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1136.2,413) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(389,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(889,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(23543.1,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(24154.3,0)\"><path data-c=\"22C5\" d=\"M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msup\" transform=\"translate(24654.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D44A\" d=\"M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1136.2,413) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mo\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(389,0)\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(889,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(26744.4,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mi>g</mi></msub><mo>=</mo><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">G</mi></mrow><mo stretchy=\"false\">(</mo><mrow data-mjx-texclass=\"ORD\"><mover><mi>A</mi><mo stretchy=\"false\">^</mo></mover></mrow><mo>,</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>Ω</mi><mrow data-mjx-texclass=\"ORD\"><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><mrow data-mjx-texclass=\"ORD\"><mover><mi>A</mi><mo stretchy=\"false\">^</mo></mover></mrow><mo>⋅</mo><mi>R</mi><mi>e</mi><mi>L</mi><mi>U</mi><mo stretchy=\"false\">(</mo><mrow data-mjx-texclass=\"ORD\"><mover><mi>A</mi><mo stretchy=\"false\">^</mo></mover></mrow><mo>⋅</mo><mi>X</mi><mo>⋅</mo><msup><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></msup><mo stretchy=\"false\">)</mo><mo>⋅</mo><msup><mi>W</mi><mrow data-mjx-texclass=\"ORD\"><mo stretchy=\"false\">(</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow></msup><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container><h6 id=\"簇级特征平滑\">簇级特征平滑</h6>\n<p>将表征 $ F_g $ 与簇原型  $ w_{cu} $ 对齐，其中$w_{cu} $是类别 $ y_i $主导的最大簇 $c_j $的原型。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24.627ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 10885.2 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1408.2,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(2464,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(3813.7,0)\"><path data-c=\"2299\" d=\"M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4813.9,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6099.4,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7099.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FD\" d=\"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(599,-150) scale(0.707)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8375.4,0)\"><path data-c=\"2299\" d=\"M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(9375.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D464\" d=\"M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(749,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(433,0)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mi>u</mi></msub><mo>=</mo><msub><mi>α</mi><mi>u</mi></msub><mo>⊙</mo><msub><mi>F</mi><mi>g</mi></msub><mo>+</mo><msub><mi>β</mi><mi>u</mi></msub><mo>⊙</mo><msub><mi>w</mi><mrow data-mjx-texclass=\"ORD\"><mi>c</mi><mi>u</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><h5 id=\"类级分布正则化\">类级分布正则化</h5>\n<h6 id=\"类级表征对齐\">类级表征对齐</h6>\n<p>表征 $ F_u$ 与类原型 $ p_{cu} $ 对齐，其中 $ p_{cu} $ 是类别 $ y_i $ 在所有主导簇中的表征聚合。</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.439ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24.091ex\" height=\"2.034ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 10648.2 899\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1377.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(2433.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FC\" d=\"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(673,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(3752.9,0)\"><path data-c=\"2299\" d=\"M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4753.1,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(6105.8,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7106,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D6FD\" d=\"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(599,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8351.3,0)\"><path data-c=\"2299\" d=\"M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(9351.5,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D45D\" d=\"M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(536,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(433,0)\"><path data-c=\"1D462\" d=\"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mi>a</mi></msub><mo>=</mo><msub><mi>α</mi><mi>a</mi></msub><mo>⊙</mo><msub><mi>F</mi><mi>u</mi></msub><mo>+</mo><msub><mi>β</mi><mi>a</mi></msub><mo>⊙</mo><msub><mi>p</mi><mrow data-mjx-texclass=\"ORD\"><mi>c</mi><mi>u</mi></mrow></msub></math></mjx-assistive-mml></mjx-container><h6 id=\"负样本约束\">负样本约束</h6>\n<p>构建负样本损失<mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.667ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"4.217ex\" height=\"2.262ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 1864.1 1000\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1066,0)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>e</mi><mi>g</mi></mrow></msub></math></mjx-assistive-mml></mjx-container>，推远不同类别表征：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.827ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"55.252ex\" height=\"6.785ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1749.5 24421.6 2999\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1066,0)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2141.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munderover\" transform=\"translate(3197.6,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(148.2,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1123,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(408,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(4808.3,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(5753,0)\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7031,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(7197.6,0)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"28\" d=\"M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(792,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D707\" d=\"M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(636,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mfrac\" transform=\"translate(1722,0)\"><g data-mml-node=\"mi\" transform=\"translate(7120.5,676)\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(220,-763.3)\"><g data-mml-node=\"munderover\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1089,477.1) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45A\" d=\"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(1089,-285.4) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(460,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1238,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2534.6,0)\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(3034.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1003,-150) scale(0.707)\"><path data-c=\"1D463\" d=\"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(4430.6,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(4819.6,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D43C\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(473,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5586.5,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6197.7,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(7198,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D440\" d=\"M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1003,-150) scale(0.707)\"><path data-c=\"1D463\" d=\"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(8593.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(8982.9,0)\"><g data-mml-node=\"mi\"><path data-c=\"3A9\" d=\"M55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(755,490.8) scale(0.707)\"><path data-c=\"1D45E\" d=\"M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(755,-138.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(600,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1066,0)\"><path data-c=\"1D454\" d=\"M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1543,0)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(11253,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(11642,0)\"><g data-mml-node=\"mo\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(533,-150) scale(0.707)\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(12800.8,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(13801,0)\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"14470\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(16432,0) translate(0 -0.5)\"><path data-c=\"29\" d=\"M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>e</mi><mi>g</mi></mrow></msub><mo>=</mo><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>N</mi></mrow></munderover><mo>−</mo><mi>log</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">(</mo><msub><mi>μ</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi></mrow></msub><mfrac><mi>θ</mi><mrow><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>q</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>m</mi></mrow></munderover><mo data-mjx-texclass=\"ORD\">∥</mo><msub><mi>M</mi><mi>v</mi></msub><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>−</mo><msub><mi>M</mi><mi>v</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mi mathvariant=\"normal\">Ω</mi><mrow data-mjx-texclass=\"ORD\"><mi>n</mi><mi>e</mi><mi>g</mi><mi>a</mi></mrow><mi>q</mi></msubsup><mo stretchy=\"false\">)</mo><msub><mo data-mjx-texclass=\"ORD\">∥</mo><mn>2</mn></msub><mo>+</mo><mi>θ</mi></mrow></mfrac><mo data-mjx-texclass=\"CLOSE\">)</mo></mrow></math></mjx-assistive-mml></mjx-container><h6 id=\"类间约束\">类间约束</h6>\n<p>构建类间分散损失<mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"5.305ex\" height=\"1.952ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 2344.9 862.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(345,0)\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(945,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1306,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1772,0)\"><path data-c=\"1D45F\" d=\"M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub></math></mjx-assistive-mml></mjx-container>，进一步推远不同类别表征：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -3.006ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"58.779ex\" height=\"6.964ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1749.5 25980.4 3078.1\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(345,0)\"><path data-c=\"1D45B\" d=\"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(945,0)\"><path data-c=\"1D461\" d=\"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1306,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(1772,0)\"><path data-c=\"1D45F\" d=\"M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(2622.7,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"munder\" transform=\"translate(3678.5,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(356.1,-1084.4) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(345,0)\"><path data-c=\"2C\" d=\"M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(623,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(5122.5,0)\"><path data-c=\"7B\" d=\"M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(5622.5,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(6245.2,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(7301,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(7713,0)\"><path data-c=\"7D\" d=\"M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8213,0)\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(8713,0)\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9213,0)\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(9935.2,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(10935.5,0)\"><path data-c=\"7B\" d=\"M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(11435.5,0)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(12058.2,0)\"><path data-c=\"2260\" d=\"M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(13114,0)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(13526,0)\"><path data-c=\"7D\" d=\"M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(14248.2,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(15248.5,0)\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16526.5,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(16693.1,0)\"><g data-mml-node=\"mo\" transform=\"translate(0 -0.5)\"><path data-c=\"28\" d=\"M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(792,0)\"><path data-c=\"1D707\" d=\"M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(1395,0)\"><g data-mml-node=\"mi\" transform=\"translate(3315.7,676)\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mrow\" transform=\"translate(220,-925.2)\"><g data-mml-node=\"mo\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(500,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(837.3,289) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-247) scale(0.707)\"><path data-c=\"1D463\" d=\"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1853.5,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msubsup\" transform=\"translate(2853.7,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(837.3,497.8) scale(0.707)\"><path data-c=\"1D457\" d=\"M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-139.6) scale(0.707)\"><path data-c=\"1D463\" d=\"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"msub\" transform=\"translate(4032.3,0)\"><g data-mml-node=\"mo\"><path data-c=\"2225\" d=\"M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(533,-150) scale(0.707)\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(5191.1,0)\"><path data-c=\"2B\" d=\"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(6191.3,0)\"><path data-c=\"1D703\" d=\"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z\" style=\"stroke-width: 3;\"/></g></g><rect width=\"6860.3\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"mo\" transform=\"translate(8495.3,0) translate(0 -0.5)\"><path data-c=\"29\" d=\"M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z\" style=\"stroke-width: 3;\"/></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>=</mo><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mo>,</mo><mi>j</mi></mrow></munder><mo fence=\"false\" stretchy=\"false\">{</mo><mi>i</mi><mo>=</mo><mi>j</mi><mo fence=\"false\" stretchy=\"false\">}</mo><mo data-mjx-texclass=\"ORD\">∥</mo><mn>0</mn><mo data-mjx-texclass=\"ORD\">∥</mo><mo>+</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mi>i</mi><mo>≠</mo><mi>j</mi><mo fence=\"false\" stretchy=\"false\">}</mo><mo>−</mo><mi>log</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mrow data-mjx-texclass=\"INNER\"><mo data-mjx-texclass=\"OPEN\">(</mo><mi>μ</mi><mfrac><mi>θ</mi><mrow><mo data-mjx-texclass=\"ORD\">∥</mo><msubsup><mi>F</mi><mi>v</mi><mi>i</mi></msubsup><mo>−</mo><msubsup><mi>F</mi><mi>v</mi><mi>j</mi></msubsup><msub><mo data-mjx-texclass=\"ORD\">∥</mo><mn>2</mn></msub><mo>+</mo><mi>θ</mi></mrow></mfrac><mo data-mjx-texclass=\"CLOSE\">)</mo></mrow></math></mjx-assistive-mml></mjx-container><h6 id=\"分类器训练\">分类器训练</h6>\n<p>使用分类器 $ C(\\cdot) $预测类别：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.355ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"7.707ex\" height=\"1.901ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -683 3406.6 840.1\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"mi\"><path data-c=\"1D439\" d=\"M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(676,-150) scale(0.707)\"><path data-c=\"1D44E\" d=\"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(1377.8,0)\"><path data-c=\"2192\" d=\"M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(2655.6,0)\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mi>a</mi></msub><mo stretchy=\"false\">→</mo><mi>P</mi></math></mjx-assistive-mml></mjx-container><p>使用交叉熵损失 <mjx-container class=\"MathJax\" jax=\"SVG\" style=\"direction: ltr; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.357ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"3.187ex\" height=\"1.952ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -705 1408.7 862.8\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(433,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"inline\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>c</mi><mi>e</mi></mrow></msub></math></mjx-assistive-mml></mjx-container>优化：</p>\n<mjx-container class=\"MathJax\" jax=\"SVG\" display=\"true\" style=\"direction: ltr; display: block; text-align: center; margin: 1em 0; position: relative;\"><svg style=\"overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -2.819ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"41.432ex\" height=\"6.775ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -1748.5 18313 2994.4\" aria-hidden=\"true\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"msub\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(723,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(433,0)\"><path data-c=\"1D452\" d=\"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(1686.5,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(2742.2,0)\"><g data-mml-node=\"mn\" transform=\"translate(414,676)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(220,-686)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><rect width=\"1088\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"munder\" transform=\"translate(4236.9,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(600,-1084.4) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(5847.6,0)\"><g data-mml-node=\"TeXAtom\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"4C\" d=\"M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mi\" transform=\"translate(723,-150) scale(0.707)\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"mo\" transform=\"translate(7142.3,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(8198.1,0)\"><path data-c=\"2212\" d=\"M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mfrac\" transform=\"translate(8976.1,0)\"><g data-mml-node=\"mn\" transform=\"translate(414,676)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(220,-686)\"><path data-c=\"1D441\" d=\"M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z\" style=\"stroke-width: 3;\"/></g><rect width=\"1088\" height=\"60\" x=\"120\" y=\"220\"/></g><g data-mml-node=\"munder\" transform=\"translate(10470.8,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(600,-1084.4) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"munderover\" transform=\"translate(12081.4,0)\"><g data-mml-node=\"mo\"><path data-c=\"2211\" d=\"M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(117.1,-1087.9) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(433,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mn\" transform=\"translate(1211,0)\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\" style=\"stroke-width: 3;\"/></g></g><g data-mml-node=\"TeXAtom\" transform=\"translate(453.3,1150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D436\" d=\"M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"msub\" transform=\"translate(13692.1,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D466\" d=\"M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(523,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(345,0)\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mi\" transform=\"translate(14981.9,0)\"><path data-c=\"6C\" d=\"M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z\" style=\"stroke-width: 3;\"/><path data-c=\"6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\" transform=\"translate(278,0)\" style=\"stroke-width: 3;\"/><path data-c=\"67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\" transform=\"translate(778,0)\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16259.9,0)\"><path data-c=\"2061\" d=\"\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mo\" transform=\"translate(16259.9,0)\"><path data-c=\"28\" d=\"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"msub\" transform=\"translate(16648.9,0)\"><g data-mml-node=\"mi\"><path data-c=\"1D443\" d=\"M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"TeXAtom\" transform=\"translate(675,-150) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mi\"><path data-c=\"1D456\" d=\"M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z\" style=\"stroke-width: 3;\"/></g><g data-mml-node=\"mi\" transform=\"translate(345,0)\"><path data-c=\"1D450\" d=\"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z\" style=\"stroke-width: 3;\"/></g></g></g><g data-mml-node=\"mo\" transform=\"translate(17924,0)\"><path data-c=\"29\" d=\"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z\" style=\"stroke-width: 3;\"/></g></g></g></svg><mjx-assistive-mml unselectable=\"on\" display=\"block\" style=\"top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; overflow: hidden; width: 100%;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mrow data-mjx-texclass=\"ORD\"><mi>c</mi><mi>e</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi></mrow></munder><msub><mrow data-mjx-texclass=\"ORD\"><mi data-mjx-variant=\"-tex-calligraphic\" mathvariant=\"script\">L</mi></mrow><mi>i</mi></msub><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munder><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>i</mi></mrow></munder><munderover><mo data-mjx-texclass=\"OP\">∑</mo><mrow data-mjx-texclass=\"ORD\"><mi>c</mi><mo>=</mo><mn>1</mn></mrow><mrow data-mjx-texclass=\"ORD\"><mi>C</mi></mrow></munderover><msub><mi>y</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mi>c</mi></mrow></msub><mi>log</mi><mo data-mjx-texclass=\"NONE\">⁡</mo><mo stretchy=\"false\">(</mo><msub><mi>P</mi><mrow data-mjx-texclass=\"ORD\"><mi>i</mi><mi>c</mi></mrow></msub><mo stretchy=\"false\">)</mo></math></mjx-assistive-mml></mjx-container>"},{"title":"Transformer","date":"2025-04-17T14:16:19.000Z","updated":"2025-05-02T04:43:25.064Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417222102581.png","_content":"\n# Attention Is All You Need\n\n个人理解 transformer 编码器是把人能理解的东西转化成计算机能理解的东西。对比与论文写作的这个过程来说，位置编码就是作者写这篇论文的顺序，反复打磨论文这个过程就对应着这个n个编码器，第一遍的初稿相当于第一个编码器，可能效果不尽人意。把人能理解的东西编码成论文。到读者来说就是解码的过程，每一次读论文就是一次解码的过程，你必须多次解码才能对这个论文理解的更加透彻。q就是你感兴趣的地方，k就是论文中的关键点。\n\n\n\n**Transformer** 是一种基于注意力机制（Attention Mechanism）的深度学习模型，摒弃了传统的循环神经网络（RNN）和卷积神经网络（CNN），完全依赖注意力机制处理序列数据。\n\nRNN处理长序列时容易出现梯度消失或梯度爆炸的问题，健达来说就是就像一个记性不好的老人，处理长内容时，前面的内容记不住，后面又容易混淆。\n\nCNN虽然在提取局部特征上表现出色，但对长距离依赖关系的捕捉能力欠佳，就好比只盯着眼前的局部风景，而忽略了远方的整体美景。\n\nTransformer则巧妙地摒弃了RNN的顺序处理方式和CNN的局部处理局限，引入了自注意力机制，这就像是给大模型装上了一个“全局扫描雷达”，能够同时关注输入序列中的各个位置，极大地提升了对长序列的处理能力，完美解决了上述两个难题。\n\n注意力机制通过注意力汇聚将*查询*（自主性提示）和*键*（非自主性提示）结合在一起，实现对*值*（感官输入）的**选择倾向**，这是与 CNN 等模型的关键区别。\n\n![transformer](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425222936440.png)\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425223011527.png\" alt=\"QKV\" style=\"zoom:30%;\" />\n","source":"_posts/Transformer.md","raw":"---\ntitle: Transformer\ndate: 2025-04-17 22:16:19\ntags: [transformer,论文精读]\ncategories: [学习,论文精读,Transformer]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417222102581.png\n---\n\n# Attention Is All You Need\n\n个人理解 transformer 编码器是把人能理解的东西转化成计算机能理解的东西。对比与论文写作的这个过程来说，位置编码就是作者写这篇论文的顺序，反复打磨论文这个过程就对应着这个n个编码器，第一遍的初稿相当于第一个编码器，可能效果不尽人意。把人能理解的东西编码成论文。到读者来说就是解码的过程，每一次读论文就是一次解码的过程，你必须多次解码才能对这个论文理解的更加透彻。q就是你感兴趣的地方，k就是论文中的关键点。\n\n\n\n**Transformer** 是一种基于注意力机制（Attention Mechanism）的深度学习模型，摒弃了传统的循环神经网络（RNN）和卷积神经网络（CNN），完全依赖注意力机制处理序列数据。\n\nRNN处理长序列时容易出现梯度消失或梯度爆炸的问题，健达来说就是就像一个记性不好的老人，处理长内容时，前面的内容记不住，后面又容易混淆。\n\nCNN虽然在提取局部特征上表现出色，但对长距离依赖关系的捕捉能力欠佳，就好比只盯着眼前的局部风景，而忽略了远方的整体美景。\n\nTransformer则巧妙地摒弃了RNN的顺序处理方式和CNN的局部处理局限，引入了自注意力机制，这就像是给大模型装上了一个“全局扫描雷达”，能够同时关注输入序列中的各个位置，极大地提升了对长序列的处理能力，完美解决了上述两个难题。\n\n注意力机制通过注意力汇聚将*查询*（自主性提示）和*键*（非自主性提示）结合在一起，实现对*值*（感官输入）的**选择倾向**，这是与 CNN 等模型的关键区别。\n\n![transformer](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425222936440.png)\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425223011527.png\" alt=\"QKV\" style=\"zoom:30%;\" />\n","slug":"Transformer","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamiv00331swm1wph3ma6","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h1>Attention Is All You Need</h1>\n<p>个人理解 transformer 编码器是把人能理解的东西转化成计算机能理解的东西。对比与论文写作的这个过程来说，位置编码就是作者写这篇论文的顺序，反复打磨论文这个过程就对应着这个n个编码器，第一遍的初稿相当于第一个编码器，可能效果不尽人意。把人能理解的东西编码成论文。到读者来说就是解码的过程，每一次读论文就是一次解码的过程，你必须多次解码才能对这个论文理解的更加透彻。q就是你感兴趣的地方，k就是论文中的关键点。</p>\n<p><strong>Transformer</strong> 是一种基于注意力机制（Attention Mechanism）的深度学习模型，摒弃了传统的循环神经网络（RNN）和卷积神经网络（CNN），完全依赖注意力机制处理序列数据。</p>\n<p>RNN处理长序列时容易出现梯度消失或梯度爆炸的问题，健达来说就是就像一个记性不好的老人，处理长内容时，前面的内容记不住，后面又容易混淆。</p>\n<p>CNN虽然在提取局部特征上表现出色，但对长距离依赖关系的捕捉能力欠佳，就好比只盯着眼前的局部风景，而忽略了远方的整体美景。</p>\n<p>Transformer则巧妙地摒弃了RNN的顺序处理方式和CNN的局部处理局限，引入了自注意力机制，这就像是给大模型装上了一个“全局扫描雷达”，能够同时关注输入序列中的各个位置，极大地提升了对长序列的处理能力，完美解决了上述两个难题。</p>\n<p>注意力机制通过注意力汇聚将<em>查询</em>（自主性提示）和<em>键</em>（非自主性提示）结合在一起，实现对<em>值</em>（感官输入）的<strong>选择倾向</strong>，这是与 CNN 等模型的关键区别。</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425222936440.png\" alt=\"transformer\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425223011527.png\" alt=\"QKV\" style=\"zoom:30%;\" />\n</div>","excerpt":"","more":"<h1>Attention Is All You Need</h1>\n<p>个人理解 transformer 编码器是把人能理解的东西转化成计算机能理解的东西。对比与论文写作的这个过程来说，位置编码就是作者写这篇论文的顺序，反复打磨论文这个过程就对应着这个n个编码器，第一遍的初稿相当于第一个编码器，可能效果不尽人意。把人能理解的东西编码成论文。到读者来说就是解码的过程，每一次读论文就是一次解码的过程，你必须多次解码才能对这个论文理解的更加透彻。q就是你感兴趣的地方，k就是论文中的关键点。</p>\n<p><strong>Transformer</strong> 是一种基于注意力机制（Attention Mechanism）的深度学习模型，摒弃了传统的循环神经网络（RNN）和卷积神经网络（CNN），完全依赖注意力机制处理序列数据。</p>\n<p>RNN处理长序列时容易出现梯度消失或梯度爆炸的问题，健达来说就是就像一个记性不好的老人，处理长内容时，前面的内容记不住，后面又容易混淆。</p>\n<p>CNN虽然在提取局部特征上表现出色，但对长距离依赖关系的捕捉能力欠佳，就好比只盯着眼前的局部风景，而忽略了远方的整体美景。</p>\n<p>Transformer则巧妙地摒弃了RNN的顺序处理方式和CNN的局部处理局限，引入了自注意力机制，这就像是给大模型装上了一个“全局扫描雷达”，能够同时关注输入序列中的各个位置，极大地提升了对长序列的处理能力，完美解决了上述两个难题。</p>\n<p>注意力机制通过注意力汇聚将<em>查询</em>（自主性提示）和<em>键</em>（非自主性提示）结合在一起，实现对<em>值</em>（感官输入）的<strong>选择倾向</strong>，这是与 CNN 等模型的关键区别。</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425222936440.png\" alt=\"transformer\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250425223011527.png\" alt=\"QKV\" style=\"zoom:30%;\" />\n"},{"title":"哈希表","date":"2025-02-02T12:04:09.000Z","updated":"2025-03-08T09:26:36.041Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp","_content":"\n## 哈希表 \n\n### 哈希表概述\n\n​\t**哈希表：**又称散列表，一种以关键码的值**「key-value」**而直接进行访问的**数据结构**。任意的键值 key  都唯一对应到内存中的某个位置。只需要输入查找的键值，就可以快速地找到其对应的  value。\n\n​\t**哈希函数：**根据键值计算索引的函数就叫做**哈希函数**。\n\n​\t**冲突：**不同的关键码映射到同一散列位置。key1!=key2，但是H(key1)=H(key2)。\n\n​\t**同义词：**具有相同函数值的多个关键字。\n\n​\t**All in all:  将元素通过一个函数转换为整数，使得该整数可以尽量唯一地代表这个元素** 。\n\n​\t**需要解决的问题：**1. 哈希函数的构造。   2. 冲突解决的方法。\n\n### 哈希函数构造方法\n\n​\t哈希函数应当易于计算，并且尽量使计算出来的索引均匀分布，以避免冲突。\n\n####  直接定址法\n\n**概述：**直接取关键字的某个线性函数值为哈希函数。\n\n**哈希函数：**H(key) = key 或 H(key) = a*key + b   ( a和b为常数 )\n\n**特点：**计算简单，不会产生冲突，适合关键字分布连续的情况（若不连续，则存储空间浪费很多，空间效率低）。\n\n#### 除留余数法\n\n**概述：**指把key除以一个数mod得到的余数作为hash值的方法。当mod是一个质数时，H(key)能尽可能均匀覆盖每一个数。所以取mod为不大于表长Tsize但接近或等于表长的质数，**即mod<=Tsize且为质数**。\n\n**哈希函数：**H(key) = key % mod\n\n**特点：**比较常用，关键在mod的选择，如何使得每个关键字通过该函数转换后等概率映射到散列空间的任一地址。\n\n#### 平方取中法\n\n**概述：**指取key的平方的中间若干位作为hash值的方法，不常用。\n\n**特点：**适合于关键字的每位取值都不够均匀或均小于散列地址所需位数。\n\n### 处理冲突的方法\n\n#### 开放定址法（开地址法）\n\n**基本思想：**有冲突时就去寻找下一个空的散列地址，只要散列表足够大，空的散列地址总能找到，并将数据元素存入。Hi = (H(key) + di) % Tsize (di为增量序列)   计算新的哈希值。\n\n##### 线性探查法\n\n​\tdi = 0, 1, 2, ... , Tsize-1 \n\n​\t发生冲突时，顺序表查看表中下一个元素，直到有空闲单元。会出现聚集现象，降低查询效率。\n\n##### 平方探查法\n\n​\tdi = 0² , +1² ,  -1² , +2² , -2² , ... , +k² , -k²   \n\n​\t不会出现聚集现象，不能探测所有单元，但至少能探测一半\n\n##### 伪随机探测法\n\n​\tdi = 伪随机数序列\n\n#### 链地址法（拉链法）\n\n**基本思想：**和上边方法不同，链地址法不计算新的哈希值，而是把相同散列地址的记录链成一单链表。m个散列地址就设m个单链表，然后用一个数组将m个单链表的表头指针存储起来，形成一个动态的结构。\n\n**优点：**1. 非同义词不会冲突，无\"聚集\"现象。\n\n​\t   2. 链表上结点空间动态申请，更适合于表长不确定的情况（经常插入删除）。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/%E9%93%BE%E5%9C%B0%E5%9D%80%E6%B3%95.png\" style=\"zoom:50%;\" />\n\n### 哈希的查找及性能分析\n\n#### 查找过程\n\n​\t检测由散列函数形成的地址上是否有记录，若无记录则失败； 若有记录比较关键字值，若相等则查找成功，否则散列函数更新增量值，重复执行。\n\n#### 性能分析\n\n​\t在列表查找中，使用最广泛的二分查找算法，复杂度为O(log2n)，但其始终只能用于有序列表。普通无序列表只能采用遍历查找，复杂度为O(n)。而拥有较为理想的哈希函数实现的哈希表，对其任意元素的查找速度始终为常数级，即O(1)。  链地址法优于开放定址法，除留余数法作散列函数优于其它类型函数。\n\n**装填因子：**∂=表中记录数/散列表长度。平均查找长度直接依赖于装填因子大小。也就是说，装填因子大小会直接影响到查找效率。装填因子越大，发生冲突的可能性越大。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/ASL.png\" style=\"zoom:33%;\" />\n\n​\t查找效率三个因素影响：哈希函数、装填因子、处理冲突方法。\n\n\n\n","source":"_posts/哈希表.md","raw":"---\ntitle: 哈希表\ndate: 2025-02-02 20:04:09\ntags: [数据结构与算法,哈希表,查找,链表,数组]\ncategories: [学习,数据结构与算法,基础知识]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp\n---\n\n## 哈希表 \n\n### 哈希表概述\n\n​\t**哈希表：**又称散列表，一种以关键码的值**「key-value」**而直接进行访问的**数据结构**。任意的键值 key  都唯一对应到内存中的某个位置。只需要输入查找的键值，就可以快速地找到其对应的  value。\n\n​\t**哈希函数：**根据键值计算索引的函数就叫做**哈希函数**。\n\n​\t**冲突：**不同的关键码映射到同一散列位置。key1!=key2，但是H(key1)=H(key2)。\n\n​\t**同义词：**具有相同函数值的多个关键字。\n\n​\t**All in all:  将元素通过一个函数转换为整数，使得该整数可以尽量唯一地代表这个元素** 。\n\n​\t**需要解决的问题：**1. 哈希函数的构造。   2. 冲突解决的方法。\n\n### 哈希函数构造方法\n\n​\t哈希函数应当易于计算，并且尽量使计算出来的索引均匀分布，以避免冲突。\n\n####  直接定址法\n\n**概述：**直接取关键字的某个线性函数值为哈希函数。\n\n**哈希函数：**H(key) = key 或 H(key) = a*key + b   ( a和b为常数 )\n\n**特点：**计算简单，不会产生冲突，适合关键字分布连续的情况（若不连续，则存储空间浪费很多，空间效率低）。\n\n#### 除留余数法\n\n**概述：**指把key除以一个数mod得到的余数作为hash值的方法。当mod是一个质数时，H(key)能尽可能均匀覆盖每一个数。所以取mod为不大于表长Tsize但接近或等于表长的质数，**即mod<=Tsize且为质数**。\n\n**哈希函数：**H(key) = key % mod\n\n**特点：**比较常用，关键在mod的选择，如何使得每个关键字通过该函数转换后等概率映射到散列空间的任一地址。\n\n#### 平方取中法\n\n**概述：**指取key的平方的中间若干位作为hash值的方法，不常用。\n\n**特点：**适合于关键字的每位取值都不够均匀或均小于散列地址所需位数。\n\n### 处理冲突的方法\n\n#### 开放定址法（开地址法）\n\n**基本思想：**有冲突时就去寻找下一个空的散列地址，只要散列表足够大，空的散列地址总能找到，并将数据元素存入。Hi = (H(key) + di) % Tsize (di为增量序列)   计算新的哈希值。\n\n##### 线性探查法\n\n​\tdi = 0, 1, 2, ... , Tsize-1 \n\n​\t发生冲突时，顺序表查看表中下一个元素，直到有空闲单元。会出现聚集现象，降低查询效率。\n\n##### 平方探查法\n\n​\tdi = 0² , +1² ,  -1² , +2² , -2² , ... , +k² , -k²   \n\n​\t不会出现聚集现象，不能探测所有单元，但至少能探测一半\n\n##### 伪随机探测法\n\n​\tdi = 伪随机数序列\n\n#### 链地址法（拉链法）\n\n**基本思想：**和上边方法不同，链地址法不计算新的哈希值，而是把相同散列地址的记录链成一单链表。m个散列地址就设m个单链表，然后用一个数组将m个单链表的表头指针存储起来，形成一个动态的结构。\n\n**优点：**1. 非同义词不会冲突，无\"聚集\"现象。\n\n​\t   2. 链表上结点空间动态申请，更适合于表长不确定的情况（经常插入删除）。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/%E9%93%BE%E5%9C%B0%E5%9D%80%E6%B3%95.png\" style=\"zoom:50%;\" />\n\n### 哈希的查找及性能分析\n\n#### 查找过程\n\n​\t检测由散列函数形成的地址上是否有记录，若无记录则失败； 若有记录比较关键字值，若相等则查找成功，否则散列函数更新增量值，重复执行。\n\n#### 性能分析\n\n​\t在列表查找中，使用最广泛的二分查找算法，复杂度为O(log2n)，但其始终只能用于有序列表。普通无序列表只能采用遍历查找，复杂度为O(n)。而拥有较为理想的哈希函数实现的哈希表，对其任意元素的查找速度始终为常数级，即O(1)。  链地址法优于开放定址法，除留余数法作散列函数优于其它类型函数。\n\n**装填因子：**∂=表中记录数/散列表长度。平均查找长度直接依赖于装填因子大小。也就是说，装填因子大小会直接影响到查找效率。装填因子越大，发生冲突的可能性越大。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/ASL.png\" style=\"zoom:33%;\" />\n\n​\t查找效率三个因素影响：哈希函数、装填因子、处理冲突方法。\n\n\n\n","slug":"哈希表","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamiw00371swm0xskbuin","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"哈希表\">哈希表</h2>\n<h3 id=\"哈希表概述\">哈希表概述</h3>\n<p>​\t<strong>哈希表：<strong>又称散列表，一种以关键码的值</strong>「key-value」<strong>而直接进行访问的</strong>数据结构</strong>。任意的键值 key  都唯一对应到内存中的某个位置。只需要输入查找的键值，就可以快速地找到其对应的  value。</p>\n<p>​\t<strong>哈希函数：<strong>根据键值计算索引的函数就叫做</strong>哈希函数</strong>。</p>\n<p>​\t**冲突：**不同的关键码映射到同一散列位置。key1!=key2，但是H(key1)=H(key2)。</p>\n<p>​\t**同义词：**具有相同函数值的多个关键字。</p>\n<p>​\t<strong>All in all:  将元素通过一个函数转换为整数，使得该整数可以尽量唯一地代表这个元素</strong> 。</p>\n<p>​\t**需要解决的问题：**1. 哈希函数的构造。   2. 冲突解决的方法。</p>\n<h3 id=\"哈希函数构造方法\">哈希函数构造方法</h3>\n<p>​\t哈希函数应当易于计算，并且尽量使计算出来的索引均匀分布，以避免冲突。</p>\n<h4 id=\"直接定址法\">直接定址法</h4>\n<p>**概述：**直接取关键字的某个线性函数值为哈希函数。</p>\n<p>**哈希函数：**H(key) = key 或 H(key) = a*key + b   ( a和b为常数 )</p>\n<p>**特点：**计算简单，不会产生冲突，适合关键字分布连续的情况（若不连续，则存储空间浪费很多，空间效率低）。</p>\n<h4 id=\"除留余数法\">除留余数法</h4>\n<p>**概述：**指把key除以一个数mod得到的余数作为hash值的方法。当mod是一个质数时，H(key)能尽可能均匀覆盖每一个数。所以取mod为不大于表长Tsize但接近或等于表长的质数，<strong>即mod&lt;=Tsize且为质数</strong>。</p>\n<p>**哈希函数：**H(key) = key % mod</p>\n<p>**特点：**比较常用，关键在mod的选择，如何使得每个关键字通过该函数转换后等概率映射到散列空间的任一地址。</p>\n<h4 id=\"平方取中法\">平方取中法</h4>\n<p>**概述：**指取key的平方的中间若干位作为hash值的方法，不常用。</p>\n<p>**特点：**适合于关键字的每位取值都不够均匀或均小于散列地址所需位数。</p>\n<h3 id=\"处理冲突的方法\">处理冲突的方法</h3>\n<h4 id=\"开放定址法（开地址法）\">开放定址法（开地址法）</h4>\n<p>**基本思想：**有冲突时就去寻找下一个空的散列地址，只要散列表足够大，空的散列地址总能找到，并将数据元素存入。Hi = (H(key) + di) % Tsize (di为增量序列)   计算新的哈希值。</p>\n<h5 id=\"线性探查法\">线性探查法</h5>\n<p>​\tdi = 0, 1, 2, … , Tsize-1</p>\n<p>​\t发生冲突时，顺序表查看表中下一个元素，直到有空闲单元。会出现聚集现象，降低查询效率。</p>\n<h5 id=\"平方探查法\">平方探查法</h5>\n<p>​\tdi = 0² , +1² ,  -1² , +2² , -2² , … , +k² , -k²</p>\n<p>​\t不会出现聚集现象，不能探测所有单元，但至少能探测一半</p>\n<h5 id=\"伪随机探测法\">伪随机探测法</h5>\n<p>​\tdi = 伪随机数序列</p>\n<h4 id=\"链地址法（拉链法）\">链地址法（拉链法）</h4>\n<p>**基本思想：**和上边方法不同，链地址法不计算新的哈希值，而是把相同散列地址的记录链成一单链表。m个散列地址就设m个单链表，然后用一个数组将m个单链表的表头指针存储起来，形成一个动态的结构。</p>\n<p>**优点：**1. 非同义词不会冲突，无&quot;聚集&quot;现象。</p>\n<p>​\t   2. 链表上结点空间动态申请，更适合于表长不确定的情况（经常插入删除）。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/%E9%93%BE%E5%9C%B0%E5%9D%80%E6%B3%95.png\" style=\"zoom:50%;\" />\n<h3 id=\"哈希的查找及性能分析\">哈希的查找及性能分析</h3>\n<h4 id=\"查找过程\">查找过程</h4>\n<p>​\t检测由散列函数形成的地址上是否有记录，若无记录则失败； 若有记录比较关键字值，若相等则查找成功，否则散列函数更新增量值，重复执行。</p>\n<h4 id=\"性能分析\">性能分析</h4>\n<p>​\t在列表查找中，使用最广泛的二分查找算法，复杂度为O(log2n)，但其始终只能用于有序列表。普通无序列表只能采用遍历查找，复杂度为O(n)。而拥有较为理想的哈希函数实现的哈希表，对其任意元素的查找速度始终为常数级，即O(1)。  链地址法优于开放定址法，除留余数法作散列函数优于其它类型函数。</p>\n<p>**装填因子：**∂=表中记录数/散列表长度。平均查找长度直接依赖于装填因子大小。也就是说，装填因子大小会直接影响到查找效率。装填因子越大，发生冲突的可能性越大。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/ASL.png\" style=\"zoom:33%;\" />\n<p>​\t查找效率三个因素影响：哈希函数、装填因子、处理冲突方法。</p>\n</div>","excerpt":"","more":"<h2 id=\"哈希表\">哈希表</h2>\n<h3 id=\"哈希表概述\">哈希表概述</h3>\n<p>​\t<strong>哈希表：<strong>又称散列表，一种以关键码的值</strong>「key-value」<strong>而直接进行访问的</strong>数据结构</strong>。任意的键值 key  都唯一对应到内存中的某个位置。只需要输入查找的键值，就可以快速地找到其对应的  value。</p>\n<p>​\t<strong>哈希函数：<strong>根据键值计算索引的函数就叫做</strong>哈希函数</strong>。</p>\n<p>​\t**冲突：**不同的关键码映射到同一散列位置。key1!=key2，但是H(key1)=H(key2)。</p>\n<p>​\t**同义词：**具有相同函数值的多个关键字。</p>\n<p>​\t<strong>All in all:  将元素通过一个函数转换为整数，使得该整数可以尽量唯一地代表这个元素</strong> 。</p>\n<p>​\t**需要解决的问题：**1. 哈希函数的构造。   2. 冲突解决的方法。</p>\n<h3 id=\"哈希函数构造方法\">哈希函数构造方法</h3>\n<p>​\t哈希函数应当易于计算，并且尽量使计算出来的索引均匀分布，以避免冲突。</p>\n<h4 id=\"直接定址法\">直接定址法</h4>\n<p>**概述：**直接取关键字的某个线性函数值为哈希函数。</p>\n<p>**哈希函数：**H(key) = key 或 H(key) = a*key + b   ( a和b为常数 )</p>\n<p>**特点：**计算简单，不会产生冲突，适合关键字分布连续的情况（若不连续，则存储空间浪费很多，空间效率低）。</p>\n<h4 id=\"除留余数法\">除留余数法</h4>\n<p>**概述：**指把key除以一个数mod得到的余数作为hash值的方法。当mod是一个质数时，H(key)能尽可能均匀覆盖每一个数。所以取mod为不大于表长Tsize但接近或等于表长的质数，<strong>即mod&lt;=Tsize且为质数</strong>。</p>\n<p>**哈希函数：**H(key) = key % mod</p>\n<p>**特点：**比较常用，关键在mod的选择，如何使得每个关键字通过该函数转换后等概率映射到散列空间的任一地址。</p>\n<h4 id=\"平方取中法\">平方取中法</h4>\n<p>**概述：**指取key的平方的中间若干位作为hash值的方法，不常用。</p>\n<p>**特点：**适合于关键字的每位取值都不够均匀或均小于散列地址所需位数。</p>\n<h3 id=\"处理冲突的方法\">处理冲突的方法</h3>\n<h4 id=\"开放定址法（开地址法）\">开放定址法（开地址法）</h4>\n<p>**基本思想：**有冲突时就去寻找下一个空的散列地址，只要散列表足够大，空的散列地址总能找到，并将数据元素存入。Hi = (H(key) + di) % Tsize (di为增量序列)   计算新的哈希值。</p>\n<h5 id=\"线性探查法\">线性探查法</h5>\n<p>​\tdi = 0, 1, 2, … , Tsize-1</p>\n<p>​\t发生冲突时，顺序表查看表中下一个元素，直到有空闲单元。会出现聚集现象，降低查询效率。</p>\n<h5 id=\"平方探查法\">平方探查法</h5>\n<p>​\tdi = 0² , +1² ,  -1² , +2² , -2² , … , +k² , -k²</p>\n<p>​\t不会出现聚集现象，不能探测所有单元，但至少能探测一半</p>\n<h5 id=\"伪随机探测法\">伪随机探测法</h5>\n<p>​\tdi = 伪随机数序列</p>\n<h4 id=\"链地址法（拉链法）\">链地址法（拉链法）</h4>\n<p>**基本思想：**和上边方法不同，链地址法不计算新的哈希值，而是把相同散列地址的记录链成一单链表。m个散列地址就设m个单链表，然后用一个数组将m个单链表的表头指针存储起来，形成一个动态的结构。</p>\n<p>**优点：**1. 非同义词不会冲突，无&quot;聚集&quot;现象。</p>\n<p>​\t   2. 链表上结点空间动态申请，更适合于表长不确定的情况（经常插入删除）。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/%E9%93%BE%E5%9C%B0%E5%9D%80%E6%B3%95.png\" style=\"zoom:50%;\" />\n<h3 id=\"哈希的查找及性能分析\">哈希的查找及性能分析</h3>\n<h4 id=\"查找过程\">查找过程</h4>\n<p>​\t检测由散列函数形成的地址上是否有记录，若无记录则失败； 若有记录比较关键字值，若相等则查找成功，否则散列函数更新增量值，重复执行。</p>\n<h4 id=\"性能分析\">性能分析</h4>\n<p>​\t在列表查找中，使用最广泛的二分查找算法，复杂度为O(log2n)，但其始终只能用于有序列表。普通无序列表只能采用遍历查找，复杂度为O(n)。而拥有较为理想的哈希函数实现的哈希表，对其任意元素的查找速度始终为常数级，即O(1)。  链地址法优于开放定址法，除留余数法作散列函数优于其它类型函数。</p>\n<p>**装填因子：**∂=表中记录数/散列表长度。平均查找长度直接依赖于装填因子大小。也就是说，装填因子大小会直接影响到查找效率。装填因子越大，发生冲突的可能性越大。</p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/ASL.png\" style=\"zoom:33%;\" />\n<p>​\t查找效率三个因素影响：哈希函数、装填因子、处理冲突方法。</p>\n"},{"title":"图论","date":"2025-03-08T07:41:07.000Z","updated":"2025-03-08T13:24:53.748Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp","_content":"\n## 图论\n\n图论是数学的一个分支，**以图为研究对象**。  图论中的“图”是一种抽象的数学结构，由**顶点**（点）和连接顶点的**边**（线）构成，用于描述事物之间特定的**关系**。\n\n*   **核心思想**:  用点代表事物，用连接两点的线表示事物之间的关系。\n\n**[Image of Example Graph with Vertices and Edges]**\n*图的例子：顶点和边*\n\n### 图的基本概念\n\n1.  **图 (Graph)**\n\n    一个图 G 由两个基本集合构成：\n\n    *   **顶点集 (Vertex Set) V(G):**  图中所有顶点的集合。 顶点通常用点、小圆圈或标签表示。\n    *   **边集 (Edge Set) E(G):**  图中所有边的集合。 边连接一对顶点，表示顶点之间的关系。 边通常用线段、曲线或箭头表示。\n\n    我们可以用数学符号表示一个图：  **G = (V, E)**\n\n2.  **顶点 (Vertex / Node / Point)**\n\n    *   图的基本组成部分，代表**研究对象**或**实体**。\n    *   **示例**:\n        *   在社交网络中，顶点可以代表 **人**。\n        *   在交通网络中，顶点可以代表 **城市**。\n        *   在电路图中，顶点可以代表 **电子元件**。\n\n3.  **边 (Edge / Arc / Line)**\n\n    *   连接两个顶点的线，表示顶点之间存在的**关系**。\n    *   **示例**:\n        *   在社交网络中，边可以表示两个人之间的 **朋友关系**。\n        *   在交通网络中，边可以表示两个城市之间的 **道路**。\n        *   在电路图中，边可以代表 **导线**。\n\n4.  **关联 (Incidence)**\n\n    *   如果一条边 *e* 连接了顶点 *u* 和 *v*，则称边 *e* 与顶点 *u* 和 *v* **关联**。\n    *   简单来说，就是边“连接到”哪些顶点。\n\n5.  **邻接 (Adjacency)**\n\n    *   **顶点邻接**: 如果两个顶点 *u* 和 *v* 被一条边直接连接，则称顶点 *u* 和 *v* 是**邻接的**。\n    *   **边邻接**: 如果两条边 **共享** 一个公共顶点，则称这两条边是**邻接的**。\n\n6.  **度 (Degree)**\n\n    *   一个顶点的**度**是指与该顶点**关联的边**的数量。  度反映了顶点与其他顶点的连接数量。\n\n    *   **有向图的度**:  对于有向图，度分为两种：\n        *   **入度 (In-degree)**:  指向该顶点的边的数量 (有多少边进入该顶点)。\n        *   **出度 (Out-degree)**:  从该顶点出发的边的数量 (有多少边从该顶点出发)。\n    \n7.  **路径 (Path)**\n\n    *   图中从一个顶点到另一个顶点，**依次经过**的顶点和边的序列。\n    *   路径中**通常不重复**经过顶点，除非是环路。\n\n8.  **环路/回路 (Cycle)**\n\n    *   一种特殊的路径，**起点和终点是同一个顶点**。\n    *   环路表示从一个点出发，可以回到原点的路径。\n\n9.  **简单路径 (Simple Path)**\n\n    *   路径中**所有顶点都不同**的路径。\n    *   简单路径避免了在路径中重复访问同一个顶点。\n\n10. **简单环路/简单回路 (Simple Cycle)**\n\n    *   环路中，除了起点和终点相同外，**所有其他顶点都不同**的环路。\n    *   简单环路是最基本的环路形式，避免了在环路中重复访问除起点/终点之外的顶点。\n\n### 图的类型\n\n#### **有向图 vs 无向图**\n\n*   **无向图**: 边 **没有方向**，表示连接的两个顶点是**互通的**。 通常用  **(v, w)**  表示顶点 *v* 和 *w* 之间的无向边。\n    \n*   **有向图**: 边 **有方向**，表示连接的两个顶点之间是**单向**关系。  通常用  **<v, w>**  表示从顶点 *v* 指向顶点 *w* 的有向边。\n\n#### **有权图 vs 无权图**\n\n*   **有权图**: 图的每条边都被赋予一个 **权重 (weight)**，通常是一个数字。 权重可以代表 **距离、成本、时间** 等实际含义。\n    \n*   **无权图**: 图的边 **没有权重**。 可以理解为所有边的权重都相同（例如权重为 1）。\n\n#### **连通图 vs 非连通图**\n\n*   **连通图 (针对无向图)**:  图中 **任意两个顶点之间都存在路径**。  这意味着从图中任何一个顶点出发，都可以到达其他任何顶点。\n    \n*   **非连通图 (针对无向图)**:  图中 **至少存在一对顶点之间没有路径**。  非连通图由多个互相独立的“部分”组成。\n    \n*   **连通分量 (Connected Component)**:  非连通图可以被划分成多个 **连通的子图**，每个这样的连通子图被称为一个 **连通分量**。 连通图自身只有一个连通分量，就是它本身。\n\n#### **强连通 vs 单连通**\n\n*   **强连通 (Strongly Connected)**:  **有向图** 中，**任意两个顶点之间都存在互相可达的路径**。  即从顶点 *u* 可以到达 *v*，同时从顶点 *v* 也可以到达 *u*。\n*   **单连通 (Unilaterally Connected)**: **有向图** 中，**任意两个顶点之间都存在至少一个方向可达的路径** （无需互相可达）。  即对于任意两个顶点 *u* 和 *v*，要么从 *u* 可以到达 *v*，要么从 *v* 可以到达 *u*，或者两者都成立。\n\n### 图的表示方法\n\n#### 邻接矩阵表示法\n\n邻接矩阵是一个二维数组，用于表示顶点之间的连接关系：\n\n- 对于无权图，矩阵元素 A[i\\]\\[j\\] = 1 表示顶点 i 和 j 之间有边相连，A[i\\]\\[j\\]= 0 表示没有边相连\n- 对于有权图，矩阵元素 A[i\\]\\[j\\]表示顶点 i 和 j 之间边的权值，通常用一个特殊值（如∞或0）表示不存在的边\n\n**优点**：\n\n- 实现简单，便于理解\n- 查询两点间是否有边的时间复杂度为 O(1)\n- 适合表示稠密图\n\n**缺点**：\n\n- 空间复杂度为 O(V²)，其中 V 是顶点数，对于稀疏图会浪费大量空间\n- 添加/删除顶点的操作较为复杂\n\n#### 邻接表表示法\n\n邻接表使用一个数组，数组的每个元素是一个链表，用于存储与该顶点相邻的所有顶点：\n\n- 数组索引 i 对应顶点 i\n- 链表中存储的是与顶点 i 相邻的所有顶点\n\n**优点**：\n\n- 节省空间，特别适合稀疏图\n- 容易找到给定顶点的所有邻接点\n- 添加顶点操作简单\n\n**缺点**：\n\n- 查询两点间是否有边的时间复杂度为 O(V)，不如邻接矩阵高效\n- 对有向图求逆邻接表较困难\n\n#### 十字链表表示法\n\n十字链表是邻接表的改进版本，主要用于有向图：\n\n- 结合了邻接表和逆邻接表的特点\n- 每个顶点有一个出边表和一个入边表\n- 每条边用一个结点表示，同时出现在起点的出边表和终点的入边表中\n\n**优点**：\n\n- 容易找到顶点的所有出边和入边\n- 适合需要频繁查询入度和出度的应用场景\n\n#### 邻接多重表\n\n邻接多重表主要用于无向图：\n\n- 每条边只存储一次\n- 每个顶点有一个边表\n- 每条边连接到与其关联的两个顶点的边表中\n\n**优点**：\n\n- 便于删除和查找特定边\n- 节省空间\n\n#### 边集数组表示法\n\n边集数组直接存储图中所有的边：\n\n- 使用一个一维数组存储所有顶点信息\n- 使用另一个数组存储所有边的信息（包括起点、终点和权值）\n\n**优点**：\n\n- 实现简单\n- 适合只关注边的操作，如最小生成树的Kruskal算法\n- 适合稀疏图\n\n**缺点**：\n\n- 查找操作效率较低\n- 不易找到与特定顶点相连的所有边\n\n选择哪种表示方法取决于图的特性（如稠密度）和需要执行的操作类型（如是否需要频繁查询、添加或删除顶点和边）。\n\n### 图的遍历方法\n\n#### DFS(深度优先搜索)\n\n深度优先搜索沿着图的深度尽可能远地探索，直到不能再深入为止，然后回溯到前一个节点，继续探索其他路径。\n\n##### 基本算法步骤\n\n1. 选择一个起始顶点，将其标记为已访问\n2. 对该顶点的每个未访问的邻接点，递归地应用DFS\n3. 如果当前顶点没有未访问的邻接点，则回溯\n\n##### 时间复杂度与空间复杂度\n\n- 时间复杂度：O(V + E)\n- 空间复杂度：O(V)\n\n##### 应用场景\n\n- 拓扑排序\n- 寻找连通分量\n- 判断图中是否有环\n- 寻找路径（如迷宫问题）\n\n#### BFS(广度优先搜索)\n\n广度优先搜索是一种按\"层次\"访问节点的方法，先访问起始顶点的所有邻接点，然后再访问这些邻接点的邻接点，以此类推。\n\n##### 基本算法步骤\n\n1. 选择一个起始顶点，将其标记为已访问，并放入队列中\n2. 当队列不为空时，执行以下操作：\n   - 取出队列中的第一个顶点u\n   - 访问顶点u\n   - 将u的所有未访问过的邻接点标记为已访问并加入队列\n\n##### 时间复杂度与空间复杂度\n\n- 时间复杂度：O(V + E)，其中V是顶点数，E是边数\n- 空间复杂度：O(V)，用于存储访问状态和队列\n\n##### 应用场景\n\n- 寻找最短路径（无权图）\n- 网络爬虫\n- 社交网络中的关系距离（如\"六度分隔\"理论）\n- 层次遍历\n\n### 图的应用\n\n#### 最小生成树算法\n\n`无向图` G 的生成树是具有 G 的全部顶点，但`边数最少`的`连通子图`（连通子图并非连通分量）。一个图的生成树可能有多个。\n\n##### Kruskal算法\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250308182616583.gif\" style=\"zoom:50%;\" />\n\n- **思想**：贪心策略，每次选择图中权值最小的边，加入生成树中（前提是不形成环）。\n- 步骤：\n  1. 对所有边按照权值进行排序。\n  2. 依次从小到大考虑每条边，如果当前边加入后不构成环，则加入生成树。\n  3. 重复直到生成树中包含 n−1 条边。\n- **特点**：适合边比较少的稀疏图，利用并查集来判断是否形成环。\n\n##### Prim算法\n\n- **思想**：贪心策略，从一个起始顶点开始，每次选择与当前生成树相连的、权值最小的边，将新的顶点加入生成树。\n- 步骤：\n  1. 从任一顶点开始，将其加入生成树。\n  2. 找出所有与当前生成树相连的边，选择其中权值最小的边，将边的另一端顶点加入生成树。\n  3. 重复直到所有顶点都被加入生成树。\n- **特点**：适合边较多的稠密图，通过优先队列（堆）优化可以达到较高效率。\n\n#### 最短路径算法\n\n##### Dijkstra算法\n\n从起点开始，每次选择当前已知最短距离的顶点，然后更新与它相邻的顶点的距离。\n\n**基本流程**\n\n1. 初始化：源点距离设为0，其他顶点距离设为无穷大\n2. 每次选择未访问的距离最小的顶点，标记为已访问\n3. 更新该顶点的邻居顶点的距离\n4. 重复步骤2-3直到所有顶点被访问\n\n**算法复杂度**\n\n- 时间复杂度：O(V²)，其中V是顶点数。如果使用优先队列优化，可以降低到O((V+E)logV)，其中E是边数。\n- 空间复杂度：O(V)\n\n**算法的局限性**\n\n1. 迪杰斯特拉算法不能处理负权边\n2. 在稠密图中，性能可能不如其他算法（如贝尔曼-福特算法）\n\n**应用场景**\n\n- 导航系统\n- 网络路由协议\n- 社交网络分析\n- 电信网络规划\n\n##### Floyd-Warshall算法\n\n对于两个顶点i和j之间的最短路径，考虑是否存在一个中间顶点k，使得从i到k再到j的路径比直接从i到j的路径更短。算法通过三重循环遍历所有可能的中间顶点，不断更新距离矩阵。\n\n**基本流程**\n\n1. 初始化一个距离矩阵，矩阵中元素dist[i\\][j\\]表示从顶点i到j的直接距离。如果i和j之间没有直接连接，则设为无穷大\n2. 对于每一个顶点k，检查所有顶点对(i,j)\n3. 对于每一个顶点对(i,j)，如果dist[i\\][k\\] + dist[k\\][j\\] < dist[i\\][j\\]，则更新dist[i\\][j\\]的值\n4. 重复步骤2和3，直到遍历完所有顶点\n\n**算法复杂度**\n\n- 时间复杂度：O(V³)，其中V是顶点数\n- 空间复杂度：O(V²)\n\n**与迪杰斯特拉算法的比较**\n\n1. **范围不同**：迪杰斯特拉是单源最短路径算法，而弗洛伊德是全源最短路径算法\n2. **适用场景**：\n   - 对于稀疏图，运行V次迪杰斯特拉算法更高效\n   - 对于稠密图，弗洛伊德算法更优\n3. **负权边处理**：弗洛伊德可以处理负权边，但两者都不能处理负权环\n\n**算法优势**\n\n1. 实现简单，代码简洁\n2. 可以处理有向图和负权边（但不能有负权环）\n3. 一次运行可以得到所有顶点对之间的最短路径\n\n**应用场景**\n\n- 网络路由算法\n- 交通规划\n- 寻找图中的传递闭包\n- 计算最大流问题\n\n##### A*算法\n\nA*算法是一种启发式搜索算法，常用于路径规划问题。\n\n- 结合了Dijkstra算法和启发式搜索的优点\n- 使用估价函数指导搜索方向\n- 在有好的启发函数时效率很高\n\n**基本流程**\n\n1. 初始化：起点放入开放列表\n2. 每次从开放列表中选择f值最小的节点n\n3. 如果n是目标节点，算法结束\n4. 否则，将n移到关闭列表，并检查所有邻居节点\n5. 对于每个邻居，计算经过n的路径长度g和估计总长度f=g+h\n6. 更新邻居节点信息并加入开放列表\n7. 重复步骤2-6直到找到目标或开放列表为空\n\n#### 拓扑排序 \n\n拓扑排序是一种对有向无环图 (DAG, Directed Acyclic Graph) 中顶点进行线性排序的算法，使得对于图中的每一条有向边 (u, v)，顶点 u 在排序中都出现在顶点 v 之前。拓扑排序常用于表示具有依赖关系的任务调度问题。\n\n**算法原理**\n\n每次选择入度为0的顶点（即没有前驱顶点的顶点），将其输出，然后删除该顶点及其所有出边，重复此过程直到图为空或无法找到入度为0的顶点。\n\n**时间复杂度与空间复杂度**\n\n- **时间复杂度**: O(V + E)，其中V是顶点数，E是边数\n- **空间复杂度**: O(V)，需要存储顶点的访问状态和结果\n\n**特性和局限性**\n\n1. **唯一性**: 拓扑排序的结果通常不唯一，可能有多种合法的排序方式\n2. **环检测**: 如果图中存在环，则无法进行拓扑排序\n3. **适用范围**: 只适用于有向无环图（DAG）\n4. **初始点要求**: 至少有一个顶点的入度为0，否则无法开始排序\n","source":"_posts/图论.md","raw":"---\ntitle: 图论\ndate: 2025-03-08 15:41:07\ntags: [数据结构与算法,图论]\ncategories: [学习,数据结构与算法,基础知识]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp\n---\n\n## 图论\n\n图论是数学的一个分支，**以图为研究对象**。  图论中的“图”是一种抽象的数学结构，由**顶点**（点）和连接顶点的**边**（线）构成，用于描述事物之间特定的**关系**。\n\n*   **核心思想**:  用点代表事物，用连接两点的线表示事物之间的关系。\n\n**[Image of Example Graph with Vertices and Edges]**\n*图的例子：顶点和边*\n\n### 图的基本概念\n\n1.  **图 (Graph)**\n\n    一个图 G 由两个基本集合构成：\n\n    *   **顶点集 (Vertex Set) V(G):**  图中所有顶点的集合。 顶点通常用点、小圆圈或标签表示。\n    *   **边集 (Edge Set) E(G):**  图中所有边的集合。 边连接一对顶点，表示顶点之间的关系。 边通常用线段、曲线或箭头表示。\n\n    我们可以用数学符号表示一个图：  **G = (V, E)**\n\n2.  **顶点 (Vertex / Node / Point)**\n\n    *   图的基本组成部分，代表**研究对象**或**实体**。\n    *   **示例**:\n        *   在社交网络中，顶点可以代表 **人**。\n        *   在交通网络中，顶点可以代表 **城市**。\n        *   在电路图中，顶点可以代表 **电子元件**。\n\n3.  **边 (Edge / Arc / Line)**\n\n    *   连接两个顶点的线，表示顶点之间存在的**关系**。\n    *   **示例**:\n        *   在社交网络中，边可以表示两个人之间的 **朋友关系**。\n        *   在交通网络中，边可以表示两个城市之间的 **道路**。\n        *   在电路图中，边可以代表 **导线**。\n\n4.  **关联 (Incidence)**\n\n    *   如果一条边 *e* 连接了顶点 *u* 和 *v*，则称边 *e* 与顶点 *u* 和 *v* **关联**。\n    *   简单来说，就是边“连接到”哪些顶点。\n\n5.  **邻接 (Adjacency)**\n\n    *   **顶点邻接**: 如果两个顶点 *u* 和 *v* 被一条边直接连接，则称顶点 *u* 和 *v* 是**邻接的**。\n    *   **边邻接**: 如果两条边 **共享** 一个公共顶点，则称这两条边是**邻接的**。\n\n6.  **度 (Degree)**\n\n    *   一个顶点的**度**是指与该顶点**关联的边**的数量。  度反映了顶点与其他顶点的连接数量。\n\n    *   **有向图的度**:  对于有向图，度分为两种：\n        *   **入度 (In-degree)**:  指向该顶点的边的数量 (有多少边进入该顶点)。\n        *   **出度 (Out-degree)**:  从该顶点出发的边的数量 (有多少边从该顶点出发)。\n    \n7.  **路径 (Path)**\n\n    *   图中从一个顶点到另一个顶点，**依次经过**的顶点和边的序列。\n    *   路径中**通常不重复**经过顶点，除非是环路。\n\n8.  **环路/回路 (Cycle)**\n\n    *   一种特殊的路径，**起点和终点是同一个顶点**。\n    *   环路表示从一个点出发，可以回到原点的路径。\n\n9.  **简单路径 (Simple Path)**\n\n    *   路径中**所有顶点都不同**的路径。\n    *   简单路径避免了在路径中重复访问同一个顶点。\n\n10. **简单环路/简单回路 (Simple Cycle)**\n\n    *   环路中，除了起点和终点相同外，**所有其他顶点都不同**的环路。\n    *   简单环路是最基本的环路形式，避免了在环路中重复访问除起点/终点之外的顶点。\n\n### 图的类型\n\n#### **有向图 vs 无向图**\n\n*   **无向图**: 边 **没有方向**，表示连接的两个顶点是**互通的**。 通常用  **(v, w)**  表示顶点 *v* 和 *w* 之间的无向边。\n    \n*   **有向图**: 边 **有方向**，表示连接的两个顶点之间是**单向**关系。  通常用  **<v, w>**  表示从顶点 *v* 指向顶点 *w* 的有向边。\n\n#### **有权图 vs 无权图**\n\n*   **有权图**: 图的每条边都被赋予一个 **权重 (weight)**，通常是一个数字。 权重可以代表 **距离、成本、时间** 等实际含义。\n    \n*   **无权图**: 图的边 **没有权重**。 可以理解为所有边的权重都相同（例如权重为 1）。\n\n#### **连通图 vs 非连通图**\n\n*   **连通图 (针对无向图)**:  图中 **任意两个顶点之间都存在路径**。  这意味着从图中任何一个顶点出发，都可以到达其他任何顶点。\n    \n*   **非连通图 (针对无向图)**:  图中 **至少存在一对顶点之间没有路径**。  非连通图由多个互相独立的“部分”组成。\n    \n*   **连通分量 (Connected Component)**:  非连通图可以被划分成多个 **连通的子图**，每个这样的连通子图被称为一个 **连通分量**。 连通图自身只有一个连通分量，就是它本身。\n\n#### **强连通 vs 单连通**\n\n*   **强连通 (Strongly Connected)**:  **有向图** 中，**任意两个顶点之间都存在互相可达的路径**。  即从顶点 *u* 可以到达 *v*，同时从顶点 *v* 也可以到达 *u*。\n*   **单连通 (Unilaterally Connected)**: **有向图** 中，**任意两个顶点之间都存在至少一个方向可达的路径** （无需互相可达）。  即对于任意两个顶点 *u* 和 *v*，要么从 *u* 可以到达 *v*，要么从 *v* 可以到达 *u*，或者两者都成立。\n\n### 图的表示方法\n\n#### 邻接矩阵表示法\n\n邻接矩阵是一个二维数组，用于表示顶点之间的连接关系：\n\n- 对于无权图，矩阵元素 A[i\\]\\[j\\] = 1 表示顶点 i 和 j 之间有边相连，A[i\\]\\[j\\]= 0 表示没有边相连\n- 对于有权图，矩阵元素 A[i\\]\\[j\\]表示顶点 i 和 j 之间边的权值，通常用一个特殊值（如∞或0）表示不存在的边\n\n**优点**：\n\n- 实现简单，便于理解\n- 查询两点间是否有边的时间复杂度为 O(1)\n- 适合表示稠密图\n\n**缺点**：\n\n- 空间复杂度为 O(V²)，其中 V 是顶点数，对于稀疏图会浪费大量空间\n- 添加/删除顶点的操作较为复杂\n\n#### 邻接表表示法\n\n邻接表使用一个数组，数组的每个元素是一个链表，用于存储与该顶点相邻的所有顶点：\n\n- 数组索引 i 对应顶点 i\n- 链表中存储的是与顶点 i 相邻的所有顶点\n\n**优点**：\n\n- 节省空间，特别适合稀疏图\n- 容易找到给定顶点的所有邻接点\n- 添加顶点操作简单\n\n**缺点**：\n\n- 查询两点间是否有边的时间复杂度为 O(V)，不如邻接矩阵高效\n- 对有向图求逆邻接表较困难\n\n#### 十字链表表示法\n\n十字链表是邻接表的改进版本，主要用于有向图：\n\n- 结合了邻接表和逆邻接表的特点\n- 每个顶点有一个出边表和一个入边表\n- 每条边用一个结点表示，同时出现在起点的出边表和终点的入边表中\n\n**优点**：\n\n- 容易找到顶点的所有出边和入边\n- 适合需要频繁查询入度和出度的应用场景\n\n#### 邻接多重表\n\n邻接多重表主要用于无向图：\n\n- 每条边只存储一次\n- 每个顶点有一个边表\n- 每条边连接到与其关联的两个顶点的边表中\n\n**优点**：\n\n- 便于删除和查找特定边\n- 节省空间\n\n#### 边集数组表示法\n\n边集数组直接存储图中所有的边：\n\n- 使用一个一维数组存储所有顶点信息\n- 使用另一个数组存储所有边的信息（包括起点、终点和权值）\n\n**优点**：\n\n- 实现简单\n- 适合只关注边的操作，如最小生成树的Kruskal算法\n- 适合稀疏图\n\n**缺点**：\n\n- 查找操作效率较低\n- 不易找到与特定顶点相连的所有边\n\n选择哪种表示方法取决于图的特性（如稠密度）和需要执行的操作类型（如是否需要频繁查询、添加或删除顶点和边）。\n\n### 图的遍历方法\n\n#### DFS(深度优先搜索)\n\n深度优先搜索沿着图的深度尽可能远地探索，直到不能再深入为止，然后回溯到前一个节点，继续探索其他路径。\n\n##### 基本算法步骤\n\n1. 选择一个起始顶点，将其标记为已访问\n2. 对该顶点的每个未访问的邻接点，递归地应用DFS\n3. 如果当前顶点没有未访问的邻接点，则回溯\n\n##### 时间复杂度与空间复杂度\n\n- 时间复杂度：O(V + E)\n- 空间复杂度：O(V)\n\n##### 应用场景\n\n- 拓扑排序\n- 寻找连通分量\n- 判断图中是否有环\n- 寻找路径（如迷宫问题）\n\n#### BFS(广度优先搜索)\n\n广度优先搜索是一种按\"层次\"访问节点的方法，先访问起始顶点的所有邻接点，然后再访问这些邻接点的邻接点，以此类推。\n\n##### 基本算法步骤\n\n1. 选择一个起始顶点，将其标记为已访问，并放入队列中\n2. 当队列不为空时，执行以下操作：\n   - 取出队列中的第一个顶点u\n   - 访问顶点u\n   - 将u的所有未访问过的邻接点标记为已访问并加入队列\n\n##### 时间复杂度与空间复杂度\n\n- 时间复杂度：O(V + E)，其中V是顶点数，E是边数\n- 空间复杂度：O(V)，用于存储访问状态和队列\n\n##### 应用场景\n\n- 寻找最短路径（无权图）\n- 网络爬虫\n- 社交网络中的关系距离（如\"六度分隔\"理论）\n- 层次遍历\n\n### 图的应用\n\n#### 最小生成树算法\n\n`无向图` G 的生成树是具有 G 的全部顶点，但`边数最少`的`连通子图`（连通子图并非连通分量）。一个图的生成树可能有多个。\n\n##### Kruskal算法\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250308182616583.gif\" style=\"zoom:50%;\" />\n\n- **思想**：贪心策略，每次选择图中权值最小的边，加入生成树中（前提是不形成环）。\n- 步骤：\n  1. 对所有边按照权值进行排序。\n  2. 依次从小到大考虑每条边，如果当前边加入后不构成环，则加入生成树。\n  3. 重复直到生成树中包含 n−1 条边。\n- **特点**：适合边比较少的稀疏图，利用并查集来判断是否形成环。\n\n##### Prim算法\n\n- **思想**：贪心策略，从一个起始顶点开始，每次选择与当前生成树相连的、权值最小的边，将新的顶点加入生成树。\n- 步骤：\n  1. 从任一顶点开始，将其加入生成树。\n  2. 找出所有与当前生成树相连的边，选择其中权值最小的边，将边的另一端顶点加入生成树。\n  3. 重复直到所有顶点都被加入生成树。\n- **特点**：适合边较多的稠密图，通过优先队列（堆）优化可以达到较高效率。\n\n#### 最短路径算法\n\n##### Dijkstra算法\n\n从起点开始，每次选择当前已知最短距离的顶点，然后更新与它相邻的顶点的距离。\n\n**基本流程**\n\n1. 初始化：源点距离设为0，其他顶点距离设为无穷大\n2. 每次选择未访问的距离最小的顶点，标记为已访问\n3. 更新该顶点的邻居顶点的距离\n4. 重复步骤2-3直到所有顶点被访问\n\n**算法复杂度**\n\n- 时间复杂度：O(V²)，其中V是顶点数。如果使用优先队列优化，可以降低到O((V+E)logV)，其中E是边数。\n- 空间复杂度：O(V)\n\n**算法的局限性**\n\n1. 迪杰斯特拉算法不能处理负权边\n2. 在稠密图中，性能可能不如其他算法（如贝尔曼-福特算法）\n\n**应用场景**\n\n- 导航系统\n- 网络路由协议\n- 社交网络分析\n- 电信网络规划\n\n##### Floyd-Warshall算法\n\n对于两个顶点i和j之间的最短路径，考虑是否存在一个中间顶点k，使得从i到k再到j的路径比直接从i到j的路径更短。算法通过三重循环遍历所有可能的中间顶点，不断更新距离矩阵。\n\n**基本流程**\n\n1. 初始化一个距离矩阵，矩阵中元素dist[i\\][j\\]表示从顶点i到j的直接距离。如果i和j之间没有直接连接，则设为无穷大\n2. 对于每一个顶点k，检查所有顶点对(i,j)\n3. 对于每一个顶点对(i,j)，如果dist[i\\][k\\] + dist[k\\][j\\] < dist[i\\][j\\]，则更新dist[i\\][j\\]的值\n4. 重复步骤2和3，直到遍历完所有顶点\n\n**算法复杂度**\n\n- 时间复杂度：O(V³)，其中V是顶点数\n- 空间复杂度：O(V²)\n\n**与迪杰斯特拉算法的比较**\n\n1. **范围不同**：迪杰斯特拉是单源最短路径算法，而弗洛伊德是全源最短路径算法\n2. **适用场景**：\n   - 对于稀疏图，运行V次迪杰斯特拉算法更高效\n   - 对于稠密图，弗洛伊德算法更优\n3. **负权边处理**：弗洛伊德可以处理负权边，但两者都不能处理负权环\n\n**算法优势**\n\n1. 实现简单，代码简洁\n2. 可以处理有向图和负权边（但不能有负权环）\n3. 一次运行可以得到所有顶点对之间的最短路径\n\n**应用场景**\n\n- 网络路由算法\n- 交通规划\n- 寻找图中的传递闭包\n- 计算最大流问题\n\n##### A*算法\n\nA*算法是一种启发式搜索算法，常用于路径规划问题。\n\n- 结合了Dijkstra算法和启发式搜索的优点\n- 使用估价函数指导搜索方向\n- 在有好的启发函数时效率很高\n\n**基本流程**\n\n1. 初始化：起点放入开放列表\n2. 每次从开放列表中选择f值最小的节点n\n3. 如果n是目标节点，算法结束\n4. 否则，将n移到关闭列表，并检查所有邻居节点\n5. 对于每个邻居，计算经过n的路径长度g和估计总长度f=g+h\n6. 更新邻居节点信息并加入开放列表\n7. 重复步骤2-6直到找到目标或开放列表为空\n\n#### 拓扑排序 \n\n拓扑排序是一种对有向无环图 (DAG, Directed Acyclic Graph) 中顶点进行线性排序的算法，使得对于图中的每一条有向边 (u, v)，顶点 u 在排序中都出现在顶点 v 之前。拓扑排序常用于表示具有依赖关系的任务调度问题。\n\n**算法原理**\n\n每次选择入度为0的顶点（即没有前驱顶点的顶点），将其输出，然后删除该顶点及其所有出边，重复此过程直到图为空或无法找到入度为0的顶点。\n\n**时间复杂度与空间复杂度**\n\n- **时间复杂度**: O(V + E)，其中V是顶点数，E是边数\n- **空间复杂度**: O(V)，需要存储顶点的访问状态和结果\n\n**特性和局限性**\n\n1. **唯一性**: 拓扑排序的结果通常不唯一，可能有多种合法的排序方式\n2. **环检测**: 如果图中存在环，则无法进行拓扑排序\n3. **适用范围**: 只适用于有向无环图（DAG）\n4. **初始点要求**: 至少有一个顶点的入度为0，否则无法开始排序\n","slug":"图论","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamiw003b1swmgsu99vhy","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"图论\">图论</h2>\n<p>图论是数学的一个分支，<strong>以图为研究对象</strong>。  图论中的“图”是一种抽象的数学结构，由<strong>顶点</strong>（点）和连接顶点的<strong>边</strong>（线）构成，用于描述事物之间特定的<strong>关系</strong>。</p>\n<ul>\n<li><strong>核心思想</strong>:  用点代表事物，用连接两点的线表示事物之间的关系。</li>\n</ul>\n<p><strong>[Image of Example Graph with Vertices and Edges]</strong><br>\n<em>图的例子：顶点和边</em></p>\n<h3 id=\"图的基本概念\">图的基本概念</h3>\n<ol>\n<li>\n<p><strong>图 (Graph)</strong></p>\n<p>一个图 G 由两个基本集合构成：</p>\n<ul>\n<li><strong>顶点集 (Vertex Set) V(G):</strong>  图中所有顶点的集合。 顶点通常用点、小圆圈或标签表示。</li>\n<li><strong>边集 (Edge Set) E(G):</strong>  图中所有边的集合。 边连接一对顶点，表示顶点之间的关系。 边通常用线段、曲线或箭头表示。</li>\n</ul>\n<p>我们可以用数学符号表示一个图：  <strong>G = (V, E)</strong></p>\n</li>\n<li>\n<p><strong>顶点 (Vertex / Node / Point)</strong></p>\n<ul>\n<li>图的基本组成部分，代表<strong>研究对象</strong>或<strong>实体</strong>。</li>\n<li><strong>示例</strong>:\n<ul>\n<li>在社交网络中，顶点可以代表 <strong>人</strong>。</li>\n<li>在交通网络中，顶点可以代表 <strong>城市</strong>。</li>\n<li>在电路图中，顶点可以代表 <strong>电子元件</strong>。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>边 (Edge / Arc / Line)</strong></p>\n<ul>\n<li>连接两个顶点的线，表示顶点之间存在的<strong>关系</strong>。</li>\n<li><strong>示例</strong>:\n<ul>\n<li>在社交网络中，边可以表示两个人之间的 <strong>朋友关系</strong>。</li>\n<li>在交通网络中，边可以表示两个城市之间的 <strong>道路</strong>。</li>\n<li>在电路图中，边可以代表 <strong>导线</strong>。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>关联 (Incidence)</strong></p>\n<ul>\n<li>如果一条边 <em>e</em> 连接了顶点 <em>u</em> 和 <em>v</em>，则称边 <em>e</em> 与顶点 <em>u</em> 和 <em>v</em> <strong>关联</strong>。</li>\n<li>简单来说，就是边“连接到”哪些顶点。</li>\n</ul>\n</li>\n<li>\n<p><strong>邻接 (Adjacency)</strong></p>\n<ul>\n<li><strong>顶点邻接</strong>: 如果两个顶点 <em>u</em> 和 <em>v</em> 被一条边直接连接，则称顶点 <em>u</em> 和 <em>v</em> 是<strong>邻接的</strong>。</li>\n<li><strong>边邻接</strong>: 如果两条边 <strong>共享</strong> 一个公共顶点，则称这两条边是<strong>邻接的</strong>。</li>\n</ul>\n</li>\n<li>\n<p><strong>度 (Degree)</strong></p>\n<ul>\n<li>\n<p>一个顶点的<strong>度</strong>是指与该顶点<strong>关联的边</strong>的数量。  度反映了顶点与其他顶点的连接数量。</p>\n</li>\n<li>\n<p><strong>有向图的度</strong>:  对于有向图，度分为两种：</p>\n<ul>\n<li><strong>入度 (In-degree)</strong>:  指向该顶点的边的数量 (有多少边进入该顶点)。</li>\n<li><strong>出度 (Out-degree)</strong>:  从该顶点出发的边的数量 (有多少边从该顶点出发)。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>路径 (Path)</strong></p>\n<ul>\n<li>图中从一个顶点到另一个顶点，<strong>依次经过</strong>的顶点和边的序列。</li>\n<li>路径中<strong>通常不重复</strong>经过顶点，除非是环路。</li>\n</ul>\n</li>\n<li>\n<p><strong>环路/回路 (Cycle)</strong></p>\n<ul>\n<li>一种特殊的路径，<strong>起点和终点是同一个顶点</strong>。</li>\n<li>环路表示从一个点出发，可以回到原点的路径。</li>\n</ul>\n</li>\n<li>\n<p><strong>简单路径 (Simple Path)</strong></p>\n<ul>\n<li>路径中<strong>所有顶点都不同</strong>的路径。</li>\n<li>简单路径避免了在路径中重复访问同一个顶点。</li>\n</ul>\n</li>\n<li>\n<p><strong>简单环路/简单回路 (Simple Cycle)</strong></p>\n<ul>\n<li>环路中，除了起点和终点相同外，<strong>所有其他顶点都不同</strong>的环路。</li>\n<li>简单环路是最基本的环路形式，避免了在环路中重复访问除起点/终点之外的顶点。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"图的类型\">图的类型</h3>\n<h4 id=\"有向图-vs-无向图\"><strong>有向图 vs 无向图</strong></h4>\n<ul>\n<li>\n<p><strong>无向图</strong>: 边 <strong>没有方向</strong>，表示连接的两个顶点是<strong>互通的</strong>。 通常用  <strong>(v, w)</strong>  表示顶点 <em>v</em> 和 <em>w</em> 之间的无向边。</p>\n</li>\n<li>\n<p><strong>有向图</strong>: 边 <strong>有方向</strong>，表示连接的两个顶点之间是<strong>单向</strong>关系。  通常用  <strong>&lt;v, w&gt;</strong>  表示从顶点 <em>v</em> 指向顶点 <em>w</em> 的有向边。</p>\n</li>\n</ul>\n<h4 id=\"有权图-vs-无权图\"><strong>有权图 vs 无权图</strong></h4>\n<ul>\n<li>\n<p><strong>有权图</strong>: 图的每条边都被赋予一个 <strong>权重 (weight)</strong>，通常是一个数字。 权重可以代表 <strong>距离、成本、时间</strong> 等实际含义。</p>\n</li>\n<li>\n<p><strong>无权图</strong>: 图的边 <strong>没有权重</strong>。 可以理解为所有边的权重都相同（例如权重为 1）。</p>\n</li>\n</ul>\n<h4 id=\"连通图-vs-非连通图\"><strong>连通图 vs 非连通图</strong></h4>\n<ul>\n<li>\n<p><strong>连通图 (针对无向图)</strong>:  图中 <strong>任意两个顶点之间都存在路径</strong>。  这意味着从图中任何一个顶点出发，都可以到达其他任何顶点。</p>\n</li>\n<li>\n<p><strong>非连通图 (针对无向图)</strong>:  图中 <strong>至少存在一对顶点之间没有路径</strong>。  非连通图由多个互相独立的“部分”组成。</p>\n</li>\n<li>\n<p><strong>连通分量 (Connected Component)</strong>:  非连通图可以被划分成多个 <strong>连通的子图</strong>，每个这样的连通子图被称为一个 <strong>连通分量</strong>。 连通图自身只有一个连通分量，就是它本身。</p>\n</li>\n</ul>\n<h4 id=\"强连通-vs-单连通\"><strong>强连通 vs 单连通</strong></h4>\n<ul>\n<li><strong>强连通 (Strongly Connected)</strong>:  <strong>有向图</strong> 中，<strong>任意两个顶点之间都存在互相可达的路径</strong>。  即从顶点 <em>u</em> 可以到达 <em>v</em>，同时从顶点 <em>v</em> 也可以到达 <em>u</em>。</li>\n<li><strong>单连通 (Unilaterally Connected)</strong>: <strong>有向图</strong> 中，<strong>任意两个顶点之间都存在至少一个方向可达的路径</strong> （无需互相可达）。  即对于任意两个顶点 <em>u</em> 和 <em>v</em>，要么从 <em>u</em> 可以到达 <em>v</em>，要么从 <em>v</em> 可以到达 <em>u</em>，或者两者都成立。</li>\n</ul>\n<h3 id=\"图的表示方法\">图的表示方法</h3>\n<h4 id=\"邻接矩阵表示法\">邻接矩阵表示法</h4>\n<p>邻接矩阵是一个二维数组，用于表示顶点之间的连接关系：</p>\n<ul>\n<li>对于无权图，矩阵元素 A[i][j] = 1 表示顶点 i 和 j 之间有边相连，A[i][j]= 0 表示没有边相连</li>\n<li>对于有权图，矩阵元素 A[i][j]表示顶点 i 和 j 之间边的权值，通常用一个特殊值（如∞或0）表示不存在的边</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>实现简单，便于理解</li>\n<li>查询两点间是否有边的时间复杂度为 O(1)</li>\n<li>适合表示稠密图</li>\n</ul>\n<p><strong>缺点</strong>：</p>\n<ul>\n<li>空间复杂度为 O(V²)，其中 V 是顶点数，对于稀疏图会浪费大量空间</li>\n<li>添加/删除顶点的操作较为复杂</li>\n</ul>\n<h4 id=\"邻接表表示法\">邻接表表示法</h4>\n<p>邻接表使用一个数组，数组的每个元素是一个链表，用于存储与该顶点相邻的所有顶点：</p>\n<ul>\n<li>数组索引 i 对应顶点 i</li>\n<li>链表中存储的是与顶点 i 相邻的所有顶点</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>节省空间，特别适合稀疏图</li>\n<li>容易找到给定顶点的所有邻接点</li>\n<li>添加顶点操作简单</li>\n</ul>\n<p><strong>缺点</strong>：</p>\n<ul>\n<li>查询两点间是否有边的时间复杂度为 O(V)，不如邻接矩阵高效</li>\n<li>对有向图求逆邻接表较困难</li>\n</ul>\n<h4 id=\"十字链表表示法\">十字链表表示法</h4>\n<p>十字链表是邻接表的改进版本，主要用于有向图：</p>\n<ul>\n<li>结合了邻接表和逆邻接表的特点</li>\n<li>每个顶点有一个出边表和一个入边表</li>\n<li>每条边用一个结点表示，同时出现在起点的出边表和终点的入边表中</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>容易找到顶点的所有出边和入边</li>\n<li>适合需要频繁查询入度和出度的应用场景</li>\n</ul>\n<h4 id=\"邻接多重表\">邻接多重表</h4>\n<p>邻接多重表主要用于无向图：</p>\n<ul>\n<li>每条边只存储一次</li>\n<li>每个顶点有一个边表</li>\n<li>每条边连接到与其关联的两个顶点的边表中</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>便于删除和查找特定边</li>\n<li>节省空间</li>\n</ul>\n<h4 id=\"边集数组表示法\">边集数组表示法</h4>\n<p>边集数组直接存储图中所有的边：</p>\n<ul>\n<li>使用一个一维数组存储所有顶点信息</li>\n<li>使用另一个数组存储所有边的信息（包括起点、终点和权值）</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>实现简单</li>\n<li>适合只关注边的操作，如最小生成树的Kruskal算法</li>\n<li>适合稀疏图</li>\n</ul>\n<p><strong>缺点</strong>：</p>\n<ul>\n<li>查找操作效率较低</li>\n<li>不易找到与特定顶点相连的所有边</li>\n</ul>\n<p>选择哪种表示方法取决于图的特性（如稠密度）和需要执行的操作类型（如是否需要频繁查询、添加或删除顶点和边）。</p>\n<h3 id=\"图的遍历方法\">图的遍历方法</h3>\n<h4 id=\"DFS-深度优先搜索\">DFS(深度优先搜索)</h4>\n<p>深度优先搜索沿着图的深度尽可能远地探索，直到不能再深入为止，然后回溯到前一个节点，继续探索其他路径。</p>\n<h5 id=\"基本算法步骤\">基本算法步骤</h5>\n<ol>\n<li>选择一个起始顶点，将其标记为已访问</li>\n<li>对该顶点的每个未访问的邻接点，递归地应用DFS</li>\n<li>如果当前顶点没有未访问的邻接点，则回溯</li>\n</ol>\n<h5 id=\"时间复杂度与空间复杂度\">时间复杂度与空间复杂度</h5>\n<ul>\n<li>时间复杂度：O(V + E)</li>\n<li>空间复杂度：O(V)</li>\n</ul>\n<h5 id=\"应用场景\">应用场景</h5>\n<ul>\n<li>拓扑排序</li>\n<li>寻找连通分量</li>\n<li>判断图中是否有环</li>\n<li>寻找路径（如迷宫问题）</li>\n</ul>\n<h4 id=\"BFS-广度优先搜索\">BFS(广度优先搜索)</h4>\n<p>广度优先搜索是一种按&quot;层次&quot;访问节点的方法，先访问起始顶点的所有邻接点，然后再访问这些邻接点的邻接点，以此类推。</p>\n<h5 id=\"基本算法步骤-2\">基本算法步骤</h5>\n<ol>\n<li>选择一个起始顶点，将其标记为已访问，并放入队列中</li>\n<li>当队列不为空时，执行以下操作：\n<ul>\n<li>取出队列中的第一个顶点u</li>\n<li>访问顶点u</li>\n<li>将u的所有未访问过的邻接点标记为已访问并加入队列</li>\n</ul>\n</li>\n</ol>\n<h5 id=\"时间复杂度与空间复杂度-2\">时间复杂度与空间复杂度</h5>\n<ul>\n<li>时间复杂度：O(V + E)，其中V是顶点数，E是边数</li>\n<li>空间复杂度：O(V)，用于存储访问状态和队列</li>\n</ul>\n<h5 id=\"应用场景-2\">应用场景</h5>\n<ul>\n<li>寻找最短路径（无权图）</li>\n<li>网络爬虫</li>\n<li>社交网络中的关系距离（如&quot;六度分隔&quot;理论）</li>\n<li>层次遍历</li>\n</ul>\n<h3 id=\"图的应用\">图的应用</h3>\n<h4 id=\"最小生成树算法\">最小生成树算法</h4>\n<p><code>无向图</code> G 的生成树是具有 G 的全部顶点，但<code>边数最少</code>的<code>连通子图</code>（连通子图并非连通分量）。一个图的生成树可能有多个。</p>\n<h5 id=\"Kruskal算法\">Kruskal算法</h5>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250308182616583.gif\" style=\"zoom:50%;\" />\n<ul>\n<li><strong>思想</strong>：贪心策略，每次选择图中权值最小的边，加入生成树中（前提是不形成环）。</li>\n<li>步骤：\n<ol>\n<li>对所有边按照权值进行排序。</li>\n<li>依次从小到大考虑每条边，如果当前边加入后不构成环，则加入生成树。</li>\n<li>重复直到生成树中包含 n−1 条边。</li>\n</ol>\n</li>\n<li><strong>特点</strong>：适合边比较少的稀疏图，利用并查集来判断是否形成环。</li>\n</ul>\n<h5 id=\"Prim算法\">Prim算法</h5>\n<ul>\n<li><strong>思想</strong>：贪心策略，从一个起始顶点开始，每次选择与当前生成树相连的、权值最小的边，将新的顶点加入生成树。</li>\n<li>步骤：\n<ol>\n<li>从任一顶点开始，将其加入生成树。</li>\n<li>找出所有与当前生成树相连的边，选择其中权值最小的边，将边的另一端顶点加入生成树。</li>\n<li>重复直到所有顶点都被加入生成树。</li>\n</ol>\n</li>\n<li><strong>特点</strong>：适合边较多的稠密图，通过优先队列（堆）优化可以达到较高效率。</li>\n</ul>\n<h4 id=\"最短路径算法\">最短路径算法</h4>\n<h5 id=\"Dijkstra算法\">Dijkstra算法</h5>\n<p>从起点开始，每次选择当前已知最短距离的顶点，然后更新与它相邻的顶点的距离。</p>\n<p><strong>基本流程</strong></p>\n<ol>\n<li>初始化：源点距离设为0，其他顶点距离设为无穷大</li>\n<li>每次选择未访问的距离最小的顶点，标记为已访问</li>\n<li>更新该顶点的邻居顶点的距离</li>\n<li>重复步骤2-3直到所有顶点被访问</li>\n</ol>\n<p><strong>算法复杂度</strong></p>\n<ul>\n<li>时间复杂度：O(V²)，其中V是顶点数。如果使用优先队列优化，可以降低到O((V+E)logV)，其中E是边数。</li>\n<li>空间复杂度：O(V)</li>\n</ul>\n<p><strong>算法的局限性</strong></p>\n<ol>\n<li>迪杰斯特拉算法不能处理负权边</li>\n<li>在稠密图中，性能可能不如其他算法（如贝尔曼-福特算法）</li>\n</ol>\n<p><strong>应用场景</strong></p>\n<ul>\n<li>导航系统</li>\n<li>网络路由协议</li>\n<li>社交网络分析</li>\n<li>电信网络规划</li>\n</ul>\n<h5 id=\"Floyd-Warshall算法\">Floyd-Warshall算法</h5>\n<p>对于两个顶点i和j之间的最短路径，考虑是否存在一个中间顶点k，使得从i到k再到j的路径比直接从i到j的路径更短。算法通过三重循环遍历所有可能的中间顶点，不断更新距离矩阵。</p>\n<p><strong>基本流程</strong></p>\n<ol>\n<li>初始化一个距离矩阵，矩阵中元素dist[i][j]表示从顶点i到j的直接距离。如果i和j之间没有直接连接，则设为无穷大</li>\n<li>对于每一个顶点k，检查所有顶点对(i,j)</li>\n<li>对于每一个顶点对(i,j)，如果dist[i][k] + dist[k][j] &lt; dist[i][j]，则更新dist[i][j]的值</li>\n<li>重复步骤2和3，直到遍历完所有顶点</li>\n</ol>\n<p><strong>算法复杂度</strong></p>\n<ul>\n<li>时间复杂度：O(V³)，其中V是顶点数</li>\n<li>空间复杂度：O(V²)</li>\n</ul>\n<p><strong>与迪杰斯特拉算法的比较</strong></p>\n<ol>\n<li><strong>范围不同</strong>：迪杰斯特拉是单源最短路径算法，而弗洛伊德是全源最短路径算法</li>\n<li><strong>适用场景</strong>：\n<ul>\n<li>对于稀疏图，运行V次迪杰斯特拉算法更高效</li>\n<li>对于稠密图，弗洛伊德算法更优</li>\n</ul>\n</li>\n<li><strong>负权边处理</strong>：弗洛伊德可以处理负权边，但两者都不能处理负权环</li>\n</ol>\n<p><strong>算法优势</strong></p>\n<ol>\n<li>实现简单，代码简洁</li>\n<li>可以处理有向图和负权边（但不能有负权环）</li>\n<li>一次运行可以得到所有顶点对之间的最短路径</li>\n</ol>\n<p><strong>应用场景</strong></p>\n<ul>\n<li>网络路由算法</li>\n<li>交通规划</li>\n<li>寻找图中的传递闭包</li>\n<li>计算最大流问题</li>\n</ul>\n<h5 id=\"A-算法\">A*算法</h5>\n<p>A*算法是一种启发式搜索算法，常用于路径规划问题。</p>\n<ul>\n<li>结合了Dijkstra算法和启发式搜索的优点</li>\n<li>使用估价函数指导搜索方向</li>\n<li>在有好的启发函数时效率很高</li>\n</ul>\n<p><strong>基本流程</strong></p>\n<ol>\n<li>初始化：起点放入开放列表</li>\n<li>每次从开放列表中选择f值最小的节点n</li>\n<li>如果n是目标节点，算法结束</li>\n<li>否则，将n移到关闭列表，并检查所有邻居节点</li>\n<li>对于每个邻居，计算经过n的路径长度g和估计总长度f=g+h</li>\n<li>更新邻居节点信息并加入开放列表</li>\n<li>重复步骤2-6直到找到目标或开放列表为空</li>\n</ol>\n<h4 id=\"拓扑排序\">拓扑排序</h4>\n<p>拓扑排序是一种对有向无环图 (DAG, Directed Acyclic Graph) 中顶点进行线性排序的算法，使得对于图中的每一条有向边 (u, v)，顶点 u 在排序中都出现在顶点 v 之前。拓扑排序常用于表示具有依赖关系的任务调度问题。</p>\n<p><strong>算法原理</strong></p>\n<p>每次选择入度为0的顶点（即没有前驱顶点的顶点），将其输出，然后删除该顶点及其所有出边，重复此过程直到图为空或无法找到入度为0的顶点。</p>\n<p><strong>时间复杂度与空间复杂度</strong></p>\n<ul>\n<li><strong>时间复杂度</strong>: O(V + E)，其中V是顶点数，E是边数</li>\n<li><strong>空间复杂度</strong>: O(V)，需要存储顶点的访问状态和结果</li>\n</ul>\n<p><strong>特性和局限性</strong></p>\n<ol>\n<li><strong>唯一性</strong>: 拓扑排序的结果通常不唯一，可能有多种合法的排序方式</li>\n<li><strong>环检测</strong>: 如果图中存在环，则无法进行拓扑排序</li>\n<li><strong>适用范围</strong>: 只适用于有向无环图（DAG）</li>\n<li><strong>初始点要求</strong>: 至少有一个顶点的入度为0，否则无法开始排序</li>\n</ol>\n</div>","excerpt":"","more":"<h2 id=\"图论\">图论</h2>\n<p>图论是数学的一个分支，<strong>以图为研究对象</strong>。  图论中的“图”是一种抽象的数学结构，由<strong>顶点</strong>（点）和连接顶点的<strong>边</strong>（线）构成，用于描述事物之间特定的<strong>关系</strong>。</p>\n<ul>\n<li><strong>核心思想</strong>:  用点代表事物，用连接两点的线表示事物之间的关系。</li>\n</ul>\n<p><strong>[Image of Example Graph with Vertices and Edges]</strong><br>\n<em>图的例子：顶点和边</em></p>\n<h3 id=\"图的基本概念\">图的基本概念</h3>\n<ol>\n<li>\n<p><strong>图 (Graph)</strong></p>\n<p>一个图 G 由两个基本集合构成：</p>\n<ul>\n<li><strong>顶点集 (Vertex Set) V(G):</strong>  图中所有顶点的集合。 顶点通常用点、小圆圈或标签表示。</li>\n<li><strong>边集 (Edge Set) E(G):</strong>  图中所有边的集合。 边连接一对顶点，表示顶点之间的关系。 边通常用线段、曲线或箭头表示。</li>\n</ul>\n<p>我们可以用数学符号表示一个图：  <strong>G = (V, E)</strong></p>\n</li>\n<li>\n<p><strong>顶点 (Vertex / Node / Point)</strong></p>\n<ul>\n<li>图的基本组成部分，代表<strong>研究对象</strong>或<strong>实体</strong>。</li>\n<li><strong>示例</strong>:\n<ul>\n<li>在社交网络中，顶点可以代表 <strong>人</strong>。</li>\n<li>在交通网络中，顶点可以代表 <strong>城市</strong>。</li>\n<li>在电路图中，顶点可以代表 <strong>电子元件</strong>。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>边 (Edge / Arc / Line)</strong></p>\n<ul>\n<li>连接两个顶点的线，表示顶点之间存在的<strong>关系</strong>。</li>\n<li><strong>示例</strong>:\n<ul>\n<li>在社交网络中，边可以表示两个人之间的 <strong>朋友关系</strong>。</li>\n<li>在交通网络中，边可以表示两个城市之间的 <strong>道路</strong>。</li>\n<li>在电路图中，边可以代表 <strong>导线</strong>。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>关联 (Incidence)</strong></p>\n<ul>\n<li>如果一条边 <em>e</em> 连接了顶点 <em>u</em> 和 <em>v</em>，则称边 <em>e</em> 与顶点 <em>u</em> 和 <em>v</em> <strong>关联</strong>。</li>\n<li>简单来说，就是边“连接到”哪些顶点。</li>\n</ul>\n</li>\n<li>\n<p><strong>邻接 (Adjacency)</strong></p>\n<ul>\n<li><strong>顶点邻接</strong>: 如果两个顶点 <em>u</em> 和 <em>v</em> 被一条边直接连接，则称顶点 <em>u</em> 和 <em>v</em> 是<strong>邻接的</strong>。</li>\n<li><strong>边邻接</strong>: 如果两条边 <strong>共享</strong> 一个公共顶点，则称这两条边是<strong>邻接的</strong>。</li>\n</ul>\n</li>\n<li>\n<p><strong>度 (Degree)</strong></p>\n<ul>\n<li>\n<p>一个顶点的<strong>度</strong>是指与该顶点<strong>关联的边</strong>的数量。  度反映了顶点与其他顶点的连接数量。</p>\n</li>\n<li>\n<p><strong>有向图的度</strong>:  对于有向图，度分为两种：</p>\n<ul>\n<li><strong>入度 (In-degree)</strong>:  指向该顶点的边的数量 (有多少边进入该顶点)。</li>\n<li><strong>出度 (Out-degree)</strong>:  从该顶点出发的边的数量 (有多少边从该顶点出发)。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>路径 (Path)</strong></p>\n<ul>\n<li>图中从一个顶点到另一个顶点，<strong>依次经过</strong>的顶点和边的序列。</li>\n<li>路径中<strong>通常不重复</strong>经过顶点，除非是环路。</li>\n</ul>\n</li>\n<li>\n<p><strong>环路/回路 (Cycle)</strong></p>\n<ul>\n<li>一种特殊的路径，<strong>起点和终点是同一个顶点</strong>。</li>\n<li>环路表示从一个点出发，可以回到原点的路径。</li>\n</ul>\n</li>\n<li>\n<p><strong>简单路径 (Simple Path)</strong></p>\n<ul>\n<li>路径中<strong>所有顶点都不同</strong>的路径。</li>\n<li>简单路径避免了在路径中重复访问同一个顶点。</li>\n</ul>\n</li>\n<li>\n<p><strong>简单环路/简单回路 (Simple Cycle)</strong></p>\n<ul>\n<li>环路中，除了起点和终点相同外，<strong>所有其他顶点都不同</strong>的环路。</li>\n<li>简单环路是最基本的环路形式，避免了在环路中重复访问除起点/终点之外的顶点。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"图的类型\">图的类型</h3>\n<h4 id=\"有向图-vs-无向图\"><strong>有向图 vs 无向图</strong></h4>\n<ul>\n<li>\n<p><strong>无向图</strong>: 边 <strong>没有方向</strong>，表示连接的两个顶点是<strong>互通的</strong>。 通常用  <strong>(v, w)</strong>  表示顶点 <em>v</em> 和 <em>w</em> 之间的无向边。</p>\n</li>\n<li>\n<p><strong>有向图</strong>: 边 <strong>有方向</strong>，表示连接的两个顶点之间是<strong>单向</strong>关系。  通常用  <strong>&lt;v, w&gt;</strong>  表示从顶点 <em>v</em> 指向顶点 <em>w</em> 的有向边。</p>\n</li>\n</ul>\n<h4 id=\"有权图-vs-无权图\"><strong>有权图 vs 无权图</strong></h4>\n<ul>\n<li>\n<p><strong>有权图</strong>: 图的每条边都被赋予一个 <strong>权重 (weight)</strong>，通常是一个数字。 权重可以代表 <strong>距离、成本、时间</strong> 等实际含义。</p>\n</li>\n<li>\n<p><strong>无权图</strong>: 图的边 <strong>没有权重</strong>。 可以理解为所有边的权重都相同（例如权重为 1）。</p>\n</li>\n</ul>\n<h4 id=\"连通图-vs-非连通图\"><strong>连通图 vs 非连通图</strong></h4>\n<ul>\n<li>\n<p><strong>连通图 (针对无向图)</strong>:  图中 <strong>任意两个顶点之间都存在路径</strong>。  这意味着从图中任何一个顶点出发，都可以到达其他任何顶点。</p>\n</li>\n<li>\n<p><strong>非连通图 (针对无向图)</strong>:  图中 <strong>至少存在一对顶点之间没有路径</strong>。  非连通图由多个互相独立的“部分”组成。</p>\n</li>\n<li>\n<p><strong>连通分量 (Connected Component)</strong>:  非连通图可以被划分成多个 <strong>连通的子图</strong>，每个这样的连通子图被称为一个 <strong>连通分量</strong>。 连通图自身只有一个连通分量，就是它本身。</p>\n</li>\n</ul>\n<h4 id=\"强连通-vs-单连通\"><strong>强连通 vs 单连通</strong></h4>\n<ul>\n<li><strong>强连通 (Strongly Connected)</strong>:  <strong>有向图</strong> 中，<strong>任意两个顶点之间都存在互相可达的路径</strong>。  即从顶点 <em>u</em> 可以到达 <em>v</em>，同时从顶点 <em>v</em> 也可以到达 <em>u</em>。</li>\n<li><strong>单连通 (Unilaterally Connected)</strong>: <strong>有向图</strong> 中，<strong>任意两个顶点之间都存在至少一个方向可达的路径</strong> （无需互相可达）。  即对于任意两个顶点 <em>u</em> 和 <em>v</em>，要么从 <em>u</em> 可以到达 <em>v</em>，要么从 <em>v</em> 可以到达 <em>u</em>，或者两者都成立。</li>\n</ul>\n<h3 id=\"图的表示方法\">图的表示方法</h3>\n<h4 id=\"邻接矩阵表示法\">邻接矩阵表示法</h4>\n<p>邻接矩阵是一个二维数组，用于表示顶点之间的连接关系：</p>\n<ul>\n<li>对于无权图，矩阵元素 A[i][j] = 1 表示顶点 i 和 j 之间有边相连，A[i][j]= 0 表示没有边相连</li>\n<li>对于有权图，矩阵元素 A[i][j]表示顶点 i 和 j 之间边的权值，通常用一个特殊值（如∞或0）表示不存在的边</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>实现简单，便于理解</li>\n<li>查询两点间是否有边的时间复杂度为 O(1)</li>\n<li>适合表示稠密图</li>\n</ul>\n<p><strong>缺点</strong>：</p>\n<ul>\n<li>空间复杂度为 O(V²)，其中 V 是顶点数，对于稀疏图会浪费大量空间</li>\n<li>添加/删除顶点的操作较为复杂</li>\n</ul>\n<h4 id=\"邻接表表示法\">邻接表表示法</h4>\n<p>邻接表使用一个数组，数组的每个元素是一个链表，用于存储与该顶点相邻的所有顶点：</p>\n<ul>\n<li>数组索引 i 对应顶点 i</li>\n<li>链表中存储的是与顶点 i 相邻的所有顶点</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>节省空间，特别适合稀疏图</li>\n<li>容易找到给定顶点的所有邻接点</li>\n<li>添加顶点操作简单</li>\n</ul>\n<p><strong>缺点</strong>：</p>\n<ul>\n<li>查询两点间是否有边的时间复杂度为 O(V)，不如邻接矩阵高效</li>\n<li>对有向图求逆邻接表较困难</li>\n</ul>\n<h4 id=\"十字链表表示法\">十字链表表示法</h4>\n<p>十字链表是邻接表的改进版本，主要用于有向图：</p>\n<ul>\n<li>结合了邻接表和逆邻接表的特点</li>\n<li>每个顶点有一个出边表和一个入边表</li>\n<li>每条边用一个结点表示，同时出现在起点的出边表和终点的入边表中</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>容易找到顶点的所有出边和入边</li>\n<li>适合需要频繁查询入度和出度的应用场景</li>\n</ul>\n<h4 id=\"邻接多重表\">邻接多重表</h4>\n<p>邻接多重表主要用于无向图：</p>\n<ul>\n<li>每条边只存储一次</li>\n<li>每个顶点有一个边表</li>\n<li>每条边连接到与其关联的两个顶点的边表中</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>便于删除和查找特定边</li>\n<li>节省空间</li>\n</ul>\n<h4 id=\"边集数组表示法\">边集数组表示法</h4>\n<p>边集数组直接存储图中所有的边：</p>\n<ul>\n<li>使用一个一维数组存储所有顶点信息</li>\n<li>使用另一个数组存储所有边的信息（包括起点、终点和权值）</li>\n</ul>\n<p><strong>优点</strong>：</p>\n<ul>\n<li>实现简单</li>\n<li>适合只关注边的操作，如最小生成树的Kruskal算法</li>\n<li>适合稀疏图</li>\n</ul>\n<p><strong>缺点</strong>：</p>\n<ul>\n<li>查找操作效率较低</li>\n<li>不易找到与特定顶点相连的所有边</li>\n</ul>\n<p>选择哪种表示方法取决于图的特性（如稠密度）和需要执行的操作类型（如是否需要频繁查询、添加或删除顶点和边）。</p>\n<h3 id=\"图的遍历方法\">图的遍历方法</h3>\n<h4 id=\"DFS-深度优先搜索\">DFS(深度优先搜索)</h4>\n<p>深度优先搜索沿着图的深度尽可能远地探索，直到不能再深入为止，然后回溯到前一个节点，继续探索其他路径。</p>\n<h5 id=\"基本算法步骤\">基本算法步骤</h5>\n<ol>\n<li>选择一个起始顶点，将其标记为已访问</li>\n<li>对该顶点的每个未访问的邻接点，递归地应用DFS</li>\n<li>如果当前顶点没有未访问的邻接点，则回溯</li>\n</ol>\n<h5 id=\"时间复杂度与空间复杂度\">时间复杂度与空间复杂度</h5>\n<ul>\n<li>时间复杂度：O(V + E)</li>\n<li>空间复杂度：O(V)</li>\n</ul>\n<h5 id=\"应用场景\">应用场景</h5>\n<ul>\n<li>拓扑排序</li>\n<li>寻找连通分量</li>\n<li>判断图中是否有环</li>\n<li>寻找路径（如迷宫问题）</li>\n</ul>\n<h4 id=\"BFS-广度优先搜索\">BFS(广度优先搜索)</h4>\n<p>广度优先搜索是一种按&quot;层次&quot;访问节点的方法，先访问起始顶点的所有邻接点，然后再访问这些邻接点的邻接点，以此类推。</p>\n<h5 id=\"基本算法步骤-2\">基本算法步骤</h5>\n<ol>\n<li>选择一个起始顶点，将其标记为已访问，并放入队列中</li>\n<li>当队列不为空时，执行以下操作：\n<ul>\n<li>取出队列中的第一个顶点u</li>\n<li>访问顶点u</li>\n<li>将u的所有未访问过的邻接点标记为已访问并加入队列</li>\n</ul>\n</li>\n</ol>\n<h5 id=\"时间复杂度与空间复杂度-2\">时间复杂度与空间复杂度</h5>\n<ul>\n<li>时间复杂度：O(V + E)，其中V是顶点数，E是边数</li>\n<li>空间复杂度：O(V)，用于存储访问状态和队列</li>\n</ul>\n<h5 id=\"应用场景-2\">应用场景</h5>\n<ul>\n<li>寻找最短路径（无权图）</li>\n<li>网络爬虫</li>\n<li>社交网络中的关系距离（如&quot;六度分隔&quot;理论）</li>\n<li>层次遍历</li>\n</ul>\n<h3 id=\"图的应用\">图的应用</h3>\n<h4 id=\"最小生成树算法\">最小生成树算法</h4>\n<p><code>无向图</code> G 的生成树是具有 G 的全部顶点，但<code>边数最少</code>的<code>连通子图</code>（连通子图并非连通分量）。一个图的生成树可能有多个。</p>\n<h5 id=\"Kruskal算法\">Kruskal算法</h5>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250308182616583.gif\" style=\"zoom:50%;\" />\n<ul>\n<li><strong>思想</strong>：贪心策略，每次选择图中权值最小的边，加入生成树中（前提是不形成环）。</li>\n<li>步骤：\n<ol>\n<li>对所有边按照权值进行排序。</li>\n<li>依次从小到大考虑每条边，如果当前边加入后不构成环，则加入生成树。</li>\n<li>重复直到生成树中包含 n−1 条边。</li>\n</ol>\n</li>\n<li><strong>特点</strong>：适合边比较少的稀疏图，利用并查集来判断是否形成环。</li>\n</ul>\n<h5 id=\"Prim算法\">Prim算法</h5>\n<ul>\n<li><strong>思想</strong>：贪心策略，从一个起始顶点开始，每次选择与当前生成树相连的、权值最小的边，将新的顶点加入生成树。</li>\n<li>步骤：\n<ol>\n<li>从任一顶点开始，将其加入生成树。</li>\n<li>找出所有与当前生成树相连的边，选择其中权值最小的边，将边的另一端顶点加入生成树。</li>\n<li>重复直到所有顶点都被加入生成树。</li>\n</ol>\n</li>\n<li><strong>特点</strong>：适合边较多的稠密图，通过优先队列（堆）优化可以达到较高效率。</li>\n</ul>\n<h4 id=\"最短路径算法\">最短路径算法</h4>\n<h5 id=\"Dijkstra算法\">Dijkstra算法</h5>\n<p>从起点开始，每次选择当前已知最短距离的顶点，然后更新与它相邻的顶点的距离。</p>\n<p><strong>基本流程</strong></p>\n<ol>\n<li>初始化：源点距离设为0，其他顶点距离设为无穷大</li>\n<li>每次选择未访问的距离最小的顶点，标记为已访问</li>\n<li>更新该顶点的邻居顶点的距离</li>\n<li>重复步骤2-3直到所有顶点被访问</li>\n</ol>\n<p><strong>算法复杂度</strong></p>\n<ul>\n<li>时间复杂度：O(V²)，其中V是顶点数。如果使用优先队列优化，可以降低到O((V+E)logV)，其中E是边数。</li>\n<li>空间复杂度：O(V)</li>\n</ul>\n<p><strong>算法的局限性</strong></p>\n<ol>\n<li>迪杰斯特拉算法不能处理负权边</li>\n<li>在稠密图中，性能可能不如其他算法（如贝尔曼-福特算法）</li>\n</ol>\n<p><strong>应用场景</strong></p>\n<ul>\n<li>导航系统</li>\n<li>网络路由协议</li>\n<li>社交网络分析</li>\n<li>电信网络规划</li>\n</ul>\n<h5 id=\"Floyd-Warshall算法\">Floyd-Warshall算法</h5>\n<p>对于两个顶点i和j之间的最短路径，考虑是否存在一个中间顶点k，使得从i到k再到j的路径比直接从i到j的路径更短。算法通过三重循环遍历所有可能的中间顶点，不断更新距离矩阵。</p>\n<p><strong>基本流程</strong></p>\n<ol>\n<li>初始化一个距离矩阵，矩阵中元素dist[i][j]表示从顶点i到j的直接距离。如果i和j之间没有直接连接，则设为无穷大</li>\n<li>对于每一个顶点k，检查所有顶点对(i,j)</li>\n<li>对于每一个顶点对(i,j)，如果dist[i][k] + dist[k][j] &lt; dist[i][j]，则更新dist[i][j]的值</li>\n<li>重复步骤2和3，直到遍历完所有顶点</li>\n</ol>\n<p><strong>算法复杂度</strong></p>\n<ul>\n<li>时间复杂度：O(V³)，其中V是顶点数</li>\n<li>空间复杂度：O(V²)</li>\n</ul>\n<p><strong>与迪杰斯特拉算法的比较</strong></p>\n<ol>\n<li><strong>范围不同</strong>：迪杰斯特拉是单源最短路径算法，而弗洛伊德是全源最短路径算法</li>\n<li><strong>适用场景</strong>：\n<ul>\n<li>对于稀疏图，运行V次迪杰斯特拉算法更高效</li>\n<li>对于稠密图，弗洛伊德算法更优</li>\n</ul>\n</li>\n<li><strong>负权边处理</strong>：弗洛伊德可以处理负权边，但两者都不能处理负权环</li>\n</ol>\n<p><strong>算法优势</strong></p>\n<ol>\n<li>实现简单，代码简洁</li>\n<li>可以处理有向图和负权边（但不能有负权环）</li>\n<li>一次运行可以得到所有顶点对之间的最短路径</li>\n</ol>\n<p><strong>应用场景</strong></p>\n<ul>\n<li>网络路由算法</li>\n<li>交通规划</li>\n<li>寻找图中的传递闭包</li>\n<li>计算最大流问题</li>\n</ul>\n<h5 id=\"A-算法\">A*算法</h5>\n<p>A*算法是一种启发式搜索算法，常用于路径规划问题。</p>\n<ul>\n<li>结合了Dijkstra算法和启发式搜索的优点</li>\n<li>使用估价函数指导搜索方向</li>\n<li>在有好的启发函数时效率很高</li>\n</ul>\n<p><strong>基本流程</strong></p>\n<ol>\n<li>初始化：起点放入开放列表</li>\n<li>每次从开放列表中选择f值最小的节点n</li>\n<li>如果n是目标节点，算法结束</li>\n<li>否则，将n移到关闭列表，并检查所有邻居节点</li>\n<li>对于每个邻居，计算经过n的路径长度g和估计总长度f=g+h</li>\n<li>更新邻居节点信息并加入开放列表</li>\n<li>重复步骤2-6直到找到目标或开放列表为空</li>\n</ol>\n<h4 id=\"拓扑排序\">拓扑排序</h4>\n<p>拓扑排序是一种对有向无环图 (DAG, Directed Acyclic Graph) 中顶点进行线性排序的算法，使得对于图中的每一条有向边 (u, v)，顶点 u 在排序中都出现在顶点 v 之前。拓扑排序常用于表示具有依赖关系的任务调度问题。</p>\n<p><strong>算法原理</strong></p>\n<p>每次选择入度为0的顶点（即没有前驱顶点的顶点），将其输出，然后删除该顶点及其所有出边，重复此过程直到图为空或无法找到入度为0的顶点。</p>\n<p><strong>时间复杂度与空间复杂度</strong></p>\n<ul>\n<li><strong>时间复杂度</strong>: O(V + E)，其中V是顶点数，E是边数</li>\n<li><strong>空间复杂度</strong>: O(V)，需要存储顶点的访问状态和结果</li>\n</ul>\n<p><strong>特性和局限性</strong></p>\n<ol>\n<li><strong>唯一性</strong>: 拓扑排序的结果通常不唯一，可能有多种合法的排序方式</li>\n<li><strong>环检测</strong>: 如果图中存在环，则无法进行拓扑排序</li>\n<li><strong>适用范围</strong>: 只适用于有向无环图（DAG）</li>\n<li><strong>初始点要求</strong>: 至少有一个顶点的入度为0，否则无法开始排序</li>\n</ol>\n"},{"title":"常见排序算法详解","date":"2025-03-08T14:00:00.000Z","cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp","_content":"\n# 排序算法详解\n\n排序算法是计算机科学中最基础也是最重要的算法之一。本文将详细介绍几种常见的排序算法，包括它们的实现原理、时间复杂度和适用场景。本文所有代码示例使用 C++ 实现，需要包含以下头文件：\n\n```cpp\n#include <vector>\n#include <algorithm>\nusing namespace std;\n```\n\n## 1. 冒泡排序 (Bubble Sort)\n\n冒泡排序是最简单的排序算法之一，它重复地遍历要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。\n\n### 实现原理\n\n- 时间复杂度：O(n²)\n- 空间复杂度：O(1)\n- 稳定性：稳定\n\n### 实现代码\n\n```cpp\nvoid bubbleSort(vector<int>& arr) {\n    int n = arr.size();\n    bool swapped;\n    for(int i = 0; i < n-1; i++) {\n        swapped = false;\n        // 每一轮比较\n        for(int j = 0; j < n-i-1; j++) {\n            // 相邻元素比较并交换\n            if(arr[j] > arr[j+1]) {\n                swap(arr[j], arr[j+1]);\n                swapped = true;\n            }\n        }\n        // 如果没有发生交换，说明数组已经有序\n        if(!swapped) break;\n    }\n}\n```\n\n## 2. 选择排序 (Selection Sort)\n\n选择排序的工作原理是每次从待排序的数据中选出最小（或最大）的元素，存放在序列的起始位置。\n\n### 实现原理\n\n- 时间复杂度：O(n²)\n- 空间复杂度：O(1)\n- 稳定性：不稳定\n\n### 实现代码\n\n```cpp\nvoid selectionSort(vector<int>& arr) {\n    int n = arr.size();\n    for(int i = 0; i < n-1; i++) {\n        int min_idx = i;\n        // 在未排序部分找最小值\n        for(int j = i+1; j < n; j++) {\n            if(arr[j] < arr[min_idx]) {\n                min_idx = j;\n            }\n        }\n        // 将找到的最小值放到已排序序列的末尾\n        if(min_idx != i) {\n            swap(arr[i], arr[min_idx]);\n        }\n    }\n}\n```\n\n## 3. 插入排序 (Insertion Sort)\n\n插入排序的工作原理是通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。\n\n### 实现原理\n\n- 时间复杂度：O(n²)\n- 空间复杂度：O(1)\n- 稳定性：稳定\n\n### 实现代码\n\n```cpp\nvoid insertionSort(vector<int>& arr) {\n    int n = arr.size();\n    for(int i = 1; i < n; i++) {\n        int key = arr[i];\n        int j = i - 1;\n        // 将大于key的元素都向后移动\n        while(j >= 0 && arr[j] > key) {\n            arr[j+1] = arr[j];\n            j--;\n        }\n        arr[j+1] = key;\n    }\n}\n```\n\n## 4. 快速排序 (Quick Sort)\n\n快速排序是一种分治算法，它通过选择一个\"基准\"元素，将数组分成两个子数组，小于基准的元素放在左边，大于基准的元素放在右边。\n\n### 实现原理\n\n- 时间复杂度：平均 O(nlogn)，最坏 O(n²)\n- 空间复杂度：O(logn)\n- 稳定性：不稳定\n\n### 实现代码\n\n```cpp\nint partition(vector<int>& arr, int low, int high) {\n    int pivot = arr[high];    // 选择最右边的元素作为基准\n    int i = low - 1;          // 小于基准的元素的最后一个位置\n\n    for(int j = low; j < high; j++) {\n        // 如果当前元素小于基准，则将其交换到前面\n        if(arr[j] < pivot) {\n            i++;\n            swap(arr[i], arr[j]);\n        }\n    }\n    swap(arr[i + 1], arr[high]);\n    return i + 1;\n}\n\nvoid quickSort(vector<int>& arr, int low, int high) {\n    if(low < high) {\n        // 获取分区点\n        int pi = partition(arr, low, high);\n        // 递归排序左右两部分\n        quickSort(arr, low, pi - 1);\n        quickSort(arr, pi + 1, high);\n    }\n}\n\n// 封装函数，方便调用\nvoid quickSort(vector<int>& arr) {\n    quickSort(arr, 0, arr.size() - 1);\n}\n```\n\n## 5. 归并排序 (Merge Sort)\n\n归并排序是一种分治算法，它将数组分成两半，递归地排序两半，然后将它们合并起来。\n\n### 实现原理\n\n- 时间复杂度：O(nlogn)\n- 空间复杂度：O(n)\n- 稳定性：稳定\n\n### 实现代码\n\n```cpp\nvoid merge(vector<int>& arr, int left, int mid, int right) {\n    vector<int> temp(right - left + 1);\n    int i = left, j = mid + 1, k = 0;\n    \n    // 合并两个有序数组\n    while(i <= mid && j <= right) {\n        if(arr[i] <= arr[j]) {\n            temp[k++] = arr[i++];\n        } else {\n            temp[k++] = arr[j++];\n        }\n    }\n    \n    // 复制剩余元素\n    while(i <= mid) temp[k++] = arr[i++];\n    while(j <= right) temp[k++] = arr[j++];\n    \n    // 将临时数组复制回原数组\n    for(i = 0; i < k; i++) {\n        arr[left + i] = temp[i];\n    }\n}\n\nvoid mergeSort(vector<int>& arr, int left, int right) {\n    if(left < right) {\n        int mid = left + (right - left) / 2;\n        mergeSort(arr, left, mid);\n        mergeSort(arr, mid + 1, right);\n        merge(arr, left, mid, right);\n    }\n}\n\n// 封装函数，方便调用\nvoid mergeSort(vector<int>& arr) {\n    mergeSort(arr, 0, arr.size() - 1);\n}\n```\n\n## 6. 堆排序 (Heap Sort)\n\n堆排序是利用堆这种数据结构所设计的一种排序算法。它通过构建最大堆或最小堆来进行排序。\n\n### 实现原理\n\n- 时间复杂度：O(nlogn)\n- 空间复杂度：O(1)\n- 稳定性：不稳定\n\n### 实现代码\n\n```cpp\nvoid heapify(vector<int>& arr, int n, int i) {\n    int largest = i;\n    int left = 2 * i + 1;\n    int right = 2 * i + 2;\n\n    // 如果左子节点大于根节点\n    if(left < n && arr[left] > arr[largest]) {\n        largest = left;\n    }\n    \n    // 如果右子节点大于最大值\n    if(right < n && arr[right] > arr[largest]) {\n        largest = right;\n    }\n    \n    // 如果最大值不是根节点\n    if(largest != i) {\n        swap(arr[i], arr[largest]);\n        heapify(arr, n, largest);\n    }\n}\n\nvoid heapSort(vector<int>& arr) {\n    int n = arr.size();\n    \n    // 构建最大堆\n    for(int i = n/2-1; i >= 0; i--) {\n        heapify(arr, n, i);\n    }\n    \n    // 一个个从堆顶取出元素\n    for(int i = n-1; i > 0; i--) {\n        swap(arr[0], arr[i]);\n        heapify(arr, i, 0);\n    }\n}\n```\n\n## 排序算法的比较\n\n| 排序算法 | 平均时间复杂度 | 最坏时间复杂度 | 空间复杂度 | 稳定性 |\n|---------|--------------|--------------|-----------|--------|\n| 冒泡排序 | O(n²)       | O(n²)        | O(1)      | 稳定    |\n| 选择排序 | O(n²)       | O(n²)        | O(1)      | 不稳定  |\n| 插入排序 | O(n²)       | O(n²)        | O(1)      | 稳定    |\n| 快速排序 | O(nlogn)    | O(n²)        | O(logn)   | 不稳定  |\n| 归并排序 | O(nlogn)    | O(nlogn)     | O(n)      | 稳定    |\n| 堆排序   | O(nlogn)    | O(nlogn)     | O(1)      | 不稳定  |\n\n## 如何选择排序算法？\n\n1. 数据量小（n < 50）：插入排序\n2. 数据量大：\n   - 要求稳定：归并排序\n   - 不要求稳定：快速排序\n3. 内存空间有限：堆排序\n4. 数据基本有序：插入排序\n5. 数据量特别大且有重复：计数排序/基数排序\n\n## 总结\n\n每种排序算法都有其特点和适用场景。在实际应用中，我们需要根据具体情况（数据规模、稳定性要求、空间限制等）来选择合适的排序算法。大多数编程语言的标准库中的排序实现都是一种改进的快速排序，它能够很好地适应各种情况。 ","source":"_posts/排序算法.md","raw":"---\ntitle: 常见排序算法详解\ndate: 2025-03-08 22:00:00\ntags: [数据结构与算法,排序,冒泡排序,选择排序,插入排序,快速排序,归并排序,堆排序]\ncategories: [学习,数据结构与算法,基础知识]\n\ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp\n---\n\n# 排序算法详解\n\n排序算法是计算机科学中最基础也是最重要的算法之一。本文将详细介绍几种常见的排序算法，包括它们的实现原理、时间复杂度和适用场景。本文所有代码示例使用 C++ 实现，需要包含以下头文件：\n\n```cpp\n#include <vector>\n#include <algorithm>\nusing namespace std;\n```\n\n## 1. 冒泡排序 (Bubble Sort)\n\n冒泡排序是最简单的排序算法之一，它重复地遍历要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。\n\n### 实现原理\n\n- 时间复杂度：O(n²)\n- 空间复杂度：O(1)\n- 稳定性：稳定\n\n### 实现代码\n\n```cpp\nvoid bubbleSort(vector<int>& arr) {\n    int n = arr.size();\n    bool swapped;\n    for(int i = 0; i < n-1; i++) {\n        swapped = false;\n        // 每一轮比较\n        for(int j = 0; j < n-i-1; j++) {\n            // 相邻元素比较并交换\n            if(arr[j] > arr[j+1]) {\n                swap(arr[j], arr[j+1]);\n                swapped = true;\n            }\n        }\n        // 如果没有发生交换，说明数组已经有序\n        if(!swapped) break;\n    }\n}\n```\n\n## 2. 选择排序 (Selection Sort)\n\n选择排序的工作原理是每次从待排序的数据中选出最小（或最大）的元素，存放在序列的起始位置。\n\n### 实现原理\n\n- 时间复杂度：O(n²)\n- 空间复杂度：O(1)\n- 稳定性：不稳定\n\n### 实现代码\n\n```cpp\nvoid selectionSort(vector<int>& arr) {\n    int n = arr.size();\n    for(int i = 0; i < n-1; i++) {\n        int min_idx = i;\n        // 在未排序部分找最小值\n        for(int j = i+1; j < n; j++) {\n            if(arr[j] < arr[min_idx]) {\n                min_idx = j;\n            }\n        }\n        // 将找到的最小值放到已排序序列的末尾\n        if(min_idx != i) {\n            swap(arr[i], arr[min_idx]);\n        }\n    }\n}\n```\n\n## 3. 插入排序 (Insertion Sort)\n\n插入排序的工作原理是通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。\n\n### 实现原理\n\n- 时间复杂度：O(n²)\n- 空间复杂度：O(1)\n- 稳定性：稳定\n\n### 实现代码\n\n```cpp\nvoid insertionSort(vector<int>& arr) {\n    int n = arr.size();\n    for(int i = 1; i < n; i++) {\n        int key = arr[i];\n        int j = i - 1;\n        // 将大于key的元素都向后移动\n        while(j >= 0 && arr[j] > key) {\n            arr[j+1] = arr[j];\n            j--;\n        }\n        arr[j+1] = key;\n    }\n}\n```\n\n## 4. 快速排序 (Quick Sort)\n\n快速排序是一种分治算法，它通过选择一个\"基准\"元素，将数组分成两个子数组，小于基准的元素放在左边，大于基准的元素放在右边。\n\n### 实现原理\n\n- 时间复杂度：平均 O(nlogn)，最坏 O(n²)\n- 空间复杂度：O(logn)\n- 稳定性：不稳定\n\n### 实现代码\n\n```cpp\nint partition(vector<int>& arr, int low, int high) {\n    int pivot = arr[high];    // 选择最右边的元素作为基准\n    int i = low - 1;          // 小于基准的元素的最后一个位置\n\n    for(int j = low; j < high; j++) {\n        // 如果当前元素小于基准，则将其交换到前面\n        if(arr[j] < pivot) {\n            i++;\n            swap(arr[i], arr[j]);\n        }\n    }\n    swap(arr[i + 1], arr[high]);\n    return i + 1;\n}\n\nvoid quickSort(vector<int>& arr, int low, int high) {\n    if(low < high) {\n        // 获取分区点\n        int pi = partition(arr, low, high);\n        // 递归排序左右两部分\n        quickSort(arr, low, pi - 1);\n        quickSort(arr, pi + 1, high);\n    }\n}\n\n// 封装函数，方便调用\nvoid quickSort(vector<int>& arr) {\n    quickSort(arr, 0, arr.size() - 1);\n}\n```\n\n## 5. 归并排序 (Merge Sort)\n\n归并排序是一种分治算法，它将数组分成两半，递归地排序两半，然后将它们合并起来。\n\n### 实现原理\n\n- 时间复杂度：O(nlogn)\n- 空间复杂度：O(n)\n- 稳定性：稳定\n\n### 实现代码\n\n```cpp\nvoid merge(vector<int>& arr, int left, int mid, int right) {\n    vector<int> temp(right - left + 1);\n    int i = left, j = mid + 1, k = 0;\n    \n    // 合并两个有序数组\n    while(i <= mid && j <= right) {\n        if(arr[i] <= arr[j]) {\n            temp[k++] = arr[i++];\n        } else {\n            temp[k++] = arr[j++];\n        }\n    }\n    \n    // 复制剩余元素\n    while(i <= mid) temp[k++] = arr[i++];\n    while(j <= right) temp[k++] = arr[j++];\n    \n    // 将临时数组复制回原数组\n    for(i = 0; i < k; i++) {\n        arr[left + i] = temp[i];\n    }\n}\n\nvoid mergeSort(vector<int>& arr, int left, int right) {\n    if(left < right) {\n        int mid = left + (right - left) / 2;\n        mergeSort(arr, left, mid);\n        mergeSort(arr, mid + 1, right);\n        merge(arr, left, mid, right);\n    }\n}\n\n// 封装函数，方便调用\nvoid mergeSort(vector<int>& arr) {\n    mergeSort(arr, 0, arr.size() - 1);\n}\n```\n\n## 6. 堆排序 (Heap Sort)\n\n堆排序是利用堆这种数据结构所设计的一种排序算法。它通过构建最大堆或最小堆来进行排序。\n\n### 实现原理\n\n- 时间复杂度：O(nlogn)\n- 空间复杂度：O(1)\n- 稳定性：不稳定\n\n### 实现代码\n\n```cpp\nvoid heapify(vector<int>& arr, int n, int i) {\n    int largest = i;\n    int left = 2 * i + 1;\n    int right = 2 * i + 2;\n\n    // 如果左子节点大于根节点\n    if(left < n && arr[left] > arr[largest]) {\n        largest = left;\n    }\n    \n    // 如果右子节点大于最大值\n    if(right < n && arr[right] > arr[largest]) {\n        largest = right;\n    }\n    \n    // 如果最大值不是根节点\n    if(largest != i) {\n        swap(arr[i], arr[largest]);\n        heapify(arr, n, largest);\n    }\n}\n\nvoid heapSort(vector<int>& arr) {\n    int n = arr.size();\n    \n    // 构建最大堆\n    for(int i = n/2-1; i >= 0; i--) {\n        heapify(arr, n, i);\n    }\n    \n    // 一个个从堆顶取出元素\n    for(int i = n-1; i > 0; i--) {\n        swap(arr[0], arr[i]);\n        heapify(arr, i, 0);\n    }\n}\n```\n\n## 排序算法的比较\n\n| 排序算法 | 平均时间复杂度 | 最坏时间复杂度 | 空间复杂度 | 稳定性 |\n|---------|--------------|--------------|-----------|--------|\n| 冒泡排序 | O(n²)       | O(n²)        | O(1)      | 稳定    |\n| 选择排序 | O(n²)       | O(n²)        | O(1)      | 不稳定  |\n| 插入排序 | O(n²)       | O(n²)        | O(1)      | 稳定    |\n| 快速排序 | O(nlogn)    | O(n²)        | O(logn)   | 不稳定  |\n| 归并排序 | O(nlogn)    | O(nlogn)     | O(n)      | 稳定    |\n| 堆排序   | O(nlogn)    | O(nlogn)     | O(1)      | 不稳定  |\n\n## 如何选择排序算法？\n\n1. 数据量小（n < 50）：插入排序\n2. 数据量大：\n   - 要求稳定：归并排序\n   - 不要求稳定：快速排序\n3. 内存空间有限：堆排序\n4. 数据基本有序：插入排序\n5. 数据量特别大且有重复：计数排序/基数排序\n\n## 总结\n\n每种排序算法都有其特点和适用场景。在实际应用中，我们需要根据具体情况（数据规模、稳定性要求、空间限制等）来选择合适的排序算法。大多数编程语言的标准库中的排序实现都是一种改进的快速排序，它能够很好地适应各种情况。 ","slug":"排序算法","published":1,"updated":"2025-03-09T02:38:31.316Z","comments":1,"layout":"post","photos":[],"_id":"cmacbamix003f1swm8zpifz56","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h1>排序算法详解</h1>\n<p>排序算法是计算机科学中最基础也是最重要的算法之一。本文将详细介绍几种常见的排序算法，包括它们的实现原理、时间复杂度和适用场景。本文所有代码示例使用 C++ 实现，需要包含以下头文件：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;algorithm&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br></pre></td></tr></table></figure>\n<h2 id=\"1-冒泡排序-Bubble-Sort\">1. 冒泡排序 (Bubble Sort)</h2>\n<p>冒泡排序是最简单的排序算法之一，它重复地遍历要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。</p>\n<h3 id=\"实现原理\">实现原理</h3>\n<ul>\n<li>时间复杂度：O(n²)</li>\n<li>空间复杂度：O(1)</li>\n<li>稳定性：稳定</li>\n</ul>\n<h3 id=\"实现代码\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">bubbleSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n = arr.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"type\">bool</span> swapped;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n<span class=\"number\">-1</span>; i++) &#123;</span><br><span class=\"line\">        swapped = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 每一轮比较</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n-i<span class=\"number\">-1</span>; j++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 相邻元素比较并交换</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(arr[j] &gt; arr[j<span class=\"number\">+1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"built_in\">swap</span>(arr[j], arr[j<span class=\"number\">+1</span>]);</span><br><span class=\"line\">                swapped = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果没有发生交换，说明数组已经有序</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!swapped) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"2-选择排序-Selection-Sort\">2. 选择排序 (Selection Sort)</h2>\n<p>选择排序的工作原理是每次从待排序的数据中选出最小（或最大）的元素，存放在序列的起始位置。</p>\n<h3 id=\"实现原理-2\">实现原理</h3>\n<ul>\n<li>时间复杂度：O(n²)</li>\n<li>空间复杂度：O(1)</li>\n<li>稳定性：不稳定</li>\n</ul>\n<h3 id=\"实现代码-2\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">selectionSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n = arr.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n<span class=\"number\">-1</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> min_idx = i;</span><br><span class=\"line\">        <span class=\"comment\">// 在未排序部分找最小值</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = i<span class=\"number\">+1</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(arr[j] &lt; arr[min_idx]) &#123;</span><br><span class=\"line\">                min_idx = j;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 将找到的最小值放到已排序序列的末尾</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(min_idx != i) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">swap</span>(arr[i], arr[min_idx]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-插入排序-Insertion-Sort\">3. 插入排序 (Insertion Sort)</h2>\n<p>插入排序的工作原理是通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。</p>\n<h3 id=\"实现原理-3\">实现原理</h3>\n<ul>\n<li>时间复杂度：O(n²)</li>\n<li>空间复杂度：O(1)</li>\n<li>稳定性：稳定</li>\n</ul>\n<h3 id=\"实现代码-3\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insertionSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n = arr.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> key = arr[i];</span><br><span class=\"line\">        <span class=\"type\">int</span> j = i - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 将大于key的元素都向后移动</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(j &gt;= <span class=\"number\">0</span> &amp;&amp; arr[j] &gt; key) &#123;</span><br><span class=\"line\">            arr[j<span class=\"number\">+1</span>] = arr[j];</span><br><span class=\"line\">            j--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        arr[j<span class=\"number\">+1</span>] = key;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"4-快速排序-Quick-Sort\">4. 快速排序 (Quick Sort)</h2>\n<p>快速排序是一种分治算法，它通过选择一个&quot;基准&quot;元素，将数组分成两个子数组，小于基准的元素放在左边，大于基准的元素放在右边。</p>\n<h3 id=\"实现原理-4\">实现原理</h3>\n<ul>\n<li>时间复杂度：平均 O(nlogn)，最坏 O(n²)</li>\n<li>空间复杂度：O(logn)</li>\n<li>稳定性：不稳定</li>\n</ul>\n<h3 id=\"实现代码-4\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">partition</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> low, <span class=\"type\">int</span> high)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> pivot = arr[high];    <span class=\"comment\">// 选择最右边的元素作为基准</span></span><br><span class=\"line\">    <span class=\"type\">int</span> i = low - <span class=\"number\">1</span>;          <span class=\"comment\">// 小于基准的元素的最后一个位置</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = low; j &lt; high; j++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果当前元素小于基准，则将其交换到前面</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(arr[j] &lt; pivot) &#123;</span><br><span class=\"line\">            i++;</span><br><span class=\"line\">            <span class=\"built_in\">swap</span>(arr[i], arr[j]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">swap</span>(arr[i + <span class=\"number\">1</span>], arr[high]);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> i + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">quickSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> low, <span class=\"type\">int</span> high)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(low &lt; high) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 获取分区点</span></span><br><span class=\"line\">        <span class=\"type\">int</span> pi = <span class=\"built_in\">partition</span>(arr, low, high);</span><br><span class=\"line\">        <span class=\"comment\">// 递归排序左右两部分</span></span><br><span class=\"line\">        <span class=\"built_in\">quickSort</span>(arr, low, pi - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"built_in\">quickSort</span>(arr, pi + <span class=\"number\">1</span>, high);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 封装函数，方便调用</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">quickSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">quickSort</span>(arr, <span class=\"number\">0</span>, arr.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"5-归并排序-Merge-Sort\">5. 归并排序 (Merge Sort)</h2>\n<p>归并排序是一种分治算法，它将数组分成两半，递归地排序两半，然后将它们合并起来。</p>\n<h3 id=\"实现原理-5\">实现原理</h3>\n<ul>\n<li>时间复杂度：O(nlogn)</li>\n<li>空间复杂度：O(n)</li>\n<li>稳定性：稳定</li>\n</ul>\n<h3 id=\"实现代码-5\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">merge</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> left, <span class=\"type\">int</span> mid, <span class=\"type\">int</span> right)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">temp</span><span class=\"params\">(right - left + <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> i = left, j = mid + <span class=\"number\">1</span>, k = <span class=\"number\">0</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 合并两个有序数组</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(i &lt;= mid &amp;&amp; j &lt;= right) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(arr[i] &lt;= arr[j]) &#123;</span><br><span class=\"line\">            temp[k++] = arr[i++];</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            temp[k++] = arr[j++];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 复制剩余元素</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(i &lt;= mid) temp[k++] = arr[i++];</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(j &lt;= right) temp[k++] = arr[j++];</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 将临时数组复制回原数组</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(i = <span class=\"number\">0</span>; i &lt; k; i++) &#123;</span><br><span class=\"line\">        arr[left + i] = temp[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">mergeSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> left, <span class=\"type\">int</span> right)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(left &lt; right) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> mid = left + (right - left) / <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"built_in\">mergeSort</span>(arr, left, mid);</span><br><span class=\"line\">        <span class=\"built_in\">mergeSort</span>(arr, mid + <span class=\"number\">1</span>, right);</span><br><span class=\"line\">        <span class=\"built_in\">merge</span>(arr, left, mid, right);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 封装函数，方便调用</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">mergeSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">mergeSort</span>(arr, <span class=\"number\">0</span>, arr.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"6-堆排序-Heap-Sort\">6. 堆排序 (Heap Sort)</h2>\n<p>堆排序是利用堆这种数据结构所设计的一种排序算法。它通过构建最大堆或最小堆来进行排序。</p>\n<h3 id=\"实现原理-6\">实现原理</h3>\n<ul>\n<li>时间复杂度：O(nlogn)</li>\n<li>空间复杂度：O(1)</li>\n<li>稳定性：不稳定</li>\n</ul>\n<h3 id=\"实现代码-6\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">heapify</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> n, <span class=\"type\">int</span> i)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> largest = i;</span><br><span class=\"line\">    <span class=\"type\">int</span> left = <span class=\"number\">2</span> * i + <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> right = <span class=\"number\">2</span> * i + <span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 如果左子节点大于根节点</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(left &lt; n &amp;&amp; arr[left] &gt; arr[largest]) &#123;</span><br><span class=\"line\">        largest = left;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 如果右子节点大于最大值</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(right &lt; n &amp;&amp; arr[right] &gt; arr[largest]) &#123;</span><br><span class=\"line\">        largest = right;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 如果最大值不是根节点</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(largest != i) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">swap</span>(arr[i], arr[largest]);</span><br><span class=\"line\">        <span class=\"built_in\">heapify</span>(arr, n, largest);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">heapSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n = arr.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 构建最大堆</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = n/<span class=\"number\">2</span><span class=\"number\">-1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">heapify</span>(arr, n, i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 一个个从堆顶取出元素</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = n<span class=\"number\">-1</span>; i &gt; <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">swap</span>(arr[<span class=\"number\">0</span>], arr[i]);</span><br><span class=\"line\">        <span class=\"built_in\">heapify</span>(arr, i, <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"排序算法的比较\">排序算法的比较</h2>\n<table>\n<thead>\n<tr>\n<th>排序算法</th>\n<th>平均时间复杂度</th>\n<th>最坏时间复杂度</th>\n<th>空间复杂度</th>\n<th>稳定性</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>冒泡排序</td>\n<td>O(n²)</td>\n<td>O(n²)</td>\n<td>O(1)</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>选择排序</td>\n<td>O(n²)</td>\n<td>O(n²)</td>\n<td>O(1)</td>\n<td>不稳定</td>\n</tr>\n<tr>\n<td>插入排序</td>\n<td>O(n²)</td>\n<td>O(n²)</td>\n<td>O(1)</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>快速排序</td>\n<td>O(nlogn)</td>\n<td>O(n²)</td>\n<td>O(logn)</td>\n<td>不稳定</td>\n</tr>\n<tr>\n<td>归并排序</td>\n<td>O(nlogn)</td>\n<td>O(nlogn)</td>\n<td>O(n)</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>堆排序</td>\n<td>O(nlogn)</td>\n<td>O(nlogn)</td>\n<td>O(1)</td>\n<td>不稳定</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"如何选择排序算法？\">如何选择排序算法？</h2>\n<ol>\n<li>数据量小（n &lt; 50）：插入排序</li>\n<li>数据量大：\n<ul>\n<li>要求稳定：归并排序</li>\n<li>不要求稳定：快速排序</li>\n</ul>\n</li>\n<li>内存空间有限：堆排序</li>\n<li>数据基本有序：插入排序</li>\n<li>数据量特别大且有重复：计数排序/基数排序</li>\n</ol>\n<h2 id=\"总结\">总结</h2>\n<p>每种排序算法都有其特点和适用场景。在实际应用中，我们需要根据具体情况（数据规模、稳定性要求、空间限制等）来选择合适的排序算法。大多数编程语言的标准库中的排序实现都是一种改进的快速排序，它能够很好地适应各种情况。</p>\n</div>","excerpt":"","more":"<h1>排序算法详解</h1>\n<p>排序算法是计算机科学中最基础也是最重要的算法之一。本文将详细介绍几种常见的排序算法，包括它们的实现原理、时间复杂度和适用场景。本文所有代码示例使用 C++ 实现，需要包含以下头文件：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;algorithm&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br></pre></td></tr></table></figure>\n<h2 id=\"1-冒泡排序-Bubble-Sort\">1. 冒泡排序 (Bubble Sort)</h2>\n<p>冒泡排序是最简单的排序算法之一，它重复地遍历要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。</p>\n<h3 id=\"实现原理\">实现原理</h3>\n<ul>\n<li>时间复杂度：O(n²)</li>\n<li>空间复杂度：O(1)</li>\n<li>稳定性：稳定</li>\n</ul>\n<h3 id=\"实现代码\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">bubbleSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n = arr.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"type\">bool</span> swapped;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n<span class=\"number\">-1</span>; i++) &#123;</span><br><span class=\"line\">        swapped = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 每一轮比较</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n-i<span class=\"number\">-1</span>; j++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 相邻元素比较并交换</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(arr[j] &gt; arr[j<span class=\"number\">+1</span>]) &#123;</span><br><span class=\"line\">                <span class=\"built_in\">swap</span>(arr[j], arr[j<span class=\"number\">+1</span>]);</span><br><span class=\"line\">                swapped = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 如果没有发生交换，说明数组已经有序</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!swapped) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"2-选择排序-Selection-Sort\">2. 选择排序 (Selection Sort)</h2>\n<p>选择排序的工作原理是每次从待排序的数据中选出最小（或最大）的元素，存放在序列的起始位置。</p>\n<h3 id=\"实现原理-2\">实现原理</h3>\n<ul>\n<li>时间复杂度：O(n²)</li>\n<li>空间复杂度：O(1)</li>\n<li>稳定性：不稳定</li>\n</ul>\n<h3 id=\"实现代码-2\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">selectionSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n = arr.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n<span class=\"number\">-1</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> min_idx = i;</span><br><span class=\"line\">        <span class=\"comment\">// 在未排序部分找最小值</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = i<span class=\"number\">+1</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(arr[j] &lt; arr[min_idx]) &#123;</span><br><span class=\"line\">                min_idx = j;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 将找到的最小值放到已排序序列的末尾</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(min_idx != i) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">swap</span>(arr[i], arr[min_idx]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-插入排序-Insertion-Sort\">3. 插入排序 (Insertion Sort)</h2>\n<p>插入排序的工作原理是通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。</p>\n<h3 id=\"实现原理-3\">实现原理</h3>\n<ul>\n<li>时间复杂度：O(n²)</li>\n<li>空间复杂度：O(1)</li>\n<li>稳定性：稳定</li>\n</ul>\n<h3 id=\"实现代码-3\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insertionSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n = arr.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> key = arr[i];</span><br><span class=\"line\">        <span class=\"type\">int</span> j = i - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 将大于key的元素都向后移动</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(j &gt;= <span class=\"number\">0</span> &amp;&amp; arr[j] &gt; key) &#123;</span><br><span class=\"line\">            arr[j<span class=\"number\">+1</span>] = arr[j];</span><br><span class=\"line\">            j--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        arr[j<span class=\"number\">+1</span>] = key;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"4-快速排序-Quick-Sort\">4. 快速排序 (Quick Sort)</h2>\n<p>快速排序是一种分治算法，它通过选择一个&quot;基准&quot;元素，将数组分成两个子数组，小于基准的元素放在左边，大于基准的元素放在右边。</p>\n<h3 id=\"实现原理-4\">实现原理</h3>\n<ul>\n<li>时间复杂度：平均 O(nlogn)，最坏 O(n²)</li>\n<li>空间复杂度：O(logn)</li>\n<li>稳定性：不稳定</li>\n</ul>\n<h3 id=\"实现代码-4\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">partition</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> low, <span class=\"type\">int</span> high)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> pivot = arr[high];    <span class=\"comment\">// 选择最右边的元素作为基准</span></span><br><span class=\"line\">    <span class=\"type\">int</span> i = low - <span class=\"number\">1</span>;          <span class=\"comment\">// 小于基准的元素的最后一个位置</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = low; j &lt; high; j++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果当前元素小于基准，则将其交换到前面</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(arr[j] &lt; pivot) &#123;</span><br><span class=\"line\">            i++;</span><br><span class=\"line\">            <span class=\"built_in\">swap</span>(arr[i], arr[j]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">swap</span>(arr[i + <span class=\"number\">1</span>], arr[high]);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> i + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">quickSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> low, <span class=\"type\">int</span> high)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(low &lt; high) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 获取分区点</span></span><br><span class=\"line\">        <span class=\"type\">int</span> pi = <span class=\"built_in\">partition</span>(arr, low, high);</span><br><span class=\"line\">        <span class=\"comment\">// 递归排序左右两部分</span></span><br><span class=\"line\">        <span class=\"built_in\">quickSort</span>(arr, low, pi - <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"built_in\">quickSort</span>(arr, pi + <span class=\"number\">1</span>, high);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 封装函数，方便调用</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">quickSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">quickSort</span>(arr, <span class=\"number\">0</span>, arr.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"5-归并排序-Merge-Sort\">5. 归并排序 (Merge Sort)</h2>\n<p>归并排序是一种分治算法，它将数组分成两半，递归地排序两半，然后将它们合并起来。</p>\n<h3 id=\"实现原理-5\">实现原理</h3>\n<ul>\n<li>时间复杂度：O(nlogn)</li>\n<li>空间复杂度：O(n)</li>\n<li>稳定性：稳定</li>\n</ul>\n<h3 id=\"实现代码-5\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">merge</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> left, <span class=\"type\">int</span> mid, <span class=\"type\">int</span> right)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">temp</span><span class=\"params\">(right - left + <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> i = left, j = mid + <span class=\"number\">1</span>, k = <span class=\"number\">0</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 合并两个有序数组</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(i &lt;= mid &amp;&amp; j &lt;= right) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(arr[i] &lt;= arr[j]) &#123;</span><br><span class=\"line\">            temp[k++] = arr[i++];</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            temp[k++] = arr[j++];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 复制剩余元素</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(i &lt;= mid) temp[k++] = arr[i++];</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(j &lt;= right) temp[k++] = arr[j++];</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 将临时数组复制回原数组</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(i = <span class=\"number\">0</span>; i &lt; k; i++) &#123;</span><br><span class=\"line\">        arr[left + i] = temp[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">mergeSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> left, <span class=\"type\">int</span> right)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(left &lt; right) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> mid = left + (right - left) / <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"built_in\">mergeSort</span>(arr, left, mid);</span><br><span class=\"line\">        <span class=\"built_in\">mergeSort</span>(arr, mid + <span class=\"number\">1</span>, right);</span><br><span class=\"line\">        <span class=\"built_in\">merge</span>(arr, left, mid, right);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 封装函数，方便调用</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">mergeSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">mergeSort</span>(arr, <span class=\"number\">0</span>, arr.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"6-堆排序-Heap-Sort\">6. 堆排序 (Heap Sort)</h2>\n<p>堆排序是利用堆这种数据结构所设计的一种排序算法。它通过构建最大堆或最小堆来进行排序。</p>\n<h3 id=\"实现原理-6\">实现原理</h3>\n<ul>\n<li>时间复杂度：O(nlogn)</li>\n<li>空间复杂度：O(1)</li>\n<li>稳定性：不稳定</li>\n</ul>\n<h3 id=\"实现代码-6\">实现代码</h3>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">heapify</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> n, <span class=\"type\">int</span> i)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> largest = i;</span><br><span class=\"line\">    <span class=\"type\">int</span> left = <span class=\"number\">2</span> * i + <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> right = <span class=\"number\">2</span> * i + <span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 如果左子节点大于根节点</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(left &lt; n &amp;&amp; arr[left] &gt; arr[largest]) &#123;</span><br><span class=\"line\">        largest = left;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 如果右子节点大于最大值</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(right &lt; n &amp;&amp; arr[right] &gt; arr[largest]) &#123;</span><br><span class=\"line\">        largest = right;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 如果最大值不是根节点</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(largest != i) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">swap</span>(arr[i], arr[largest]);</span><br><span class=\"line\">        <span class=\"built_in\">heapify</span>(arr, n, largest);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">heapSort</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> n = arr.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 构建最大堆</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = n/<span class=\"number\">2</span><span class=\"number\">-1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">heapify</span>(arr, n, i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 一个个从堆顶取出元素</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = n<span class=\"number\">-1</span>; i &gt; <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">swap</span>(arr[<span class=\"number\">0</span>], arr[i]);</span><br><span class=\"line\">        <span class=\"built_in\">heapify</span>(arr, i, <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"排序算法的比较\">排序算法的比较</h2>\n<table>\n<thead>\n<tr>\n<th>排序算法</th>\n<th>平均时间复杂度</th>\n<th>最坏时间复杂度</th>\n<th>空间复杂度</th>\n<th>稳定性</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>冒泡排序</td>\n<td>O(n²)</td>\n<td>O(n²)</td>\n<td>O(1)</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>选择排序</td>\n<td>O(n²)</td>\n<td>O(n²)</td>\n<td>O(1)</td>\n<td>不稳定</td>\n</tr>\n<tr>\n<td>插入排序</td>\n<td>O(n²)</td>\n<td>O(n²)</td>\n<td>O(1)</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>快速排序</td>\n<td>O(nlogn)</td>\n<td>O(n²)</td>\n<td>O(logn)</td>\n<td>不稳定</td>\n</tr>\n<tr>\n<td>归并排序</td>\n<td>O(nlogn)</td>\n<td>O(nlogn)</td>\n<td>O(n)</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>堆排序</td>\n<td>O(nlogn)</td>\n<td>O(nlogn)</td>\n<td>O(1)</td>\n<td>不稳定</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"如何选择排序算法？\">如何选择排序算法？</h2>\n<ol>\n<li>数据量小（n &lt; 50）：插入排序</li>\n<li>数据量大：\n<ul>\n<li>要求稳定：归并排序</li>\n<li>不要求稳定：快速排序</li>\n</ul>\n</li>\n<li>内存空间有限：堆排序</li>\n<li>数据基本有序：插入排序</li>\n<li>数据量特别大且有重复：计数排序/基数排序</li>\n</ol>\n<h2 id=\"总结\">总结</h2>\n<p>每种排序算法都有其特点和适用场景。在实际应用中，我们需要根据具体情况（数据规模、稳定性要求、空间限制等）来选择合适的排序算法。大多数编程语言的标准库中的排序实现都是一种改进的快速排序，它能够很好地适应各种情况。</p>\n"},{"title":"基于深度学习的图像分类","date":"2025-04-15T07:35:25.000Z","updated":"2025-04-27T02:56:42.319Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417222715500.png","_content":"\n## 使用ResNet18预训练模型\n\n由于笔记本性能太差，所以在服务器上运行的，显卡配置为4090。经大量实验判断，初始学习率为0.01最后效果较差，所以初始学习率应设为0.001。全部代码代码已上传到：https://github.com/wp-a/-CIFAR10-.git\n\n### 库函数导入\n\n```python\nimport matplotlib.pyplot as plt\nimport torch\nimport torch.nn as nn\nimport torchvision\nimport torchvision.transforms as transforms\nfrom sklearn.metrics import confusion_matrix, classification_report\nfrom itertools import chain\nimport multiprocessing\ndevice = torch.device(\"cuda:0\" if torch.cuda.is_available() else \"cpu\")\n```\n\n### 数据集加载及增强操作\n\n```python\ntransform_train = transforms.Compose([\n    transforms.Resize(224),\t#图像从32x32放大到224x224是通过在原始像素之间插入新的像素点来实现的。插入的像素值是根据周围原始像素的值，通过不同的插值算法计算出来的，默认使用双线性插值。\n    transforms.RandomHorizontalFlip(), #以 0.5 的概率水平随机翻转图像\n    transforms.RandomRotation(10),  #将图像随机旋转 -10 到 10 度之间的角度\n    transforms.ToTensor(),  #将图像从 PIL 图像格式转换为 PyTorch 张量\n    transforms.Normalize((0.4914, 0.4822, 0.4465), (0.2470, 0.2435, 0.2616)) \n    #使用为三个颜色通道中的每一个提供的平均和标准差来标准化图像的像素值(归一化)\n])\n\ntransform_test = transforms.Compose([\n    transforms.Resize(224),\n    transforms.ToTensor(),\n    transforms.Normalize((0.4914, 0.4822, 0.4465), (0.2470, 0.2435, 0.2616))\n])\n\n# 加载CIFAR-10数据集\ntrain_set = torchvision.datasets.CIFAR10(\"./data\", download=True, transform=transform_train)\ntest_set = torchvision.datasets.CIFAR10(\"./data\", download=True, train=False, transform=transform_test)\n\nbatch_size = 64  \ntrain_loader = torch.utils.data.DataLoader(train_set, batch_size=batch_size, shuffle=True, num_workers=0)\ntest_loader = torch.utils.data.DataLoader(test_set, batch_size=batch_size, shuffle=False, num_workers=0)\n\nclasses = ('plane', 'car', 'bird', 'cat', 'deer', 'dog', 'frog', 'horse', 'ship', 'truck')\n\n#返回数字对应的类名\ndef output_label(label):\n    output_mapping = {\n        0: \"plane\", 1: \"car\", 2: \"bird\", 3: \"cat\", 4: \"deer\",\n        5: \"dog\", 6: \"frog\", 7: \"horse\", 8: \"ship\", 9: \"truck\"\n    }\n    input = (label.item() if type(label) == torch.Tensor else label)\n    return output_mapping[input]\n```\n\n### 加载预训练模型\n\n```py\ndef get_resnet18(pretrained=True):\n    model = torchvision.models.resnet18(pretrained=pretrained)\n    model.fc = nn.Linear(512, 10)  # 修改最后一层以适应CIFAR10的10个类别\n    return model\n\nmodel = get_resnet18()\nmodel = model.to(device)\n```\n\n### 模型训练超参数设置\n\n```py\n#定义损失函数，初始学习率，优化器\ncriterion = nn.CrossEntropyLoss()\nlearning_rate = 0.001\noptimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)\n\n#学习率调节器，前期需要较大步长来快速收敛，后期如还用较大步长可能会在极小值周围震荡，所以后期学习率逐步衰减。可以提高训练效率和性能。Adam负责在参数层面进行自适应的学习率调整，以加快收敛。学习率调度器负责在训练过程的宏观层面调整全局学习率，以提高模型的最终性能和泛化能力。二者不会产生冲突。\ndef exp_lr_scheduler(optimizer, epoch, init_lr=0.001, lr_decay_epoch=2):\n    lr = init_lr * (0.1 ** (epoch // lr_decay_epoch))\n    if epoch % lr_decay_epoch == 0:\n        print(f'LR is set to {lr}')\n    for param_group in optimizer.param_groups:\n        param_group['lr'] = lr\n    return optimizer\n```\n\n### 模型训练\n\n```python\nnum_epochs = 6\ncount = 0\nloss_list = []\niteration_list = []\naccuracy_list = []\npredictions_list = []\nlabels_list = []\n\nfor epoch in range(num_epochs):\n    model.train() \n    running_loss = 0.0\n\n    optimizer = exp_lr_scheduler(optimizer, epoch, init_lr=learning_rate, lr_decay_epoch=2)\n\n    for i, (images, labels) in enumerate(train_loader):\n        images, labels = images.to(device), labels.to(device)\n\n        outputs = model(images)\n        loss = criterion(outputs, labels)\n\n        optimizer.zero_grad()\n        loss.backward()\n        optimizer.step()\n\n        running_loss += loss.item()\n        count += 1\n\n        if (i + 1) % 50 == 0:\n            print(f'Epoch [{epoch + 1}/{num_epochs}], Step [{i + 1}/{len(train_loader)}], Loss: {loss.item():.4f}')\n\n            model.eval()  \n            total = 0\n            correct = 0\n            test_predictions = []\n            test_labels = []\n\n            with torch.no_grad():\n                for images, labels in test_loader:\n                    images, labels = images.to(device), labels.to(device)\n                    test_labels.extend(labels.cpu().numpy())\n\n                    outputs = model(images)\n                    _, predicted = torch.max(outputs.data, 1)\n                    test_predictions.extend(predicted.cpu().numpy())\n\n                    total += labels.size(0)\n                    correct += (predicted == labels).sum().item()\n\n            accuracy = 100 * correct / total\n            print(f'Accuracy on test set: {accuracy:.2f}%')\n\n            loss_list.append(loss.item())\n            iteration_list.append(count)\n            accuracy_list.append(accuracy)\n\n            predictions_list.append(test_predictions)\n            labels_list.append(test_labels)\n\n            model.train()\n\nprint('Finished Training')\n```\n\n### 实验结果保存\n\n```python\ntorch.save(model.state_dict(), 'resnet18_cifar10.pth')\nprint('Model saved to resnet18_cifar10.pth')\n\nplt.figure(figsize=(10, 5))\nplt.plot(iteration_list, loss_list)\nplt.xlabel(\"No. of Iteration\")\nplt.ylabel(\"Loss\")\nplt.title(\"Iterations vs Loss\")\nplt.savefig('loss_curve.png')\nplt.show()\n\nplt.figure(figsize=(10, 5))\nplt.plot(iteration_list, accuracy_list)\nplt.xlabel(\"No. of Iteration\")\nplt.ylabel(\"Accuracy\")\nplt.title(\"Iterations vs Accuracy\")\nplt.savefig('accuracy_curve.png')\nplt.show()\n\nclass_correct = [0. for _ in range(10)]\ntotal_correct = [0. for _ in range(10)]\n\nmodel.eval()\nwith torch.no_grad():\n    for images, labels in test_loader:\n        images, labels = images.to(device), labels.to(device)\n        outputs = model(images)\n        _, predicted = torch.max(outputs, 1)\n        c = (predicted == labels).squeeze()\n\n        for i in range(labels.size(0)):\n            label = labels[i]\n            class_correct[label] += c[i].item()\n            total_correct[label] += 1\n\nfor i in range(10):\n    print(f\"Accuracy of {classes[i]}: {100 * class_correct[i] / total_correct[i]:.2f}%\")\n\nflat_predictions = list(chain.from_iterable(predictions_list))\nflat_labels = list(chain.from_iterable(labels_list))\n\ncm = confusion_matrix(flat_labels, flat_predictions)\nprint(\"Confusion Matrix:\")\nprint(cm)\n\nprint(\"Classification report for ResNet on CIFAR-10:\")\nprint(classification_report(flat_labels, flat_predictions, target_names=classes))\n```\n\n### 实验结果分析\n\n#### lr分析\n\n由实验结果可得lr=0.01时，效果较差，所以直接设置初始学习率为0.001可以更节省时间，提高效率。当学习率为1e-6时，发现准确率更新较小，所以准确率最小设置为1e-6。即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。即令epoch / lr_decay_epoch = 3或4 都可以，具体以epoch大小为准。\n\n##### lr=0.01\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415232217886.png\" style=\"zoom:50%;\" />\n\n##### lr=0.001\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415233045935.png\" style=\"zoom:50%;\" />\n\n##### lr=1e6\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415232556823.png\" style=\"zoom:50%;\" />\n\n#### batchsize分析\n\n##### Batchsize：64    epoch：6      lr_decay_epoch：2      初始学习率为0.001       94.46%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415220614773.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415220725745.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415205718074.png\" style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415231949009.png\" style=\"zoom:50%;\" />\n\n##### Batchsize：128       epoch：12      lr_decay_epoch：3        初始学习率为0.001     95.23%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234407813.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234416059.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234515857.png\"  style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234548312.png\"  style=\"zoom:50%;\" />\n\n##### Batchsize：128    epoch：20      lr_decay_epoch：5       初始学习率为0.01        85.87%\n\n和分析的一致，对比下面实验，控制变量，只有初始学习率改变，精度提升10%左右。\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011056469.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011103696.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011422605.png\"  style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011431888.png\"  style=\"zoom:50%;\" />\n\n##### Batchsize：128    epoch：20      lr_decay_epoch：5       初始学习率为0.001        95.44%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011705314.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011712657.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011728662.png\"  style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011735321.png\"  style=\"zoom:50%;\" />\n\n##### Batchsize：64      epoch：20      lr_decay_epoch：5       初始学习率为0.001        95.66%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111941885.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111952429.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416112318297.png\"  style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416112327065.png\"  style=\"zoom:50%;\" />\n\n\n\n## 使用LeNet网络\n\n与Resnet相比换了一个网络和改了数据加载模块，其他没啥变化。\n\n### 库函数导入\n\n```python\nimport matplotlib.pyplot as plt\nimport torch\nimport torch.nn as nn\nimport torchvision\nimport torchvision.transforms as transforms\nfrom sklearn.metrics import confusion_matrix, classification_report\nfrom itertools import chain\nimport multiprocessing\ndevice = torch.device(\"cuda:0\" if torch.cuda.is_available() else \"cpu\")\n```\n\n### 数据集加载及增强操作\n\n```python\ntransform = transforms.Compose(\n        [transforms.RandomHorizontalFlip(),\n         transforms.RandomCrop(32, padding=4),\n         transforms.ToTensor(),\n         transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0.5))])\n\ntrainset = torchvision.datasets.CIFAR10(root='./data', train=True,\n                                            download=True, transform=transform)\ntrain_loader = torch.utils.data.DataLoader(trainset, batch_size=32,\n                                              shuffle=True, num_workers=2)\n\ntestset = torchvision.datasets.CIFAR10(root='./data', train=False,\n                                           download=True, transform=transform)\ntest_loader = torch.utils.data.DataLoader(testset, batch_size=32,\n                                             shuffle=False, num_workers=2)\n\nclasses = ('plane', 'car', 'bird', 'cat', 'deer', 'dog', 'frog', 'horse', 'ship', 'truck')\n\ndef output_label(label):\n    output_mapping = {\n        0: \"plane\", 1: \"car\", 2: \"bird\", 3: \"cat\", 4: \"deer\",\n        5: \"dog\", 6: \"frog\", 7: \"horse\", 8: \"ship\", 9: \"truck\"\n    }\n    input = (label.item() if type(label) == torch.Tensor else label)\n    return output_mapping[input]\n```\n\n### LeNet模型\n\n```py\nclass C1(nn.Module):\n    def __init__(self):\n        super(C1, self).__init__()\n        self.c1 = nn.Sequential(OrderedDict([\n            ('conv1', nn.Conv2d(3, 6, kernel_size=(5, 5))),\n            ('relu1', nn.ReLU()),\n            ('pool1', nn.MaxPool2d(kernel_size=(2, 2), stride=2))\n        ]))\n\n    def forward(self, img):\n        output = self.c1(img)\n        return output\n\nclass C3(nn.Module):\n    def __init__(self):\n        super(C3, self).__init__()\n        self.c3 = nn.Sequential(OrderedDict([\n            ('conv3', nn.Conv2d(6, 16, kernel_size=(5, 5))),\n            ('relu3', nn.ReLU()),\n            ('pool3', nn.MaxPool2d(kernel_size=(2, 2), stride=2))\n        ]))\n\n    def forward(self, img):\n        output = self.c3(img)\n        return output\n\nclass F4(nn.Module):\n    def __init__(self):\n        super(F4, self).__init__()\n        self.f4 = nn.Sequential(OrderedDict([\n            ('fc4', nn.Linear(16 * 5 * 5, 120)),\n            ('relu4', nn.ReLU())\n        ]))\n\n    def forward(self, img):\n        output = self.f4(img)\n        return output\n\nclass F5(nn.Module):\n    def __init__(self):\n        super(F5, self).__init__()\n        self.f5 = nn.Sequential(OrderedDict([\n            ('fc5', nn.Linear(120, 84)),\n            ('relu5', nn.ReLU())\n        ]))\n\n    def forward(self, img):\n        output = self.f5(img)\n        return output\n\nclass F6(nn.Module):\n    def __init__(self):\n        super(F6, self).__init__()\n        self.f6 = nn.Sequential(OrderedDict([\n            ('fc6', nn.Linear(84, 10))\n        ]))\n\n    def forward(self, img):\n        output = self.f6(img)\n        return output\n\nclass LeNet5(nn.Module):\n    def __init__(self):\n        super(LeNet5, self).__init__()\n        self.c1 = C1()\n        self.c3 = C3()\n        self.f4 = F4()\n        self.f5 = F5()\n        self.f6 = F6()\n\n    def forward(self, img):\n        output = self.c1(img)\n        output = self.c3(output)\n        output = output.view(-1, 16 * 5 * 5)\n        output = self.f4(output)\n        output = self.f5(output)\n        output = self.f6(output)\n        return output\n```\n\n### 模型训练超参数设置\n\n```py\n#定义损失函数，初始学习率，优化器\ncriterion = nn.CrossEntropyLoss()\nlearning_rate = 0.001\noptimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)\n\n#学习率调节器，前期需要较大步长来快速收敛，后期如还用较大步长可能会在极小值周围震荡，所以后期学习率逐步衰减。可以提高训练效率和性能。\ndef exp_lr_scheduler(optimizer, epoch, init_lr=0.001, lr_decay_epoch=2):\n    lr = init_lr * (0.1 ** (epoch // lr_decay_epoch))\n    if epoch % lr_decay_epoch == 0:\n        print(f'LR is set to {lr}')\n    for param_group in optimizer.param_groups:\n        param_group['lr'] = lr\n    return optimizer\n```\n\n### 模型训练\n\n```python\nnum_epochs = 20\ncount = 0\nloss_list = []\niteration_list = []\naccuracy_list = []\npredictions_list = []\nlabels_list = []\n\nfor epoch in range(num_epochs):\n    model.train() \n    running_loss = 0.0\n\n    optimizer = exp_lr_scheduler(optimizer, epoch, init_lr=learning_rate, lr_decay_epoch=2)\n\n    for i, (images, labels) in enumerate(train_loader):\n        images, labels = images.to(device), labels.to(device)\n\n        outputs = model(images)\n        loss = criterion(outputs, labels)\n\n        optimizer.zero_grad()\n        loss.backward()\n        optimizer.step()\n\n        running_loss += loss.item()\n        count += 1\n\n        if (i + 1) % 50 == 0:\n            print(f'Epoch [{epoch + 1}/{num_epochs}], Step [{i + 1}/{len(train_loader)}], Loss: {loss.item():.4f}')\n\n            model.eval() \n            total = 0\n            correct = 0\n            test_predictions = []\n            test_labels = []\n\n            with torch.no_grad():\n                for images, labels in test_loader:\n                    images, labels = images.to(device), labels.to(device)\n                    test_labels.extend(labels.cpu().numpy())\n\n                    outputs = model(images)\n                    _, predicted = torch.max(outputs.data, 1)\n                    test_predictions.extend(predicted.cpu().numpy())\n\n                    total += labels.size(0)\n                    correct += (predicted == labels).sum().item()\n\n            accuracy = 100 * correct / total\n            print(f'Accuracy on test set: {accuracy:.2f}%')\n\n            loss_list.append(loss.item())\n            iteration_list.append(count)\n            accuracy_list.append(accuracy)\n\n            predictions_list.append(test_predictions)\n            labels_list.append(test_labels)\n\n            model.train()\n\nprint('Finished Training')\n```\n\n### 实验结果保存\n\n```python\ntorch.save(model.state_dict(), 'lenet5_cifar10.pth') \nprint('Model saved to lenet5_cifar10.pth')\n\nplt.figure(figsize=(10, 5))\nplt.plot(iteration_list, loss_list)\nplt.xlabel(\"No. of Iteration\")\nplt.ylabel(\"Loss\")\nplt.title(\"Iterations vs Loss\")\nplt.savefig('loss_curve.png')\nplt.show()\n\nplt.figure(figsize=(10, 5))\nplt.plot(iteration_list, accuracy_list)\nplt.xlabel(\"No. of Iteration\")\nplt.ylabel(\"Accuracy\")\nplt.title(\"Iterations vs Accuracy\")\nplt.savefig('accuracy_curve.png')\nplt.show()\n\nclass_correct = [0. for _ in range(10)]\ntotal_correct = [0. for _ in range(10)]\n\nmodel.eval()\nwith torch.no_grad():\n    for images, labels in test_loader:\n        images, labels = images.to(device), labels.to(device)\n        outputs = model(images)\n        _, predicted = torch.max(outputs, 1)\n        c = (predicted == labels).squeeze()\n\n        for i in range(labels.size(0)):\n            label = labels[i]\n            class_correct[label] += c[i].item()\n            total_correct[label] += 1\n\nfor i in range(10):\n    print(f\"Accuracy of {classes[i]}: {100 * class_correct[i] / total_correct[i]:.2f}%\")\n\nflat_predictions = list(chain.from_iterable(predictions_list))\nflat_labels = list(chain.from_iterable(labels_list))\n\ncm = confusion_matrix(flat_labels, flat_predictions)\nprint(\"Confusion Matrix:\")\nprint(cm)\n\nprint(\"Classification report for LeNet on CIFAR-10:\") \nprint(classification_report(flat_labels, flat_predictions, target_names=classes))\n```\n\n\n\n### 实验结果分析\n\n#### 使用图像增强操作\n\n##### Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       60.56%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143045031.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143053524.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143111341.png\" style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143119004.png\" style=\"zoom:50%;\" />\n\n#### 未使用图像增强操作\n\n##### Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       62.66%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100137609.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100147883.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100211736.png\" style=\"zoom:50%;\" />\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100219120.png\" style=\"zoom:50%;\" />\n\n\n\n## 使用FashionNet\n\n代码详见github\n\n### 图像增强操作训练结果分析\n\n#### 使用图像增强操作\n\n##### Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        71.51%\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417094047006.png\" style=\"zoom:50%;\" />\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417094113225.png\" style=\"zoom:50%;\" />\n\n\n\n#### 未使用图像增强操作\n\n##### Batchsize：128      epoch：30      lr_decay_epoch：6     初始学习率为 0.01        71.69%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416003738154.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416003746404.png)\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416004553116.png\"  style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416004618803.png\" style=\"zoom:50%;\" />\n\n##### Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        74.25%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416124752133.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416124817538.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416125051704.png\" style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416125058999.png\" style=\"zoom:50%;\" />\n\n\n\n\n\n## Gradcam实现图像特征可视化\n\nGrad-CAM 的目标层均为最后一个卷积层\n\n### Resnet效果图\n\n参数配置    Batch_size：64    epoch：20      lr_decay_epoch：5     lr：0.001      95.66%\n\n图片来自谷歌。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111246144.png\" style=\"zoom: 50%;\" />\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg)      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111606162.png\" style=\"zoom:50%;\" />\n\n### FashionNet效果图\n\n参数配置      Bachsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        74.25%\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416130110520.png\"  style=\"zoom:50%;\" />\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg)      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416130415531.png\"  style=\"zoom:50%;\" />\n\n### LeNet效果图\n\n参数配置      Bachsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       60.56%\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143505157.png\"  style=\"zoom:50%;\" />\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg)      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143631428.png\"  style=\"zoom:50%;\" />\n\n## 总结\n\n### 数据集在不同模型上的准确率\n\n| 模型       | 准确率 |\n| ---------- | ------ |\n| ResNet     | 95.66% |\n| LeNet      | 62.66% |\n| FashionNet | 74.25% |\n\n### LeNet对数据集进行图像增强操作的影响\n\n分析：由于模型过于简单，本来就会出现欠拟合现象，继续进行图像增强操作后会导致模型更加欠拟合。所以出现三个模型精度差距较大，主要是因为模型复杂度的差距。虽然是欠拟合，但是继续增加epoch也并不会提高精度，因为模型对数据已经学到了尽可能多的知识。\n\n| 未归一化 | 归一化 | 图像增强操作 | 大量图像增强操作 |\n| -------- | ------ | ------------ | ---------------- |\n| 58.75%   | 62.66% | 60.56%       | 56.78%           |\n\n### 神经网络参数对模型准确率的影响\n\nbatch_size：64或128并无太大影响。\n\n初始学习率：由实验结果可得lr=0.01时，效果较差，三个网络都使用了0.01进行测试得出的结果，有的实验结果没贴图。所以直接设置初始学习率为0.001可以更节省时间，提高效率。当学习率为1e-6时，发现准确率更新较小，所以准确率最小设置为1e-6。即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。\n\nlr_decay_epoch和epoch：即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。即令epoch / lr_decay_epoch = 3或4 都可以，具体以epoch大小为准。\n\n\n\n\n\n","source":"_posts/基于深度学习的图像分类.md","raw":"---\ntitle: 基于深度学习的图像分类\ndate: 2025-04-15 15:35:25\ntags: [深度学习,图像分类,Resnet,Lenet,CIFAR10]\ncategories: [学习,深度学习,图像分类,CIFAR10]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417222715500.png\n---\n\n## 使用ResNet18预训练模型\n\n由于笔记本性能太差，所以在服务器上运行的，显卡配置为4090。经大量实验判断，初始学习率为0.01最后效果较差，所以初始学习率应设为0.001。全部代码代码已上传到：https://github.com/wp-a/-CIFAR10-.git\n\n### 库函数导入\n\n```python\nimport matplotlib.pyplot as plt\nimport torch\nimport torch.nn as nn\nimport torchvision\nimport torchvision.transforms as transforms\nfrom sklearn.metrics import confusion_matrix, classification_report\nfrom itertools import chain\nimport multiprocessing\ndevice = torch.device(\"cuda:0\" if torch.cuda.is_available() else \"cpu\")\n```\n\n### 数据集加载及增强操作\n\n```python\ntransform_train = transforms.Compose([\n    transforms.Resize(224),\t#图像从32x32放大到224x224是通过在原始像素之间插入新的像素点来实现的。插入的像素值是根据周围原始像素的值，通过不同的插值算法计算出来的，默认使用双线性插值。\n    transforms.RandomHorizontalFlip(), #以 0.5 的概率水平随机翻转图像\n    transforms.RandomRotation(10),  #将图像随机旋转 -10 到 10 度之间的角度\n    transforms.ToTensor(),  #将图像从 PIL 图像格式转换为 PyTorch 张量\n    transforms.Normalize((0.4914, 0.4822, 0.4465), (0.2470, 0.2435, 0.2616)) \n    #使用为三个颜色通道中的每一个提供的平均和标准差来标准化图像的像素值(归一化)\n])\n\ntransform_test = transforms.Compose([\n    transforms.Resize(224),\n    transforms.ToTensor(),\n    transforms.Normalize((0.4914, 0.4822, 0.4465), (0.2470, 0.2435, 0.2616))\n])\n\n# 加载CIFAR-10数据集\ntrain_set = torchvision.datasets.CIFAR10(\"./data\", download=True, transform=transform_train)\ntest_set = torchvision.datasets.CIFAR10(\"./data\", download=True, train=False, transform=transform_test)\n\nbatch_size = 64  \ntrain_loader = torch.utils.data.DataLoader(train_set, batch_size=batch_size, shuffle=True, num_workers=0)\ntest_loader = torch.utils.data.DataLoader(test_set, batch_size=batch_size, shuffle=False, num_workers=0)\n\nclasses = ('plane', 'car', 'bird', 'cat', 'deer', 'dog', 'frog', 'horse', 'ship', 'truck')\n\n#返回数字对应的类名\ndef output_label(label):\n    output_mapping = {\n        0: \"plane\", 1: \"car\", 2: \"bird\", 3: \"cat\", 4: \"deer\",\n        5: \"dog\", 6: \"frog\", 7: \"horse\", 8: \"ship\", 9: \"truck\"\n    }\n    input = (label.item() if type(label) == torch.Tensor else label)\n    return output_mapping[input]\n```\n\n### 加载预训练模型\n\n```py\ndef get_resnet18(pretrained=True):\n    model = torchvision.models.resnet18(pretrained=pretrained)\n    model.fc = nn.Linear(512, 10)  # 修改最后一层以适应CIFAR10的10个类别\n    return model\n\nmodel = get_resnet18()\nmodel = model.to(device)\n```\n\n### 模型训练超参数设置\n\n```py\n#定义损失函数，初始学习率，优化器\ncriterion = nn.CrossEntropyLoss()\nlearning_rate = 0.001\noptimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)\n\n#学习率调节器，前期需要较大步长来快速收敛，后期如还用较大步长可能会在极小值周围震荡，所以后期学习率逐步衰减。可以提高训练效率和性能。Adam负责在参数层面进行自适应的学习率调整，以加快收敛。学习率调度器负责在训练过程的宏观层面调整全局学习率，以提高模型的最终性能和泛化能力。二者不会产生冲突。\ndef exp_lr_scheduler(optimizer, epoch, init_lr=0.001, lr_decay_epoch=2):\n    lr = init_lr * (0.1 ** (epoch // lr_decay_epoch))\n    if epoch % lr_decay_epoch == 0:\n        print(f'LR is set to {lr}')\n    for param_group in optimizer.param_groups:\n        param_group['lr'] = lr\n    return optimizer\n```\n\n### 模型训练\n\n```python\nnum_epochs = 6\ncount = 0\nloss_list = []\niteration_list = []\naccuracy_list = []\npredictions_list = []\nlabels_list = []\n\nfor epoch in range(num_epochs):\n    model.train() \n    running_loss = 0.0\n\n    optimizer = exp_lr_scheduler(optimizer, epoch, init_lr=learning_rate, lr_decay_epoch=2)\n\n    for i, (images, labels) in enumerate(train_loader):\n        images, labels = images.to(device), labels.to(device)\n\n        outputs = model(images)\n        loss = criterion(outputs, labels)\n\n        optimizer.zero_grad()\n        loss.backward()\n        optimizer.step()\n\n        running_loss += loss.item()\n        count += 1\n\n        if (i + 1) % 50 == 0:\n            print(f'Epoch [{epoch + 1}/{num_epochs}], Step [{i + 1}/{len(train_loader)}], Loss: {loss.item():.4f}')\n\n            model.eval()  \n            total = 0\n            correct = 0\n            test_predictions = []\n            test_labels = []\n\n            with torch.no_grad():\n                for images, labels in test_loader:\n                    images, labels = images.to(device), labels.to(device)\n                    test_labels.extend(labels.cpu().numpy())\n\n                    outputs = model(images)\n                    _, predicted = torch.max(outputs.data, 1)\n                    test_predictions.extend(predicted.cpu().numpy())\n\n                    total += labels.size(0)\n                    correct += (predicted == labels).sum().item()\n\n            accuracy = 100 * correct / total\n            print(f'Accuracy on test set: {accuracy:.2f}%')\n\n            loss_list.append(loss.item())\n            iteration_list.append(count)\n            accuracy_list.append(accuracy)\n\n            predictions_list.append(test_predictions)\n            labels_list.append(test_labels)\n\n            model.train()\n\nprint('Finished Training')\n```\n\n### 实验结果保存\n\n```python\ntorch.save(model.state_dict(), 'resnet18_cifar10.pth')\nprint('Model saved to resnet18_cifar10.pth')\n\nplt.figure(figsize=(10, 5))\nplt.plot(iteration_list, loss_list)\nplt.xlabel(\"No. of Iteration\")\nplt.ylabel(\"Loss\")\nplt.title(\"Iterations vs Loss\")\nplt.savefig('loss_curve.png')\nplt.show()\n\nplt.figure(figsize=(10, 5))\nplt.plot(iteration_list, accuracy_list)\nplt.xlabel(\"No. of Iteration\")\nplt.ylabel(\"Accuracy\")\nplt.title(\"Iterations vs Accuracy\")\nplt.savefig('accuracy_curve.png')\nplt.show()\n\nclass_correct = [0. for _ in range(10)]\ntotal_correct = [0. for _ in range(10)]\n\nmodel.eval()\nwith torch.no_grad():\n    for images, labels in test_loader:\n        images, labels = images.to(device), labels.to(device)\n        outputs = model(images)\n        _, predicted = torch.max(outputs, 1)\n        c = (predicted == labels).squeeze()\n\n        for i in range(labels.size(0)):\n            label = labels[i]\n            class_correct[label] += c[i].item()\n            total_correct[label] += 1\n\nfor i in range(10):\n    print(f\"Accuracy of {classes[i]}: {100 * class_correct[i] / total_correct[i]:.2f}%\")\n\nflat_predictions = list(chain.from_iterable(predictions_list))\nflat_labels = list(chain.from_iterable(labels_list))\n\ncm = confusion_matrix(flat_labels, flat_predictions)\nprint(\"Confusion Matrix:\")\nprint(cm)\n\nprint(\"Classification report for ResNet on CIFAR-10:\")\nprint(classification_report(flat_labels, flat_predictions, target_names=classes))\n```\n\n### 实验结果分析\n\n#### lr分析\n\n由实验结果可得lr=0.01时，效果较差，所以直接设置初始学习率为0.001可以更节省时间，提高效率。当学习率为1e-6时，发现准确率更新较小，所以准确率最小设置为1e-6。即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。即令epoch / lr_decay_epoch = 3或4 都可以，具体以epoch大小为准。\n\n##### lr=0.01\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415232217886.png\" style=\"zoom:50%;\" />\n\n##### lr=0.001\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415233045935.png\" style=\"zoom:50%;\" />\n\n##### lr=1e6\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415232556823.png\" style=\"zoom:50%;\" />\n\n#### batchsize分析\n\n##### Batchsize：64    epoch：6      lr_decay_epoch：2      初始学习率为0.001       94.46%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415220614773.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415220725745.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415205718074.png\" style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415231949009.png\" style=\"zoom:50%;\" />\n\n##### Batchsize：128       epoch：12      lr_decay_epoch：3        初始学习率为0.001     95.23%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234407813.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234416059.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234515857.png\"  style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234548312.png\"  style=\"zoom:50%;\" />\n\n##### Batchsize：128    epoch：20      lr_decay_epoch：5       初始学习率为0.01        85.87%\n\n和分析的一致，对比下面实验，控制变量，只有初始学习率改变，精度提升10%左右。\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011056469.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011103696.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011422605.png\"  style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011431888.png\"  style=\"zoom:50%;\" />\n\n##### Batchsize：128    epoch：20      lr_decay_epoch：5       初始学习率为0.001        95.44%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011705314.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011712657.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011728662.png\"  style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011735321.png\"  style=\"zoom:50%;\" />\n\n##### Batchsize：64      epoch：20      lr_decay_epoch：5       初始学习率为0.001        95.66%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111941885.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111952429.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416112318297.png\"  style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416112327065.png\"  style=\"zoom:50%;\" />\n\n\n\n## 使用LeNet网络\n\n与Resnet相比换了一个网络和改了数据加载模块，其他没啥变化。\n\n### 库函数导入\n\n```python\nimport matplotlib.pyplot as plt\nimport torch\nimport torch.nn as nn\nimport torchvision\nimport torchvision.transforms as transforms\nfrom sklearn.metrics import confusion_matrix, classification_report\nfrom itertools import chain\nimport multiprocessing\ndevice = torch.device(\"cuda:0\" if torch.cuda.is_available() else \"cpu\")\n```\n\n### 数据集加载及增强操作\n\n```python\ntransform = transforms.Compose(\n        [transforms.RandomHorizontalFlip(),\n         transforms.RandomCrop(32, padding=4),\n         transforms.ToTensor(),\n         transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0.5))])\n\ntrainset = torchvision.datasets.CIFAR10(root='./data', train=True,\n                                            download=True, transform=transform)\ntrain_loader = torch.utils.data.DataLoader(trainset, batch_size=32,\n                                              shuffle=True, num_workers=2)\n\ntestset = torchvision.datasets.CIFAR10(root='./data', train=False,\n                                           download=True, transform=transform)\ntest_loader = torch.utils.data.DataLoader(testset, batch_size=32,\n                                             shuffle=False, num_workers=2)\n\nclasses = ('plane', 'car', 'bird', 'cat', 'deer', 'dog', 'frog', 'horse', 'ship', 'truck')\n\ndef output_label(label):\n    output_mapping = {\n        0: \"plane\", 1: \"car\", 2: \"bird\", 3: \"cat\", 4: \"deer\",\n        5: \"dog\", 6: \"frog\", 7: \"horse\", 8: \"ship\", 9: \"truck\"\n    }\n    input = (label.item() if type(label) == torch.Tensor else label)\n    return output_mapping[input]\n```\n\n### LeNet模型\n\n```py\nclass C1(nn.Module):\n    def __init__(self):\n        super(C1, self).__init__()\n        self.c1 = nn.Sequential(OrderedDict([\n            ('conv1', nn.Conv2d(3, 6, kernel_size=(5, 5))),\n            ('relu1', nn.ReLU()),\n            ('pool1', nn.MaxPool2d(kernel_size=(2, 2), stride=2))\n        ]))\n\n    def forward(self, img):\n        output = self.c1(img)\n        return output\n\nclass C3(nn.Module):\n    def __init__(self):\n        super(C3, self).__init__()\n        self.c3 = nn.Sequential(OrderedDict([\n            ('conv3', nn.Conv2d(6, 16, kernel_size=(5, 5))),\n            ('relu3', nn.ReLU()),\n            ('pool3', nn.MaxPool2d(kernel_size=(2, 2), stride=2))\n        ]))\n\n    def forward(self, img):\n        output = self.c3(img)\n        return output\n\nclass F4(nn.Module):\n    def __init__(self):\n        super(F4, self).__init__()\n        self.f4 = nn.Sequential(OrderedDict([\n            ('fc4', nn.Linear(16 * 5 * 5, 120)),\n            ('relu4', nn.ReLU())\n        ]))\n\n    def forward(self, img):\n        output = self.f4(img)\n        return output\n\nclass F5(nn.Module):\n    def __init__(self):\n        super(F5, self).__init__()\n        self.f5 = nn.Sequential(OrderedDict([\n            ('fc5', nn.Linear(120, 84)),\n            ('relu5', nn.ReLU())\n        ]))\n\n    def forward(self, img):\n        output = self.f5(img)\n        return output\n\nclass F6(nn.Module):\n    def __init__(self):\n        super(F6, self).__init__()\n        self.f6 = nn.Sequential(OrderedDict([\n            ('fc6', nn.Linear(84, 10))\n        ]))\n\n    def forward(self, img):\n        output = self.f6(img)\n        return output\n\nclass LeNet5(nn.Module):\n    def __init__(self):\n        super(LeNet5, self).__init__()\n        self.c1 = C1()\n        self.c3 = C3()\n        self.f4 = F4()\n        self.f5 = F5()\n        self.f6 = F6()\n\n    def forward(self, img):\n        output = self.c1(img)\n        output = self.c3(output)\n        output = output.view(-1, 16 * 5 * 5)\n        output = self.f4(output)\n        output = self.f5(output)\n        output = self.f6(output)\n        return output\n```\n\n### 模型训练超参数设置\n\n```py\n#定义损失函数，初始学习率，优化器\ncriterion = nn.CrossEntropyLoss()\nlearning_rate = 0.001\noptimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)\n\n#学习率调节器，前期需要较大步长来快速收敛，后期如还用较大步长可能会在极小值周围震荡，所以后期学习率逐步衰减。可以提高训练效率和性能。\ndef exp_lr_scheduler(optimizer, epoch, init_lr=0.001, lr_decay_epoch=2):\n    lr = init_lr * (0.1 ** (epoch // lr_decay_epoch))\n    if epoch % lr_decay_epoch == 0:\n        print(f'LR is set to {lr}')\n    for param_group in optimizer.param_groups:\n        param_group['lr'] = lr\n    return optimizer\n```\n\n### 模型训练\n\n```python\nnum_epochs = 20\ncount = 0\nloss_list = []\niteration_list = []\naccuracy_list = []\npredictions_list = []\nlabels_list = []\n\nfor epoch in range(num_epochs):\n    model.train() \n    running_loss = 0.0\n\n    optimizer = exp_lr_scheduler(optimizer, epoch, init_lr=learning_rate, lr_decay_epoch=2)\n\n    for i, (images, labels) in enumerate(train_loader):\n        images, labels = images.to(device), labels.to(device)\n\n        outputs = model(images)\n        loss = criterion(outputs, labels)\n\n        optimizer.zero_grad()\n        loss.backward()\n        optimizer.step()\n\n        running_loss += loss.item()\n        count += 1\n\n        if (i + 1) % 50 == 0:\n            print(f'Epoch [{epoch + 1}/{num_epochs}], Step [{i + 1}/{len(train_loader)}], Loss: {loss.item():.4f}')\n\n            model.eval() \n            total = 0\n            correct = 0\n            test_predictions = []\n            test_labels = []\n\n            with torch.no_grad():\n                for images, labels in test_loader:\n                    images, labels = images.to(device), labels.to(device)\n                    test_labels.extend(labels.cpu().numpy())\n\n                    outputs = model(images)\n                    _, predicted = torch.max(outputs.data, 1)\n                    test_predictions.extend(predicted.cpu().numpy())\n\n                    total += labels.size(0)\n                    correct += (predicted == labels).sum().item()\n\n            accuracy = 100 * correct / total\n            print(f'Accuracy on test set: {accuracy:.2f}%')\n\n            loss_list.append(loss.item())\n            iteration_list.append(count)\n            accuracy_list.append(accuracy)\n\n            predictions_list.append(test_predictions)\n            labels_list.append(test_labels)\n\n            model.train()\n\nprint('Finished Training')\n```\n\n### 实验结果保存\n\n```python\ntorch.save(model.state_dict(), 'lenet5_cifar10.pth') \nprint('Model saved to lenet5_cifar10.pth')\n\nplt.figure(figsize=(10, 5))\nplt.plot(iteration_list, loss_list)\nplt.xlabel(\"No. of Iteration\")\nplt.ylabel(\"Loss\")\nplt.title(\"Iterations vs Loss\")\nplt.savefig('loss_curve.png')\nplt.show()\n\nplt.figure(figsize=(10, 5))\nplt.plot(iteration_list, accuracy_list)\nplt.xlabel(\"No. of Iteration\")\nplt.ylabel(\"Accuracy\")\nplt.title(\"Iterations vs Accuracy\")\nplt.savefig('accuracy_curve.png')\nplt.show()\n\nclass_correct = [0. for _ in range(10)]\ntotal_correct = [0. for _ in range(10)]\n\nmodel.eval()\nwith torch.no_grad():\n    for images, labels in test_loader:\n        images, labels = images.to(device), labels.to(device)\n        outputs = model(images)\n        _, predicted = torch.max(outputs, 1)\n        c = (predicted == labels).squeeze()\n\n        for i in range(labels.size(0)):\n            label = labels[i]\n            class_correct[label] += c[i].item()\n            total_correct[label] += 1\n\nfor i in range(10):\n    print(f\"Accuracy of {classes[i]}: {100 * class_correct[i] / total_correct[i]:.2f}%\")\n\nflat_predictions = list(chain.from_iterable(predictions_list))\nflat_labels = list(chain.from_iterable(labels_list))\n\ncm = confusion_matrix(flat_labels, flat_predictions)\nprint(\"Confusion Matrix:\")\nprint(cm)\n\nprint(\"Classification report for LeNet on CIFAR-10:\") \nprint(classification_report(flat_labels, flat_predictions, target_names=classes))\n```\n\n\n\n### 实验结果分析\n\n#### 使用图像增强操作\n\n##### Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       60.56%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143045031.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143053524.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143111341.png\" style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143119004.png\" style=\"zoom:50%;\" />\n\n#### 未使用图像增强操作\n\n##### Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       62.66%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100137609.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100147883.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100211736.png\" style=\"zoom:50%;\" />\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100219120.png\" style=\"zoom:50%;\" />\n\n\n\n## 使用FashionNet\n\n代码详见github\n\n### 图像增强操作训练结果分析\n\n#### 使用图像增强操作\n\n##### Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        71.51%\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417094047006.png\" style=\"zoom:50%;\" />\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417094113225.png\" style=\"zoom:50%;\" />\n\n\n\n#### 未使用图像增强操作\n\n##### Batchsize：128      epoch：30      lr_decay_epoch：6     初始学习率为 0.01        71.69%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416003738154.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416003746404.png)\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416004553116.png\"  style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416004618803.png\" style=\"zoom:50%;\" />\n\n##### Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        74.25%\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416124752133.png)\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416124817538.png)\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416125051704.png\" style=\"zoom:50%;\" />\n\n\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416125058999.png\" style=\"zoom:50%;\" />\n\n\n\n\n\n## Gradcam实现图像特征可视化\n\nGrad-CAM 的目标层均为最后一个卷积层\n\n### Resnet效果图\n\n参数配置    Batch_size：64    epoch：20      lr_decay_epoch：5     lr：0.001      95.66%\n\n图片来自谷歌。\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111246144.png\" style=\"zoom: 50%;\" />\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg)      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111606162.png\" style=\"zoom:50%;\" />\n\n### FashionNet效果图\n\n参数配置      Bachsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        74.25%\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416130110520.png\"  style=\"zoom:50%;\" />\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg)      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416130415531.png\"  style=\"zoom:50%;\" />\n\n### LeNet效果图\n\n参数配置      Bachsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       60.56%\n\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143505157.png\"  style=\"zoom:50%;\" />\n\n![](https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg)      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143631428.png\"  style=\"zoom:50%;\" />\n\n## 总结\n\n### 数据集在不同模型上的准确率\n\n| 模型       | 准确率 |\n| ---------- | ------ |\n| ResNet     | 95.66% |\n| LeNet      | 62.66% |\n| FashionNet | 74.25% |\n\n### LeNet对数据集进行图像增强操作的影响\n\n分析：由于模型过于简单，本来就会出现欠拟合现象，继续进行图像增强操作后会导致模型更加欠拟合。所以出现三个模型精度差距较大，主要是因为模型复杂度的差距。虽然是欠拟合，但是继续增加epoch也并不会提高精度，因为模型对数据已经学到了尽可能多的知识。\n\n| 未归一化 | 归一化 | 图像增强操作 | 大量图像增强操作 |\n| -------- | ------ | ------------ | ---------------- |\n| 58.75%   | 62.66% | 60.56%       | 56.78%           |\n\n### 神经网络参数对模型准确率的影响\n\nbatch_size：64或128并无太大影响。\n\n初始学习率：由实验结果可得lr=0.01时，效果较差，三个网络都使用了0.01进行测试得出的结果，有的实验结果没贴图。所以直接设置初始学习率为0.001可以更节省时间，提高效率。当学习率为1e-6时，发现准确率更新较小，所以准确率最小设置为1e-6。即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。\n\nlr_decay_epoch和epoch：即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。即令epoch / lr_decay_epoch = 3或4 都可以，具体以epoch大小为准。\n\n\n\n\n\n","slug":"基于深度学习的图像分类","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamiy003j1swmdn7i111k","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"使用ResNet18预训练模型\">使用ResNet18预训练模型</h2>\n<p>由于笔记本性能太差，所以在服务器上运行的，显卡配置为4090。经大量实验判断，初始学习率为0.01最后效果较差，所以初始学习率应设为0.001。全部代码代码已上传到：<a href=\"https://github.com/wp-a/-CIFAR10-.git\">https://github.com/wp-a/-CIFAR10-.git</a></p>\n<h3 id=\"库函数导入\">库函数导入</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch.nn <span class=\"keyword\">as</span> nn</span><br><span class=\"line\"><span class=\"keyword\">import</span> torchvision</span><br><span class=\"line\"><span class=\"keyword\">import</span> torchvision.transforms <span class=\"keyword\">as</span> transforms</span><br><span class=\"line\"><span class=\"keyword\">from</span> sklearn.metrics <span class=\"keyword\">import</span> confusion_matrix, classification_report</span><br><span class=\"line\"><span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> chain</span><br><span class=\"line\"><span class=\"keyword\">import</span> multiprocessing</span><br><span class=\"line\">device = torch.device(<span class=\"string\">&quot;cuda:0&quot;</span> <span class=\"keyword\">if</span> torch.cuda.is_available() <span class=\"keyword\">else</span> <span class=\"string\">&quot;cpu&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"数据集加载及增强操作\">数据集加载及增强操作</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">transform_train = transforms.Compose([</span><br><span class=\"line\">    transforms.Resize(<span class=\"number\">224</span>),\t<span class=\"comment\">#图像从32x32放大到224x224是通过在原始像素之间插入新的像素点来实现的。插入的像素值是根据周围原始像素的值，通过不同的插值算法计算出来的，默认使用双线性插值。</span></span><br><span class=\"line\">    transforms.RandomHorizontalFlip(), <span class=\"comment\">#以 0.5 的概率水平随机翻转图像</span></span><br><span class=\"line\">    transforms.RandomRotation(<span class=\"number\">10</span>),  <span class=\"comment\">#将图像随机旋转 -10 到 10 度之间的角度</span></span><br><span class=\"line\">    transforms.ToTensor(),  <span class=\"comment\">#将图像从 PIL 图像格式转换为 PyTorch 张量</span></span><br><span class=\"line\">    transforms.Normalize((<span class=\"number\">0.4914</span>, <span class=\"number\">0.4822</span>, <span class=\"number\">0.4465</span>), (<span class=\"number\">0.2470</span>, <span class=\"number\">0.2435</span>, <span class=\"number\">0.2616</span>)) </span><br><span class=\"line\">    <span class=\"comment\">#使用为三个颜色通道中的每一个提供的平均和标准差来标准化图像的像素值(归一化)</span></span><br><span class=\"line\">])</span><br><span class=\"line\"></span><br><span class=\"line\">transform_test = transforms.Compose([</span><br><span class=\"line\">    transforms.Resize(<span class=\"number\">224</span>),</span><br><span class=\"line\">    transforms.ToTensor(),</span><br><span class=\"line\">    transforms.Normalize((<span class=\"number\">0.4914</span>, <span class=\"number\">0.4822</span>, <span class=\"number\">0.4465</span>), (<span class=\"number\">0.2470</span>, <span class=\"number\">0.2435</span>, <span class=\"number\">0.2616</span>))</span><br><span class=\"line\">])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 加载CIFAR-10数据集</span></span><br><span class=\"line\">train_set = torchvision.datasets.CIFAR10(<span class=\"string\">&quot;./data&quot;</span>, download=<span class=\"literal\">True</span>, transform=transform_train)</span><br><span class=\"line\">test_set = torchvision.datasets.CIFAR10(<span class=\"string\">&quot;./data&quot;</span>, download=<span class=\"literal\">True</span>, train=<span class=\"literal\">False</span>, transform=transform_test)</span><br><span class=\"line\"></span><br><span class=\"line\">batch_size = <span class=\"number\">64</span>  </span><br><span class=\"line\">train_loader = torch.utils.data.DataLoader(train_set, batch_size=batch_size, shuffle=<span class=\"literal\">True</span>, num_workers=<span class=\"number\">0</span>)</span><br><span class=\"line\">test_loader = torch.utils.data.DataLoader(test_set, batch_size=batch_size, shuffle=<span class=\"literal\">False</span>, num_workers=<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">classes = (<span class=\"string\">&#x27;plane&#x27;</span>, <span class=\"string\">&#x27;car&#x27;</span>, <span class=\"string\">&#x27;bird&#x27;</span>, <span class=\"string\">&#x27;cat&#x27;</span>, <span class=\"string\">&#x27;deer&#x27;</span>, <span class=\"string\">&#x27;dog&#x27;</span>, <span class=\"string\">&#x27;frog&#x27;</span>, <span class=\"string\">&#x27;horse&#x27;</span>, <span class=\"string\">&#x27;ship&#x27;</span>, <span class=\"string\">&#x27;truck&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#返回数字对应的类名</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">output_label</span>(<span class=\"params\">label</span>):</span><br><span class=\"line\">    output_mapping = &#123;</span><br><span class=\"line\">        <span class=\"number\">0</span>: <span class=\"string\">&quot;plane&quot;</span>, <span class=\"number\">1</span>: <span class=\"string\">&quot;car&quot;</span>, <span class=\"number\">2</span>: <span class=\"string\">&quot;bird&quot;</span>, <span class=\"number\">3</span>: <span class=\"string\">&quot;cat&quot;</span>, <span class=\"number\">4</span>: <span class=\"string\">&quot;deer&quot;</span>,</span><br><span class=\"line\">        <span class=\"number\">5</span>: <span class=\"string\">&quot;dog&quot;</span>, <span class=\"number\">6</span>: <span class=\"string\">&quot;frog&quot;</span>, <span class=\"number\">7</span>: <span class=\"string\">&quot;horse&quot;</span>, <span class=\"number\">8</span>: <span class=\"string\">&quot;ship&quot;</span>, <span class=\"number\">9</span>: <span class=\"string\">&quot;truck&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">input</span> = (label.item() <span class=\"keyword\">if</span> <span class=\"built_in\">type</span>(label) == torch.Tensor <span class=\"keyword\">else</span> label)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> output_mapping[<span class=\"built_in\">input</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"加载预训练模型\">加载预训练模型</h3>\n<figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">get_resnet18</span>(<span class=\"params\">pretrained=<span class=\"literal\">True</span></span>):</span><br><span class=\"line\">    model = torchvision.models.resnet18(pretrained=pretrained)</span><br><span class=\"line\">    model.fc = nn.Linear(<span class=\"number\">512</span>, <span class=\"number\">10</span>)  <span class=\"comment\"># 修改最后一层以适应CIFAR10的10个类别</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> model</span><br><span class=\"line\"></span><br><span class=\"line\">model = get_resnet18()</span><br><span class=\"line\">model = model.to(device)</span><br></pre></td></tr></table></figure>\n<h3 id=\"模型训练超参数设置\">模型训练超参数设置</h3>\n<figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#定义损失函数，初始学习率，优化器</span></span><br><span class=\"line\">criterion = nn.CrossEntropyLoss()</span><br><span class=\"line\">learning_rate = <span class=\"number\">0.001</span></span><br><span class=\"line\">optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#学习率调节器，前期需要较大步长来快速收敛，后期如还用较大步长可能会在极小值周围震荡，所以后期学习率逐步衰减。可以提高训练效率和性能。Adam负责在参数层面进行自适应的学习率调整，以加快收敛。学习率调度器负责在训练过程的宏观层面调整全局学习率，以提高模型的最终性能和泛化能力。二者不会产生冲突。</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">exp_lr_scheduler</span>(<span class=\"params\">optimizer, epoch, init_lr=<span class=\"number\">0.001</span>, lr_decay_epoch=<span class=\"number\">2</span></span>):</span><br><span class=\"line\">    lr = init_lr * (<span class=\"number\">0.1</span> ** (epoch // lr_decay_epoch))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> epoch % lr_decay_epoch == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;LR is set to <span class=\"subst\">&#123;lr&#125;</span>&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> param_group <span class=\"keyword\">in</span> optimizer.param_groups:</span><br><span class=\"line\">        param_group[<span class=\"string\">&#x27;lr&#x27;</span>] = lr</span><br><span class=\"line\">    <span class=\"keyword\">return</span> optimizer</span><br></pre></td></tr></table></figure>\n<h3 id=\"模型训练\">模型训练</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">num_epochs = <span class=\"number\">6</span></span><br><span class=\"line\">count = <span class=\"number\">0</span></span><br><span class=\"line\">loss_list = []</span><br><span class=\"line\">iteration_list = []</span><br><span class=\"line\">accuracy_list = []</span><br><span class=\"line\">predictions_list = []</span><br><span class=\"line\">labels_list = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> epoch <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(num_epochs):</span><br><span class=\"line\">    model.train() </span><br><span class=\"line\">    running_loss = <span class=\"number\">0.0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    optimizer = exp_lr_scheduler(optimizer, epoch, init_lr=learning_rate, lr_decay_epoch=<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (images, labels) <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(train_loader):</span><br><span class=\"line\">        images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\"></span><br><span class=\"line\">        outputs = model(images)</span><br><span class=\"line\">        loss = criterion(outputs, labels)</span><br><span class=\"line\"></span><br><span class=\"line\">        optimizer.zero_grad()</span><br><span class=\"line\">        loss.backward()</span><br><span class=\"line\">        optimizer.step()</span><br><span class=\"line\"></span><br><span class=\"line\">        running_loss += loss.item()</span><br><span class=\"line\">        count += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i + <span class=\"number\">1</span>) % <span class=\"number\">50</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;Epoch [<span class=\"subst\">&#123;epoch + <span class=\"number\">1</span>&#125;</span>/<span class=\"subst\">&#123;num_epochs&#125;</span>], Step [<span class=\"subst\">&#123;i + <span class=\"number\">1</span>&#125;</span>/<span class=\"subst\">&#123;<span class=\"built_in\">len</span>(train_loader)&#125;</span>], Loss: <span class=\"subst\">&#123;loss.item():<span class=\"number\">.4</span>f&#125;</span>&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            model.<span class=\"built_in\">eval</span>()  </span><br><span class=\"line\">            total = <span class=\"number\">0</span></span><br><span class=\"line\">            correct = <span class=\"number\">0</span></span><br><span class=\"line\">            test_predictions = []</span><br><span class=\"line\">            test_labels = []</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">with</span> torch.no_grad():</span><br><span class=\"line\">                <span class=\"keyword\">for</span> images, labels <span class=\"keyword\">in</span> test_loader:</span><br><span class=\"line\">                    images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\">                    test_labels.extend(labels.cpu().numpy())</span><br><span class=\"line\"></span><br><span class=\"line\">                    outputs = model(images)</span><br><span class=\"line\">                    _, predicted = torch.<span class=\"built_in\">max</span>(outputs.data, <span class=\"number\">1</span>)</span><br><span class=\"line\">                    test_predictions.extend(predicted.cpu().numpy())</span><br><span class=\"line\"></span><br><span class=\"line\">                    total += labels.size(<span class=\"number\">0</span>)</span><br><span class=\"line\">                    correct += (predicted == labels).<span class=\"built_in\">sum</span>().item()</span><br><span class=\"line\"></span><br><span class=\"line\">            accuracy = <span class=\"number\">100</span> * correct / total</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;Accuracy on test set: <span class=\"subst\">&#123;accuracy:<span class=\"number\">.2</span>f&#125;</span>%&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            loss_list.append(loss.item())</span><br><span class=\"line\">            iteration_list.append(count)</span><br><span class=\"line\">            accuracy_list.append(accuracy)</span><br><span class=\"line\"></span><br><span class=\"line\">            predictions_list.append(test_predictions)</span><br><span class=\"line\">            labels_list.append(test_labels)</span><br><span class=\"line\"></span><br><span class=\"line\">            model.train()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Finished Training&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"实验结果保存\">实验结果保存</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">torch.save(model.state_dict(), <span class=\"string\">&#x27;resnet18_cifar10.pth&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Model saved to resnet18_cifar10.pth&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">plt.figure(figsize=(<span class=\"number\">10</span>, <span class=\"number\">5</span>))</span><br><span class=\"line\">plt.plot(iteration_list, loss_list)</span><br><span class=\"line\">plt.xlabel(<span class=\"string\">&quot;No. of Iteration&quot;</span>)</span><br><span class=\"line\">plt.ylabel(<span class=\"string\">&quot;Loss&quot;</span>)</span><br><span class=\"line\">plt.title(<span class=\"string\">&quot;Iterations vs Loss&quot;</span>)</span><br><span class=\"line\">plt.savefig(<span class=\"string\">&#x27;loss_curve.png&#x27;</span>)</span><br><span class=\"line\">plt.show()</span><br><span class=\"line\"></span><br><span class=\"line\">plt.figure(figsize=(<span class=\"number\">10</span>, <span class=\"number\">5</span>))</span><br><span class=\"line\">plt.plot(iteration_list, accuracy_list)</span><br><span class=\"line\">plt.xlabel(<span class=\"string\">&quot;No. of Iteration&quot;</span>)</span><br><span class=\"line\">plt.ylabel(<span class=\"string\">&quot;Accuracy&quot;</span>)</span><br><span class=\"line\">plt.title(<span class=\"string\">&quot;Iterations vs Accuracy&quot;</span>)</span><br><span class=\"line\">plt.savefig(<span class=\"string\">&#x27;accuracy_curve.png&#x27;</span>)</span><br><span class=\"line\">plt.show()</span><br><span class=\"line\"></span><br><span class=\"line\">class_correct = [<span class=\"number\">0.</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>)]</span><br><span class=\"line\">total_correct = [<span class=\"number\">0.</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>)]</span><br><span class=\"line\"></span><br><span class=\"line\">model.<span class=\"built_in\">eval</span>()</span><br><span class=\"line\"><span class=\"keyword\">with</span> torch.no_grad():</span><br><span class=\"line\">    <span class=\"keyword\">for</span> images, labels <span class=\"keyword\">in</span> test_loader:</span><br><span class=\"line\">        images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\">        outputs = model(images)</span><br><span class=\"line\">        _, predicted = torch.<span class=\"built_in\">max</span>(outputs, <span class=\"number\">1</span>)</span><br><span class=\"line\">        c = (predicted == labels).squeeze()</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(labels.size(<span class=\"number\">0</span>)):</span><br><span class=\"line\">            label = labels[i]</span><br><span class=\"line\">            class_correct[label] += c[i].item()</span><br><span class=\"line\">            total_correct[label] += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">f&quot;Accuracy of <span class=\"subst\">&#123;classes[i]&#125;</span>: <span class=\"subst\">&#123;<span class=\"number\">100</span> * class_correct[i] / total_correct[i]:<span class=\"number\">.2</span>f&#125;</span>%&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">flat_predictions = <span class=\"built_in\">list</span>(chain.from_iterable(predictions_list))</span><br><span class=\"line\">flat_labels = <span class=\"built_in\">list</span>(chain.from_iterable(labels_list))</span><br><span class=\"line\"></span><br><span class=\"line\">cm = confusion_matrix(flat_labels, flat_predictions)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Confusion Matrix:&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(cm)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Classification report for ResNet on CIFAR-10:&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(classification_report(flat_labels, flat_predictions, target_names=classes))</span><br></pre></td></tr></table></figure>\n<h3 id=\"实验结果分析\">实验结果分析</h3>\n<h4 id=\"lr分析\">lr分析</h4>\n<p>由实验结果可得lr=0.01时，效果较差，所以直接设置初始学习率为0.001可以更节省时间，提高效率。当学习率为1e-6时，发现准确率更新较小，所以准确率最小设置为1e-6。即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。即令epoch / lr_decay_epoch = 3或4 都可以，具体以epoch大小为准。</p>\n<h5 id=\"lr-0-01\">lr=0.01</h5>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415232217886.png\" style=\"zoom:50%;\" />\n<h5 id=\"lr-0-001\">lr=0.001</h5>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415233045935.png\" style=\"zoom:50%;\" />\n<h5 id=\"lr-1e6\">lr=1e6</h5>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415232556823.png\" style=\"zoom:50%;\" />\n<h4 id=\"batchsize分析\">batchsize分析</h4>\n<h5 id=\"Batchsize：64-epoch：6-lr-decay-epoch：2-初始学习率为0-001-94-46\">Batchsize：64    epoch：6      lr_decay_epoch：2      初始学习率为0.001       94.46%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415220614773.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415220725745.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415205718074.png\" style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415231949009.png\" style=\"zoom:50%;\" />\n<h5 id=\"Batchsize：128-epoch：12-lr-decay-epoch：3-初始学习率为0-001-95-23\">Batchsize：128       epoch：12      lr_decay_epoch：3        初始学习率为0.001     95.23%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234407813.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234416059.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234515857.png\"  style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234548312.png\"  style=\"zoom:50%;\" />\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为0-01-85-87\">Batchsize：128    epoch：20      lr_decay_epoch：5       初始学习率为0.01        85.87%</h5>\n<p>和分析的一致，对比下面实验，控制变量，只有初始学习率改变，精度提升10%左右。</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011056469.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011103696.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011422605.png\"  style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011431888.png\"  style=\"zoom:50%;\" />\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为0-001-95-44\">Batchsize：128    epoch：20      lr_decay_epoch：5       初始学习率为0.001        95.44%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011705314.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011712657.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011728662.png\"  style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011735321.png\"  style=\"zoom:50%;\" />\n<h5 id=\"Batchsize：64-epoch：20-lr-decay-epoch：5-初始学习率为0-001-95-66\">Batchsize：64      epoch：20      lr_decay_epoch：5       初始学习率为0.001        95.66%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111941885.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111952429.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416112318297.png\"  style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416112327065.png\"  style=\"zoom:50%;\" />\n<h2 id=\"使用LeNet网络\">使用LeNet网络</h2>\n<p>与Resnet相比换了一个网络和改了数据加载模块，其他没啥变化。</p>\n<h3 id=\"库函数导入-2\">库函数导入</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch.nn <span class=\"keyword\">as</span> nn</span><br><span class=\"line\"><span class=\"keyword\">import</span> torchvision</span><br><span class=\"line\"><span class=\"keyword\">import</span> torchvision.transforms <span class=\"keyword\">as</span> transforms</span><br><span class=\"line\"><span class=\"keyword\">from</span> sklearn.metrics <span class=\"keyword\">import</span> confusion_matrix, classification_report</span><br><span class=\"line\"><span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> chain</span><br><span class=\"line\"><span class=\"keyword\">import</span> multiprocessing</span><br><span class=\"line\">device = torch.device(<span class=\"string\">&quot;cuda:0&quot;</span> <span class=\"keyword\">if</span> torch.cuda.is_available() <span class=\"keyword\">else</span> <span class=\"string\">&quot;cpu&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"数据集加载及增强操作-2\">数据集加载及增强操作</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">transform = transforms.Compose(</span><br><span class=\"line\">        [transforms.RandomHorizontalFlip(),</span><br><span class=\"line\">         transforms.RandomCrop(<span class=\"number\">32</span>, padding=<span class=\"number\">4</span>),</span><br><span class=\"line\">         transforms.ToTensor(),</span><br><span class=\"line\">         transforms.Normalize((<span class=\"number\">0.5</span>, <span class=\"number\">0.5</span>, <span class=\"number\">0.5</span>), (<span class=\"number\">0.5</span>, <span class=\"number\">0.5</span>, <span class=\"number\">0.5</span>))])</span><br><span class=\"line\"></span><br><span class=\"line\">trainset = torchvision.datasets.CIFAR10(root=<span class=\"string\">&#x27;./data&#x27;</span>, train=<span class=\"literal\">True</span>,</span><br><span class=\"line\">                                            download=<span class=\"literal\">True</span>, transform=transform)</span><br><span class=\"line\">train_loader = torch.utils.data.DataLoader(trainset, batch_size=<span class=\"number\">32</span>,</span><br><span class=\"line\">                                              shuffle=<span class=\"literal\">True</span>, num_workers=<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">testset = torchvision.datasets.CIFAR10(root=<span class=\"string\">&#x27;./data&#x27;</span>, train=<span class=\"literal\">False</span>,</span><br><span class=\"line\">                                           download=<span class=\"literal\">True</span>, transform=transform)</span><br><span class=\"line\">test_loader = torch.utils.data.DataLoader(testset, batch_size=<span class=\"number\">32</span>,</span><br><span class=\"line\">                                             shuffle=<span class=\"literal\">False</span>, num_workers=<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">classes = (<span class=\"string\">&#x27;plane&#x27;</span>, <span class=\"string\">&#x27;car&#x27;</span>, <span class=\"string\">&#x27;bird&#x27;</span>, <span class=\"string\">&#x27;cat&#x27;</span>, <span class=\"string\">&#x27;deer&#x27;</span>, <span class=\"string\">&#x27;dog&#x27;</span>, <span class=\"string\">&#x27;frog&#x27;</span>, <span class=\"string\">&#x27;horse&#x27;</span>, <span class=\"string\">&#x27;ship&#x27;</span>, <span class=\"string\">&#x27;truck&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">output_label</span>(<span class=\"params\">label</span>):</span><br><span class=\"line\">    output_mapping = &#123;</span><br><span class=\"line\">        <span class=\"number\">0</span>: <span class=\"string\">&quot;plane&quot;</span>, <span class=\"number\">1</span>: <span class=\"string\">&quot;car&quot;</span>, <span class=\"number\">2</span>: <span class=\"string\">&quot;bird&quot;</span>, <span class=\"number\">3</span>: <span class=\"string\">&quot;cat&quot;</span>, <span class=\"number\">4</span>: <span class=\"string\">&quot;deer&quot;</span>,</span><br><span class=\"line\">        <span class=\"number\">5</span>: <span class=\"string\">&quot;dog&quot;</span>, <span class=\"number\">6</span>: <span class=\"string\">&quot;frog&quot;</span>, <span class=\"number\">7</span>: <span class=\"string\">&quot;horse&quot;</span>, <span class=\"number\">8</span>: <span class=\"string\">&quot;ship&quot;</span>, <span class=\"number\">9</span>: <span class=\"string\">&quot;truck&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">input</span> = (label.item() <span class=\"keyword\">if</span> <span class=\"built_in\">type</span>(label) == torch.Tensor <span class=\"keyword\">else</span> label)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> output_mapping[<span class=\"built_in\">input</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"LeNet模型\">LeNet模型</h3>\n<figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">C1</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(C1, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.c1 = nn.Sequential(OrderedDict([</span><br><span class=\"line\">            (<span class=\"string\">&#x27;conv1&#x27;</span>, nn.Conv2d(<span class=\"number\">3</span>, <span class=\"number\">6</span>, kernel_size=(<span class=\"number\">5</span>, <span class=\"number\">5</span>))),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;relu1&#x27;</span>, nn.ReLU()),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;pool1&#x27;</span>, nn.MaxPool2d(kernel_size=(<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">2</span>))</span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.c1(img)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">C3</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(C3, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.c3 = nn.Sequential(OrderedDict([</span><br><span class=\"line\">            (<span class=\"string\">&#x27;conv3&#x27;</span>, nn.Conv2d(<span class=\"number\">6</span>, <span class=\"number\">16</span>, kernel_size=(<span class=\"number\">5</span>, <span class=\"number\">5</span>))),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;relu3&#x27;</span>, nn.ReLU()),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;pool3&#x27;</span>, nn.MaxPool2d(kernel_size=(<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">2</span>))</span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.c3(img)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">F4</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(F4, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f4 = nn.Sequential(OrderedDict([</span><br><span class=\"line\">            (<span class=\"string\">&#x27;fc4&#x27;</span>, nn.Linear(<span class=\"number\">16</span> * <span class=\"number\">5</span> * <span class=\"number\">5</span>, <span class=\"number\">120</span>)),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;relu4&#x27;</span>, nn.ReLU())</span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f4(img)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">F5</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(F5, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f5 = nn.Sequential(OrderedDict([</span><br><span class=\"line\">            (<span class=\"string\">&#x27;fc5&#x27;</span>, nn.Linear(<span class=\"number\">120</span>, <span class=\"number\">84</span>)),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;relu5&#x27;</span>, nn.ReLU())</span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f5(img)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">F6</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(F6, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f6 = nn.Sequential(OrderedDict([</span><br><span class=\"line\">            (<span class=\"string\">&#x27;fc6&#x27;</span>, nn.Linear(<span class=\"number\">84</span>, <span class=\"number\">10</span>))</span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f6(img)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">LeNet5</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(LeNet5, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.c1 = C1()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.c3 = C3()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f4 = F4()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f5 = F5()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f6 = F6()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.c1(img)</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.c3(output)</span><br><span class=\"line\">        output = output.view(-<span class=\"number\">1</span>, <span class=\"number\">16</span> * <span class=\"number\">5</span> * <span class=\"number\">5</span>)</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f4(output)</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f5(output)</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f6(output)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br></pre></td></tr></table></figure>\n<h3 id=\"模型训练超参数设置-2\">模型训练超参数设置</h3>\n<figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#定义损失函数，初始学习率，优化器</span></span><br><span class=\"line\">criterion = nn.CrossEntropyLoss()</span><br><span class=\"line\">learning_rate = <span class=\"number\">0.001</span></span><br><span class=\"line\">optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#学习率调节器，前期需要较大步长来快速收敛，后期如还用较大步长可能会在极小值周围震荡，所以后期学习率逐步衰减。可以提高训练效率和性能。</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">exp_lr_scheduler</span>(<span class=\"params\">optimizer, epoch, init_lr=<span class=\"number\">0.001</span>, lr_decay_epoch=<span class=\"number\">2</span></span>):</span><br><span class=\"line\">    lr = init_lr * (<span class=\"number\">0.1</span> ** (epoch // lr_decay_epoch))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> epoch % lr_decay_epoch == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;LR is set to <span class=\"subst\">&#123;lr&#125;</span>&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> param_group <span class=\"keyword\">in</span> optimizer.param_groups:</span><br><span class=\"line\">        param_group[<span class=\"string\">&#x27;lr&#x27;</span>] = lr</span><br><span class=\"line\">    <span class=\"keyword\">return</span> optimizer</span><br></pre></td></tr></table></figure>\n<h3 id=\"模型训练-2\">模型训练</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">num_epochs = <span class=\"number\">20</span></span><br><span class=\"line\">count = <span class=\"number\">0</span></span><br><span class=\"line\">loss_list = []</span><br><span class=\"line\">iteration_list = []</span><br><span class=\"line\">accuracy_list = []</span><br><span class=\"line\">predictions_list = []</span><br><span class=\"line\">labels_list = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> epoch <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(num_epochs):</span><br><span class=\"line\">    model.train() </span><br><span class=\"line\">    running_loss = <span class=\"number\">0.0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    optimizer = exp_lr_scheduler(optimizer, epoch, init_lr=learning_rate, lr_decay_epoch=<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (images, labels) <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(train_loader):</span><br><span class=\"line\">        images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\"></span><br><span class=\"line\">        outputs = model(images)</span><br><span class=\"line\">        loss = criterion(outputs, labels)</span><br><span class=\"line\"></span><br><span class=\"line\">        optimizer.zero_grad()</span><br><span class=\"line\">        loss.backward()</span><br><span class=\"line\">        optimizer.step()</span><br><span class=\"line\"></span><br><span class=\"line\">        running_loss += loss.item()</span><br><span class=\"line\">        count += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i + <span class=\"number\">1</span>) % <span class=\"number\">50</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;Epoch [<span class=\"subst\">&#123;epoch + <span class=\"number\">1</span>&#125;</span>/<span class=\"subst\">&#123;num_epochs&#125;</span>], Step [<span class=\"subst\">&#123;i + <span class=\"number\">1</span>&#125;</span>/<span class=\"subst\">&#123;<span class=\"built_in\">len</span>(train_loader)&#125;</span>], Loss: <span class=\"subst\">&#123;loss.item():<span class=\"number\">.4</span>f&#125;</span>&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            model.<span class=\"built_in\">eval</span>() </span><br><span class=\"line\">            total = <span class=\"number\">0</span></span><br><span class=\"line\">            correct = <span class=\"number\">0</span></span><br><span class=\"line\">            test_predictions = []</span><br><span class=\"line\">            test_labels = []</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">with</span> torch.no_grad():</span><br><span class=\"line\">                <span class=\"keyword\">for</span> images, labels <span class=\"keyword\">in</span> test_loader:</span><br><span class=\"line\">                    images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\">                    test_labels.extend(labels.cpu().numpy())</span><br><span class=\"line\"></span><br><span class=\"line\">                    outputs = model(images)</span><br><span class=\"line\">                    _, predicted = torch.<span class=\"built_in\">max</span>(outputs.data, <span class=\"number\">1</span>)</span><br><span class=\"line\">                    test_predictions.extend(predicted.cpu().numpy())</span><br><span class=\"line\"></span><br><span class=\"line\">                    total += labels.size(<span class=\"number\">0</span>)</span><br><span class=\"line\">                    correct += (predicted == labels).<span class=\"built_in\">sum</span>().item()</span><br><span class=\"line\"></span><br><span class=\"line\">            accuracy = <span class=\"number\">100</span> * correct / total</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;Accuracy on test set: <span class=\"subst\">&#123;accuracy:<span class=\"number\">.2</span>f&#125;</span>%&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            loss_list.append(loss.item())</span><br><span class=\"line\">            iteration_list.append(count)</span><br><span class=\"line\">            accuracy_list.append(accuracy)</span><br><span class=\"line\"></span><br><span class=\"line\">            predictions_list.append(test_predictions)</span><br><span class=\"line\">            labels_list.append(test_labels)</span><br><span class=\"line\"></span><br><span class=\"line\">            model.train()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Finished Training&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"实验结果保存-2\">实验结果保存</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">torch.save(model.state_dict(), <span class=\"string\">&#x27;lenet5_cifar10.pth&#x27;</span>) </span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Model saved to lenet5_cifar10.pth&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">plt.figure(figsize=(<span class=\"number\">10</span>, <span class=\"number\">5</span>))</span><br><span class=\"line\">plt.plot(iteration_list, loss_list)</span><br><span class=\"line\">plt.xlabel(<span class=\"string\">&quot;No. of Iteration&quot;</span>)</span><br><span class=\"line\">plt.ylabel(<span class=\"string\">&quot;Loss&quot;</span>)</span><br><span class=\"line\">plt.title(<span class=\"string\">&quot;Iterations vs Loss&quot;</span>)</span><br><span class=\"line\">plt.savefig(<span class=\"string\">&#x27;loss_curve.png&#x27;</span>)</span><br><span class=\"line\">plt.show()</span><br><span class=\"line\"></span><br><span class=\"line\">plt.figure(figsize=(<span class=\"number\">10</span>, <span class=\"number\">5</span>))</span><br><span class=\"line\">plt.plot(iteration_list, accuracy_list)</span><br><span class=\"line\">plt.xlabel(<span class=\"string\">&quot;No. of Iteration&quot;</span>)</span><br><span class=\"line\">plt.ylabel(<span class=\"string\">&quot;Accuracy&quot;</span>)</span><br><span class=\"line\">plt.title(<span class=\"string\">&quot;Iterations vs Accuracy&quot;</span>)</span><br><span class=\"line\">plt.savefig(<span class=\"string\">&#x27;accuracy_curve.png&#x27;</span>)</span><br><span class=\"line\">plt.show()</span><br><span class=\"line\"></span><br><span class=\"line\">class_correct = [<span class=\"number\">0.</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>)]</span><br><span class=\"line\">total_correct = [<span class=\"number\">0.</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>)]</span><br><span class=\"line\"></span><br><span class=\"line\">model.<span class=\"built_in\">eval</span>()</span><br><span class=\"line\"><span class=\"keyword\">with</span> torch.no_grad():</span><br><span class=\"line\">    <span class=\"keyword\">for</span> images, labels <span class=\"keyword\">in</span> test_loader:</span><br><span class=\"line\">        images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\">        outputs = model(images)</span><br><span class=\"line\">        _, predicted = torch.<span class=\"built_in\">max</span>(outputs, <span class=\"number\">1</span>)</span><br><span class=\"line\">        c = (predicted == labels).squeeze()</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(labels.size(<span class=\"number\">0</span>)):</span><br><span class=\"line\">            label = labels[i]</span><br><span class=\"line\">            class_correct[label] += c[i].item()</span><br><span class=\"line\">            total_correct[label] += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">f&quot;Accuracy of <span class=\"subst\">&#123;classes[i]&#125;</span>: <span class=\"subst\">&#123;<span class=\"number\">100</span> * class_correct[i] / total_correct[i]:<span class=\"number\">.2</span>f&#125;</span>%&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">flat_predictions = <span class=\"built_in\">list</span>(chain.from_iterable(predictions_list))</span><br><span class=\"line\">flat_labels = <span class=\"built_in\">list</span>(chain.from_iterable(labels_list))</span><br><span class=\"line\"></span><br><span class=\"line\">cm = confusion_matrix(flat_labels, flat_predictions)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Confusion Matrix:&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(cm)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Classification report for LeNet on CIFAR-10:&quot;</span>) </span><br><span class=\"line\"><span class=\"built_in\">print</span>(classification_report(flat_labels, flat_predictions, target_names=classes))</span><br></pre></td></tr></table></figure>\n<h3 id=\"实验结果分析-2\">实验结果分析</h3>\n<h4 id=\"使用图像增强操作\">使用图像增强操作</h4>\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为-0-001-60-56\">Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       60.56%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143045031.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143053524.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143111341.png\" style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143119004.png\" style=\"zoom:50%;\" />\n<h4 id=\"未使用图像增强操作\">未使用图像增强操作</h4>\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为-0-001-62-66\">Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       62.66%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100137609.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100147883.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100211736.png\" style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100219120.png\" style=\"zoom:50%;\" />\n<h2 id=\"使用FashionNet\">使用FashionNet</h2>\n<p>代码详见github</p>\n<h3 id=\"图像增强操作训练结果分析\">图像增强操作训练结果分析</h3>\n<h4 id=\"使用图像增强操作-2\">使用图像增强操作</h4>\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为-0-001-71-51\">Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        71.51%</h5>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417094047006.png\" style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417094113225.png\" style=\"zoom:50%;\" />\n<h4 id=\"未使用图像增强操作-2\">未使用图像增强操作</h4>\n<h5 id=\"Batchsize：128-epoch：30-lr-decay-epoch：6-初始学习率为-0-01-71-69\">Batchsize：128      epoch：30      lr_decay_epoch：6     初始学习率为 0.01        71.69%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416003738154.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416003746404.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416004553116.png\"  style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416004618803.png\" style=\"zoom:50%;\" />\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为-0-001-74-25\">Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        74.25%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416124752133.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416124817538.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416125051704.png\" style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416125058999.png\" style=\"zoom:50%;\" />\n<h2 id=\"Gradcam实现图像特征可视化\">Gradcam实现图像特征可视化</h2>\n<p>Grad-CAM 的目标层均为最后一个卷积层</p>\n<h3 id=\"Resnet效果图\">Resnet效果图</h3>\n<p>参数配置    Batch_size：64    epoch：20      lr_decay_epoch：5     lr：0.001      95.66%</p>\n<p>图片来自谷歌。</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111246144.png\" style=\"zoom: 50%;\" /></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg\" alt=\"\">      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111606162.png\" style=\"zoom:50%;\" /></p>\n<h3 id=\"FashionNet效果图\">FashionNet效果图</h3>\n<p>参数配置      Bachsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        74.25%</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416130110520.png\"  style=\"zoom:50%;\" /></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg\" alt=\"\">      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416130415531.png\"  style=\"zoom:50%;\" /></p>\n<h3 id=\"LeNet效果图\">LeNet效果图</h3>\n<p>参数配置      Bachsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       60.56%</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143505157.png\"  style=\"zoom:50%;\" /></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg\" alt=\"\">      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143631428.png\"  style=\"zoom:50%;\" /></p>\n<h2 id=\"总结\">总结</h2>\n<h3 id=\"数据集在不同模型上的准确率\">数据集在不同模型上的准确率</h3>\n<table>\n<thead>\n<tr>\n<th>模型</th>\n<th>准确率</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ResNet</td>\n<td>95.66%</td>\n</tr>\n<tr>\n<td>LeNet</td>\n<td>62.66%</td>\n</tr>\n<tr>\n<td>FashionNet</td>\n<td>74.25%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"LeNet对数据集进行图像增强操作的影响\">LeNet对数据集进行图像增强操作的影响</h3>\n<p>分析：由于模型过于简单，本来就会出现欠拟合现象，继续进行图像增强操作后会导致模型更加欠拟合。所以出现三个模型精度差距较大，主要是因为模型复杂度的差距。虽然是欠拟合，但是继续增加epoch也并不会提高精度，因为模型对数据已经学到了尽可能多的知识。</p>\n<table>\n<thead>\n<tr>\n<th>未归一化</th>\n<th>归一化</th>\n<th>图像增强操作</th>\n<th>大量图像增强操作</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>58.75%</td>\n<td>62.66%</td>\n<td>60.56%</td>\n<td>56.78%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"神经网络参数对模型准确率的影响\">神经网络参数对模型准确率的影响</h3>\n<p>batch_size：64或128并无太大影响。</p>\n<p>初始学习率：由实验结果可得lr=0.01时，效果较差，三个网络都使用了0.01进行测试得出的结果，有的实验结果没贴图。所以直接设置初始学习率为0.001可以更节省时间，提高效率。当学习率为1e-6时，发现准确率更新较小，所以准确率最小设置为1e-6。即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。</p>\n<p>lr_decay_epoch和epoch：即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。即令epoch / lr_decay_epoch = 3或4 都可以，具体以epoch大小为准。</p>\n</div>","excerpt":"","more":"<h2 id=\"使用ResNet18预训练模型\">使用ResNet18预训练模型</h2>\n<p>由于笔记本性能太差，所以在服务器上运行的，显卡配置为4090。经大量实验判断，初始学习率为0.01最后效果较差，所以初始学习率应设为0.001。全部代码代码已上传到：<a href=\"https://github.com/wp-a/-CIFAR10-.git\">https://github.com/wp-a/-CIFAR10-.git</a></p>\n<h3 id=\"库函数导入\">库函数导入</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch.nn <span class=\"keyword\">as</span> nn</span><br><span class=\"line\"><span class=\"keyword\">import</span> torchvision</span><br><span class=\"line\"><span class=\"keyword\">import</span> torchvision.transforms <span class=\"keyword\">as</span> transforms</span><br><span class=\"line\"><span class=\"keyword\">from</span> sklearn.metrics <span class=\"keyword\">import</span> confusion_matrix, classification_report</span><br><span class=\"line\"><span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> chain</span><br><span class=\"line\"><span class=\"keyword\">import</span> multiprocessing</span><br><span class=\"line\">device = torch.device(<span class=\"string\">&quot;cuda:0&quot;</span> <span class=\"keyword\">if</span> torch.cuda.is_available() <span class=\"keyword\">else</span> <span class=\"string\">&quot;cpu&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"数据集加载及增强操作\">数据集加载及增强操作</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">transform_train = transforms.Compose([</span><br><span class=\"line\">    transforms.Resize(<span class=\"number\">224</span>),\t<span class=\"comment\">#图像从32x32放大到224x224是通过在原始像素之间插入新的像素点来实现的。插入的像素值是根据周围原始像素的值，通过不同的插值算法计算出来的，默认使用双线性插值。</span></span><br><span class=\"line\">    transforms.RandomHorizontalFlip(), <span class=\"comment\">#以 0.5 的概率水平随机翻转图像</span></span><br><span class=\"line\">    transforms.RandomRotation(<span class=\"number\">10</span>),  <span class=\"comment\">#将图像随机旋转 -10 到 10 度之间的角度</span></span><br><span class=\"line\">    transforms.ToTensor(),  <span class=\"comment\">#将图像从 PIL 图像格式转换为 PyTorch 张量</span></span><br><span class=\"line\">    transforms.Normalize((<span class=\"number\">0.4914</span>, <span class=\"number\">0.4822</span>, <span class=\"number\">0.4465</span>), (<span class=\"number\">0.2470</span>, <span class=\"number\">0.2435</span>, <span class=\"number\">0.2616</span>)) </span><br><span class=\"line\">    <span class=\"comment\">#使用为三个颜色通道中的每一个提供的平均和标准差来标准化图像的像素值(归一化)</span></span><br><span class=\"line\">])</span><br><span class=\"line\"></span><br><span class=\"line\">transform_test = transforms.Compose([</span><br><span class=\"line\">    transforms.Resize(<span class=\"number\">224</span>),</span><br><span class=\"line\">    transforms.ToTensor(),</span><br><span class=\"line\">    transforms.Normalize((<span class=\"number\">0.4914</span>, <span class=\"number\">0.4822</span>, <span class=\"number\">0.4465</span>), (<span class=\"number\">0.2470</span>, <span class=\"number\">0.2435</span>, <span class=\"number\">0.2616</span>))</span><br><span class=\"line\">])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 加载CIFAR-10数据集</span></span><br><span class=\"line\">train_set = torchvision.datasets.CIFAR10(<span class=\"string\">&quot;./data&quot;</span>, download=<span class=\"literal\">True</span>, transform=transform_train)</span><br><span class=\"line\">test_set = torchvision.datasets.CIFAR10(<span class=\"string\">&quot;./data&quot;</span>, download=<span class=\"literal\">True</span>, train=<span class=\"literal\">False</span>, transform=transform_test)</span><br><span class=\"line\"></span><br><span class=\"line\">batch_size = <span class=\"number\">64</span>  </span><br><span class=\"line\">train_loader = torch.utils.data.DataLoader(train_set, batch_size=batch_size, shuffle=<span class=\"literal\">True</span>, num_workers=<span class=\"number\">0</span>)</span><br><span class=\"line\">test_loader = torch.utils.data.DataLoader(test_set, batch_size=batch_size, shuffle=<span class=\"literal\">False</span>, num_workers=<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">classes = (<span class=\"string\">&#x27;plane&#x27;</span>, <span class=\"string\">&#x27;car&#x27;</span>, <span class=\"string\">&#x27;bird&#x27;</span>, <span class=\"string\">&#x27;cat&#x27;</span>, <span class=\"string\">&#x27;deer&#x27;</span>, <span class=\"string\">&#x27;dog&#x27;</span>, <span class=\"string\">&#x27;frog&#x27;</span>, <span class=\"string\">&#x27;horse&#x27;</span>, <span class=\"string\">&#x27;ship&#x27;</span>, <span class=\"string\">&#x27;truck&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#返回数字对应的类名</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">output_label</span>(<span class=\"params\">label</span>):</span><br><span class=\"line\">    output_mapping = &#123;</span><br><span class=\"line\">        <span class=\"number\">0</span>: <span class=\"string\">&quot;plane&quot;</span>, <span class=\"number\">1</span>: <span class=\"string\">&quot;car&quot;</span>, <span class=\"number\">2</span>: <span class=\"string\">&quot;bird&quot;</span>, <span class=\"number\">3</span>: <span class=\"string\">&quot;cat&quot;</span>, <span class=\"number\">4</span>: <span class=\"string\">&quot;deer&quot;</span>,</span><br><span class=\"line\">        <span class=\"number\">5</span>: <span class=\"string\">&quot;dog&quot;</span>, <span class=\"number\">6</span>: <span class=\"string\">&quot;frog&quot;</span>, <span class=\"number\">7</span>: <span class=\"string\">&quot;horse&quot;</span>, <span class=\"number\">8</span>: <span class=\"string\">&quot;ship&quot;</span>, <span class=\"number\">9</span>: <span class=\"string\">&quot;truck&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">input</span> = (label.item() <span class=\"keyword\">if</span> <span class=\"built_in\">type</span>(label) == torch.Tensor <span class=\"keyword\">else</span> label)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> output_mapping[<span class=\"built_in\">input</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"加载预训练模型\">加载预训练模型</h3>\n<figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">get_resnet18</span>(<span class=\"params\">pretrained=<span class=\"literal\">True</span></span>):</span><br><span class=\"line\">    model = torchvision.models.resnet18(pretrained=pretrained)</span><br><span class=\"line\">    model.fc = nn.Linear(<span class=\"number\">512</span>, <span class=\"number\">10</span>)  <span class=\"comment\"># 修改最后一层以适应CIFAR10的10个类别</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> model</span><br><span class=\"line\"></span><br><span class=\"line\">model = get_resnet18()</span><br><span class=\"line\">model = model.to(device)</span><br></pre></td></tr></table></figure>\n<h3 id=\"模型训练超参数设置\">模型训练超参数设置</h3>\n<figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#定义损失函数，初始学习率，优化器</span></span><br><span class=\"line\">criterion = nn.CrossEntropyLoss()</span><br><span class=\"line\">learning_rate = <span class=\"number\">0.001</span></span><br><span class=\"line\">optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#学习率调节器，前期需要较大步长来快速收敛，后期如还用较大步长可能会在极小值周围震荡，所以后期学习率逐步衰减。可以提高训练效率和性能。Adam负责在参数层面进行自适应的学习率调整，以加快收敛。学习率调度器负责在训练过程的宏观层面调整全局学习率，以提高模型的最终性能和泛化能力。二者不会产生冲突。</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">exp_lr_scheduler</span>(<span class=\"params\">optimizer, epoch, init_lr=<span class=\"number\">0.001</span>, lr_decay_epoch=<span class=\"number\">2</span></span>):</span><br><span class=\"line\">    lr = init_lr * (<span class=\"number\">0.1</span> ** (epoch // lr_decay_epoch))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> epoch % lr_decay_epoch == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;LR is set to <span class=\"subst\">&#123;lr&#125;</span>&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> param_group <span class=\"keyword\">in</span> optimizer.param_groups:</span><br><span class=\"line\">        param_group[<span class=\"string\">&#x27;lr&#x27;</span>] = lr</span><br><span class=\"line\">    <span class=\"keyword\">return</span> optimizer</span><br></pre></td></tr></table></figure>\n<h3 id=\"模型训练\">模型训练</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">num_epochs = <span class=\"number\">6</span></span><br><span class=\"line\">count = <span class=\"number\">0</span></span><br><span class=\"line\">loss_list = []</span><br><span class=\"line\">iteration_list = []</span><br><span class=\"line\">accuracy_list = []</span><br><span class=\"line\">predictions_list = []</span><br><span class=\"line\">labels_list = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> epoch <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(num_epochs):</span><br><span class=\"line\">    model.train() </span><br><span class=\"line\">    running_loss = <span class=\"number\">0.0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    optimizer = exp_lr_scheduler(optimizer, epoch, init_lr=learning_rate, lr_decay_epoch=<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (images, labels) <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(train_loader):</span><br><span class=\"line\">        images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\"></span><br><span class=\"line\">        outputs = model(images)</span><br><span class=\"line\">        loss = criterion(outputs, labels)</span><br><span class=\"line\"></span><br><span class=\"line\">        optimizer.zero_grad()</span><br><span class=\"line\">        loss.backward()</span><br><span class=\"line\">        optimizer.step()</span><br><span class=\"line\"></span><br><span class=\"line\">        running_loss += loss.item()</span><br><span class=\"line\">        count += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i + <span class=\"number\">1</span>) % <span class=\"number\">50</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;Epoch [<span class=\"subst\">&#123;epoch + <span class=\"number\">1</span>&#125;</span>/<span class=\"subst\">&#123;num_epochs&#125;</span>], Step [<span class=\"subst\">&#123;i + <span class=\"number\">1</span>&#125;</span>/<span class=\"subst\">&#123;<span class=\"built_in\">len</span>(train_loader)&#125;</span>], Loss: <span class=\"subst\">&#123;loss.item():<span class=\"number\">.4</span>f&#125;</span>&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            model.<span class=\"built_in\">eval</span>()  </span><br><span class=\"line\">            total = <span class=\"number\">0</span></span><br><span class=\"line\">            correct = <span class=\"number\">0</span></span><br><span class=\"line\">            test_predictions = []</span><br><span class=\"line\">            test_labels = []</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">with</span> torch.no_grad():</span><br><span class=\"line\">                <span class=\"keyword\">for</span> images, labels <span class=\"keyword\">in</span> test_loader:</span><br><span class=\"line\">                    images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\">                    test_labels.extend(labels.cpu().numpy())</span><br><span class=\"line\"></span><br><span class=\"line\">                    outputs = model(images)</span><br><span class=\"line\">                    _, predicted = torch.<span class=\"built_in\">max</span>(outputs.data, <span class=\"number\">1</span>)</span><br><span class=\"line\">                    test_predictions.extend(predicted.cpu().numpy())</span><br><span class=\"line\"></span><br><span class=\"line\">                    total += labels.size(<span class=\"number\">0</span>)</span><br><span class=\"line\">                    correct += (predicted == labels).<span class=\"built_in\">sum</span>().item()</span><br><span class=\"line\"></span><br><span class=\"line\">            accuracy = <span class=\"number\">100</span> * correct / total</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;Accuracy on test set: <span class=\"subst\">&#123;accuracy:<span class=\"number\">.2</span>f&#125;</span>%&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            loss_list.append(loss.item())</span><br><span class=\"line\">            iteration_list.append(count)</span><br><span class=\"line\">            accuracy_list.append(accuracy)</span><br><span class=\"line\"></span><br><span class=\"line\">            predictions_list.append(test_predictions)</span><br><span class=\"line\">            labels_list.append(test_labels)</span><br><span class=\"line\"></span><br><span class=\"line\">            model.train()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Finished Training&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"实验结果保存\">实验结果保存</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">torch.save(model.state_dict(), <span class=\"string\">&#x27;resnet18_cifar10.pth&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Model saved to resnet18_cifar10.pth&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">plt.figure(figsize=(<span class=\"number\">10</span>, <span class=\"number\">5</span>))</span><br><span class=\"line\">plt.plot(iteration_list, loss_list)</span><br><span class=\"line\">plt.xlabel(<span class=\"string\">&quot;No. of Iteration&quot;</span>)</span><br><span class=\"line\">plt.ylabel(<span class=\"string\">&quot;Loss&quot;</span>)</span><br><span class=\"line\">plt.title(<span class=\"string\">&quot;Iterations vs Loss&quot;</span>)</span><br><span class=\"line\">plt.savefig(<span class=\"string\">&#x27;loss_curve.png&#x27;</span>)</span><br><span class=\"line\">plt.show()</span><br><span class=\"line\"></span><br><span class=\"line\">plt.figure(figsize=(<span class=\"number\">10</span>, <span class=\"number\">5</span>))</span><br><span class=\"line\">plt.plot(iteration_list, accuracy_list)</span><br><span class=\"line\">plt.xlabel(<span class=\"string\">&quot;No. of Iteration&quot;</span>)</span><br><span class=\"line\">plt.ylabel(<span class=\"string\">&quot;Accuracy&quot;</span>)</span><br><span class=\"line\">plt.title(<span class=\"string\">&quot;Iterations vs Accuracy&quot;</span>)</span><br><span class=\"line\">plt.savefig(<span class=\"string\">&#x27;accuracy_curve.png&#x27;</span>)</span><br><span class=\"line\">plt.show()</span><br><span class=\"line\"></span><br><span class=\"line\">class_correct = [<span class=\"number\">0.</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>)]</span><br><span class=\"line\">total_correct = [<span class=\"number\">0.</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>)]</span><br><span class=\"line\"></span><br><span class=\"line\">model.<span class=\"built_in\">eval</span>()</span><br><span class=\"line\"><span class=\"keyword\">with</span> torch.no_grad():</span><br><span class=\"line\">    <span class=\"keyword\">for</span> images, labels <span class=\"keyword\">in</span> test_loader:</span><br><span class=\"line\">        images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\">        outputs = model(images)</span><br><span class=\"line\">        _, predicted = torch.<span class=\"built_in\">max</span>(outputs, <span class=\"number\">1</span>)</span><br><span class=\"line\">        c = (predicted == labels).squeeze()</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(labels.size(<span class=\"number\">0</span>)):</span><br><span class=\"line\">            label = labels[i]</span><br><span class=\"line\">            class_correct[label] += c[i].item()</span><br><span class=\"line\">            total_correct[label] += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">f&quot;Accuracy of <span class=\"subst\">&#123;classes[i]&#125;</span>: <span class=\"subst\">&#123;<span class=\"number\">100</span> * class_correct[i] / total_correct[i]:<span class=\"number\">.2</span>f&#125;</span>%&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">flat_predictions = <span class=\"built_in\">list</span>(chain.from_iterable(predictions_list))</span><br><span class=\"line\">flat_labels = <span class=\"built_in\">list</span>(chain.from_iterable(labels_list))</span><br><span class=\"line\"></span><br><span class=\"line\">cm = confusion_matrix(flat_labels, flat_predictions)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Confusion Matrix:&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(cm)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Classification report for ResNet on CIFAR-10:&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(classification_report(flat_labels, flat_predictions, target_names=classes))</span><br></pre></td></tr></table></figure>\n<h3 id=\"实验结果分析\">实验结果分析</h3>\n<h4 id=\"lr分析\">lr分析</h4>\n<p>由实验结果可得lr=0.01时，效果较差，所以直接设置初始学习率为0.001可以更节省时间，提高效率。当学习率为1e-6时，发现准确率更新较小，所以准确率最小设置为1e-6。即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。即令epoch / lr_decay_epoch = 3或4 都可以，具体以epoch大小为准。</p>\n<h5 id=\"lr-0-01\">lr=0.01</h5>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415232217886.png\" style=\"zoom:50%;\" />\n<h5 id=\"lr-0-001\">lr=0.001</h5>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415233045935.png\" style=\"zoom:50%;\" />\n<h5 id=\"lr-1e6\">lr=1e6</h5>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415232556823.png\" style=\"zoom:50%;\" />\n<h4 id=\"batchsize分析\">batchsize分析</h4>\n<h5 id=\"Batchsize：64-epoch：6-lr-decay-epoch：2-初始学习率为0-001-94-46\">Batchsize：64    epoch：6      lr_decay_epoch：2      初始学习率为0.001       94.46%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415220614773.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415220725745.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415205718074.png\" style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415231949009.png\" style=\"zoom:50%;\" />\n<h5 id=\"Batchsize：128-epoch：12-lr-decay-epoch：3-初始学习率为0-001-95-23\">Batchsize：128       epoch：12      lr_decay_epoch：3        初始学习率为0.001     95.23%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234407813.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234416059.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234515857.png\"  style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250415234548312.png\"  style=\"zoom:50%;\" />\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为0-01-85-87\">Batchsize：128    epoch：20      lr_decay_epoch：5       初始学习率为0.01        85.87%</h5>\n<p>和分析的一致，对比下面实验，控制变量，只有初始学习率改变，精度提升10%左右。</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011056469.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011103696.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011422605.png\"  style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011431888.png\"  style=\"zoom:50%;\" />\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为0-001-95-44\">Batchsize：128    epoch：20      lr_decay_epoch：5       初始学习率为0.001        95.44%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011705314.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011712657.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011728662.png\"  style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416011735321.png\"  style=\"zoom:50%;\" />\n<h5 id=\"Batchsize：64-epoch：20-lr-decay-epoch：5-初始学习率为0-001-95-66\">Batchsize：64      epoch：20      lr_decay_epoch：5       初始学习率为0.001        95.66%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111941885.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111952429.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416112318297.png\"  style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416112327065.png\"  style=\"zoom:50%;\" />\n<h2 id=\"使用LeNet网络\">使用LeNet网络</h2>\n<p>与Resnet相比换了一个网络和改了数据加载模块，其他没啥变化。</p>\n<h3 id=\"库函数导入-2\">库函数导入</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch.nn <span class=\"keyword\">as</span> nn</span><br><span class=\"line\"><span class=\"keyword\">import</span> torchvision</span><br><span class=\"line\"><span class=\"keyword\">import</span> torchvision.transforms <span class=\"keyword\">as</span> transforms</span><br><span class=\"line\"><span class=\"keyword\">from</span> sklearn.metrics <span class=\"keyword\">import</span> confusion_matrix, classification_report</span><br><span class=\"line\"><span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> chain</span><br><span class=\"line\"><span class=\"keyword\">import</span> multiprocessing</span><br><span class=\"line\">device = torch.device(<span class=\"string\">&quot;cuda:0&quot;</span> <span class=\"keyword\">if</span> torch.cuda.is_available() <span class=\"keyword\">else</span> <span class=\"string\">&quot;cpu&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"数据集加载及增强操作-2\">数据集加载及增强操作</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">transform = transforms.Compose(</span><br><span class=\"line\">        [transforms.RandomHorizontalFlip(),</span><br><span class=\"line\">         transforms.RandomCrop(<span class=\"number\">32</span>, padding=<span class=\"number\">4</span>),</span><br><span class=\"line\">         transforms.ToTensor(),</span><br><span class=\"line\">         transforms.Normalize((<span class=\"number\">0.5</span>, <span class=\"number\">0.5</span>, <span class=\"number\">0.5</span>), (<span class=\"number\">0.5</span>, <span class=\"number\">0.5</span>, <span class=\"number\">0.5</span>))])</span><br><span class=\"line\"></span><br><span class=\"line\">trainset = torchvision.datasets.CIFAR10(root=<span class=\"string\">&#x27;./data&#x27;</span>, train=<span class=\"literal\">True</span>,</span><br><span class=\"line\">                                            download=<span class=\"literal\">True</span>, transform=transform)</span><br><span class=\"line\">train_loader = torch.utils.data.DataLoader(trainset, batch_size=<span class=\"number\">32</span>,</span><br><span class=\"line\">                                              shuffle=<span class=\"literal\">True</span>, num_workers=<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">testset = torchvision.datasets.CIFAR10(root=<span class=\"string\">&#x27;./data&#x27;</span>, train=<span class=\"literal\">False</span>,</span><br><span class=\"line\">                                           download=<span class=\"literal\">True</span>, transform=transform)</span><br><span class=\"line\">test_loader = torch.utils.data.DataLoader(testset, batch_size=<span class=\"number\">32</span>,</span><br><span class=\"line\">                                             shuffle=<span class=\"literal\">False</span>, num_workers=<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">classes = (<span class=\"string\">&#x27;plane&#x27;</span>, <span class=\"string\">&#x27;car&#x27;</span>, <span class=\"string\">&#x27;bird&#x27;</span>, <span class=\"string\">&#x27;cat&#x27;</span>, <span class=\"string\">&#x27;deer&#x27;</span>, <span class=\"string\">&#x27;dog&#x27;</span>, <span class=\"string\">&#x27;frog&#x27;</span>, <span class=\"string\">&#x27;horse&#x27;</span>, <span class=\"string\">&#x27;ship&#x27;</span>, <span class=\"string\">&#x27;truck&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">output_label</span>(<span class=\"params\">label</span>):</span><br><span class=\"line\">    output_mapping = &#123;</span><br><span class=\"line\">        <span class=\"number\">0</span>: <span class=\"string\">&quot;plane&quot;</span>, <span class=\"number\">1</span>: <span class=\"string\">&quot;car&quot;</span>, <span class=\"number\">2</span>: <span class=\"string\">&quot;bird&quot;</span>, <span class=\"number\">3</span>: <span class=\"string\">&quot;cat&quot;</span>, <span class=\"number\">4</span>: <span class=\"string\">&quot;deer&quot;</span>,</span><br><span class=\"line\">        <span class=\"number\">5</span>: <span class=\"string\">&quot;dog&quot;</span>, <span class=\"number\">6</span>: <span class=\"string\">&quot;frog&quot;</span>, <span class=\"number\">7</span>: <span class=\"string\">&quot;horse&quot;</span>, <span class=\"number\">8</span>: <span class=\"string\">&quot;ship&quot;</span>, <span class=\"number\">9</span>: <span class=\"string\">&quot;truck&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">input</span> = (label.item() <span class=\"keyword\">if</span> <span class=\"built_in\">type</span>(label) == torch.Tensor <span class=\"keyword\">else</span> label)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> output_mapping[<span class=\"built_in\">input</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"LeNet模型\">LeNet模型</h3>\n<figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">C1</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(C1, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.c1 = nn.Sequential(OrderedDict([</span><br><span class=\"line\">            (<span class=\"string\">&#x27;conv1&#x27;</span>, nn.Conv2d(<span class=\"number\">3</span>, <span class=\"number\">6</span>, kernel_size=(<span class=\"number\">5</span>, <span class=\"number\">5</span>))),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;relu1&#x27;</span>, nn.ReLU()),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;pool1&#x27;</span>, nn.MaxPool2d(kernel_size=(<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">2</span>))</span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.c1(img)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">C3</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(C3, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.c3 = nn.Sequential(OrderedDict([</span><br><span class=\"line\">            (<span class=\"string\">&#x27;conv3&#x27;</span>, nn.Conv2d(<span class=\"number\">6</span>, <span class=\"number\">16</span>, kernel_size=(<span class=\"number\">5</span>, <span class=\"number\">5</span>))),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;relu3&#x27;</span>, nn.ReLU()),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;pool3&#x27;</span>, nn.MaxPool2d(kernel_size=(<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">2</span>))</span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.c3(img)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">F4</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(F4, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f4 = nn.Sequential(OrderedDict([</span><br><span class=\"line\">            (<span class=\"string\">&#x27;fc4&#x27;</span>, nn.Linear(<span class=\"number\">16</span> * <span class=\"number\">5</span> * <span class=\"number\">5</span>, <span class=\"number\">120</span>)),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;relu4&#x27;</span>, nn.ReLU())</span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f4(img)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">F5</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(F5, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f5 = nn.Sequential(OrderedDict([</span><br><span class=\"line\">            (<span class=\"string\">&#x27;fc5&#x27;</span>, nn.Linear(<span class=\"number\">120</span>, <span class=\"number\">84</span>)),</span><br><span class=\"line\">            (<span class=\"string\">&#x27;relu5&#x27;</span>, nn.ReLU())</span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f5(img)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">F6</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(F6, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f6 = nn.Sequential(OrderedDict([</span><br><span class=\"line\">            (<span class=\"string\">&#x27;fc6&#x27;</span>, nn.Linear(<span class=\"number\">84</span>, <span class=\"number\">10</span>))</span><br><span class=\"line\">        ]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f6(img)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">LeNet5</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(LeNet5, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.c1 = C1()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.c3 = C3()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f4 = F4()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f5 = F5()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.f6 = F6()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, img</span>):</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.c1(img)</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.c3(output)</span><br><span class=\"line\">        output = output.view(-<span class=\"number\">1</span>, <span class=\"number\">16</span> * <span class=\"number\">5</span> * <span class=\"number\">5</span>)</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f4(output)</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f5(output)</span><br><span class=\"line\">        output = <span class=\"variable language_\">self</span>.f6(output)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br></pre></td></tr></table></figure>\n<h3 id=\"模型训练超参数设置-2\">模型训练超参数设置</h3>\n<figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#定义损失函数，初始学习率，优化器</span></span><br><span class=\"line\">criterion = nn.CrossEntropyLoss()</span><br><span class=\"line\">learning_rate = <span class=\"number\">0.001</span></span><br><span class=\"line\">optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#学习率调节器，前期需要较大步长来快速收敛，后期如还用较大步长可能会在极小值周围震荡，所以后期学习率逐步衰减。可以提高训练效率和性能。</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">exp_lr_scheduler</span>(<span class=\"params\">optimizer, epoch, init_lr=<span class=\"number\">0.001</span>, lr_decay_epoch=<span class=\"number\">2</span></span>):</span><br><span class=\"line\">    lr = init_lr * (<span class=\"number\">0.1</span> ** (epoch // lr_decay_epoch))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> epoch % lr_decay_epoch == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;LR is set to <span class=\"subst\">&#123;lr&#125;</span>&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> param_group <span class=\"keyword\">in</span> optimizer.param_groups:</span><br><span class=\"line\">        param_group[<span class=\"string\">&#x27;lr&#x27;</span>] = lr</span><br><span class=\"line\">    <span class=\"keyword\">return</span> optimizer</span><br></pre></td></tr></table></figure>\n<h3 id=\"模型训练-2\">模型训练</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">num_epochs = <span class=\"number\">20</span></span><br><span class=\"line\">count = <span class=\"number\">0</span></span><br><span class=\"line\">loss_list = []</span><br><span class=\"line\">iteration_list = []</span><br><span class=\"line\">accuracy_list = []</span><br><span class=\"line\">predictions_list = []</span><br><span class=\"line\">labels_list = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> epoch <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(num_epochs):</span><br><span class=\"line\">    model.train() </span><br><span class=\"line\">    running_loss = <span class=\"number\">0.0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    optimizer = exp_lr_scheduler(optimizer, epoch, init_lr=learning_rate, lr_decay_epoch=<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (images, labels) <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(train_loader):</span><br><span class=\"line\">        images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\"></span><br><span class=\"line\">        outputs = model(images)</span><br><span class=\"line\">        loss = criterion(outputs, labels)</span><br><span class=\"line\"></span><br><span class=\"line\">        optimizer.zero_grad()</span><br><span class=\"line\">        loss.backward()</span><br><span class=\"line\">        optimizer.step()</span><br><span class=\"line\"></span><br><span class=\"line\">        running_loss += loss.item()</span><br><span class=\"line\">        count += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i + <span class=\"number\">1</span>) % <span class=\"number\">50</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;Epoch [<span class=\"subst\">&#123;epoch + <span class=\"number\">1</span>&#125;</span>/<span class=\"subst\">&#123;num_epochs&#125;</span>], Step [<span class=\"subst\">&#123;i + <span class=\"number\">1</span>&#125;</span>/<span class=\"subst\">&#123;<span class=\"built_in\">len</span>(train_loader)&#125;</span>], Loss: <span class=\"subst\">&#123;loss.item():<span class=\"number\">.4</span>f&#125;</span>&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            model.<span class=\"built_in\">eval</span>() </span><br><span class=\"line\">            total = <span class=\"number\">0</span></span><br><span class=\"line\">            correct = <span class=\"number\">0</span></span><br><span class=\"line\">            test_predictions = []</span><br><span class=\"line\">            test_labels = []</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">with</span> torch.no_grad():</span><br><span class=\"line\">                <span class=\"keyword\">for</span> images, labels <span class=\"keyword\">in</span> test_loader:</span><br><span class=\"line\">                    images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\">                    test_labels.extend(labels.cpu().numpy())</span><br><span class=\"line\"></span><br><span class=\"line\">                    outputs = model(images)</span><br><span class=\"line\">                    _, predicted = torch.<span class=\"built_in\">max</span>(outputs.data, <span class=\"number\">1</span>)</span><br><span class=\"line\">                    test_predictions.extend(predicted.cpu().numpy())</span><br><span class=\"line\"></span><br><span class=\"line\">                    total += labels.size(<span class=\"number\">0</span>)</span><br><span class=\"line\">                    correct += (predicted == labels).<span class=\"built_in\">sum</span>().item()</span><br><span class=\"line\"></span><br><span class=\"line\">            accuracy = <span class=\"number\">100</span> * correct / total</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;Accuracy on test set: <span class=\"subst\">&#123;accuracy:<span class=\"number\">.2</span>f&#125;</span>%&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            loss_list.append(loss.item())</span><br><span class=\"line\">            iteration_list.append(count)</span><br><span class=\"line\">            accuracy_list.append(accuracy)</span><br><span class=\"line\"></span><br><span class=\"line\">            predictions_list.append(test_predictions)</span><br><span class=\"line\">            labels_list.append(test_labels)</span><br><span class=\"line\"></span><br><span class=\"line\">            model.train()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Finished Training&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"实验结果保存-2\">实验结果保存</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">torch.save(model.state_dict(), <span class=\"string\">&#x27;lenet5_cifar10.pth&#x27;</span>) </span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Model saved to lenet5_cifar10.pth&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">plt.figure(figsize=(<span class=\"number\">10</span>, <span class=\"number\">5</span>))</span><br><span class=\"line\">plt.plot(iteration_list, loss_list)</span><br><span class=\"line\">plt.xlabel(<span class=\"string\">&quot;No. of Iteration&quot;</span>)</span><br><span class=\"line\">plt.ylabel(<span class=\"string\">&quot;Loss&quot;</span>)</span><br><span class=\"line\">plt.title(<span class=\"string\">&quot;Iterations vs Loss&quot;</span>)</span><br><span class=\"line\">plt.savefig(<span class=\"string\">&#x27;loss_curve.png&#x27;</span>)</span><br><span class=\"line\">plt.show()</span><br><span class=\"line\"></span><br><span class=\"line\">plt.figure(figsize=(<span class=\"number\">10</span>, <span class=\"number\">5</span>))</span><br><span class=\"line\">plt.plot(iteration_list, accuracy_list)</span><br><span class=\"line\">plt.xlabel(<span class=\"string\">&quot;No. of Iteration&quot;</span>)</span><br><span class=\"line\">plt.ylabel(<span class=\"string\">&quot;Accuracy&quot;</span>)</span><br><span class=\"line\">plt.title(<span class=\"string\">&quot;Iterations vs Accuracy&quot;</span>)</span><br><span class=\"line\">plt.savefig(<span class=\"string\">&#x27;accuracy_curve.png&#x27;</span>)</span><br><span class=\"line\">plt.show()</span><br><span class=\"line\"></span><br><span class=\"line\">class_correct = [<span class=\"number\">0.</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>)]</span><br><span class=\"line\">total_correct = [<span class=\"number\">0.</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>)]</span><br><span class=\"line\"></span><br><span class=\"line\">model.<span class=\"built_in\">eval</span>()</span><br><span class=\"line\"><span class=\"keyword\">with</span> torch.no_grad():</span><br><span class=\"line\">    <span class=\"keyword\">for</span> images, labels <span class=\"keyword\">in</span> test_loader:</span><br><span class=\"line\">        images, labels = images.to(device), labels.to(device)</span><br><span class=\"line\">        outputs = model(images)</span><br><span class=\"line\">        _, predicted = torch.<span class=\"built_in\">max</span>(outputs, <span class=\"number\">1</span>)</span><br><span class=\"line\">        c = (predicted == labels).squeeze()</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(labels.size(<span class=\"number\">0</span>)):</span><br><span class=\"line\">            label = labels[i]</span><br><span class=\"line\">            class_correct[label] += c[i].item()</span><br><span class=\"line\">            total_correct[label] += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">f&quot;Accuracy of <span class=\"subst\">&#123;classes[i]&#125;</span>: <span class=\"subst\">&#123;<span class=\"number\">100</span> * class_correct[i] / total_correct[i]:<span class=\"number\">.2</span>f&#125;</span>%&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">flat_predictions = <span class=\"built_in\">list</span>(chain.from_iterable(predictions_list))</span><br><span class=\"line\">flat_labels = <span class=\"built_in\">list</span>(chain.from_iterable(labels_list))</span><br><span class=\"line\"></span><br><span class=\"line\">cm = confusion_matrix(flat_labels, flat_predictions)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Confusion Matrix:&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(cm)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Classification report for LeNet on CIFAR-10:&quot;</span>) </span><br><span class=\"line\"><span class=\"built_in\">print</span>(classification_report(flat_labels, flat_predictions, target_names=classes))</span><br></pre></td></tr></table></figure>\n<h3 id=\"实验结果分析-2\">实验结果分析</h3>\n<h4 id=\"使用图像增强操作\">使用图像增强操作</h4>\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为-0-001-60-56\">Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       60.56%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143045031.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143053524.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143111341.png\" style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143119004.png\" style=\"zoom:50%;\" />\n<h4 id=\"未使用图像增强操作\">未使用图像增强操作</h4>\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为-0-001-62-66\">Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       62.66%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100137609.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100147883.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100211736.png\" style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417100219120.png\" style=\"zoom:50%;\" />\n<h2 id=\"使用FashionNet\">使用FashionNet</h2>\n<p>代码详见github</p>\n<h3 id=\"图像增强操作训练结果分析\">图像增强操作训练结果分析</h3>\n<h4 id=\"使用图像增强操作-2\">使用图像增强操作</h4>\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为-0-001-71-51\">Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        71.51%</h5>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417094047006.png\" style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250417094113225.png\" style=\"zoom:50%;\" />\n<h4 id=\"未使用图像增强操作-2\">未使用图像增强操作</h4>\n<h5 id=\"Batchsize：128-epoch：30-lr-decay-epoch：6-初始学习率为-0-01-71-69\">Batchsize：128      epoch：30      lr_decay_epoch：6     初始学习率为 0.01        71.69%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416003738154.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416003746404.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416004553116.png\"  style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416004618803.png\" style=\"zoom:50%;\" />\n<h5 id=\"Batchsize：128-epoch：20-lr-decay-epoch：5-初始学习率为-0-001-74-25\">Batchsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        74.25%</h5>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416124752133.png\" alt=\"\"></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416124817538.png\" alt=\"\"></p>\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416125051704.png\" style=\"zoom:50%;\" />\n<img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416125058999.png\" style=\"zoom:50%;\" />\n<h2 id=\"Gradcam实现图像特征可视化\">Gradcam实现图像特征可视化</h2>\n<p>Grad-CAM 的目标层均为最后一个卷积层</p>\n<h3 id=\"Resnet效果图\">Resnet效果图</h3>\n<p>参数配置    Batch_size：64    epoch：20      lr_decay_epoch：5     lr：0.001      95.66%</p>\n<p>图片来自谷歌。</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111246144.png\" style=\"zoom: 50%;\" /></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg\" alt=\"\">      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111606162.png\" style=\"zoom:50%;\" /></p>\n<h3 id=\"FashionNet效果图\">FashionNet效果图</h3>\n<p>参数配置      Bachsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001        74.25%</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416130110520.png\"  style=\"zoom:50%;\" /></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg\" alt=\"\">      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416130415531.png\"  style=\"zoom:50%;\" /></p>\n<h3 id=\"LeNet效果图\">LeNet效果图</h3>\n<p>参数配置      Bachsize：128      epoch：20      lr_decay_epoch：5     初始学习率为 0.001       60.56%</p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111154160.jpg\" style=\"zoom: 99%;\" />  <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143505157.png\"  style=\"zoom:50%;\" /></p>\n<p><img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416111555414.jpg\" alt=\"\">      <img src=\"https://wpironman.oss-cn-qingdao.aliyuncs.com/20250416143631428.png\"  style=\"zoom:50%;\" /></p>\n<h2 id=\"总结\">总结</h2>\n<h3 id=\"数据集在不同模型上的准确率\">数据集在不同模型上的准确率</h3>\n<table>\n<thead>\n<tr>\n<th>模型</th>\n<th>准确率</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ResNet</td>\n<td>95.66%</td>\n</tr>\n<tr>\n<td>LeNet</td>\n<td>62.66%</td>\n</tr>\n<tr>\n<td>FashionNet</td>\n<td>74.25%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"LeNet对数据集进行图像增强操作的影响\">LeNet对数据集进行图像增强操作的影响</h3>\n<p>分析：由于模型过于简单，本来就会出现欠拟合现象，继续进行图像增强操作后会导致模型更加欠拟合。所以出现三个模型精度差距较大，主要是因为模型复杂度的差距。虽然是欠拟合，但是继续增加epoch也并不会提高精度，因为模型对数据已经学到了尽可能多的知识。</p>\n<table>\n<thead>\n<tr>\n<th>未归一化</th>\n<th>归一化</th>\n<th>图像增强操作</th>\n<th>大量图像增强操作</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>58.75%</td>\n<td>62.66%</td>\n<td>60.56%</td>\n<td>56.78%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"神经网络参数对模型准确率的影响\">神经网络参数对模型准确率的影响</h3>\n<p>batch_size：64或128并无太大影响。</p>\n<p>初始学习率：由实验结果可得lr=0.01时，效果较差，三个网络都使用了0.01进行测试得出的结果，有的实验结果没贴图。所以直接设置初始学习率为0.001可以更节省时间，提高效率。当学习率为1e-6时，发现准确率更新较小，所以准确率最小设置为1e-6。即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。</p>\n<p>lr_decay_epoch和epoch：即学习率梯度为1e-3,1e-4,1e-5,1e-6，可以有较好的效果。即令epoch / lr_decay_epoch = 3或4 都可以，具体以epoch大小为准。</p>\n"},{"title":"回溯算法","date":"2025-03-04T13:55:25.000Z","updated":"2025-03-08T09:26:31.148Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp","_content":"\n## 回溯算法\n\n​\t**回溯算法** 是一种通过**试错**的方式寻找问题解的算法。它尝试逐步构建解决方案，如果在构建过程中的某一步发现当前的构建方案不可行，它会**回溯**（即取消最近一步的选择），然后尝试其他的可能性。这个过程就像是在迷宫中探索路径，当遇到死路时就退回上一个岔路口，选择另一条路继续前进。\n\n### 核心思想\n\n- **试探性选择:**  在每一步，都面临多个选择，回溯算法会先选择其中一个进行尝试。\n- **逐步构建:**  它一步一步地构建可能的解。\n- **可行性判断 (约束条件):** 在每一步构建后，都会检查当前的部分解是否满足问题的约束条件。\n- **回溯 (撤销选择):** 如果发现当前部分解不可行，则撤销上一步的选择，回到之前的状态，并尝试其他的选择。\n- **终止条件:** 当找到一个完整的可行解，或者当所有可能的选择都尝试完毕且没有找到解时，算法终止。\n\n### 基本步骤\n\n1. **定义问题的解空间：** 确定问题的解可能存在的所有可能组合。例如，对于一个排列问题，解空间就是所有可能的排列。\n\n2. **确定约束条件：**  定义问题解必须满足的条件。这些条件用于判断当前构建的部分解是否有效。\n\n3. **选择搜索策略 (通常是深度优先搜索 DFS)：**  回溯算法通常使用深度优先搜索的方式来遍历解空间。\n\n4. **设计递归函数 (或迭代方式模拟递归)：**\n\n     递归函数是实现回溯算法的关键。该函数通常包含以下几个部分：\n\n   - **基本情况 (终止条件)：**  判断是否找到了一个完整的解，或者是否已经遍历完所有可能性但没有找到解。\n   - **选择步骤：**  在当前状态下，有哪些选择可以进行？\n   - **扩展状态：**  对于每个选择，更新状态，并递归调用自身进入下一层搜索。\n   - **回溯步骤：**  在递归调用返回后，需要撤销当前的选择，恢复到之前的状态，以便尝试其他的选择。\n\n5. **剪枝优化 (可选但重要)：**  在搜索过程中，如果发现某个部分解已经不可能导致最终解，可以提前结束对该分支的搜索，以提高效率。这称为剪枝。\n\n### 应用示例\n\n回溯算法可以应用于解决许多经典问题，包括但不限于：\n\n1. **组合问题：**\n   - **组合总和 (Combination Sum):**  在一个数字集合中找到所有和为目标值的组合。\n   - **子集 (Subsets):**  找出给定集合的所有子集。\n   - **电话号码的字母组合 (Letter Combinations of a Phone Number):**  给定数字字符串，返回所有可能的字母组合。\n2. **排列问题：**\n   - **全排列 (Permutations):**  生成给定集合的所有排列。\n   - **下一个排列 (Next Permutation):**  找到给定排列的下一个字典序排列。\n3. **图论问题：**\n   - **N 皇后问题 (N-Queens Problem):**  在 NxN 的棋盘上放置 N 个皇后，使其互不攻击。\n   - **数独 (Sudoku Solver):**  解决数独谜题。\n   - **迷宫寻路 (Maze Solving):**  找到迷宫的路径。\n   - **图的着色问题 (Graph Coloring):**  给图的顶点着色，使得相邻顶点颜色不同。\n   - **旅行商问题 (Traveling Salesman Problem - TSP) (近似解或小规模问题)：**  虽然TSP通常使用更优化的算法，但在小规模情况下，回溯可以找到解。\n4. **其他问题：**\n   - **0-1 背包问题 (0-1 Knapsack Problem)：**  虽然动态规划更常用，但回溯也可以解决。\n   - **正则表达式匹配 (Regular Expression Matching) (某些情况)：**  复杂的正则表达式匹配问题可以使用回溯解决。\n   - **解方程 (Solving Equations) (某些类型)：**  例如，约束满足问题 (Constraint Satisfaction Problems - CSPs)。\n\n### 回溯算法模板\n\n回溯法其实就是暴力查找，回溯法解决的问题都可以抽象为树形结构（N叉树）。\n\n```c++\nvoid backtracking(参数) {\n    if (终止条件) {\n        存放结果;\n        return;\n    }\n\n    for (选择：本层集合中元素（树中节点孩子的数量就是集合的大小）) {\n        处理节点;\n        backtracking(路径，选择列表); // 递归\n        回溯，撤销处理结果\n    }\n}\n```\n\n","source":"_posts/回溯算法.md","raw":"---\ntitle: 回溯算法\ndate: 2025-03-04 21:55:25\ntags: [数据结构与算法,回溯]\ncategories: [学习,数据结构与算法,基础知识]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp\n---\n\n## 回溯算法\n\n​\t**回溯算法** 是一种通过**试错**的方式寻找问题解的算法。它尝试逐步构建解决方案，如果在构建过程中的某一步发现当前的构建方案不可行，它会**回溯**（即取消最近一步的选择），然后尝试其他的可能性。这个过程就像是在迷宫中探索路径，当遇到死路时就退回上一个岔路口，选择另一条路继续前进。\n\n### 核心思想\n\n- **试探性选择:**  在每一步，都面临多个选择，回溯算法会先选择其中一个进行尝试。\n- **逐步构建:**  它一步一步地构建可能的解。\n- **可行性判断 (约束条件):** 在每一步构建后，都会检查当前的部分解是否满足问题的约束条件。\n- **回溯 (撤销选择):** 如果发现当前部分解不可行，则撤销上一步的选择，回到之前的状态，并尝试其他的选择。\n- **终止条件:** 当找到一个完整的可行解，或者当所有可能的选择都尝试完毕且没有找到解时，算法终止。\n\n### 基本步骤\n\n1. **定义问题的解空间：** 确定问题的解可能存在的所有可能组合。例如，对于一个排列问题，解空间就是所有可能的排列。\n\n2. **确定约束条件：**  定义问题解必须满足的条件。这些条件用于判断当前构建的部分解是否有效。\n\n3. **选择搜索策略 (通常是深度优先搜索 DFS)：**  回溯算法通常使用深度优先搜索的方式来遍历解空间。\n\n4. **设计递归函数 (或迭代方式模拟递归)：**\n\n     递归函数是实现回溯算法的关键。该函数通常包含以下几个部分：\n\n   - **基本情况 (终止条件)：**  判断是否找到了一个完整的解，或者是否已经遍历完所有可能性但没有找到解。\n   - **选择步骤：**  在当前状态下，有哪些选择可以进行？\n   - **扩展状态：**  对于每个选择，更新状态，并递归调用自身进入下一层搜索。\n   - **回溯步骤：**  在递归调用返回后，需要撤销当前的选择，恢复到之前的状态，以便尝试其他的选择。\n\n5. **剪枝优化 (可选但重要)：**  在搜索过程中，如果发现某个部分解已经不可能导致最终解，可以提前结束对该分支的搜索，以提高效率。这称为剪枝。\n\n### 应用示例\n\n回溯算法可以应用于解决许多经典问题，包括但不限于：\n\n1. **组合问题：**\n   - **组合总和 (Combination Sum):**  在一个数字集合中找到所有和为目标值的组合。\n   - **子集 (Subsets):**  找出给定集合的所有子集。\n   - **电话号码的字母组合 (Letter Combinations of a Phone Number):**  给定数字字符串，返回所有可能的字母组合。\n2. **排列问题：**\n   - **全排列 (Permutations):**  生成给定集合的所有排列。\n   - **下一个排列 (Next Permutation):**  找到给定排列的下一个字典序排列。\n3. **图论问题：**\n   - **N 皇后问题 (N-Queens Problem):**  在 NxN 的棋盘上放置 N 个皇后，使其互不攻击。\n   - **数独 (Sudoku Solver):**  解决数独谜题。\n   - **迷宫寻路 (Maze Solving):**  找到迷宫的路径。\n   - **图的着色问题 (Graph Coloring):**  给图的顶点着色，使得相邻顶点颜色不同。\n   - **旅行商问题 (Traveling Salesman Problem - TSP) (近似解或小规模问题)：**  虽然TSP通常使用更优化的算法，但在小规模情况下，回溯可以找到解。\n4. **其他问题：**\n   - **0-1 背包问题 (0-1 Knapsack Problem)：**  虽然动态规划更常用，但回溯也可以解决。\n   - **正则表达式匹配 (Regular Expression Matching) (某些情况)：**  复杂的正则表达式匹配问题可以使用回溯解决。\n   - **解方程 (Solving Equations) (某些类型)：**  例如，约束满足问题 (Constraint Satisfaction Problems - CSPs)。\n\n### 回溯算法模板\n\n回溯法其实就是暴力查找，回溯法解决的问题都可以抽象为树形结构（N叉树）。\n\n```c++\nvoid backtracking(参数) {\n    if (终止条件) {\n        存放结果;\n        return;\n    }\n\n    for (选择：本层集合中元素（树中节点孩子的数量就是集合的大小）) {\n        处理节点;\n        backtracking(路径，选择列表); // 递归\n        回溯，撤销处理结果\n    }\n}\n```\n\n","slug":"回溯算法","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamiz003n1swmfivib9cr","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"回溯算法\">回溯算法</h2>\n<p>​\t<strong>回溯算法</strong> 是一种通过<strong>试错</strong>的方式寻找问题解的算法。它尝试逐步构建解决方案，如果在构建过程中的某一步发现当前的构建方案不可行，它会<strong>回溯</strong>（即取消最近一步的选择），然后尝试其他的可能性。这个过程就像是在迷宫中探索路径，当遇到死路时就退回上一个岔路口，选择另一条路继续前进。</p>\n<h3 id=\"核心思想\">核心思想</h3>\n<ul>\n<li><strong>试探性选择:</strong>  在每一步，都面临多个选择，回溯算法会先选择其中一个进行尝试。</li>\n<li><strong>逐步构建:</strong>  它一步一步地构建可能的解。</li>\n<li><strong>可行性判断 (约束条件):</strong> 在每一步构建后，都会检查当前的部分解是否满足问题的约束条件。</li>\n<li><strong>回溯 (撤销选择):</strong> 如果发现当前部分解不可行，则撤销上一步的选择，回到之前的状态，并尝试其他的选择。</li>\n<li><strong>终止条件:</strong> 当找到一个完整的可行解，或者当所有可能的选择都尝试完毕且没有找到解时，算法终止。</li>\n</ul>\n<h3 id=\"基本步骤\">基本步骤</h3>\n<ol>\n<li>\n<p><strong>定义问题的解空间：</strong> 确定问题的解可能存在的所有可能组合。例如，对于一个排列问题，解空间就是所有可能的排列。</p>\n</li>\n<li>\n<p><strong>确定约束条件：</strong>  定义问题解必须满足的条件。这些条件用于判断当前构建的部分解是否有效。</p>\n</li>\n<li>\n<p><strong>选择搜索策略 (通常是深度优先搜索 DFS)：</strong>  回溯算法通常使用深度优先搜索的方式来遍历解空间。</p>\n</li>\n<li>\n<p><strong>设计递归函数 (或迭代方式模拟递归)：</strong></p>\n<p>递归函数是实现回溯算法的关键。该函数通常包含以下几个部分：</p>\n<ul>\n<li><strong>基本情况 (终止条件)：</strong>  判断是否找到了一个完整的解，或者是否已经遍历完所有可能性但没有找到解。</li>\n<li><strong>选择步骤：</strong>  在当前状态下，有哪些选择可以进行？</li>\n<li><strong>扩展状态：</strong>  对于每个选择，更新状态，并递归调用自身进入下一层搜索。</li>\n<li><strong>回溯步骤：</strong>  在递归调用返回后，需要撤销当前的选择，恢复到之前的状态，以便尝试其他的选择。</li>\n</ul>\n</li>\n<li>\n<p><strong>剪枝优化 (可选但重要)：</strong>  在搜索过程中，如果发现某个部分解已经不可能导致最终解，可以提前结束对该分支的搜索，以提高效率。这称为剪枝。</p>\n</li>\n</ol>\n<h3 id=\"应用示例\">应用示例</h3>\n<p>回溯算法可以应用于解决许多经典问题，包括但不限于：</p>\n<ol>\n<li><strong>组合问题：</strong>\n<ul>\n<li><strong>组合总和 (Combination Sum):</strong>  在一个数字集合中找到所有和为目标值的组合。</li>\n<li><strong>子集 (Subsets):</strong>  找出给定集合的所有子集。</li>\n<li><strong>电话号码的字母组合 (Letter Combinations of a Phone Number):</strong>  给定数字字符串，返回所有可能的字母组合。</li>\n</ul>\n</li>\n<li><strong>排列问题：</strong>\n<ul>\n<li><strong>全排列 (Permutations):</strong>  生成给定集合的所有排列。</li>\n<li><strong>下一个排列 (Next Permutation):</strong>  找到给定排列的下一个字典序排列。</li>\n</ul>\n</li>\n<li><strong>图论问题：</strong>\n<ul>\n<li><strong>N 皇后问题 (N-Queens Problem):</strong>  在 NxN 的棋盘上放置 N 个皇后，使其互不攻击。</li>\n<li><strong>数独 (Sudoku Solver):</strong>  解决数独谜题。</li>\n<li><strong>迷宫寻路 (Maze Solving):</strong>  找到迷宫的路径。</li>\n<li><strong>图的着色问题 (Graph Coloring):</strong>  给图的顶点着色，使得相邻顶点颜色不同。</li>\n<li><strong>旅行商问题 (Traveling Salesman Problem - TSP) (近似解或小规模问题)：</strong>  虽然TSP通常使用更优化的算法，但在小规模情况下，回溯可以找到解。</li>\n</ul>\n</li>\n<li><strong>其他问题：</strong>\n<ul>\n<li><strong>0-1 背包问题 (0-1 Knapsack Problem)：</strong>  虽然动态规划更常用，但回溯也可以解决。</li>\n<li><strong>正则表达式匹配 (Regular Expression Matching) (某些情况)：</strong>  复杂的正则表达式匹配问题可以使用回溯解决。</li>\n<li><strong>解方程 (Solving Equations) (某些类型)：</strong>  例如，约束满足问题 (Constraint Satisfaction Problems - CSPs)。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"回溯算法模板\">回溯算法模板</h3>\n<p>回溯法其实就是暴力查找，回溯法解决的问题都可以抽象为树形结构（N叉树）。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">backtracking</span><span class=\"params\">(参数)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (终止条件) &#123;</span><br><span class=\"line\">        存放结果;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (选择：本层集合中元素（树中节点孩子的数量就是集合的大小）) &#123;</span><br><span class=\"line\">        处理节点;</span><br><span class=\"line\">        <span class=\"built_in\">backtracking</span>(路径，选择列表); <span class=\"comment\">// 递归</span></span><br><span class=\"line\">        回溯，撤销处理结果</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</div>","excerpt":"","more":"<h2 id=\"回溯算法\">回溯算法</h2>\n<p>​\t<strong>回溯算法</strong> 是一种通过<strong>试错</strong>的方式寻找问题解的算法。它尝试逐步构建解决方案，如果在构建过程中的某一步发现当前的构建方案不可行，它会<strong>回溯</strong>（即取消最近一步的选择），然后尝试其他的可能性。这个过程就像是在迷宫中探索路径，当遇到死路时就退回上一个岔路口，选择另一条路继续前进。</p>\n<h3 id=\"核心思想\">核心思想</h3>\n<ul>\n<li><strong>试探性选择:</strong>  在每一步，都面临多个选择，回溯算法会先选择其中一个进行尝试。</li>\n<li><strong>逐步构建:</strong>  它一步一步地构建可能的解。</li>\n<li><strong>可行性判断 (约束条件):</strong> 在每一步构建后，都会检查当前的部分解是否满足问题的约束条件。</li>\n<li><strong>回溯 (撤销选择):</strong> 如果发现当前部分解不可行，则撤销上一步的选择，回到之前的状态，并尝试其他的选择。</li>\n<li><strong>终止条件:</strong> 当找到一个完整的可行解，或者当所有可能的选择都尝试完毕且没有找到解时，算法终止。</li>\n</ul>\n<h3 id=\"基本步骤\">基本步骤</h3>\n<ol>\n<li>\n<p><strong>定义问题的解空间：</strong> 确定问题的解可能存在的所有可能组合。例如，对于一个排列问题，解空间就是所有可能的排列。</p>\n</li>\n<li>\n<p><strong>确定约束条件：</strong>  定义问题解必须满足的条件。这些条件用于判断当前构建的部分解是否有效。</p>\n</li>\n<li>\n<p><strong>选择搜索策略 (通常是深度优先搜索 DFS)：</strong>  回溯算法通常使用深度优先搜索的方式来遍历解空间。</p>\n</li>\n<li>\n<p><strong>设计递归函数 (或迭代方式模拟递归)：</strong></p>\n<p>递归函数是实现回溯算法的关键。该函数通常包含以下几个部分：</p>\n<ul>\n<li><strong>基本情况 (终止条件)：</strong>  判断是否找到了一个完整的解，或者是否已经遍历完所有可能性但没有找到解。</li>\n<li><strong>选择步骤：</strong>  在当前状态下，有哪些选择可以进行？</li>\n<li><strong>扩展状态：</strong>  对于每个选择，更新状态，并递归调用自身进入下一层搜索。</li>\n<li><strong>回溯步骤：</strong>  在递归调用返回后，需要撤销当前的选择，恢复到之前的状态，以便尝试其他的选择。</li>\n</ul>\n</li>\n<li>\n<p><strong>剪枝优化 (可选但重要)：</strong>  在搜索过程中，如果发现某个部分解已经不可能导致最终解，可以提前结束对该分支的搜索，以提高效率。这称为剪枝。</p>\n</li>\n</ol>\n<h3 id=\"应用示例\">应用示例</h3>\n<p>回溯算法可以应用于解决许多经典问题，包括但不限于：</p>\n<ol>\n<li><strong>组合问题：</strong>\n<ul>\n<li><strong>组合总和 (Combination Sum):</strong>  在一个数字集合中找到所有和为目标值的组合。</li>\n<li><strong>子集 (Subsets):</strong>  找出给定集合的所有子集。</li>\n<li><strong>电话号码的字母组合 (Letter Combinations of a Phone Number):</strong>  给定数字字符串，返回所有可能的字母组合。</li>\n</ul>\n</li>\n<li><strong>排列问题：</strong>\n<ul>\n<li><strong>全排列 (Permutations):</strong>  生成给定集合的所有排列。</li>\n<li><strong>下一个排列 (Next Permutation):</strong>  找到给定排列的下一个字典序排列。</li>\n</ul>\n</li>\n<li><strong>图论问题：</strong>\n<ul>\n<li><strong>N 皇后问题 (N-Queens Problem):</strong>  在 NxN 的棋盘上放置 N 个皇后，使其互不攻击。</li>\n<li><strong>数独 (Sudoku Solver):</strong>  解决数独谜题。</li>\n<li><strong>迷宫寻路 (Maze Solving):</strong>  找到迷宫的路径。</li>\n<li><strong>图的着色问题 (Graph Coloring):</strong>  给图的顶点着色，使得相邻顶点颜色不同。</li>\n<li><strong>旅行商问题 (Traveling Salesman Problem - TSP) (近似解或小规模问题)：</strong>  虽然TSP通常使用更优化的算法，但在小规模情况下，回溯可以找到解。</li>\n</ul>\n</li>\n<li><strong>其他问题：</strong>\n<ul>\n<li><strong>0-1 背包问题 (0-1 Knapsack Problem)：</strong>  虽然动态规划更常用，但回溯也可以解决。</li>\n<li><strong>正则表达式匹配 (Regular Expression Matching) (某些情况)：</strong>  复杂的正则表达式匹配问题可以使用回溯解决。</li>\n<li><strong>解方程 (Solving Equations) (某些类型)：</strong>  例如，约束满足问题 (Constraint Satisfaction Problems - CSPs)。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"回溯算法模板\">回溯算法模板</h3>\n<p>回溯法其实就是暴力查找，回溯法解决的问题都可以抽象为树形结构（N叉树）。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">backtracking</span><span class=\"params\">(参数)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (终止条件) &#123;</span><br><span class=\"line\">        存放结果;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (选择：本层集合中元素（树中节点孩子的数量就是集合的大小）) &#123;</span><br><span class=\"line\">        处理节点;</span><br><span class=\"line\">        <span class=\"built_in\">backtracking</span>(路径，选择列表); <span class=\"comment\">// 递归</span></span><br><span class=\"line\">        回溯，撤销处理结果</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"线性表","date":"2025-02-28T02:29:48.000Z","updated":"2025-03-08T09:26:13.206Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp","_content":"\n## 线性表\n\n线性表是⼀对⼀的逻辑结构，线性表中除了表头元素每个元素有且仅有唯⼀⼀个前驱元素，除了表尾元素，每个结点都有唯⼀⼀个后继节点。\n\n### 顺序存储（顺序表）\n\n##### 存取\n\n顺序表随机存取，存取某个元素的时间复杂度为O(1)。\n\n##### 查找\n\n平均时间复杂度O(n)\n\n##### 插入删除\n\n平均时间复杂度O(n)，删除插⼊元素需要移动⼤量元素。（如果是删除最后⼀个元素或者在最后⼀个节点后⾯插⼊⼀个新的节点，则复杂度为O(1)，因为不需要移动元素）\n\n### 链式存储（链表）\n\n链表因其链状的结构，能方便地删除、插入数据，操作次数是 O(1)。但也因为这样，寻找、读取数据的效率不如数组高，在随机访问数据中的操作次数是 O(n)。\n\n#### 单链表\n\n单链表的基本组成单元是**节点 (Node)**。 每个节点通常包含两个主要部分：\n\n- **数据域 (Data):** 用于存储实际的数据元素。 数据域可以是任何数据类型，例如整数、浮点数、字符、字符串，甚至更复杂的数据结构。\n- **指针域 (Pointer) 或 下一个节点指针 (Next Pointer):**  用于存储指向链表中**下一个节点**的地址（或引用）。  对于单链表，每个节点只有一个指针，指向它后面的节点。  链表的最后一个节点的指针域通常指向一个特殊值，表示链表的末尾，这个特殊值通常是 **空指针 (NULL 或 None)**。\n\n##### 创建链表\n\n**头插法：**每次在链表头结点后⾯插⼊新的结点。头插法的元素顺序与插⼊顺序相反，类似于栈。\n\n**尾插法：**每次在链表的尾结点插⼊新的结点，并且是尾结点更新（使尾指针指向新的尾结点）。尾插法得到的顺序与插⼊顺序相同，类似于队列。\n\n##### 查找\n\n查找方式是**线性的**，平均和最坏情况下的时间复杂度均为 **O(n)**，其中 *n* 是链表中的节点数。\n\n**插入删除**\n\n在链表中插入或删除节点，通常只需要修改指针的指向，而不需要像数组那样移动大量的元素（特别是插入和删除中间位置的元素时）。  时间复杂度通常为 O(1) (在已知插入/删除位置的前驱节点的情况下)。\n\n##### 单链表的缺点\n\n- **访问效率较低:**  要访问链表中的某个特定节点，必须从头节点开始顺序遍历，直到找到目标节点。  无法像数组那样通过索引直接访问，访问时间复杂度为 O(n)，其中 n 是链表的长度。\n- **存储开销:**  每个节点除了存储数据外，还需要额外的空间存储指针，增加了存储开销。\n- **不适合随机访问:** 由于只能顺序访问，链表不适合需要频繁随机访问的应用场景。\n\n#### 双链表\n\n双链表的节点 (Node) 结构在单链表的基础上增加了一个前驱指针：\n\n- **前驱指针域 (Previous Pointer):**  存储指向链表中**前一个节点**的地址（或引用）。 链表的**头节点 (Head)** 的前驱指针通常指向一个特殊值，表示链表头部，这个值通常是 **空指针 (NULL 或 None)**。\n- **数据域 (Data):**  与单链表相同，用于存储数据元素。\n- **后继指针域 (Next Pointer):**  与单链表相同，存储指向链表中**下一个节点**的地址（或引用）。 链表的**尾节点 (Tail)** 的后继指针通常指向一个特殊值，表示链表尾部，这个值通常是 **空指针 (NULL 或 None)**。\n\n##### 创建链表\n\n创建一个空的双链表，通常将头指针和尾指针都初始化为 NULL。\n\n##### 查找\n\n与单链表类似，双链表的查找也是**线性的**，时间复杂度为 **O(n)**。\n\n##### 双链表的优点\n\n- **双向遍历:**  可以从头到尾，也可以从尾到头双向遍历，提高了数据访问的灵活性。\n- **删除节点更高效:**  删除节点时，特别是删除中间节点和尾节点时，由于有前驱指针，可以更方便地找到前一个节点，无需像单链表那样需要从头开始遍历找到前驱节点。 这在某些情况下可以提高删除操作的效率。\n- **某些操作更方便:**  例如，在已知节点指针的情况下，插入和删除操作更加直接，不需要总是从头开始查找前驱节点。\n\n##### 双链表的缺点\n\n- **存储开销更大:**  每个节点需要额外的空间存储前驱指针，相比单链表，存储相同的数据需要更多的内存。\n- **插入和删除操作更复杂:**  虽然删除操作效率更高，但插入和删除操作的代码逻辑相对单链表来说更复杂，需要维护更多的指针关系（前驱和后继指针都需要更新）。\n- **访问效率仍然较低:**  虽然可以双向遍历，但访问链表中的特定节点仍然需要顺序遍历，随机访问效率仍然不如数组。\n\n\n\n\n\n\n\n\n\n","source":"_posts/线性表.md","raw":"---\ntitle: 线性表\ndate: 2025-02-28 10:29:48\ntags: [数据结构与算法,线性表,链表]\ncategories: [学习,数据结构与算法,基础知识]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp\n---\n\n## 线性表\n\n线性表是⼀对⼀的逻辑结构，线性表中除了表头元素每个元素有且仅有唯⼀⼀个前驱元素，除了表尾元素，每个结点都有唯⼀⼀个后继节点。\n\n### 顺序存储（顺序表）\n\n##### 存取\n\n顺序表随机存取，存取某个元素的时间复杂度为O(1)。\n\n##### 查找\n\n平均时间复杂度O(n)\n\n##### 插入删除\n\n平均时间复杂度O(n)，删除插⼊元素需要移动⼤量元素。（如果是删除最后⼀个元素或者在最后⼀个节点后⾯插⼊⼀个新的节点，则复杂度为O(1)，因为不需要移动元素）\n\n### 链式存储（链表）\n\n链表因其链状的结构，能方便地删除、插入数据，操作次数是 O(1)。但也因为这样，寻找、读取数据的效率不如数组高，在随机访问数据中的操作次数是 O(n)。\n\n#### 单链表\n\n单链表的基本组成单元是**节点 (Node)**。 每个节点通常包含两个主要部分：\n\n- **数据域 (Data):** 用于存储实际的数据元素。 数据域可以是任何数据类型，例如整数、浮点数、字符、字符串，甚至更复杂的数据结构。\n- **指针域 (Pointer) 或 下一个节点指针 (Next Pointer):**  用于存储指向链表中**下一个节点**的地址（或引用）。  对于单链表，每个节点只有一个指针，指向它后面的节点。  链表的最后一个节点的指针域通常指向一个特殊值，表示链表的末尾，这个特殊值通常是 **空指针 (NULL 或 None)**。\n\n##### 创建链表\n\n**头插法：**每次在链表头结点后⾯插⼊新的结点。头插法的元素顺序与插⼊顺序相反，类似于栈。\n\n**尾插法：**每次在链表的尾结点插⼊新的结点，并且是尾结点更新（使尾指针指向新的尾结点）。尾插法得到的顺序与插⼊顺序相同，类似于队列。\n\n##### 查找\n\n查找方式是**线性的**，平均和最坏情况下的时间复杂度均为 **O(n)**，其中 *n* 是链表中的节点数。\n\n**插入删除**\n\n在链表中插入或删除节点，通常只需要修改指针的指向，而不需要像数组那样移动大量的元素（特别是插入和删除中间位置的元素时）。  时间复杂度通常为 O(1) (在已知插入/删除位置的前驱节点的情况下)。\n\n##### 单链表的缺点\n\n- **访问效率较低:**  要访问链表中的某个特定节点，必须从头节点开始顺序遍历，直到找到目标节点。  无法像数组那样通过索引直接访问，访问时间复杂度为 O(n)，其中 n 是链表的长度。\n- **存储开销:**  每个节点除了存储数据外，还需要额外的空间存储指针，增加了存储开销。\n- **不适合随机访问:** 由于只能顺序访问，链表不适合需要频繁随机访问的应用场景。\n\n#### 双链表\n\n双链表的节点 (Node) 结构在单链表的基础上增加了一个前驱指针：\n\n- **前驱指针域 (Previous Pointer):**  存储指向链表中**前一个节点**的地址（或引用）。 链表的**头节点 (Head)** 的前驱指针通常指向一个特殊值，表示链表头部，这个值通常是 **空指针 (NULL 或 None)**。\n- **数据域 (Data):**  与单链表相同，用于存储数据元素。\n- **后继指针域 (Next Pointer):**  与单链表相同，存储指向链表中**下一个节点**的地址（或引用）。 链表的**尾节点 (Tail)** 的后继指针通常指向一个特殊值，表示链表尾部，这个值通常是 **空指针 (NULL 或 None)**。\n\n##### 创建链表\n\n创建一个空的双链表，通常将头指针和尾指针都初始化为 NULL。\n\n##### 查找\n\n与单链表类似，双链表的查找也是**线性的**，时间复杂度为 **O(n)**。\n\n##### 双链表的优点\n\n- **双向遍历:**  可以从头到尾，也可以从尾到头双向遍历，提高了数据访问的灵活性。\n- **删除节点更高效:**  删除节点时，特别是删除中间节点和尾节点时，由于有前驱指针，可以更方便地找到前一个节点，无需像单链表那样需要从头开始遍历找到前驱节点。 这在某些情况下可以提高删除操作的效率。\n- **某些操作更方便:**  例如，在已知节点指针的情况下，插入和删除操作更加直接，不需要总是从头开始查找前驱节点。\n\n##### 双链表的缺点\n\n- **存储开销更大:**  每个节点需要额外的空间存储前驱指针，相比单链表，存储相同的数据需要更多的内存。\n- **插入和删除操作更复杂:**  虽然删除操作效率更高，但插入和删除操作的代码逻辑相对单链表来说更复杂，需要维护更多的指针关系（前驱和后继指针都需要更新）。\n- **访问效率仍然较低:**  虽然可以双向遍历，但访问链表中的特定节点仍然需要顺序遍历，随机访问效率仍然不如数组。\n\n\n\n\n\n\n\n\n\n","slug":"线性表","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamj0003r1swm5ftod5hv","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"线性表\">线性表</h2>\n<p>线性表是⼀对⼀的逻辑结构，线性表中除了表头元素每个元素有且仅有唯⼀⼀个前驱元素，除了表尾元素，每个结点都有唯⼀⼀个后继节点。</p>\n<h3 id=\"顺序存储（顺序表）\">顺序存储（顺序表）</h3>\n<h5 id=\"存取\">存取</h5>\n<p>顺序表随机存取，存取某个元素的时间复杂度为O(1)。</p>\n<h5 id=\"查找\">查找</h5>\n<p>平均时间复杂度O(n)</p>\n<h5 id=\"插入删除\">插入删除</h5>\n<p>平均时间复杂度O(n)，删除插⼊元素需要移动⼤量元素。（如果是删除最后⼀个元素或者在最后⼀个节点后⾯插⼊⼀个新的节点，则复杂度为O(1)，因为不需要移动元素）</p>\n<h3 id=\"链式存储（链表）\">链式存储（链表）</h3>\n<p>链表因其链状的结构，能方便地删除、插入数据，操作次数是 O(1)。但也因为这样，寻找、读取数据的效率不如数组高，在随机访问数据中的操作次数是 O(n)。</p>\n<h4 id=\"单链表\">单链表</h4>\n<p>单链表的基本组成单元是<strong>节点 (Node)</strong>。 每个节点通常包含两个主要部分：</p>\n<ul>\n<li><strong>数据域 (Data):</strong> 用于存储实际的数据元素。 数据域可以是任何数据类型，例如整数、浮点数、字符、字符串，甚至更复杂的数据结构。</li>\n<li><strong>指针域 (Pointer) 或 下一个节点指针 (Next Pointer):</strong>  用于存储指向链表中<strong>下一个节点</strong>的地址（或引用）。  对于单链表，每个节点只有一个指针，指向它后面的节点。  链表的最后一个节点的指针域通常指向一个特殊值，表示链表的末尾，这个特殊值通常是 <strong>空指针 (NULL 或 None)</strong>。</li>\n</ul>\n<h5 id=\"创建链表\">创建链表</h5>\n<p>**头插法：**每次在链表头结点后⾯插⼊新的结点。头插法的元素顺序与插⼊顺序相反，类似于栈。</p>\n<p>**尾插法：**每次在链表的尾结点插⼊新的结点，并且是尾结点更新（使尾指针指向新的尾结点）。尾插法得到的顺序与插⼊顺序相同，类似于队列。</p>\n<h5 id=\"查找-2\">查找</h5>\n<p>查找方式是<strong>线性的</strong>，平均和最坏情况下的时间复杂度均为 <strong>O(n)</strong>，其中 <em>n</em> 是链表中的节点数。</p>\n<p><strong>插入删除</strong></p>\n<p>在链表中插入或删除节点，通常只需要修改指针的指向，而不需要像数组那样移动大量的元素（特别是插入和删除中间位置的元素时）。  时间复杂度通常为 O(1) (在已知插入/删除位置的前驱节点的情况下)。</p>\n<h5 id=\"单链表的缺点\">单链表的缺点</h5>\n<ul>\n<li><strong>访问效率较低:</strong>  要访问链表中的某个特定节点，必须从头节点开始顺序遍历，直到找到目标节点。  无法像数组那样通过索引直接访问，访问时间复杂度为 O(n)，其中 n 是链表的长度。</li>\n<li><strong>存储开销:</strong>  每个节点除了存储数据外，还需要额外的空间存储指针，增加了存储开销。</li>\n<li><strong>不适合随机访问:</strong> 由于只能顺序访问，链表不适合需要频繁随机访问的应用场景。</li>\n</ul>\n<h4 id=\"双链表\">双链表</h4>\n<p>双链表的节点 (Node) 结构在单链表的基础上增加了一个前驱指针：</p>\n<ul>\n<li><strong>前驱指针域 (Previous Pointer):</strong>  存储指向链表中<strong>前一个节点</strong>的地址（或引用）。 链表的<strong>头节点 (Head)</strong> 的前驱指针通常指向一个特殊值，表示链表头部，这个值通常是 <strong>空指针 (NULL 或 None)</strong>。</li>\n<li><strong>数据域 (Data):</strong>  与单链表相同，用于存储数据元素。</li>\n<li><strong>后继指针域 (Next Pointer):</strong>  与单链表相同，存储指向链表中<strong>下一个节点</strong>的地址（或引用）。 链表的<strong>尾节点 (Tail)</strong> 的后继指针通常指向一个特殊值，表示链表尾部，这个值通常是 <strong>空指针 (NULL 或 None)</strong>。</li>\n</ul>\n<h5 id=\"创建链表-2\">创建链表</h5>\n<p>创建一个空的双链表，通常将头指针和尾指针都初始化为 NULL。</p>\n<h5 id=\"查找-3\">查找</h5>\n<p>与单链表类似，双链表的查找也是<strong>线性的</strong>，时间复杂度为 <strong>O(n)</strong>。</p>\n<h5 id=\"双链表的优点\">双链表的优点</h5>\n<ul>\n<li><strong>双向遍历:</strong>  可以从头到尾，也可以从尾到头双向遍历，提高了数据访问的灵活性。</li>\n<li><strong>删除节点更高效:</strong>  删除节点时，特别是删除中间节点和尾节点时，由于有前驱指针，可以更方便地找到前一个节点，无需像单链表那样需要从头开始遍历找到前驱节点。 这在某些情况下可以提高删除操作的效率。</li>\n<li><strong>某些操作更方便:</strong>  例如，在已知节点指针的情况下，插入和删除操作更加直接，不需要总是从头开始查找前驱节点。</li>\n</ul>\n<h5 id=\"双链表的缺点\">双链表的缺点</h5>\n<ul>\n<li><strong>存储开销更大:</strong>  每个节点需要额外的空间存储前驱指针，相比单链表，存储相同的数据需要更多的内存。</li>\n<li><strong>插入和删除操作更复杂:</strong>  虽然删除操作效率更高，但插入和删除操作的代码逻辑相对单链表来说更复杂，需要维护更多的指针关系（前驱和后继指针都需要更新）。</li>\n<li><strong>访问效率仍然较低:</strong>  虽然可以双向遍历，但访问链表中的特定节点仍然需要顺序遍历，随机访问效率仍然不如数组。</li>\n</ul>\n</div>","excerpt":"","more":"<h2 id=\"线性表\">线性表</h2>\n<p>线性表是⼀对⼀的逻辑结构，线性表中除了表头元素每个元素有且仅有唯⼀⼀个前驱元素，除了表尾元素，每个结点都有唯⼀⼀个后继节点。</p>\n<h3 id=\"顺序存储（顺序表）\">顺序存储（顺序表）</h3>\n<h5 id=\"存取\">存取</h5>\n<p>顺序表随机存取，存取某个元素的时间复杂度为O(1)。</p>\n<h5 id=\"查找\">查找</h5>\n<p>平均时间复杂度O(n)</p>\n<h5 id=\"插入删除\">插入删除</h5>\n<p>平均时间复杂度O(n)，删除插⼊元素需要移动⼤量元素。（如果是删除最后⼀个元素或者在最后⼀个节点后⾯插⼊⼀个新的节点，则复杂度为O(1)，因为不需要移动元素）</p>\n<h3 id=\"链式存储（链表）\">链式存储（链表）</h3>\n<p>链表因其链状的结构，能方便地删除、插入数据，操作次数是 O(1)。但也因为这样，寻找、读取数据的效率不如数组高，在随机访问数据中的操作次数是 O(n)。</p>\n<h4 id=\"单链表\">单链表</h4>\n<p>单链表的基本组成单元是<strong>节点 (Node)</strong>。 每个节点通常包含两个主要部分：</p>\n<ul>\n<li><strong>数据域 (Data):</strong> 用于存储实际的数据元素。 数据域可以是任何数据类型，例如整数、浮点数、字符、字符串，甚至更复杂的数据结构。</li>\n<li><strong>指针域 (Pointer) 或 下一个节点指针 (Next Pointer):</strong>  用于存储指向链表中<strong>下一个节点</strong>的地址（或引用）。  对于单链表，每个节点只有一个指针，指向它后面的节点。  链表的最后一个节点的指针域通常指向一个特殊值，表示链表的末尾，这个特殊值通常是 <strong>空指针 (NULL 或 None)</strong>。</li>\n</ul>\n<h5 id=\"创建链表\">创建链表</h5>\n<p>**头插法：**每次在链表头结点后⾯插⼊新的结点。头插法的元素顺序与插⼊顺序相反，类似于栈。</p>\n<p>**尾插法：**每次在链表的尾结点插⼊新的结点，并且是尾结点更新（使尾指针指向新的尾结点）。尾插法得到的顺序与插⼊顺序相同，类似于队列。</p>\n<h5 id=\"查找-2\">查找</h5>\n<p>查找方式是<strong>线性的</strong>，平均和最坏情况下的时间复杂度均为 <strong>O(n)</strong>，其中 <em>n</em> 是链表中的节点数。</p>\n<p><strong>插入删除</strong></p>\n<p>在链表中插入或删除节点，通常只需要修改指针的指向，而不需要像数组那样移动大量的元素（特别是插入和删除中间位置的元素时）。  时间复杂度通常为 O(1) (在已知插入/删除位置的前驱节点的情况下)。</p>\n<h5 id=\"单链表的缺点\">单链表的缺点</h5>\n<ul>\n<li><strong>访问效率较低:</strong>  要访问链表中的某个特定节点，必须从头节点开始顺序遍历，直到找到目标节点。  无法像数组那样通过索引直接访问，访问时间复杂度为 O(n)，其中 n 是链表的长度。</li>\n<li><strong>存储开销:</strong>  每个节点除了存储数据外，还需要额外的空间存储指针，增加了存储开销。</li>\n<li><strong>不适合随机访问:</strong> 由于只能顺序访问，链表不适合需要频繁随机访问的应用场景。</li>\n</ul>\n<h4 id=\"双链表\">双链表</h4>\n<p>双链表的节点 (Node) 结构在单链表的基础上增加了一个前驱指针：</p>\n<ul>\n<li><strong>前驱指针域 (Previous Pointer):</strong>  存储指向链表中<strong>前一个节点</strong>的地址（或引用）。 链表的<strong>头节点 (Head)</strong> 的前驱指针通常指向一个特殊值，表示链表头部，这个值通常是 <strong>空指针 (NULL 或 None)</strong>。</li>\n<li><strong>数据域 (Data):</strong>  与单链表相同，用于存储数据元素。</li>\n<li><strong>后继指针域 (Next Pointer):</strong>  与单链表相同，存储指向链表中<strong>下一个节点</strong>的地址（或引用）。 链表的<strong>尾节点 (Tail)</strong> 的后继指针通常指向一个特殊值，表示链表尾部，这个值通常是 <strong>空指针 (NULL 或 None)</strong>。</li>\n</ul>\n<h5 id=\"创建链表-2\">创建链表</h5>\n<p>创建一个空的双链表，通常将头指针和尾指针都初始化为 NULL。</p>\n<h5 id=\"查找-3\">查找</h5>\n<p>与单链表类似，双链表的查找也是<strong>线性的</strong>，时间复杂度为 <strong>O(n)</strong>。</p>\n<h5 id=\"双链表的优点\">双链表的优点</h5>\n<ul>\n<li><strong>双向遍历:</strong>  可以从头到尾，也可以从尾到头双向遍历，提高了数据访问的灵活性。</li>\n<li><strong>删除节点更高效:</strong>  删除节点时，特别是删除中间节点和尾节点时，由于有前驱指针，可以更方便地找到前一个节点，无需像单链表那样需要从头开始遍历找到前驱节点。 这在某些情况下可以提高删除操作的效率。</li>\n<li><strong>某些操作更方便:</strong>  例如，在已知节点指针的情况下，插入和删除操作更加直接，不需要总是从头开始查找前驱节点。</li>\n</ul>\n<h5 id=\"双链表的缺点\">双链表的缺点</h5>\n<ul>\n<li><strong>存储开销更大:</strong>  每个节点需要额外的空间存储前驱指针，相比单链表，存储相同的数据需要更多的内存。</li>\n<li><strong>插入和删除操作更复杂:</strong>  虽然删除操作效率更高，但插入和删除操作的代码逻辑相对单链表来说更复杂，需要维护更多的指针关系（前驱和后继指针都需要更新）。</li>\n<li><strong>访问效率仍然较低:</strong>  虽然可以双向遍历，但访问链表中的特定节点仍然需要顺序遍历，随机访问效率仍然不如数组。</li>\n</ul>\n"},{"title":"绪论","date":"2025-02-28T01:41:49.000Z","updated":"2025-03-08T09:26:42.823Z","type":null,"cover":"https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp","_content":"\n## 绪论\n\n### 数据结构\n\n数据结构是一门研究非数值计算程序设计中的操作对象，以及这些对象之间的关系和操作的学科。\n\n#### 逻辑结构\n\n##### 线性结构\n\n一般线性表：线性表\n\n特殊线性表：栈、队列、字符串\n\n线性表的推广：数组、广义表\n\n##### 非线性结构\n\n树结构：树、二叉树\n\n图结构：有向图、无向图\n\n集合结构\n\n#### 存储结构\n\n##### 顺序存储\n\n逻辑上连续，物理上连续\n\n**优点：**\n\n1. **随机访问高效**：通过下标可直接访问元素，时间复杂度为 **O(1)**。\n2. **内存连续，缓存友好**：数据连续存放，充分利用 CPU 缓存机制，访问效率高。\n3. **空间开销小**：仅需存储数据，无需额外指针字段，内存利用率高。\n\n**缺点：**\n\n1. **插入/删除效率低**：在中间或头部操作时，需移动大量元素，时间复杂度为 **O(n)**。\n2. **固定容量**：需预先分配连续内存空间，扩容需复制全部数据，动态扩展成本高。\n3. **内存浪费**：若预分配空间过大，可能造成内存冗余。\n\n##### 链式存储\n\n逻辑上不要求连续，物理上⼀定连续\n\n**优点：**\n\n1. **动态内存分配**：无需预先分配固定空间，按需动态扩展，内存利用率高。\n2. **插入/删除高效**：仅需修改指针指向，时间复杂度为 **O(1)**（需先定位到操作位置）。\n3. **灵活性强**：支持多种衍生结构（如双向链表、循环链表）。\n\n**缺点：**\n\n1. **无法随机访问**：查找元素需从头遍历，时间复杂度为 **O(n)**。\n\n2. **额外空间开销**：每个节点需存储指针字段，占用更多内存。\n\n3. **内存碎片化**：节点非连续存储，缓存命中率低，访问速度较慢。\n\n### 算法的效率\n\n算法是为了解决某类问题而规定的一个有限长的操作序列。\n\n#### 算法时间复杂度\n\n一般情况，算法中基本语句重复执行的次数是问题规模n的某个函数f(n)，算法的时间量记作: T(n)=O(f(n))\n\n#### 算法空间复杂度\n\n所⽤到的临时空间⼤⼩\n\n\n\n","source":"_posts/绪论.md","raw":"---\ntitle: 绪论\ndate: 2025-02-28 09:41:49\ntags: [数据结构与算法,绪论]\ncategories: [学习,数据结构与算法,基础知识]\nupdated: \ntype: \ncover: https://wpironman.oss-cn-qingdao.aliyuncs.com/10year.webp\n---\n\n## 绪论\n\n### 数据结构\n\n数据结构是一门研究非数值计算程序设计中的操作对象，以及这些对象之间的关系和操作的学科。\n\n#### 逻辑结构\n\n##### 线性结构\n\n一般线性表：线性表\n\n特殊线性表：栈、队列、字符串\n\n线性表的推广：数组、广义表\n\n##### 非线性结构\n\n树结构：树、二叉树\n\n图结构：有向图、无向图\n\n集合结构\n\n#### 存储结构\n\n##### 顺序存储\n\n逻辑上连续，物理上连续\n\n**优点：**\n\n1. **随机访问高效**：通过下标可直接访问元素，时间复杂度为 **O(1)**。\n2. **内存连续，缓存友好**：数据连续存放，充分利用 CPU 缓存机制，访问效率高。\n3. **空间开销小**：仅需存储数据，无需额外指针字段，内存利用率高。\n\n**缺点：**\n\n1. **插入/删除效率低**：在中间或头部操作时，需移动大量元素，时间复杂度为 **O(n)**。\n2. **固定容量**：需预先分配连续内存空间，扩容需复制全部数据，动态扩展成本高。\n3. **内存浪费**：若预分配空间过大，可能造成内存冗余。\n\n##### 链式存储\n\n逻辑上不要求连续，物理上⼀定连续\n\n**优点：**\n\n1. **动态内存分配**：无需预先分配固定空间，按需动态扩展，内存利用率高。\n2. **插入/删除高效**：仅需修改指针指向，时间复杂度为 **O(1)**（需先定位到操作位置）。\n3. **灵活性强**：支持多种衍生结构（如双向链表、循环链表）。\n\n**缺点：**\n\n1. **无法随机访问**：查找元素需从头遍历，时间复杂度为 **O(n)**。\n\n2. **额外空间开销**：每个节点需存储指针字段，占用更多内存。\n\n3. **内存碎片化**：节点非连续存储，缓存命中率低，访问速度较慢。\n\n### 算法的效率\n\n算法是为了解决某类问题而规定的一个有限长的操作序列。\n\n#### 算法时间复杂度\n\n一般情况，算法中基本语句重复执行的次数是问题规模n的某个函数f(n)，算法的时间量记作: T(n)=O(f(n))\n\n#### 算法空间复杂度\n\n所⽤到的临时空间⼤⼩\n\n\n\n","slug":"绪论","published":1,"comments":1,"layout":"post","photos":[],"_id":"cmacbamj0003v1swm9eax6kit","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div id=\"postchat_postcontent\"><h2 id=\"绪论\">绪论</h2>\n<h3 id=\"数据结构\">数据结构</h3>\n<p>数据结构是一门研究非数值计算程序设计中的操作对象，以及这些对象之间的关系和操作的学科。</p>\n<h4 id=\"逻辑结构\">逻辑结构</h4>\n<h5 id=\"线性结构\">线性结构</h5>\n<p>一般线性表：线性表</p>\n<p>特殊线性表：栈、队列、字符串</p>\n<p>线性表的推广：数组、广义表</p>\n<h5 id=\"非线性结构\">非线性结构</h5>\n<p>树结构：树、二叉树</p>\n<p>图结构：有向图、无向图</p>\n<p>集合结构</p>\n<h4 id=\"存储结构\">存储结构</h4>\n<h5 id=\"顺序存储\">顺序存储</h5>\n<p>逻辑上连续，物理上连续</p>\n<p><strong>优点：</strong></p>\n<ol>\n<li><strong>随机访问高效</strong>：通过下标可直接访问元素，时间复杂度为 <strong>O(1)</strong>。</li>\n<li><strong>内存连续，缓存友好</strong>：数据连续存放，充分利用 CPU 缓存机制，访问效率高。</li>\n<li><strong>空间开销小</strong>：仅需存储数据，无需额外指针字段，内存利用率高。</li>\n</ol>\n<p><strong>缺点：</strong></p>\n<ol>\n<li><strong>插入/删除效率低</strong>：在中间或头部操作时，需移动大量元素，时间复杂度为 <strong>O(n)</strong>。</li>\n<li><strong>固定容量</strong>：需预先分配连续内存空间，扩容需复制全部数据，动态扩展成本高。</li>\n<li><strong>内存浪费</strong>：若预分配空间过大，可能造成内存冗余。</li>\n</ol>\n<h5 id=\"链式存储\">链式存储</h5>\n<p>逻辑上不要求连续，物理上⼀定连续</p>\n<p><strong>优点：</strong></p>\n<ol>\n<li><strong>动态内存分配</strong>：无需预先分配固定空间，按需动态扩展，内存利用率高。</li>\n<li><strong>插入/删除高效</strong>：仅需修改指针指向，时间复杂度为 <strong>O(1)</strong>（需先定位到操作位置）。</li>\n<li><strong>灵活性强</strong>：支持多种衍生结构（如双向链表、循环链表）。</li>\n</ol>\n<p><strong>缺点：</strong></p>\n<ol>\n<li>\n<p><strong>无法随机访问</strong>：查找元素需从头遍历，时间复杂度为 <strong>O(n)</strong>。</p>\n</li>\n<li>\n<p><strong>额外空间开销</strong>：每个节点需存储指针字段，占用更多内存。</p>\n</li>\n<li>\n<p><strong>内存碎片化</strong>：节点非连续存储，缓存命中率低，访问速度较慢。</p>\n</li>\n</ol>\n<h3 id=\"算法的效率\">算法的效率</h3>\n<p>算法是为了解决某类问题而规定的一个有限长的操作序列。</p>\n<h4 id=\"算法时间复杂度\">算法时间复杂度</h4>\n<p>一般情况，算法中基本语句重复执行的次数是问题规模n的某个函数f(n)，算法的时间量记作: T(n)=O(f(n))</p>\n<h4 id=\"算法空间复杂度\">算法空间复杂度</h4>\n<p>所⽤到的临时空间⼤⼩</p>\n</div>","excerpt":"","more":"<h2 id=\"绪论\">绪论</h2>\n<h3 id=\"数据结构\">数据结构</h3>\n<p>数据结构是一门研究非数值计算程序设计中的操作对象，以及这些对象之间的关系和操作的学科。</p>\n<h4 id=\"逻辑结构\">逻辑结构</h4>\n<h5 id=\"线性结构\">线性结构</h5>\n<p>一般线性表：线性表</p>\n<p>特殊线性表：栈、队列、字符串</p>\n<p>线性表的推广：数组、广义表</p>\n<h5 id=\"非线性结构\">非线性结构</h5>\n<p>树结构：树、二叉树</p>\n<p>图结构：有向图、无向图</p>\n<p>集合结构</p>\n<h4 id=\"存储结构\">存储结构</h4>\n<h5 id=\"顺序存储\">顺序存储</h5>\n<p>逻辑上连续，物理上连续</p>\n<p><strong>优点：</strong></p>\n<ol>\n<li><strong>随机访问高效</strong>：通过下标可直接访问元素，时间复杂度为 <strong>O(1)</strong>。</li>\n<li><strong>内存连续，缓存友好</strong>：数据连续存放，充分利用 CPU 缓存机制，访问效率高。</li>\n<li><strong>空间开销小</strong>：仅需存储数据，无需额外指针字段，内存利用率高。</li>\n</ol>\n<p><strong>缺点：</strong></p>\n<ol>\n<li><strong>插入/删除效率低</strong>：在中间或头部操作时，需移动大量元素，时间复杂度为 <strong>O(n)</strong>。</li>\n<li><strong>固定容量</strong>：需预先分配连续内存空间，扩容需复制全部数据，动态扩展成本高。</li>\n<li><strong>内存浪费</strong>：若预分配空间过大，可能造成内存冗余。</li>\n</ol>\n<h5 id=\"链式存储\">链式存储</h5>\n<p>逻辑上不要求连续，物理上⼀定连续</p>\n<p><strong>优点：</strong></p>\n<ol>\n<li><strong>动态内存分配</strong>：无需预先分配固定空间，按需动态扩展，内存利用率高。</li>\n<li><strong>插入/删除高效</strong>：仅需修改指针指向，时间复杂度为 <strong>O(1)</strong>（需先定位到操作位置）。</li>\n<li><strong>灵活性强</strong>：支持多种衍生结构（如双向链表、循环链表）。</li>\n</ol>\n<p><strong>缺点：</strong></p>\n<ol>\n<li>\n<p><strong>无法随机访问</strong>：查找元素需从头遍历，时间复杂度为 <strong>O(n)</strong>。</p>\n</li>\n<li>\n<p><strong>额外空间开销</strong>：每个节点需存储指针字段，占用更多内存。</p>\n</li>\n<li>\n<p><strong>内存碎片化</strong>：节点非连续存储，缓存命中率低，访问速度较慢。</p>\n</li>\n</ol>\n<h3 id=\"算法的效率\">算法的效率</h3>\n<p>算法是为了解决某类问题而规定的一个有限长的操作序列。</p>\n<h4 id=\"算法时间复杂度\">算法时间复杂度</h4>\n<p>一般情况，算法中基本语句重复执行的次数是问题规模n的某个函数f(n)，算法的时间量记作: T(n)=O(f(n))</p>\n<h4 id=\"算法空间复杂度\">算法空间复杂度</h4>\n<p>所⽤到的临时空间⼤⼩</p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cmacbami300091swmclmm7sx7","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamic00151swm6hxn6nrp"},{"post_id":"cmacbami300091swmclmm7sx7","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamic00161swm0vth6jm5"},{"post_id":"cmacbami300091swmclmm7sx7","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamic00191swm10h76dte"},{"post_id":"cmacbamht00011swm9v1r5i7t","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamid001a1swmcfglas5s"},{"post_id":"cmacbamht00011swm9v1r5i7t","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamid001d1swmhz8z3d4l"},{"post_id":"cmacbamht00011swm9v1r5i7t","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamid001f1swm5k8p1rkg"},{"post_id":"cmacbami4000b1swm9aox9no5","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamie001i1swm7hu0bc38"},{"post_id":"cmacbami4000b1swm9aox9no5","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamie001k1swmcsgt3rw1"},{"post_id":"cmacbami4000b1swm9aox9no5","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamie001n1swm9pyu1grk"},{"post_id":"cmacbamhy00031swmbn7k639o","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamie001p1swm3r826xm2"},{"post_id":"cmacbamhy00031swmbn7k639o","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamie001s1swm6qo34k06"},{"post_id":"cmacbamhy00031swmbn7k639o","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamie001t1swm1i5b33bp"},{"post_id":"cmacbami100071swm9kt6gpvr","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamif001v1swma63jb350"},{"post_id":"cmacbami100071swm9kt6gpvr","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamif001w1swmgese3109"},{"post_id":"cmacbami100071swm9kt6gpvr","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamif001x1swm3gss392f"},{"post_id":"cmacbamik00231swm0nmq0n0l","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamim00281swmhxc00htb"},{"post_id":"cmacbamik00231swm0nmq0n0l","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamin002b1swm1cm68wbs"},{"post_id":"cmacbamik00231swm0nmq0n0l","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamio002d1swmecc68tvw"},{"post_id":"cmacbamik00241swm87uz7ypd","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamio002g1swm6q7fglwn"},{"post_id":"cmacbamik00241swm87uz7ypd","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamip002i1swm92sw9d8l"},{"post_id":"cmacbamik00241swm87uz7ypd","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamiq002l1swm61qyh7gu"},{"post_id":"cmacbamil00261swmfxiyesfi","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamir002p1swmdkklgf68"},{"post_id":"cmacbamil00261swmfxiyesfi","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamis002t1swm44cl8ne5"},{"post_id":"cmacbamil00261swmfxiyesfi","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamit002x1swmc2c984kq"},{"post_id":"cmacbamil00271swm2faq21z3","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamiv00311swm5el8d2kx"},{"post_id":"cmacbamil00271swm2faq21z3","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamiv00351swmdi872dvc"},{"post_id":"cmacbamil00271swm2faq21z3","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamiw00391swmce1u0x9s"},{"post_id":"cmacbamim00291swm7pnyb68g","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamix003d1swm867jf2pa"},{"post_id":"cmacbamim00291swm7pnyb68g","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamiy003h1swm47c9fug4"},{"post_id":"cmacbamim00291swm7pnyb68g","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamiz003k1swmd9rm0mkf"},{"post_id":"cmacbamin002c1swm31eih0y3","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamiz003o1swm2vntbkhj"},{"post_id":"cmacbamin002c1swm31eih0y3","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj0003s1swmd63gatmh"},{"post_id":"cmacbamin002c1swm31eih0y3","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamj1003w1swmf8cmfe1p"},{"post_id":"cmacbamio002e1swmap8edwyz","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj1003z1swmhf509dvt"},{"post_id":"cmacbamio002e1swmap8edwyz","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj100421swm5qnd2xzu"},{"post_id":"cmacbamio002e1swmap8edwyz","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamj200451swmbj04e8vx"},{"post_id":"cmacbamio002h1swm4528hnp6","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj200481swm8u0oaufx"},{"post_id":"cmacbamio002h1swm4528hnp6","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj2004b1swmcj6chmlc"},{"post_id":"cmacbamio002h1swm4528hnp6","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamj2004d1swmcvoxea4x"},{"post_id":"cmacbamit002w1swm8ehhd1ud","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj3004g1swmhtc17pau"},{"post_id":"cmacbamit002w1swm8ehhd1ud","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj3004j1swmdyocbcgm"},{"post_id":"cmacbamit002w1swm8ehhd1ud","category_id":"cmacbamia000y1swm3ofu7d8j","_id":"cmacbamj3004m1swmfy4xgf6r"},{"post_id":"cmacbamir002o1swm5ep5d5t8","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj3004p1swm8jgmaz07"},{"post_id":"cmacbamir002o1swm5ep5d5t8","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj4004s1swm8lj40lku"},{"post_id":"cmacbamir002o1swm5ep5d5t8","category_id":"cmacbamiu00301swm1kvy0qgk","_id":"cmacbamj4004u1swm1u3n0wt6"},{"post_id":"cmacbamiw00371swm0xskbuin","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj4004y1swmcx18gvjs"},{"post_id":"cmacbamiw00371swm0xskbuin","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj400501swm12pz7lh2"},{"post_id":"cmacbamiw00371swm0xskbuin","category_id":"cmacbamiu00301swm1kvy0qgk","_id":"cmacbamj400531swm6od96n2t"},{"post_id":"cmacbamiw003b1swmgsu99vhy","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj400551swm3dr78y8l"},{"post_id":"cmacbamiw003b1swmgsu99vhy","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj500581swmcpa6dwzs"},{"post_id":"cmacbamiw003b1swmgsu99vhy","category_id":"cmacbamiu00301swm1kvy0qgk","_id":"cmacbamj5005a1swm85tc9zw2"},{"post_id":"cmacbamix003f1swm8zpifz56","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj5005d1swm9sm33kv5"},{"post_id":"cmacbamix003f1swm8zpifz56","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj5005f1swmauu47kd6"},{"post_id":"cmacbamix003f1swm8zpifz56","category_id":"cmacbamiu00301swm1kvy0qgk","_id":"cmacbamj6005i1swma56k0fum"},{"post_id":"cmacbamiz003n1swmfivib9cr","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj6005k1swmefjbftcy"},{"post_id":"cmacbamiz003n1swmfivib9cr","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj7005m1swm1x3q26fq"},{"post_id":"cmacbamiz003n1swmfivib9cr","category_id":"cmacbamiu00301swm1kvy0qgk","_id":"cmacbamj7005n1swmflm3dr3w"},{"post_id":"cmacbamj0003r1swm5ftod5hv","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj7005p1swm9c911cdq"},{"post_id":"cmacbamj0003r1swm5ftod5hv","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj7005q1swm6bh75dwp"},{"post_id":"cmacbamj0003r1swm5ftod5hv","category_id":"cmacbamiu00301swm1kvy0qgk","_id":"cmacbamj8005s1swmcdfj47al"},{"post_id":"cmacbamiu002z1swm32dm0671","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj8005u1swm3fcmfdic"},{"post_id":"cmacbamiu002z1swm32dm0671","category_id":"cmacbamis002s1swm5m2044r7","_id":"cmacbamj8005w1swm0qmd45wk"},{"post_id":"cmacbamiu002z1swm32dm0671","category_id":"cmacbamiz003p1swm0w7a9x92","_id":"cmacbamj8005z1swmdprrarnr"},{"post_id":"cmacbamj0003v1swm9eax6kit","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj800611swm6cgkdx0c"},{"post_id":"cmacbamj0003v1swm9eax6kit","category_id":"cmacbami7000j1swm8wli4bk9","_id":"cmacbamj800641swm6kra64nb"},{"post_id":"cmacbamj0003v1swm9eax6kit","category_id":"cmacbamiu00301swm1kvy0qgk","_id":"cmacbamj800661swm3vdt3rdo"},{"post_id":"cmacbamiv00331swm1wph3ma6","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj900691swm0gyh27qx"},{"post_id":"cmacbamiv00331swm1wph3ma6","category_id":"cmacbamis002s1swm5m2044r7","_id":"cmacbamj9006a1swm74ztf1f8"},{"post_id":"cmacbamiv00331swm1wph3ma6","category_id":"cmacbamj1003y1swmg6iq3glo","_id":"cmacbamj9006c1swm690684rr"},{"post_id":"cmacbamis002r1swmct1nh2m0","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj9006d1swma1u62t9p"},{"post_id":"cmacbamis002r1swmct1nh2m0","category_id":"cmacbamis002s1swm5m2044r7","_id":"cmacbamj9006e1swmfxxb0w6x"},{"post_id":"cmacbamis002r1swmct1nh2m0","category_id":"cmacbamj100441swmh2cs4ck5","_id":"cmacbamj9006g1swmhfhj6hsu"},{"post_id":"cmacbamip002k1swmfk32eusd","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamj9006h1swm79o0ding"},{"post_id":"cmacbamip002k1swmfk32eusd","category_id":"cmacbamis002s1swm5m2044r7","_id":"cmacbamj9006j1swm710shkc7"},{"post_id":"cmacbamip002k1swmfk32eusd","category_id":"cmacbamiy003g1swmczzhgl0o","_id":"cmacbamj9006k1swmaaeo3byv"},{"post_id":"cmacbamip002k1swmfk32eusd","category_id":"cmacbamj3004h1swmcqildn55","_id":"cmacbamja006m1swm62355wja"},{"post_id":"cmacbamiy003j1swmdn7i111k","category_id":"cmacbamhz00041swm4sci2ecv","_id":"cmacbamja006n1swmfi2q12d3"},{"post_id":"cmacbamiy003j1swmdn7i111k","category_id":"cmacbamj2004a1swm78ly44mo","_id":"cmacbamja006p1swm7gim1hpg"},{"post_id":"cmacbamiy003j1swmdn7i111k","category_id":"cmacbamj3004o1swm1fjldsu0","_id":"cmacbamja006q1swmckjlg9bn"},{"post_id":"cmacbamiy003j1swmdn7i111k","category_id":"cmacbamj4004x1swmfz0t5pzf","_id":"cmacbamja006s1swm8wk3eci7"}],"PostTag":[{"post_id":"cmacbamht00011swm9v1r5i7t","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbami9000p1swmgb9yex31"},{"post_id":"cmacbamht00011swm9v1r5i7t","tag_id":"cmacbami4000d1swm6nthgtj8","_id":"cmacbami9000r1swm5h5ae8p9"},{"post_id":"cmacbamht00011swm9v1r5i7t","tag_id":"cmacbami7000h1swm7sti2sv4","_id":"cmacbamia000t1swm1lfibo5w"},{"post_id":"cmacbamht00011swm9v1r5i7t","tag_id":"cmacbami8000k1swmfif64ptc","_id":"cmacbamia000v1swm3z2gb42o"},{"post_id":"cmacbamht00011swm9v1r5i7t","tag_id":"cmacbami8000m1swma5hl09za","_id":"cmacbamia000x1swmdg0oacv9"},{"post_id":"cmacbamhy00031swmbn7k639o","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamib000z1swmfz1n24ze"},{"post_id":"cmacbamhy00031swmbn7k639o","tag_id":"cmacbami9000s1swm6h02dlsu","_id":"cmacbamib00111swm5eo24kfb"},{"post_id":"cmacbami100071swm9kt6gpvr","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamid001e1swmfow60ydz"},{"post_id":"cmacbami100071swm9kt6gpvr","tag_id":"cmacbamib00101swm7awcdjhw","_id":"cmacbamid001g1swm6w4nh6cw"},{"post_id":"cmacbami100071swm9kt6gpvr","tag_id":"cmacbami8000k1swmfif64ptc","_id":"cmacbamie001j1swm8i4th46w"},{"post_id":"cmacbami100071swm9kt6gpvr","tag_id":"cmacbamic00171swm33p44fsg","_id":"cmacbamie001l1swmam5x6tis"},{"post_id":"cmacbami300091swmclmm7sx7","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamie001o1swmapphf7vr"},{"post_id":"cmacbami300091swmclmm7sx7","tag_id":"cmacbamid001b1swmhhr735r9","_id":"cmacbamie001q1swmhjuw4y4f"},{"post_id":"cmacbami4000b1swm9aox9no5","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamif001y1swmgornejto"},{"post_id":"cmacbami4000b1swm9aox9no5","tag_id":"cmacbami4000d1swm6nthgtj8","_id":"cmacbamif001z1swmc0k9f444"},{"post_id":"cmacbami4000b1swm9aox9no5","tag_id":"cmacbami7000h1swm7sti2sv4","_id":"cmacbamif00201swmey1adpx5"},{"post_id":"cmacbami4000b1swm9aox9no5","tag_id":"cmacbami8000k1swmfif64ptc","_id":"cmacbamif00211swm50r726w3"},{"post_id":"cmacbami4000b1swm9aox9no5","tag_id":"cmacbami8000m1swma5hl09za","_id":"cmacbamif00221swmbu73fegs"},{"post_id":"cmacbamio002e1swmap8edwyz","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamip002j1swm2hfm5dsd"},{"post_id":"cmacbamio002e1swmap8edwyz","tag_id":"cmacbami4000d1swm6nthgtj8","_id":"cmacbamir002n1swm4yyz3woh"},{"post_id":"cmacbamio002e1swmap8edwyz","tag_id":"cmacbami7000h1swm7sti2sv4","_id":"cmacbamis002q1swm2fe7euso"},{"post_id":"cmacbamio002e1swmap8edwyz","tag_id":"cmacbami8000k1swmfif64ptc","_id":"cmacbamis002u1swmbme6h7bf"},{"post_id":"cmacbamio002e1swmap8edwyz","tag_id":"cmacbami8000m1swma5hl09za","_id":"cmacbamit002y1swm53q5b379"},{"post_id":"cmacbamik00231swm0nmq0n0l","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamiv00321swmh2yk46uh"},{"post_id":"cmacbamik00231swm0nmq0n0l","tag_id":"cmacbamil00251swm856f0x52","_id":"cmacbamiw00361swm4qwy84th"},{"post_id":"cmacbamik00231swm0nmq0n0l","tag_id":"cmacbamin002a1swme92vhbzv","_id":"cmacbamiw003a1swma7oth798"},{"post_id":"cmacbamik00231swm0nmq0n0l","tag_id":"cmacbamio002f1swm0dn53o13","_id":"cmacbamix003e1swm6xb5c9di"},{"post_id":"cmacbamik00231swm0nmq0n0l","tag_id":"cmacbamiq002m1swm4ut76qfc","_id":"cmacbamiy003i1swm4qeag0kz"},{"post_id":"cmacbamik00241swm87uz7ypd","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamiz003m1swmfporcw9e"},{"post_id":"cmacbamik00241swm87uz7ypd","tag_id":"cmacbami8000k1swmfif64ptc","_id":"cmacbamj0003q1swmahgk2tqy"},{"post_id":"cmacbamik00241swm87uz7ypd","tag_id":"cmacbamis002v1swmedq7hh67","_id":"cmacbamj0003t1swmc59kg7ko"},{"post_id":"cmacbamik00241swm87uz7ypd","tag_id":"cmacbamiv00341swm4gek1lgj","_id":"cmacbamj1003x1swm7zoe5wg6"},{"post_id":"cmacbamiw003b1swmgsu99vhy","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamj100401swm2uoxajp5"},{"post_id":"cmacbamiw003b1swmgsu99vhy","tag_id":"cmacbami9000s1swm6h02dlsu","_id":"cmacbamj100431swmbxwt7wav"},{"post_id":"cmacbamiz003n1swmfivib9cr","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamj200461swmgn1k09qm"},{"post_id":"cmacbamiz003n1swmfivib9cr","tag_id":"cmacbamib00101swm7awcdjhw","_id":"cmacbamj200491swm8tttekqd"},{"post_id":"cmacbamil00261swmfxiyesfi","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamj2004c1swmc7ogcbr4"},{"post_id":"cmacbamil00261swmfxiyesfi","tag_id":"cmacbamix003c1swmd9oadwas","_id":"cmacbamj2004f1swmeti48baw"},{"post_id":"cmacbamil00261swmfxiyesfi","tag_id":"cmacbamiz003l1swmage4ef50","_id":"cmacbamj3004i1swm4dbmfrvf"},{"post_id":"cmacbamil00261swmfxiyesfi","tag_id":"cmacbamj0003u1swm18y02mch","_id":"cmacbamj3004l1swm4gmiherk"},{"post_id":"cmacbamil00261swmfxiyesfi","tag_id":"cmacbamj100411swm2hr92c4a","_id":"cmacbamj3004n1swmaine4miq"},{"post_id":"cmacbamil00271swm2faq21z3","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamj4004r1swm0ezyachv"},{"post_id":"cmacbamil00271swm2faq21z3","tag_id":"cmacbamj200471swmatt81edq","_id":"cmacbamj4004t1swm8gq958op"},{"post_id":"cmacbamil00271swm2faq21z3","tag_id":"cmacbamis002v1swmedq7hh67","_id":"cmacbamj4004w1swm90nlaoyg"},{"post_id":"cmacbamil00271swm2faq21z3","tag_id":"cmacbamil00251swm856f0x52","_id":"cmacbamj4004z1swmhznzhpmv"},{"post_id":"cmacbamim00291swm7pnyb68g","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamj400521swm87ecezlv"},{"post_id":"cmacbamim00291swm7pnyb68g","tag_id":"cmacbami8000k1swmfif64ptc","_id":"cmacbamj400541swmdi2beg4l"},{"post_id":"cmacbamim00291swm7pnyb68g","tag_id":"cmacbamis002v1swmedq7hh67","_id":"cmacbamj500571swm9wxb53zl"},{"post_id":"cmacbamim00291swm7pnyb68g","tag_id":"cmacbamiv00341swm4gek1lgj","_id":"cmacbamj500591swm4e8ebvpm"},{"post_id":"cmacbamin002c1swm31eih0y3","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamj5005c1swmftn6dwxs"},{"post_id":"cmacbamin002c1swm31eih0y3","tag_id":"cmacbamix003c1swmd9oadwas","_id":"cmacbamj5005e1swmhpzs7tnk"},{"post_id":"cmacbamin002c1swm31eih0y3","tag_id":"cmacbamj100411swm2hr92c4a","_id":"cmacbamj6005h1swmhw0q7hqz"},{"post_id":"cmacbamin002c1swm31eih0y3","tag_id":"cmacbamis002v1swmedq7hh67","_id":"cmacbamj6005j1swmedyi2tsg"},{"post_id":"cmacbamio002h1swm4528hnp6","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamj8005t1swm1row41ia"},{"post_id":"cmacbamio002h1swm4528hnp6","tag_id":"cmacbamj5005b1swm8ih4a96u","_id":"cmacbamj8005v1swmbtkod1cn"},{"post_id":"cmacbamio002h1swm4528hnp6","tag_id":"cmacbamj5005g1swm0x4qayul","_id":"cmacbamj8005y1swm8g8va0px"},{"post_id":"cmacbamio002h1swm4528hnp6","tag_id":"cmacbamis002v1swmedq7hh67","_id":"cmacbamj800601swmcs0veeug"},{"post_id":"cmacbamio002h1swm4528hnp6","tag_id":"cmacbamj7005o1swm50wgh344","_id":"cmacbamj800631swm3n4v71ls"},{"post_id":"cmacbamip002k1swmfk32eusd","tag_id":"cmacbamj7005r1swmcq2whvrf","_id":"cmacbamj800651swm91x59181"},{"post_id":"cmacbamip002k1swmfk32eusd","tag_id":"cmacbamj8005x1swmg1d807uo","_id":"cmacbamj900681swm32c47f39"},{"post_id":"cmacbamir002o1swm5ep5d5t8","tag_id":"cmacbamj800621swmfxdd8j2e","_id":"cmacbamjb006w1swm1p8i2ybs"},{"post_id":"cmacbamir002o1swm5ep5d5t8","tag_id":"cmacbamj900671swm66lo88dl","_id":"cmacbamjb006x1swm3qlchc75"},{"post_id":"cmacbamir002o1swm5ep5d5t8","tag_id":"cmacbamj9006b1swmf2c8au11","_id":"cmacbamjb006z1swm6vzc600x"},{"post_id":"cmacbamir002o1swm5ep5d5t8","tag_id":"cmacbamj9006f1swm5o5c3y93","_id":"cmacbamjb00701swmcsq1d35k"},{"post_id":"cmacbamir002o1swm5ep5d5t8","tag_id":"cmacbamj0003u1swm18y02mch","_id":"cmacbamjb00721swmh86pei89"},{"post_id":"cmacbamir002o1swm5ep5d5t8","tag_id":"cmacbamj100411swm2hr92c4a","_id":"cmacbamjb00731swm4ayt3x1n"},{"post_id":"cmacbamir002o1swm5ep5d5t8","tag_id":"cmacbamja006o1swm4ydf3kto","_id":"cmacbamjb00751swm1f2k4u7y"},{"post_id":"cmacbamir002o1swm5ep5d5t8","tag_id":"cmacbamja006r1swm3qge0r1t","_id":"cmacbamjb00761swm44c10bil"},{"post_id":"cmacbamir002o1swm5ep5d5t8","tag_id":"cmacbamja006t1swmg15j7clj","_id":"cmacbamjb00781swm8xo86fnq"},{"post_id":"cmacbamir002o1swm5ep5d5t8","tag_id":"cmacbamja006u1swm2dtb4j5m","_id":"cmacbamjb00791swm3p9h1s1u"},{"post_id":"cmacbamis002r1swmct1nh2m0","tag_id":"cmacbamj7005r1swmcq2whvrf","_id":"cmacbamjc007b1swm9sy5hugp"},{"post_id":"cmacbamis002r1swmct1nh2m0","tag_id":"cmacbamj8005x1swmg1d807uo","_id":"cmacbamjc007c1swm0kii9ajn"},{"post_id":"cmacbamit002w1swm8ehhd1ud","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamjc007h1swm2nfc5m59"},{"post_id":"cmacbamit002w1swm8ehhd1ud","tag_id":"cmacbamjb00711swm4k9i3kjs","_id":"cmacbamjc007i1swmgk7l02pr"},{"post_id":"cmacbamit002w1swm8ehhd1ud","tag_id":"cmacbamjb00741swm25lacf0k","_id":"cmacbamjc007k1swmbl1haph1"},{"post_id":"cmacbamit002w1swm8ehhd1ud","tag_id":"cmacbamjb00771swmbljlg6ap","_id":"cmacbamjc007l1swmdddo8qxj"},{"post_id":"cmacbamit002w1swm8ehhd1ud","tag_id":"cmacbamjb007a1swm4x79cf79","_id":"cmacbamjd007n1swm4k7t6vsb"},{"post_id":"cmacbamit002w1swm8ehhd1ud","tag_id":"cmacbamja006r1swm3qge0r1t","_id":"cmacbamjd007o1swm88j050pm"},{"post_id":"cmacbamit002w1swm8ehhd1ud","tag_id":"cmacbamja006o1swm4ydf3kto","_id":"cmacbamjd007q1swmfg1mdtof"},{"post_id":"cmacbamit002w1swm8ehhd1ud","tag_id":"cmacbamj9006f1swm5o5c3y93","_id":"cmacbamjd007r1swm0s8cd9lu"},{"post_id":"cmacbamiu002z1swm32dm0671","tag_id":"cmacbamjc007g1swm0s7r9iia","_id":"cmacbamjd007t1swmh6p38jp6"},{"post_id":"cmacbamiu002z1swm32dm0671","tag_id":"cmacbamj8005x1swmg1d807uo","_id":"cmacbamjd007u1swmg0nd75kf"},{"post_id":"cmacbamiv00331swm1wph3ma6","tag_id":"cmacbamjc007m1swmhdy0abu9","_id":"cmacbamjd007w1swm49ti0z3z"},{"post_id":"cmacbamiv00331swm1wph3ma6","tag_id":"cmacbamj8005x1swmg1d807uo","_id":"cmacbamjd007x1swmegaqeewz"},{"post_id":"cmacbamiw00371swm0xskbuin","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamjd007z1swm23zy9yrn"},{"post_id":"cmacbamiw00371swm0xskbuin","tag_id":"cmacbamix003c1swmd9oadwas","_id":"cmacbamjd00801swm9fdbhqnm"},{"post_id":"cmacbamiw00371swm0xskbuin","tag_id":"cmacbamiz003l1swmage4ef50","_id":"cmacbamje00821swm4zpj9ndt"},{"post_id":"cmacbamiw00371swm0xskbuin","tag_id":"cmacbamiv00341swm4gek1lgj","_id":"cmacbamje00831swmb0gc3uus"},{"post_id":"cmacbamiw00371swm0xskbuin","tag_id":"cmacbamil00251swm856f0x52","_id":"cmacbamje00851swmflkz1ftr"},{"post_id":"cmacbamix003f1swm8zpifz56","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamjf008b1swm0arfaq1g"},{"post_id":"cmacbamix003f1swm8zpifz56","tag_id":"cmacbamjd007y1swmhkq28x82","_id":"cmacbamjf008c1swmcoe0c2lv"},{"post_id":"cmacbamix003f1swm8zpifz56","tag_id":"cmacbamjd00811swmf42u1y29","_id":"cmacbamjf008e1swmawoy7lbu"},{"post_id":"cmacbamix003f1swm8zpifz56","tag_id":"cmacbamje00841swm9x4xeycr","_id":"cmacbamjf008f1swmfqd08hvp"},{"post_id":"cmacbamix003f1swm8zpifz56","tag_id":"cmacbamje00861swmb6i56dqw","_id":"cmacbamjf008h1swm4cc26xg3"},{"post_id":"cmacbamix003f1swm8zpifz56","tag_id":"cmacbamje00871swmhu3r4ckz","_id":"cmacbamjf008i1swmfczf84nm"},{"post_id":"cmacbamix003f1swm8zpifz56","tag_id":"cmacbamje00881swm0vz59zw4","_id":"cmacbamjf008k1swmgc8cbm72"},{"post_id":"cmacbamix003f1swm8zpifz56","tag_id":"cmacbamje00891swme2gv3vkf","_id":"cmacbamjf008l1swm3ib5f8xg"},{"post_id":"cmacbamiy003j1swmdn7i111k","tag_id":"cmacbamje008a1swm5ath6fdn","_id":"cmacbamjg008o1swmbhbudq77"},{"post_id":"cmacbamiy003j1swmdn7i111k","tag_id":"cmacbamjf008d1swm6kbo8e6o","_id":"cmacbamjg008p1swm4eamh5jm"},{"post_id":"cmacbamiy003j1swmdn7i111k","tag_id":"cmacbamjf008g1swm1mvvguy6","_id":"cmacbamjg008r1swmal0n1agq"},{"post_id":"cmacbamiy003j1swmdn7i111k","tag_id":"cmacbamjf008j1swm57yn85oi","_id":"cmacbamjg008s1swm85013kti"},{"post_id":"cmacbamiy003j1swmdn7i111k","tag_id":"cmacbamjf008m1swme5dz7iex","_id":"cmacbamjg008t1swm8fjfhno6"},{"post_id":"cmacbamj0003r1swm5ftod5hv","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamjg008u1swm4e8p0ewn"},{"post_id":"cmacbamj0003r1swm5ftod5hv","tag_id":"cmacbamjf008n1swm180j2cvs","_id":"cmacbamjg008v1swm315kh57v"},{"post_id":"cmacbamj0003r1swm5ftod5hv","tag_id":"cmacbamiv00341swm4gek1lgj","_id":"cmacbamjg008w1swm1sxrgfp8"},{"post_id":"cmacbamj0003v1swm9eax6kit","tag_id":"cmacbami000051swmdopdfpx4","_id":"cmacbamjg008x1swm2wqg0pi8"},{"post_id":"cmacbamj0003v1swm9eax6kit","tag_id":"cmacbamjg008q1swm4m5g2pnc","_id":"cmacbamjg008y1swmf8tugj7o"}],"Tag":[{"name":"数据结构与算法","_id":"cmacbami000051swmdopdfpx4"},{"name":"二叉树","_id":"cmacbami4000d1swm6nthgtj8"},{"name":"二叉树遍历","_id":"cmacbami7000h1swm7sti2sv4"},{"name":"递归","_id":"cmacbami8000k1swmfif64ptc"},{"name":"迭代","_id":"cmacbami8000m1swma5hl09za"},{"name":"图论","_id":"cmacbami9000s1swm6h02dlsu"},{"name":"回溯","_id":"cmacbamib00101swm7awcdjhw"},{"name":"剪枝","_id":"cmacbamic00171swm33p44fsg"},{"name":"动态规划","_id":"cmacbamid001b1swmhhr735r9"},{"name":"数组","_id":"cmacbamil00251swm856f0x52"},{"name":"滑动窗口","_id":"cmacbamin002a1swme92vhbzv"},{"name":"矩阵规律","_id":"cmacbamio002f1swm0dn53o13"},{"name":"前缀和","_id":"cmacbamiq002m1swm4ut76qfc"},{"name":"双指针","_id":"cmacbamis002v1swmedq7hh67"},{"name":"链表","_id":"cmacbamiv00341swm4gek1lgj"},{"name":"哈希表","_id":"cmacbamix003c1swmd9oadwas"},{"name":"查找","_id":"cmacbamiz003l1swmage4ef50"},{"name":"set","_id":"cmacbamj0003u1swm18y02mch"},{"name":"map","_id":"cmacbamj100411swm2hr92c4a"},{"name":"二分查找","_id":"cmacbamj200471swmatt81edq"},{"name":"字符串","_id":"cmacbamj5005b1swm8ih4a96u"},{"name":"KMP","_id":"cmacbamj5005g1swm0x4qayul"},{"name":"reverse","_id":"cmacbamj7005o1swm50wgh344"},{"name":"对比学习","_id":"cmacbamj7005r1swmcq2whvrf"},{"name":"论文精读","_id":"cmacbamj8005x1swmg1d807uo"},{"name":"STL","_id":"cmacbamj800621swmfxdd8j2e"},{"name":"vector","_id":"cmacbamj900671swm66lo88dl"},{"name":"string","_id":"cmacbamj9006b1swmf2c8au11"},{"name":"deque","_id":"cmacbamj9006f1swm5o5c3y93"},{"name":"stack","_id":"cmacbamja006o1swm4ydf3kto"},{"name":"queue","_id":"cmacbamja006r1swm3qge0r1t"},{"name":"algorithm","_id":"cmacbamja006t1swmg15j7clj"},{"name":"priority_queue","_id":"cmacbamja006u1swm2dtb4j5m"},{"name":"栈","_id":"cmacbamjb00711swm4k9i3kjs"},{"name":"队列","_id":"cmacbamjb00741swm25lacf0k"},{"name":"双端队列","_id":"cmacbamjb00771swmbljlg6ap"},{"name":"堆","_id":"cmacbamjb007a1swm4x79cf79"},{"name":"视觉表征","_id":"cmacbamjc007g1swm0s7r9iia"},{"name":"transformer","_id":"cmacbamjc007m1swmhdy0abu9"},{"name":"排序","_id":"cmacbamjd007y1swmhkq28x82"},{"name":"冒泡排序","_id":"cmacbamjd00811swmf42u1y29"},{"name":"选择排序","_id":"cmacbamje00841swm9x4xeycr"},{"name":"插入排序","_id":"cmacbamje00861swmb6i56dqw"},{"name":"快速排序","_id":"cmacbamje00871swmhu3r4ckz"},{"name":"归并排序","_id":"cmacbamje00881swm0vz59zw4"},{"name":"堆排序","_id":"cmacbamje00891swme2gv3vkf"},{"name":"深度学习","_id":"cmacbamje008a1swm5ath6fdn"},{"name":"图像分类","_id":"cmacbamjf008d1swm6kbo8e6o"},{"name":"Resnet","_id":"cmacbamjf008g1swm1mvvguy6"},{"name":"Lenet","_id":"cmacbamjf008j1swm57yn85oi"},{"name":"CIFAR10","_id":"cmacbamjf008m1swme5dz7iex"},{"name":"线性表","_id":"cmacbamjf008n1swm180j2cvs"},{"name":"绪论","_id":"cmacbamjg008q1swm4m5g2pnc"}]}}