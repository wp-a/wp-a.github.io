<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script>

  <!-- Sidebar -->
  <div class="sidebar">
    <img id="avatar" src="https://wpironman.oss-cn-qingdao.aliyuncs.com/202511241453014.png" alt="Avatar" class="avatar">
    <div id="author-name" class="author-name"></div>
    <div id="author-title" class="author-title"></div>
    <div id="author-desc" class="author-desc"></div>
    
    <ul class="contact-list">
      <li><i class="fas fa-map-marker-alt"></i> <span id="location"></span></li>
      <li><i class="fas fa-envelope"></i> <a id="email" href="">Email</a></li>
      <li><i class="fab fa-github"></i> <a id="github" href="">Github</a></li>
      <!-- <li><i class="fas fa-graduation-cap"></i> <a id="scholar" href="">Google Scholar</a></li> -->
      <li><i class="fas fa-blog"></i> <a id="blog" href="">Blog</a></li>
    </ul>
  </div>
  
  <!-- Top Navigation -->
  <nav class="top-nav">
    <!-- å·¦ä¾§è¯­è¨€åˆ‡æ¢ -->
    <div class="lang-switch-left" onclick="toggleLanguage()">
      <span id="lang-text">English</span>
    </div>
    <!-- ä¸­é—´æš—é»‘æ¨¡å¼æŒ‰é’® -->
    <div class="theme-switch" onclick="toggleDarkMode()">
      <i id="theme-icon" class="fas fa-moon"></i>
    </div>
    <!-- å³ä¾§å¯¼èˆªé“¾æ¥ -->
    <div class="nav-links">
      <a href="#about" class="active">
        <span class="lang-zh">å…³äºæˆ‘</span>
        <span class="lang-en">About Me</span>
      </a>
      <a href="#news">
        <span class="lang-zh">åŠ¨æ€</span>
        <span class="lang-en">News</span>
      </a>
      <a href="#publications">
        <span class="lang-zh">è®ºæ–‡</span>
        <span class="lang-en">Publications</span>
      </a>
      <a href="#honors">
        <span class="lang-zh">è£èª‰</span>
        <span class="lang-en">Honors</span>
      </a>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="main-content">
    
    <!-- Bio -->
    <section id="about">
      <div id="about-content"></div>
    </section>

    <!-- News -->
    <section id="news">
      <h2>
        <span>ğŸ”¥</span> 
        <span class="lang-zh">æœ€æ–°åŠ¨æ€</span>
        <span class="lang-en">Latest News</span>
      </h2>
      <ul id="news-list" class="news-list"></ul>
    </section>

    <!-- Publications -->
    <section id="publications">
      <h2>
        <span>ğŸ“</span> 
        <span class="lang-zh">å‘è¡¨è®ºæ–‡</span>
        <span class="lang-en">Publications</span>
      </h2>
      <div id="publications-list"></div>
    </section>
    
    <!-- Honors -->
    <section id="honors">
      <h2>
        <span>ğŸ–</span> 
        <span class="lang-zh">è£èª‰å¥–é¡¹</span>
        <span class="lang-en">Honors &amp; Awards</span>
      </h2>
      <ul id="honors-list" class="news-list"></ul>
    </section>

  </div>

  <!-- æ¸²æŸ“è„šæœ¬ -->
  <script>
    let currentLang = 'zh'; // é»˜è®¤ä¸­æ–‡
    let data = null;
    
    // æ¸²æŸ“å†…å®¹å‡½æ•°ï¼ˆæ ¹æ®å½“å‰è¯­è¨€ï¼‰
    function renderContent() {
      if (!data) return;
      
      const lang = currentLang;
      
      // æ¸²æŸ“ä¾§è¾¹æ 
      document.getElementById('author-title').innerHTML = data.profile.title[lang] + '<br>' + data.profile.affiliation[lang];
      document.getElementById('author-desc').innerHTML = data.profile.bio[lang];
      
      // æ¸²æŸ“ About éƒ¨åˆ†
      const aboutContent = document.getElementById('about-content');
      aboutContent.innerHTML = ''; // æ¸…ç©º
      data.about[lang].forEach(para => {
        const p = document.createElement('p');
        p.innerHTML = para;
        aboutContent.appendChild(p);
      });
      
      // æ¸²æŸ“ News
      const newsList = document.getElementById('news-list');
      newsList.innerHTML = ''; // æ¸…ç©º
      data.news[lang].forEach(item => {
        const li = document.createElement('li');
        li.innerHTML = `<span class="news-date">${item.date}:</span><span>${item.content}</span>`;
        newsList.appendChild(li);
      });
      
      // æ¸²æŸ“ Publications
      const pubsList = document.getElementById('publications-list');
      pubsList.innerHTML = ''; // æ¸…ç©º
      data.publications.forEach(paper => {
        const div = document.createElement('div');
        div.className = 'paper-item';
        
        const paperLinks = paper.links[lang];
        let linksHtml = '';
        if (lang === 'zh') {
          if (paperLinks.paper) linksHtml += `<a href="${paperLinks.paper}">[è®ºæ–‡]</a>`;
          if (paperLinks.code) linksHtml += `<a href="${paperLinks.code}">[ä»£ç ]</a>`;
          if (paperLinks.project) linksHtml += `<a href="${paperLinks.project}">[é¡¹ç›®ä¸»é¡µ]</a>`;
        } else {
          if (paperLinks.paper) linksHtml += `<a href="${paperLinks.paper}">[Paper]</a>`;
          if (paperLinks.code) linksHtml += `<a href="${paperLinks.code}">[Code]</a>`;
          if (paperLinks.project) linksHtml += `<a href="${paperLinks.project}">[Project]</a>`;
        }
        
        const noteHtml = paper.note ? `<div class="paper-note" style="color: #666; font-size: 0.85rem; margin-top: 5px;">${paper.note[lang]}</div>` : '';
        
        div.innerHTML = `
          <div class="paper-img-box">
            <div class="conf-badge ${paper.venueClass}">${paper.venue.split(',')[0]}</div>
            <img src="${paper.image}" alt="Paper Thumbnail">
          </div>
          <div class="paper-info">
            <div class="paper-title">${paper.title}</div>
            <div class="paper-authors">${paper.authors}</div>
            ${noteHtml}
            <div class="paper-links">${linksHtml}</div>
          </div>
        `;
        pubsList.appendChild(div);
      });
      
      // æ¸²æŸ“ Honors
      const honorsList = document.getElementById('honors-list');
      honorsList.innerHTML = ''; // æ¸…ç©º
      data.honors[lang].forEach(item => {
        const li = document.createElement('li');
        li.innerHTML = `<span class="news-date">${item.year}</span> ${item.title}`;
        honorsList.appendChild(li);
      });
    }
    
    // è¯­è¨€åˆ‡æ¢å‡½æ•°
    function toggleLanguage() {
      currentLang = currentLang === 'zh' ? 'en' : 'zh';
      
      // æ›´æ–°åˆ‡æ¢æŒ‰é’®æ–‡å­—
      document.getElementById('lang-text').textContent = currentLang === 'zh' ? 'English' : 'ä¸­æ–‡';
      
      // æ˜¾ç¤º/éšè—å¯¹åº”è¯­è¨€çš„UIæ–‡æœ¬
      const zhElements = document.querySelectorAll('.lang-zh');
      const enElements = document.querySelectorAll('.lang-en');
      
      if (currentLang === 'zh') {
        zhElements.forEach(el => el.style.display = 'inline');
        enElements.forEach(el => el.style.display = 'none');
      } else {
        zhElements.forEach(el => el.style.display = 'none');
        enElements.forEach(el => el.style.display = 'inline');
      }
      
      // é‡æ–°æ¸²æŸ“å†…å®¹
      renderContent();
    }
    
    // æš—é»‘æ¨¡å¼åˆ‡æ¢å‡½æ•°
    function toggleDarkMode() {
      const body = document.body;
      const themeIcon = document.getElementById('theme-icon');
      
      body.classList.toggle('dark-mode');
      
      // æ›´æ–°å›¾æ ‡
      if (body.classList.contains('dark-mode')) {
        themeIcon.className = 'fas fa-sun';
        localStorage.setItem('theme', 'dark');
      } else {
        themeIcon.className = 'fas fa-moon';
        localStorage.setItem('theme', 'light');
      }
    }
    
    // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      // æ¢å¤ç”¨æˆ·çš„ä¸»é¢˜åå¥½
      const savedTheme = localStorage.getItem('theme');
      const themeIcon = document.getElementById('theme-icon');
      if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
        themeIcon.className = 'fas fa-sun';
      }
      
      if (typeof academicData === 'undefined') {
        console.error('academic-data.js æœªåŠ è½½æˆåŠŸï¼');
        return;
      }

      data = academicData;

      // è®¾ç½®é¡µé¢æ ‡é¢˜
      document.getElementById('page-title').textContent = data.profile.name + ' - Academic Homepage';

      // æ¸²æŸ“ä¾§è¾¹æ ï¼ˆå›ºå®šä¸å˜çš„éƒ¨åˆ†ï¼‰
      document.getElementById('avatar').src = data.profile.avatar || '/img/head.webp';
      document.getElementById('author-name').textContent = data.profile.name;
      document.getElementById('location').textContent = data.profile.location;
      document.getElementById('email').href = 'mailto:' + data.profile.email;
      document.getElementById('github').href = data.profile.github;
      // document.getElementById('scholar').href = data.profile.scholar; // æš‚æ—¶éšè—
      document.getElementById('blog').href = data.profile.blog;

      // åˆæ¬¡æ¸²æŸ“å†…å®¹ï¼ˆé»˜è®¤ä¸­æ–‡ï¼‰
      renderContent();
    });
  </script>

